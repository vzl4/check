(self.webpackChunkgame_score_sdk=self.webpackChunkgame_score_sdk||[]).push([[7415],{2316:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(2616),a=n.n(i)()((function(e){return e[1]}));a.push([e.id,".gp-achievements__group:not(:last-of-type){margin-bottom:24px}.gp-achievements__group-title{display:flex;justify-content:space-between;margin-bottom:0;padding-bottom:8px;font-weight:bold}.gp-achievements__group-title:not(:first-of-type){margin-top:16px}.gp-achievements__group-title+p{margin-top:0}.gp-achievements__achievement-progress-bar{letter-spacing:0;margin-right:8px;max-width:50%}.gp-achievements__achievement-progress{display:flex;align-items:center;width:100%;font-weight:bold;margin-top:2px;font-size:12px;line-height:16px}.gp-achievements__stats{margin-bottom:8px}.gp-achievements__unlocked-count{color:#47b929;font-weight:bold;font-size:40px;line-height:48px}.gp-achievements__stats{display:flex;align-items:center}.gp-achievements__progress,.gp-achievements__unlocked{display:flex;flex-direction:column}.gp-achievements .gp-achievements__unlocked{margin:0}.gp-achievements__progress{flex-grow:1}.gp-achievements__main-progress{margin-bottom:16px}.gp-achievements__image{width:88px;height:88px;margin-right:16px}",""]);const o=a},6186:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(2616),a=n.n(i)()((function(e){return e[1]}));a.push([e.id,'.gp-chat__auth{margin:8px 0 16px}.gp-chat__friends{display:grid;grid-template-columns:repeat(auto-fill, minmax(240px, 1fr));column-gap:16px;margin-bottom:16px}.gp-chat__friends_single{grid-template-columns:1fr}.gp-chat-messages{max-height:calc(100% - 64px);overflow-y:scroll;padding:0 16px;position:relative}.gp-chat-messages__name{cursor:pointer}.gp-chat-messages .gp-list-item__title{font-size:14px;line-height:24px}.gp-chat-messages .gp-list-item__text{opacity:1}.gp-chat-messages .gp-list-item__text p{margin-bottom:8px}.gp-chat-messages .gp-list-item__text p:first-of-type{margin-top:0}.gp-chat-messages .gp-list-item .gp-avatar{position:sticky;top:8px}.gp-chat-container{display:flex;flex-direction:column;max-height:100%;overflow-y:hidden}.gp-chat-bottom{width:100%}.gp-chat-bottom__content{display:flex;align-items:flex-start;padding:8px 0;margin:0 16px;border-top:1px solid #e1e1e1;background-color:#f6f6f6;border-radius:4px}.gp-chat-bottom_overlay{position:fixed;bottom:50vh;z-index:1}.gp-chat-bottom_overlay::before{content:"";position:fixed;inset:0;z-index:-1;background-color:rgba(0,0,0,.5)}.gp-chat-bottom_overlay .gp-chat-bottom__content{border-bottom:1px solid #e1e1e1;margin:0;padding:8px 16px}.gp-chat-bottom__input-area,.gp-chat-bottom__input{width:100%;margin-bottom:0}.gp-chat-bottom__alert{margin:0}.gp-chat-bottom__send-button{margin-left:8px;color:#fff;margin-top:0;width:72px;padding-left:0;padding-right:0}.gp-chat-alert{position:relative;z-index:0;display:flex;justify-content:center;padding:0 16px}@media(max-width: 768px){.gp-chat-alert._censor{z-index:2}.gp-chat-alert._censor .gp-overlay-alert{bottom:10px;position:fixed}}.gp-chat-alert .gp-overlay-alert{position:absolute;bottom:0;margin:0 16px 8px}.gp-chat-title{padding-right:32px}.gp-chat-title__online{color:#7e7e7e;display:inline-flex;align-items:center;margin-left:4px;vertical-align:top;height:32px;font-size:12px;line-height:16px}.gp-chat-title__online::before{content:"";display:flex;width:8px;height:8px;border-radius:8px;background-color:#47b929;margin-right:4px}',""]);const o=a},253:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(2616),a=n.n(i)()((function(e){return e[1]}));a.push([e.id,".gp-document h1{font-size:1.5rem;font-weight:bold;margin-bottom:16px}.gp-document h2{font-size:1.5rem;margin-bottom:16px}.gp-document p+h2{margin-top:32px}",""]);const o=a},3215:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(2616),a=n.n(i)()((function(e){return e[1]}));a.push([e.id,".gp-games-collection .gp-games-collection__description{margin-top:0}",""]);const o=a},1857:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(2616),a=n.n(i)()((function(e){return e[1]}));a.push([e.id,".gp-iframe{outline:none;border:none;width:100%}",""]);const o=a},1876:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(2616),a=n.n(i)()((function(e){return e[1]}));a.push([e.id,".gp-leaderboard__auth{margin:8px 0 16px}.gp-leaderboard__friends{display:grid;grid-template-columns:repeat(auto-fill, minmax(240px, 1fr));column-gap:16px;margin-bottom:16px}.gp-leaderboard__friends_single{grid-template-columns:1fr}.gp-leaderboard__divider{margin-top:0}",""]);const o=a},7264:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(2616),a=n.n(i)()((function(e){return e[1]}));a.push([e.id,".gp-product__overlay{position:fixed;z-index:100001;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.7);display:flex;align-items:center;justify-content:center}.gp-product__iframe{z-index:100002;border:none;border-radius:8px;width:100%;height:100%}@media(min-width: 1023px){.gp-product__iframe{width:800px;height:600px}}.gp-product__wrapper{display:grid;justify-items:center;align-items:center;margin:0 auto}@media(min-width: 600px){.gp-product__wrapper{min-width:400px}}@media(min-height: 500px){.gp-product__wrapper{max-width:400px}}.gp-product__info{margin-bottom:16px}.gp-product__info,.gp-product__action{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;max-width:400px}.gp-product__icon{width:80px;height:80px;margin-bottom:16px}.gp-product__text{font-size:18px;line-height:24px;text-align:center;font-weight:600}.gp-product__description{text-align:center;margin:0 !important}.gp-product__name{margin-bottom:8px}.gp-product .gp-product__alert{padding:20px;background-color:#47b929;border-radius:8px;color:#fff;text-align:center;font-size:14px;margin:0;margin-bottom:16px}.gp-product__button{font-size:20px;line-height:24px;font-weight:bold;transition:.2s linear;margin-top:0}.gp-product__qr-payment{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:32px 16px}.gp-product__qr-container{text-align:center;max-width:400px}.gp-product__qr-title{font-size:20px;font-weight:600;margin-bottom:24px;color:#000}.gp-product__qr-image{max-width:300px;width:100%;border:4px solid #000;border-radius:8px;margin-bottom:20px}.gp-product__qr-description{font-size:14px;color:#666;margin-top:16px}",""]);const o=a},850:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(2616),a=n.n(i)()((function(e){return e[1]}));a.push([e.id,".gp-share__buttons{display:grid;grid-template-columns:repeat(auto-fill, 56px);gap:12px;align-items:flex-start;justify-content:space-between}.gp-share__button{cursor:pointer;width:56px;border:none;outline:none;padding:0;background:transparent;transition:transform .2s,opacity .2s;font-size:12px;line-height:16px}.gp-share__button:active{transform:scale(0.8)}.gp-share__button:hover{opacity:.8}.gp-share__icon{width:56px;height:56px;border-radius:16px;padding:8px;margin-bottom:4px}.gp-share__icon_vkontakte{background-color:#5181b8}.gp-share__icon_odnoklassniki{background-color:#ee8208}.gp-share__icon_facebook{background-color:#3b5998}.gp-share__icon_telegram{background-color:#64a9dc}.gp-share__icon_twitter{background-color:#00aced}.gp-share__icon_viber{background-color:#7b519d}.gp-share__icon_whatsapp{background-color:#65bc54}.gp-share__icon_moymir{background-color:#168de2}.gp-share__icon_link{background-color:#e1e1e1}",""]);const o=a},4086:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(2616),a=n.n(i)()((function(e){return e[1]}));a.push([e.id,".gp-achievement{position:relative;padding:8px;display:flex;align-items:center;height:64px;max-width:288px;color:#fff;background-color:#47b929;border-radius:8px;z-index:1;overflow:hidden;outline:none;border:none;text-align:left;width:64px;transform:translateY(-112px);transition:transform .5s,width .75s;transition-delay:2s,.5s}.gp-achievement__avatar{margin:-4px;padding:4px;width:56px;min-width:56px;height:56px;background-color:#f5f5f5}.gp-achievement__avatar img{border-radius:2px}.gp-achievement__rare-icon{display:inline-flex;width:8px;height:8px;border-radius:50%;background-color:currentColor;margin-right:4px}.gp-achievement__text{display:flex;flex-direction:column}.gp-achievement__content{opacity:0;margin-left:12px;padding:0 8px;width:216px;min-width:216px;transition:opacity .3s;transition-delay:1s;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.gp-achievement__content h3{font-size:16px;line-height:24px;margin:0}.gp-achievement__content p{font-size:12px;line-height:16px;margin:0}.gp-achievement,.gp-achievement__unlocked,.gp-achievement__rare{box-shadow:0 4px 12px rgba(0,0,0,.3)}.gp-achievement__unlocked,.gp-achievement__rare{opacity:0;position:absolute;padding:0 24px;font-size:14px;line-height:24px;z-index:0;color:#fff;transition:transform .5s,opacity .3s;transition-delay:0s}.gp-achievement__progress{overflow:hidden;max-width:272px;padding:0 16px;background-color:#444;text-align:center}.gp-achievement__progressBar{position:absolute;left:0;top:0;bottom:0;z-index:-1}.gp-achievement__progressBar.gp-rare-bg_common{opacity:.5}.gp-achievement__progressBar-text{color:#fff;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;word-break:break-all;font-weight:bold}.gp-achievement__unlocked{top:-24px;background-color:#444;border-radius:16px 16px 0 0;transform:translateY(24px)}.gp-achievement__rare{top:64px;border-radius:0 0 16px 16px;transform:translateY(-24px)}.gp-achievement-container{position:fixed;top:32px;left:0;right:0;height:0;display:flex;justify-content:center;z-index:100001}.gp-achievement-container_play .gp-achievement{width:288px;transition-delay:0s,.75s}.gp-achievement-container_play .gp-achievement,.gp-achievement-container_play .gp-achievement__unlocked,.gp-achievement-container_play .gp-achievement__rare{transform:translateY(0)}.gp-achievement-container_play .gp-achievement__unlocked,.gp-achievement-container_play .gp-achievement__rare{transition-delay:2s}.gp-achievement-container_play .gp-achievement__unlocked,.gp-achievement-container_play .gp-achievement__rare,.gp-achievement-container_play .gp-achievement__content{opacity:1}.gp-achievement-container_play .gp-achievement__content{transition-delay:1s}",""]);const o=a},7964:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(2616),a=n.n(i)()((function(e){return e[1]}));a.push([e.id,".gp-achievement-item__avatar,.gp-achievement-item__status{background-color:transparent}.gp-achievement-item__rare-icon{display:inline-flex;width:8px;height:8px;border-radius:50%;background-color:currentColor;margin-right:4px}.gp-achievement-item__text{display:flex;flex-direction:column;align-items:flex-start}.gp-achievement-item__info{font-size:12px;line-height:16px}.gp-achievement-item__info>:not(:first-child)::before{content:\"•\";margin:0 4px}.gp-achievement-item__status{width:48px;height:48px;background-size:contain;background-image:url(\"data:image/svg+xml,%3C?xml version='1.0' encoding='utf-8'?%3E%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 511.8 511.8'%3E%3Cpath d='M151.4 221.2L39.6 431.8l101.5-9.4 49.1 89.3L302 301.2l-150.6-80z' fill='%23e95454'/%3E%3Cpath d='M360.4 221.2l111.8 210.6-101.5-9.4-49.1 89.3-111.8-210.5 150.6-80z' fill='%23ed6362'/%3E%3Ccircle cx='255.9' cy='186.7' r='186.7' fill='%23fdbc4b'/%3E%3Cpath d='M255.9 320c-73.5 0-133.3-59.8-133.3-133.3S182.4 53.4 255.9 53.4s133.3 59.8 133.3 133.3S329.4 320 255.9 320z' fill='%23ffdb70'/%3E%3Cpath d='M246.3 255.4c-9.2 9.2-24.1 9.2-33.3 0l-51.6-51.6c-9.2-9.2-9.2-24.1 0-33.3 9.2-9.2 24.1-9.2 33.3 0l30.7 30.7c2.3 2.3 6.1 2.3 8.4 0L317 118c9.2-9.2 24.1-9.2 33.3 0 4.4 4.4 6.9 10.4 6.9 16.6s-2.5 12.2-6.9 16.6l-104 104.2z' fill='%23ec9922'/%3E%3C/svg%3E\");transition:opacity .3s;opacity:1}.gp-achievement-item__status:not(.gp-achievement-item__status_unlocked){opacity:.2}.gp-achievement-item .gp-progress-bar{margin-left:0}",""]);const o=a},8376:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(2616),a=n.n(i)()((function(e){return e[1]}));a.push([e.id,".gp-background-overlay{color:#fff;inset:16px;z-index:10}.gp-background-overlay,.gp-background-overlay__background{position:fixed;left:0;top:0;right:0;bottom:0}.gp-background-overlay__background{z-index:0;background-color:rgba(0,0,0,.8)}.gp-background-overlay_fade-in .gp-background-overlay__background{animation:gp-fade-in .3s ease-in-out;will-change:opacity}.gp-background-overlay,.gp-background-overlay__info{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:8px}.gp-background-overlay__info{z-index:1}@keyframes gp-fade-in{0%{opacity:0}100%{opacity:1}}",""]);const o=a},2615:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(2616),a=n.n(i)()((function(e){return e[1]}));a.push([e.id,".gp-intersection-observer{height:1px;width:100%}",""]);const o=a},4091:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(2616),a=n.n(i)()((function(e){return e[1]}));a.push([e.id,'.gp-list-item{color:currentColor;text-decoration:none;position:relative;padding:12px 16px;margin-left:-16px;margin-right:-16px;display:grid;column-gap:16px;transition:background-color .3s;grid-template:"avatar title" "avatar text " auto/auto 1fr}.gp-list-item_with-right{grid-template:"avatar title right" "avatar text  right" auto/auto 1fr}.gp-list-item[href]:hover{color:currentColor;background-color:#e1e1e1}.gp_desktop .gp-list-item[href]:hover{background-color:#1d273d}.gp-list-item_hide-border-bottom::after{display:none}.gp-list-item:not(:last-of-type)::after{content:"";position:absolute;bottom:0;height:1px;left:16px;right:16px;background-color:#e1e1e1}.gp_desktop .gp-list-item:not(:last-of-type)::after{background-color:#7e7e7e}.gp-list-item_active{background-color:#e1e1e1;position:sticky;bottom:0;top:0;left:-16px;z-index:2}.gp_desktop .gp-list-item_active{background-color:#1d273d}.gp-list-item_interactive{cursor:pointer}.gp_desktop .gp-list-item_interactive:hover{background-color:#161e2f}.gp-list-item_highlight{background-color:rgba(71,185,41,.25)}.gp-list-item_stick-top,.gp-list-item_stick-bottom{position:sticky;z-index:2}.gp-list-item_stick-top{top:0}.gp-list-item_stick-bottom{bottom:0}.gp-list-item__avatar{grid-area:avatar}.gp-list-item__title{font-size:18px;line-height:24px;font-weight:bold;grid-area:title}.gp-list-item__text{white-space:pre-line;grid-area:text;opacity:.7;word-break:break-word}.gp-list-item__right{grid-area:right}.gp-list-item_trim-title .gp-list-item__title{display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden;word-break:break-all}',""]);const o=a},6955:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(2616),a=n.n(i)()((function(e){return e[1]}));a.push([e.id,".gp-orientation-overlay{color:#fff;inset:16px;z-index:10000}.gp-orientation-overlay,.gp-orientation-overlay__background{position:fixed;left:0;top:0;right:0;bottom:0}.gp-orientation-overlay__background{z-index:0;background-color:rgba(0,0,0,.8);will-change:opacity}.gp-orientation-overlay,.gp-orientation-overlay__info{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:8px}.gp-orientation-overlay__info{z-index:1}.gp-orientation-overlay__icon{margin-bottom:32px}.gp-orientation-overlay__title{font-size:20px;line-height:32px;margin-bottom:16px}",""]);const o=a},5038:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(2616),a=n.n(i)()((function(e){return e[1]}));a.push([e.id,".gp-platform-button_YANDEX{color:#000;background-color:#fc0}.gp-platform-button_YANDEX:not([disabled]):hover{background-color:#fc0;opacity:.8}.gp-platform-button_VK{color:#fff;background-color:#5181b8}.gp-platform-button_VK:not([disabled]):hover{background-color:#5181b8;opacity:.8}.gp-platform-button_OK{color:#fff;background-color:#ee8208}.gp-platform-button_OK:not([disabled]):hover{background-color:#ee8208;opacity:.8}.gp-platform-button_CRAZY_GAMES{background-color:#6842ff}.gp-platform-button_KONGREGATE{background-color:#f04438}.gp-platform-button_NONE{color:#fff;background-color:#47b929}.gp-platform-button_PIKABU{color:#fff;background-color:#854cbf}.gp-platform-button__logo{position:absolute;right:12px;top:12px;bottom:8px;width:24px;height:24px;color:#fff}@keyframes button-loading-spinner{from{transform:rotate(0turn)}to{transform:rotate(1turn)}}",""]);const o=a},6500:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(2616),a=n.n(i)()((function(e){return e[1]}));a.push([e.id,".gp-player-position{display:flex;width:56px;height:48px}.gp-player-position__number{display:flex;justify-content:center;align-items:center;border-radius:24px;color:#fff;background-color:#7e7e7e;margin:auto;padding:2px 10px}.gp_desktop .gp-player-position__number{background-color:#1d273d}.gp-player-position_1{font-size:32px;padding:0 4px}.gp-player-position_1::before{position:absolute;content:\"\";top:-4px;width:32px;height:32px;z-index:1;transform:rotate(345deg);left:16px;background:url(\"data:image/svg+xml,%3C?xml version='1.0' encoding='iso-8859-1'?%3E%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512.001 512.001'%3E%3Cpath d='M506.239 180.613a15 15 0 00-16.746-1.169l-124.501 71.98-96.068-163.039a15.001 15.001 0 00-25.848 0l-96.067 163.039-124.501-71.98A15 15 0 00.586 196.581l64.378 223.57a15 15 0 0014.414 10.85h353.244a15 15 0 0014.414-10.85l64.378-223.57a14.998 14.998 0 00-5.175-15.968z' fill='%23ffae39'/%3E%3Cpath d='M506.239 180.613a15 15 0 00-16.746-1.169l-124.501 71.98-96.068-163.039A15.001 15.001 0 00256 81v350h176.622a15 15 0 0014.414-10.85l64.378-223.57a14.997 14.997 0 00-5.175-15.967z' fill='%23fc9d26'/%3E%3Cpath d='M19.781 263.241l141.56 81.84 84.95-72.09c5.6-4.75 13.82-4.75 19.42 0l84.95 72.09 141.56-81.84-11.97 41.57-123.72 71.53a14.981 14.981 0 01-17.22-1.55l-83.31-70.69-83.31 70.69a14.987 14.987 0 01-17.22 1.55l-123.71-71.52h-.01l-11.97-41.58z' fill='%23f8eb76'/%3E%3Cpath d='M350.661 345.081l-84.95-72.09a14.981 14.981 0 00-9.71-3.563V304.1l83.31 70.69a14.981 14.981 0 0017.22 1.55l123.72-71.53 11.97-41.57-141.56 81.841z' fill='%23fad557'/%3E%3C/svg%3E\");background-size:contain}.gp-player-position_1 .gp-player-position__number{background:url(\"data:image/svg+xml,%3C?xml version='1.0' encoding='utf-8'?%3E%3Csvg version='1.1' id='Capa_1' xmlns='http://www.w3.org/2000/svg' x='0' y='0' viewBox='0 0 512 512' xml:space='preserve'%3E%3Cstyle%3E.st0%7Bfill:%23ff4755%7D.st1%7Bfill:%23fc2b3a%7D.st2%7Bfill:%23ffe27a%7D.st3%7Bfill:%23f9cf58%7D%3C/style%3E%3Cpath class='st0' d='M155 355.1l-20.3 1-39.3 113.1c-1.3 3.6 1.7 7.3 5.5 6.9l55.2-5.8c1.5-.2 3.1.4 4.2 1.5l39.7 38.8c2.7 2.7 7.3 1.6 8.6-2L248 394.7l-11.7-11.3-81.3-28.3z'/%3E%3Cpath class='st1' d='M248 394.7l8-23-113.3-38.5-8 22.9c32.2 23 71.2 37 113.3 38.6z'/%3E%3Cpath class='st0' d='M357 355.1l20.3 1 39.4 113.1c1.3 3.6-1.7 7.3-5.5 6.9l-55.2-5.8c-1.5-.2-3.1.4-4.2 1.5l-39.7 38.8c-2.7 2.7-7.3 1.6-8.6-2L264 394.7l11.7-11.3 81.3-28.3z'/%3E%3Cpath class='st1' d='M264 394.7l-8-23 113.3-38.5 8 22.9c-32.2 23-71.2 37-113.3 38.6z'/%3E%3Cpath class='st2' d='M256 360.1c-185.9 0-185.8-180.5-185.6-183.6C75.3 78.2 156.5 0 256 0s180.7 78.2 185.6 176.5c.2 3.1.3 183.6-185.6 183.6z'/%3E%3Cpath class='st3' d='M256 353c-99.5 0-180.7-78.2-185.6-176.5-.2 3.1-.2 6.2-.2 9.4 0 102.6 83.2 185.9 185.9 185.9S442 288.6 442 185.9c0-3.1-.1-6.3-.2-9.4C436.7 274.8 355.5 353 256 353z'/%3E%3Cpath d='M256 320.1c-146.1 0-146.3-143.7-146.1-146.8 4.8-76.5 68.4-137 146.1-137s141.3 60.5 146.1 137c.2 3.1 0 146.8-146.1 146.8z' fill='%23ffb03c'/%3E%3Cpath d='M256 313.5c-77.7 0-141.3-60.6-146.1-137-.2 3.1-.3 6.2-.3 9.4 0 80.9 65.6 146.4 146.4 146.4s146.4-65.6 146.4-146.4c0-3.1-.1-6.3-.3-9.4-4.8 76.5-68.4 137-146.1 137z' fill='%23f0a23a'/%3E%3Cpath class='st2' d='M264.4 272.8c-10.2 0-18.4-8.2-18.4-18.4V151.3s-11 11-24.2 4.4c-10.3-5.2-10.3-18.5-10.3-18.5l22.7-38.3c3.3-5.6 9.3-9 15.8-9h14.3c10.2 0 18.4 8.2 18.4 18.4v146.1c.1 10.2-8.2 18.4-18.3 18.4z'/%3E%3Cpath class='st3' d='M243.4 136.8c-4.9 8.2-15.3 11.8-23.9 7.7-3.5-1.7-6.2-4.2-8-7.3-5.1 8.6-2.3 19.8 6.2 25 8.8 5.4 20.5 2.2 25.8-6.7l2.5-4.3v-13.8c-.1-1.3-1.9-1.8-2.6-.6z'/%3E%3Cpath class='st3' d='M264.4 263.1c-10.2 0-18.4-8.2-18.4-18.4v18.7c0 10.2 8.2 18.4 18.4 18.4s18.4-8.2 18.4-18.4v-18.7c0 10.1-8.3 18.4-18.4 18.4z'/%3E%3C/svg%3E\")}.gp-player-position_2{font-size:26px;padding:0 4px}.gp-player-position_2 .gp-player-position__number{background:url(\"data:image/svg+xml,%3Csvg height='512' viewBox='0 0 512 512' width='512' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M235.468 382.791l-82.53-28.542-18.209 1.855L95.376 469.17c-1.254 3.601 1.664 7.284 5.457 6.886l55.163-5.776a5.206 5.206 0 014.181 1.455l39.655 38.779c2.726 2.666 7.3 1.591 8.553-2.01l39.611-113.805z' fill='%2398db7c'/%3E%3Cpath d='M247.996 394.699L256 371.704l-113.29-38.526-7.98 22.927c32.17 22.955 71.122 37.007 113.266 38.594z' fill='%2382d361'/%3E%3Cpath d='M276.532 382.791l82.53-28.542 18.209 1.855 39.354 113.066c1.253 3.601-1.664 7.284-5.457 6.886l-55.163-5.776a5.203 5.203 0 00-4.18 1.455l-39.655 38.779c-2.726 2.666-7.3 1.591-8.553-2.01l-39.611-113.805z' fill='%2398db7c'/%3E%3Cpath d='M264.004 394.699L256 371.704l113.29-38.526 7.98 22.927c-32.17 22.955-71.122 37.007-113.266 38.594z' fill='%2382d361'/%3E%3Cpath d='M256 359.438c-185.62 0-185.774-179.85-185.62-182.953C75.259 78.194 156.498 0 256 0c99.436 0 180.633 78.09 185.61 176.288.161 3.168 0 183.15-185.61 183.15z' fill='%23e0e0e0'/%3E%3Cpath d='M256 352.969c-99.502 0-180.738-78.194-185.618-176.485a188.956 188.956 0 00-.234 9.367c0 102.643 83.209 185.852 185.852 185.852s185.852-83.209 185.852-185.852c0-3.142-.08-6.264-.234-9.367-4.88 98.291-86.116 176.485-185.618 176.485z' fill='%23cecece'/%3E%3Cpath d='M256 320.63c-146.412 0-146.313-141.048-146.117-144.146C114.714 99.988 178.286 39.44 256 39.44s141.286 60.548 146.117 137.044c.196 3.098 0 144.146-146.117 144.146z' fill='%239e9e9e'/%3E%3Cpath d='M256 313.529c-77.713 0-141.274-60.55-146.105-137.044a148.28 148.28 0 00-.307 9.367c0 80.861 65.551 146.412 146.412 146.412s146.412-65.551 146.412-146.412c0-3.148-.111-6.269-.307-9.367-4.831 76.494-68.392 137.044-146.105 137.044z' fill='%23898989'/%3E%3Cpath d='M298.146 272.82h-83.922c-10.165 0-18.014-17.695-17.249-21.739a66.606 66.606 0 0114.581-30.631l59.049-69.788c5.525-6.53 3.06-13.566 2.172-15.568-1.079-2.433-4.434-8.122-12.25-8.386a19.809 19.809 0 00-.696-.012c-10.979 0-19.91 8.932-19.91 19.911 0 10.165-8.241 18.406-18.406 18.406s-18.406-8.24-18.406-18.406c0-31.276 25.445-56.723 56.722-56.723.647 0 1.291.011 1.932.033 19.57.66 36.682 12.254 44.665 30.255 8.102 18.27 5.143 39.064-7.722 54.268l-59.048 69.788c-.217.257-.43.517-.638.781h59.127c6.74 0 12.634 3.623 15.841 9.028 1.628 2.746-5.677 18.783-15.842 18.783z' fill='%23e0e0e0'/%3E%3Cpath d='M298.146 263.085h-83.922c-7.91 0-14.635-4.999-17.238-12.002a66.35 66.35 0 00-1.168 12.331c0 10.166 8.241 18.406 18.406 18.406h83.922c10.165 0 18.406-8.24 18.406-18.406 0-3.425-.953-6.621-2.582-9.367-3.207 5.404-9.084 9.038-15.824 9.038z' fill='%23cecece'/%3E%3C/svg%3E\")}.gp-player-position_3{font-size:20px;padding:0 4px}.gp-player-position_3 .gp-player-position__number{background:url(\"data:image/svg+xml,%3Csvg height='512' viewBox='0 0 512 512' width='512' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M233.973 381.813l-76.746-25.582-22.498-.126L95.376 469.17c-1.254 3.601 1.664 7.284 5.457 6.886l55.163-5.776a5.206 5.206 0 014.181 1.455l39.655 38.779c2.726 2.666 7.3 1.591 8.553-2.01l39.611-113.805z' fill='%230083fd'/%3E%3Cpath d='M247.996 394.699L256 371.704l-113.29-38.526-7.98 22.927c32.17 22.955 71.122 37.007 113.266 38.594z' fill='%230072fc'/%3E%3Cpath d='M278.027 381.813l76.746-25.582 22.498-.126 39.354 113.066c1.254 3.601-1.664 7.284-5.457 6.886l-55.163-5.776a5.203 5.203 0 00-4.18 1.455l-39.655 38.779c-2.726 2.666-7.3 1.591-8.553-2.01L264.006 394.7z' fill='%230083fd'/%3E%3Cpath d='M264.004 394.699L256 371.704l113.29-38.526 7.98 22.927c-32.17 22.955-71.122 37.007-113.266 38.594z' fill='%230072fc'/%3E%3Cpath d='M256 356.105c-185.62 0-185.774-176.517-185.62-179.62C75.259 78.194 156.498 0 256 0s180.741 78.194 185.62 176.485c.154 3.103 0 179.62-185.62 179.62z' fill='%23ff9838'/%3E%3Cpath d='M256 352.969c-99.502 0-180.738-78.194-185.618-176.484a188.956 188.956 0 00-.234 9.367c0 102.643 83.209 185.852 185.852 185.852s185.852-83.209 185.852-185.852c0-3.141-.08-6.264-.234-9.367-4.88 98.29-86.116 176.484-185.618 176.484z' fill='%23ff8709'/%3E%3Cpath d='M402.412 185.852c0 62.694-65.551 137.412-146.412 137.412s-146.412-78.829-146.412-137.412c0-3.147.099-6.27.295-9.368C114.713 99.988 178.286 39.44 256 39.44s141.287 60.548 146.117 137.044c.196 3.098.295 6.221.295 9.368z' fill='%23ce7430'/%3E%3Cpath d='M256 313.529c-77.713 0-141.274-60.55-146.105-137.044a148.255 148.255 0 00-.307 9.367c0 80.861 65.551 146.412 146.412 146.412s146.412-65.551 146.412-146.412c0-3.148-.111-6.269-.307-9.367-4.831 76.494-68.392 137.044-146.105 137.044z' fill='%23bc672e'/%3E%3Cpath d='M256.185 272.82c-31.533 0-51.597-21.737-55.459-47.527-.351-2.346-.462-7.381-.462-7.381 2.685-6.841 9.347-11.685 17.14-11.685 10.165 0 18.406 8.24 18.406 18.406 0 11.235 9.14 20.375 20.375 20.375s20.376-9.14 20.376-20.375a20.25 20.25 0 00-2.287-9.374s-1.382-17.356-17.103-17.356c-15.77 0-16.826-21.428-16.826-21.428 3.207-5.405 9.101-9.028 15.841-9.028 11.235 0 20.376-9.14 20.376-20.375s-9.141-20.375-20.376-20.375-20.375 9.14-20.375 20.375c0 10.166-8.241 18.406-18.406 18.406s-18.406-8.24-18.406-18.406c0-31.532 25.654-57.186 57.186-57.186 31.533 0 57.187 25.654 57.187 57.186 0 14.952-5.766 28.58-15.194 38.781 7.418 8.026 12.569 18.174 14.429 29.419 0 0 .057 6.172-.478 9.315-4.563 26.822-24.411 48.233-55.944 48.233z' fill='%23ffaa5c'/%3E%3Cg fill='%23ea9957'%3E%3Cpath d='M256.185 185.523c-6.74 0-12.617-3.634-15.823-9.038a18.287 18.287 0 00-2.582 9.367c0 10.166 8.24 18.406 18.406 18.406 7.857 0 14.677 4.478 18.075 11.009a20.232 20.232 0 002.301-9.367c-.001-11.237-9.142-20.377-20.377-20.377z'/%3E%3Cpath d='M256.185 263.085c-27.409 0-50.367-19.387-55.905-45.166a18.333 18.333 0 00-1.282 6.715c0 31.533 25.654 57.187 57.187 57.187s57.187-25.654 57.187-57.187c0-3.189-.277-6.312-.781-9.36-4.488 27.086-28.066 47.811-56.406 47.811z'/%3E%3C/g%3E%3C/svg%3E\")}.gp-player-position_1,.gp-player-position_2,.gp-player-position_3{font-weight:bold}.gp-player-position_1 .gp-player-position__number,.gp-player-position_2 .gp-player-position__number,.gp-player-position_3 .gp-player-position__number{background-size:contain;color:transparent;margin:0;width:100%;height:100%}.gp_desktop .gp-player-position_1,.gp_desktop .gp-player-position_2,.gp_desktop .gp-player-position_3{color:#121723}.gp-player-position_active:not(.gp-player-position_1):not(.gp-player-position_2):not(.gp-player-position_3){width:auto;min-width:56px}.gp-player-position_active:not(.gp-player-position_1):not(.gp-player-position_2):not(.gp-player-position_3) .gp-player-position__number{background-color:#47b929}",""]);const o=a},8720:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(2616),a=n.n(i)()((function(e){return e[1]}));a.push([e.id,"",""]);const o=a},2682:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(2616),a=n.n(i)()((function(e){return e[1]}));a.push([e.id,".gp-pre-ad-countdown_finish{cursor:pointer}.gp-pre-ad-countdown__icon{margin-bottom:32px}.gp-pre-ad-countdown__icon_wait{animation:gp-spin 1s ease-in-out infinite}.gp-pre-ad-countdown__title{font-size:20px;line-height:32px;margin-bottom:16px}.gp-pre-ad-countdown__description{font-size:18px;line-height:24px;font-weight:bold}@keyframes gp-spin{100%{transform:rotate(180deg)}}",""]);const o=a},3744:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(2616),a=n.n(i)()((function(e){return e[1]}));a.push([e.id,".gp-progress-bar{display:flex;color:#fff;justify-content:flex-end;padding:0 8px;align-items:center;width:100%;background-color:#445640;border-radius:80px;position:relative;font-weight:bold;z-index:0;overflow:hidden}.gp-progress-bar__progress{max-width:100%;background-color:#47b929;position:absolute;left:0;top:0;bottom:0;z-index:0;color:#fff;border-radius:80px}.gp-progress-bar__text{z-index:1}",""]);const o=a},4925:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(2616),a=n.n(i)()((function(e){return e[1]}));a.push([e.id,".gp-rewarded-failed-overlay{cursor:pointer}.gp-rewarded-failed-overlay__icon{margin-bottom:32px}.gp-rewarded-failed-overlay__title{font-size:20px;line-height:32px;margin-bottom:16px}.gp-rewarded-failed-overlay__description{text-align:left;padding:0 16px}",""]);const o=a},5931:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(2616),a=n.n(i)()((function(e){return e[1]}));a.push([e.id,".gp-unsupported-device-overlay{color:#fff;inset:16px;z-index:10000}.gp-unsupported-device-overlay,.gp-unsupported-device-overlay__background{position:fixed;left:0;top:0;right:0;bottom:0}.gp-unsupported-device-overlay__background{z-index:0;background-color:#000;will-change:opacity}.gp-unsupported-device-overlay__icon{margin-bottom:32px}.gp-unsupported-device-overlay,.gp-unsupported-device-overlay__info{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:8px}.gp-unsupported-device-overlay__info{z-index:1}.gp-unsupported-device-overlay__notice{font-size:20px;line-height:32px}",""]);const o=a},7008:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(2616),a=n.n(i)()((function(e){return e[1]}));a.push([e.id,'.gp-overlay-window{display:flex;flex-direction:column;max-height:100%;padding-top:24px;width:100%}.gp_desktop .gp-overlay-window{padding-top:16px}.gp-overlay-window__title{margin:0 16px;padding-bottom:8px;border-bottom:1px solid #e1e1e1}.gp_desktop .gp-overlay-window__title{border-bottom-color:#7e7e7e}.gp-overlay-window__content{padding:16px;overflow-y:scroll}.gp_desktop .gp-overlay-window__content{overflow-y:auto}.gp_desktop .gp-overlay-window__content::-webkit-scrollbar{width:8px;background-color:#656565;border-radius:4px}.gp_desktop .gp-overlay-window__content::-webkit-scrollbar-thumb{background-color:#7e7e7e;border-radius:4px}.gp-overlay-window__footer{font-size:12px;line-height:16px;padding:16px 0;margin:0 16px;border-top:1px solid rgba(0,0,0,.25);opacity:.3}.gp_desktop .gp-overlay-window__footer{border-top-color:#7e7e7e}@media only screen and (max-width: 1023px){.gp-overlay_VK .gp-overlay-window__title{padding-left:40px}}.gp-overlay_SMARTMARKET .gp-overlay-window__footer{padding-bottom:80px}.gp-overlay_SMARTMARKET .gp-overlay-window__footer::before{content:"";position:absolute;bottom:0;left:0;right:0;height:72px;background:linear-gradient(0, black, transparent)}',""]);const o=a},1030:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>yt}),n(2545);var i=n(6918),a=n(8293),o=n(2095),r=n(2972),s=n(6059),c=n(3341),l=n(9278),d=n(8694),p=n.n(d),g=n(9433),u=n(7237),h=n(1049),m=n(3379),v=n.n(m),f=n(4091);v()(f.Z,{insert:"head",singleton:!1}),f.Z.locals;const _=e=>{var{avatar:t,title:n,trimTitle:i,titleColor:a,mode:r,interactive:s,active:c,onClick:l,right:d,href:g,target:u,id:h,stickToTop:m,stickToBottom:v,className:f,children:_,withBorderBottom:b=!0}=e,y=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]])}return n}(e,["avatar","title","trimTitle","titleColor","mode","interactive","active","onClick","right","href","target","id","stickToTop","stickToBottom","className","children","withBorderBottom"]);const x=g?"a":"div",w=p()("gp-list-item",f,{"gp-list-item_interactive":s,"gp-list-item_active":c,"gp-list-item_trim-title":i,"gp-list-item_with-right":!!d,"gp-list-item_stick-top":!!m,"gp-list-item_stick-bottom":!!v,"gp-list-item_hide-border-bottom":b,[`gp-list-item_${r}`]:!0});return(0,o.BX)(x,Object.assign({className:w,onClick:()=>null==l?void 0:l(),href:g||null,id:h||null,target:u||null},y,{children:[t&&(0,o.tZ)("div",Object.assign({className:"gp-list-item__avatar"},{children:t})),(0,o.tZ)("div",Object.assign({className:"gp-list-item__title",style:a?`color: ${a}`:null},{children:n})),_&&(0,o.tZ)("div",Object.assign({className:"gp-list-item__text"},{children:_})),"default"!==r&&d&&(0,o.tZ)("div",Object.assign({className:"gp-list-item__right"},{children:d}))]}))};var b=n(3419),y=n(8720);v()(y.Z,{insert:"head",singleton:!1}),y.Z.locals;var x=n(1650);const w=e=>`${(0,x.z)("player.defaultName")}${e?` #${e}`:""}`,O=e=>{var{id:t,name:n,avatar:i,avatarGeneratorTemplate:a,mode:r,interactive:c,stickToTop:l,stickToBottom:d,active:p,colorize:g,onClick:u,children:m,right:v,withBorderBottom:f}=e,y=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]])}return n}(e,["id","name","avatar","avatarGeneratorTemplate","mode","interactive","stickToTop","stickToBottom","active","colorize","onClick","children","right","withBorderBottom"]);const[x,O]=(0,s.useState)(i),Z=(0,o.tZ)(b.Z,{rounded:!0,className:"gp-list-item__avatar",src:x||(0,h.Z)(a,t,48),onError:()=>O("https://s3.eponesh.com/static/images/gs/public/user.png")});return(0,o.tZ)(_,Object.assign({},Object.assign({active:p,interactive:c,mode:r,right:v,stickToTop:l,stickToBottom:d,onClick:u,withBorderBottom:f},y),{trimTitle:!0,titleColor:g?k(t):null,title:n||w(t),avatar:Z},{children:m}))},Z=["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#ff9800","#ff5722","#795548","#607d8b"];function k(e){return Z[e%Z.length]}var C=n(8634);const N=[":incrementValue",":incrementInterval",":timestamp",":min",":max"];function j(e,t){return Object.keys(e).reduce(((n,i)=>{const a=t.find((e=>e.key===i));if(!a)return n;const{type:o,key:r,name:s,variants:c}=a;if(N.some((e=>r.endsWith(e))))return n;const d="flag"===o?Object.values((0,l.XK)(e[r]?"helpers.true":"helpers.false"))[0]:e[r];if(c.length){const e=c.find((e=>e.value===d));if(!e)return n;n.push(`${s}: ${e.name}`)}else if(d){const e="number"==typeof d?(0,C.Z)(d):d;n.push(`${s}: ${e}`)}return n}),[]).join(", ")}const S=({conflictInfo:{players:e,fields:t},transaction:n,gamePush:i})=>{const[a,r]=(0,s.useState)(-1),[c,d]=(0,s.useState)(!1);return(0,o.BX)(o.HY,{children:[(0,o.tZ)(l.xv,{id:"playersConflict.description"}),(0,o.tZ)("p",{children:(0,o.tZ)("strong",{children:(0,o.tZ)(l.xv,{id:"playersConflict.actionInfo"})})}),e.map(((e,n)=>{return(0,o.tZ)(O,Object.assign({"data-player-id":e.id,"data-player-from-server":0===n?"true":"false",right:(s=0===n,(0,o.tZ)("span",Object.assign({className:"gp-label "+(s?"":"gp-label_info")},{children:s?(0,o.tZ)(l.xv,{id:"playersConflict.saved"}):(0,o.tZ)(l.xv,{id:"playersConflict.current"})}))),interactive:!c,id:e.id,active:e.id===a,name:e.name,avatar:e.avatar,avatarGeneratorTemplate:i.avatarGeneratorTemplate,onClick:()=>!c&&r(e.id)},{children:j(e,t.filter((e=>e.important)))}),e.id);var s})),(0,o.tZ)(g.Z,{children:(0,o.tZ)(l.xv,{id:"playersConflict.attention"})}),(0,o.tZ)(u.Z,Object.assign({"data-button-confirm":!0,disabled:c||-1===a,isLoading:c,onClick:function(){d(!0),null==n||n.done(e.find((e=>e.id===a)))}},{children:(0,o.tZ)(l.xv,{id:"buttons.confirm"})}))]})};var E=n(6938),T=n(5038);v()(T.Z,{insert:"head",singleton:!1}),T.Z.locals;var M=n(5942);const z=[M.z.YANDEX,M.z.FOTOSTRANA,M.z.PARTNER,M.z.CUSTOM],B=e=>{var{authService:t,authImplementation:n,loading:i,onClick:a,withIcon:r=!0}=e,s=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]])}return n}(e,["authService","authImplementation","loading","onClick","withIcon"]);const c=p()("gp-platform-button",[`gp-platform-button_${t}`,`gp-platform-button_${n||""}`]),d=!z.includes(t),g=d?(0,o.BX)(o.HY,{children:[(0,o.tZ)(l.xv,{id:"buttons.signIn"})," ",(0,o.tZ)(l.xv,{id:`platforms.${t}`})]}):(0,o.BX)(o.HY,{children:[(0,o.tZ)(l.xv,{id:"buttons.auth"})," "]});return(0,o.BX)(u.Z,Object.assign({className:c,isLoading:i,disabled:i,onClick:()=>null==a?void 0:a()},s,{children:[g,d&&r&&(0,o.tZ)("img",{className:"gp-platform-button__logo",src:`https://gs.eponesh.com/sdk/static/logos/${t}.svg`})]}))};var P=n(365),A=n(5852);const I=({gamePush:e,transaction:t,withSecretCode:n})=>{var i;const[a,r]=(0,s.useState)(""),[c,d]=(0,s.useState)(""),[p,g]=(0,s.useState)(!1),[u,h]=(0,s.useState)(!1),[m]=(0,E.y1)((function(n){return i=this,a=void 0,r=function*(){if(d(""),!n)return;if(n.length<5)return;const{success:i}=yield e._services.playerService.checkCode({secretCode:n});i?(t.done({type:"SECRET_KEY_AUTH_LOGIN",secretCode:n}),g(!0)):d("loginOnSaveError.codeWrongError")},new((o=void 0)||(o=Promise))((function(e,t){function n(e){try{c(r.next(e))}catch(e){t(e)}}function s(e){try{c(r.throw(e))}catch(e){t(e)}}function c(t){var i;t.done?e(t.value):(i=t.value,i instanceof o?i:new o((function(e){e(i)}))).then(n,s)}c((r=r.apply(i,a||[])).next())}));var i,a,o,r}),500,[]),v=null===(i=e.platform.config.authConfig.configs.web)||void 0===i?void 0:i.implementation;return(0,o.BX)(o.HY,{children:[(0,o.tZ)(l.xv,{id:"login.description"}),e.platform.hasIntegratedAuth&&(0,o.tZ)(o.HY,{children:(0,o.tZ)(B,{authService:e.platform.type,authImplementation:v,"data-button":"platformLogin",loading:p,onClick:function(){t.done({type:"PLATFORM_AUTH"}),g(!0)}})}),e.platform.hasIntegratedAuth&&n&&(0,o.tZ)(A.Z,{children:(0,o.tZ)(l.xv,{id:"helpers.or"})}),n&&(0,o.BX)(o.HY,{children:[(0,o.tZ)("p",{children:(0,o.tZ)(l.xv,{id:"loginOnSaveError.enterCode"})}),(0,o.tZ)(P.Z,{value:a,placeholder:"XXXXX","data-input":"code",mode:"code",error:c,maxLength:10,disabled:p,onInput:function(e){r(e),m(e)}})]})]})};var L=n(6500);v()(L.Z,{insert:"head",singleton:!1}),L.Z.locals;const X=({position:e,active:t})=>{const n=p()("gp-player-position",{[`gp-player-position_${e}`]:!0,"gp-player-position_active":t});return(0,o.tZ)("div",Object.assign({className:n},{children:(0,o.tZ)("span",Object.assign({className:"gp-player-position__number"},{children:e.toLocaleString()}))}))};var D=n(1876);v()(D.Z,{insert:"head",singleton:!1}),D.Z.locals;var F=n(4247),R=n(6480);const $=({leaderbordInfo:{leaderboard:e,players:t,fields:n,query:i,countOfPlayersAbove:a,countOfTopPlayers:r},gamePush:c})=>{const d=t.find((e=>e.id===c.player.id)),g=e.isAuthorizedOnly&&c.platform.hasIntegratedAuth&&!c.player.isLoggedInByPlatform;let h=function(e,{displayFields:t,orderBy:n=[],includeFields:i=[]}){const a=["id","name","avatar","position",...(null==t?void 0:t.length)?t:[...n,...i]];return e.map((e=>a.reduce(((t,n)=>(t[n]=e[n],t)),{})))}(g&&d?t.filter((e=>e.id!==d.id)):t,i);const{intl:m}=(0,s.useContext)(l.fH),v=(0,R.pY)(i.showNearest),f=(null==d?void 0:d.position)<=t.length,_=p()("gp-platform-button",[`gp-platform-button_${c.platform.type}`]),b=(0,o.BX)(u.Z,Object.assign({className:_,onClick:()=>{m.dictionary.temp=e.shareText||m.dictionary.leaderboard.shareRecordText;const t=(0,l.Iu)("temp",null,m.dictionary,{player:Object.assign(Object.assign({},c.player.toJSON()),d),game:c.app});c.socials.post({text:t})}},{children:[(0,o.tZ)(l.xv,{id:"leaderboard.shareRecord"}),(0,o.tZ)(F.Z,Object.assign({className:"gp-platform-button__logo"},{children:"share"}))]})),y=(0,o.BX)(u.Z,Object.assign({className:_,onClick:()=>c.socials.invite()},{children:[(0,o.tZ)(l.xv,{id:"leaderboard.inviteFriends"}),(0,o.tZ)(F.Z,Object.assign({className:"gp-platform-button__logo"},{children:"invite-friends"}))]})),x=c.socials.isSupportsNativeInvite,w=t.slice(0,r||0),Z=t.slice(r,r+a||0);return(0,o.BX)(o.HY,{children:[e.description&&(0,o.tZ)("p",Object.assign({className:"gp-leaderboard__description"},{children:e.description})),g&&(0,o.BX)(o.HY,{children:[(0,o.tZ)(A.Z,{children:(0,o.tZ)(l.xv,{id:"leaderboard.onlyAuthorized"})}),(0,o.BX)("div",Object.assign({className:"gp-leaderboard__auth"},{children:[(0,o.tZ)(B,{authService:c.platform.type,onClick:()=>c.player.login()}),(0,o.tZ)(A.Z,{})]}))]}),h.map(((e,t)=>{const a=e.id===c.player.id,r=(e=>{const t=e===w.length-1,n=(e=>{const{lastTopPlayer:t,firstAbovePlayer:n,myPlayer:i,abovePlayers:a}=e;if(!(null==t?void 0:t.position))return!1;const o=t.position;let r;if(a.length>0&&(null==n?void 0:n.position))r=n.position;else{if(!(null==i?void 0:i.position))return!1;r=i.position}return r-o>1})({lastTopPlayer:w[w.length-1],firstAbovePlayer:Z[0],myPlayer:d,abovePlayers:Z});return v&&t&&n&&w.length>0})(t),s=(0,o.tZ)(X,{position:e.position,active:a}),p=(0,o.tZ)(O,Object.assign({id:e.id,active:a,name:e.name,avatar:e.avatar,avatarGeneratorTemplate:c.avatarGeneratorTemplate,right:s,stickToTop:a&&!f&&"first"===i.withMe,stickToBottom:a&&!f&&"last"===i.withMe,mode:"leaderboard",withBorderBottom:r},{children:j(e,n)}),e.id);return r?(0,o.BX)(o.HY,{children:[p,(0,o.tZ)(A.Z,Object.assign({className:"gp-leaderboard__divider"},{children:(0,o.tZ)(l.xv,{id:"leaderboard.nearestPlayers"})}))]}):p})),!g&&c.socials.isSupportsShare&&(0,o.BX)(o.HY,{children:[(0,o.tZ)(A.Z,{children:(0,o.tZ)(l.xv,{id:"leaderboard.inviteDivider"})}),(0,o.tZ)("div",Object.assign({className:p()("gp-leaderboard__friends",{"gp-leaderboard__friends_single":!d||!x})},{children:x&&d?(0,o.BX)(o.HY,{children:[b,y]}):d?b:y}))]})]})};var Y=n(7008);v()(Y.Z,{insert:"head",singleton:!1}),Y.Z.locals;var H=n(1101);const q=["Backspace","KeyB","Escape"],U=["INPUT","TEXTAREA"],G=e=>(document.addEventListener("keydown",e,!0),()=>document.removeEventListener("keydown",e,!0));const V=({className:e,children:t,title:n,customTitle:i,close:a,setOffsetY:r,persistent:c,swipeToHide:d=!0,sdkName:p})=>{const g=(0,s.useRef)(null),u=(0,s.useRef)(null);return(0,s.useLayoutEffect)((()=>{if(g)return(0,H.Qp)(g,{allowTouchMove:e=>{for(;e&&e!==document.body;){if(null!==e.getAttribute("body-scroll-lock-ignore"))return!0;e=e.parentElement}}}),()=>{(0,H.tG)(g)}}),[g]),(0,s.useEffect)((()=>{const e=document.querySelector(".gp-overlay");let t=!1,n=0,i=0;if(c)return;const o=e=>{n=e.changedTouches[0].screenY,t=u.current.scrollTop>0},s=e=>{i=e.changedTouches[0].screenY-n,t||(r(i>0?i:0),u.current.style.overflowY=i>0?"hidden":"")},l=e=>{return n=void 0,o=void 0,s=function*(){!t&&i>30&&(yield a())},new((r=void 0)||(r=Promise))((function(e,t){function i(e){try{c(s.next(e))}catch(e){t(e)}}function a(e){try{c(s.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(i,a)}c((s=s.apply(n,o||[])).next())}));var n,o,r,s};d&&(e.addEventListener("touchstart",o,!1),e.addEventListener("touchmove",s,!1),e.addEventListener("touchend",l,!1));const p=(e=>{const t=t=>{q.includes(t.code)&&!U.includes(t.target.tagName.toUpperCase())&&e()};return document.addEventListener("keydown",t,!0),()=>document.removeEventListener("keydown",t,!0)})(a);return()=>{r(0),d&&(e.removeEventListener("touchstart",o,!1),e.removeEventListener("touchmove",s,!1),e.removeEventListener("touchend",l,!1)),p()}}),[c]),(0,o.BX)("div",Object.assign({className:["gp-overlay-window",e].join(" ")},{children:[(0,o.tZ)("h3",Object.assign({className:"gp-overlay-window__title"},{children:i||(0,o.tZ)(l.xv,{id:n})})),(0,o.tZ)("div",Object.assign({ref:u,className:"gp-overlay-window__content","body-scroll-lock-ignore":!0},{children:t})),(0,o.tZ)("div",Object.assign({className:"gp-overlay-window__footer"},{children:(e=>"gp"===e?"GamePush, 2022":"SpellSync, 2024")(p)}))]}))};var K=n(1823),W=n(1572),J=n(850);v()(J.Z,{insert:"head",singleton:!1}),J.Z.locals;const Q=({shareOptions:e,transaction:t,close:n,gamePush:i})=>(0,o.BX)("div",Object.assign({className:"gp-share__buttons"},{children:[Object.values(i.platform.availableSocialNetworks).map((i=>(0,o.BX)("button",Object.assign({className:"gp-share__button",onClick:()=>function(i){!function(e,t){const n=t.getLink({text:encodeURIComponent(e.text||""),url:encodeURIComponent(e.url||""),image:encodeURIComponent(e.image||"")});window.open(n,"_blank")}(e,i),null==t||t.done(!0),n()}(i)},{children:[(0,o.tZ)("img",{className:`gp-share__icon gp-share__icon_${i.type}`,src:`https://gs.eponesh.com/sdk/static/socials/${i.type}.svg`}),(0,o.tZ)("span",{children:(0,o.tZ)(l.xv,{id:`socials.${i.type}`})})]})))),e.url&&(0,o.BX)("button",Object.assign({className:"gp-share__button",onClick:function(){(0,W.Z)(e.url),setTimeout((()=>{null==t||t.done(!0),n()}),300)}},{children:[(0,o.tZ)("img",{className:"gp-share__icon gp-share__icon_link",src:"https://gs.eponesh.com/sdk/static/socials/link.svg"}),(0,o.tZ)("span",{children:(0,o.tZ)(l.xv,{id:"share.link"})})]}))]}));var ee,te=n(7964);v()(te.Z,{insert:"head",singleton:!1}),te.Z.locals,function(e){e.COMMON="COMMON",e.UNCOMMON="UNCOMMON",e.RARE="RARE",e.EPIC="EPIC",e.LEGENDARY="LEGENDARY",e.MYTHIC="MYTHIC"}(ee||(ee={}));var ne=n(4835),ie=n(3744);v()(ie.Z,{insert:"head",singleton:!1}),ie.Z.locals;const ae=({progress:e,height:t=24,maxWidth:n,className:i})=>(0,o.BX)("div",Object.assign({className:p()(["gp-progress-bar",i]),style:{maxWidth:n,height:`${t}px`}},{children:[(0,o.tZ)("span",{className:"gp-progress-bar__progress",style:{width:`${e}%`}}),(0,o.BX)("span",Object.assign({className:"gp-progress-bar__text"},{children:[Math.round(e),"%"]}))]}));var oe=n(260);const re=({achievement:e,unlocked:t,mode:n,interactive:i,active:a,onClick:r,progress:s})=>{var c;let d=e.unlocked?e.iconSmall||e.lockedIconSmall:e.lockedIconSmall||e.iconSmall;const g=e.unlocked?e.icon||e.lockedIcon:e.lockedIcon||e.icon,[u,h]=(0,oe.useState)(d),[m,v]=(0,oe.useState)(g),f=()=>{h(ne.Z.app.trophy),v(ne.Z.app.trophy)},y=(0,o.tZ)(b.Z,{className:"gp-achievement-item__avatar",contain:!0,onError:f,onAbort:f,src:u||ne.Z.cdn.trophy,src2x:m||ne.Z.cdn.trophy}),x=(0,o.BX)("span",Object.assign({className:p()("gp-achievement-item__rare",`gp-rare_${null===(c=null==e?void 0:e.rare)||void 0===c?void 0:c.toLowerCase()}`)},{children:[(0,o.tZ)("span",{className:"gp-achievement-item__rare-icon"}),(0,o.tZ)(l.xv,{id:`rare.${e.rare}`})]})),w=(0,o.BX)("div",Object.assign({className:"gp-achievement-item__info"},{children:[e.rare!==ee.COMMON?x:null,t&&(0,o.tZ)("span",{children:(0,o.tZ)(l.xv,{id:"achievements.unlocked"})})]})),O=(0,o.tZ)(ae,{className:"gp-achievements__achievement-progress-bar",progress:s/e.maxProgress*100,height:12}),Z=(0,o.BX)("div",Object.assign({className:"gp-achievements__achievement-progress"},{children:[O,(0,o.BX)("span",{children:[s," / ",e.maxProgress]})]})),k=(0,o.tZ)("div",{className:p()("gp-achievement-item__status",{"gp-achievement-item__status_unlocked":t})}),C=e.isLockedDescriptionVisible||t?(0,o.tZ)("span",{children:e.description}):null,N=(0,o.tZ)(_,Object.assign({},{active:a,interactive:i,avatar:y,mode:n,right:k,onClick:r},{title:e.name,className:p()(`gp-achievement-item_id-${e.id}`,`gp-achievement-item_tag-${e.tag}`,{"gp-achievement-item_unlocked":t})},{children:(0,o.BX)("div",Object.assign({className:"gp-achievement-item__text"},{children:[C,w,!e.unlocked&&e.maxProgress?Z:null,e.unlocked&&e.maxProgress>0?Z:null]}))}));return e.isLockedVisible||t?N:null};var se=n(2316);v()(se.Z,{insert:"head",singleton:!1}),se.Z.locals;var ce=n(6558);const le=({achievementsInfo:{achievements:e,achievementsGroups:t,playerAchievements:n,scrollTo:i}})=>{const a=e.filter((e=>n.some((t=>t.achievementId===e.id&&t.unlocked)))).length,r=t.reduce(((e,t)=>e||0===t.id?e:t.achievements.length>0),!1);return(0,s.useEffect)((()=>{i&&setTimeout((()=>{const e=document.querySelector(`.gp-achievement-item_id-${i}, .gp-achievement-item_tag-${i}`);if(!e)return;const t=document.querySelector(".gp-overlay-window__content");if(!t)return void ce.kg.assert(!t,"unable query scrollContainer");const n=e.querySelector(".gp-achievement-item__status");null==n||n.classList.remove("gp-achievement-item__status_unlocked"),t.scrollTo({behavior:"smooth",top:e.offsetTop-e.offsetHeight}),setTimeout((()=>e.classList.add("gp-list-item_highlight")),500),setTimeout((()=>{e.classList.remove("gp-list-item_highlight"),e.classList.contains("gp-achievement-item_unlocked")&&(null==n||n.classList.add("gp-achievement-item__status_unlocked"))}),1500)}),100)}),[]),(0,o.BX)(o.HY,{children:[(0,o.BX)("div",Object.assign({className:"gp-achievements__stats"},{children:[(0,o.tZ)("img",{className:"gp-achievements__image",src:ne.Z.app.trophy,alt:"Achievements"}),(0,o.tZ)("div",Object.assign({className:"gp-achievements__progress"},{children:(0,o.BX)("p",Object.assign({className:"gp-achievements__unlocked"},{children:[(0,o.BX)("span",Object.assign({className:"gp-achievements__unlocked-count"},{children:[a," / ",e.length]})),(0,o.tZ)(l.xv,{id:"achievements.unlockedTotal"})]}))}))]})),(0,o.tZ)(ae,{className:"gp-achievements__main-progress",progress:a/e.length*100,height:24}),t.map((t=>{let i=0;const a=t.achievements.reduce(((t,a)=>{const r=e.find((e=>e.id==a));if(r){const e=n.find((e=>e.achievementId===r.id)),a=!!(null==e?void 0:e.unlocked),s=(null==e?void 0:e.progress)||0;r.unlocked=null==e?void 0:e.unlocked,i+=Number(a),(r.isLockedVisible||r.unlocked)&&t.push((0,o.tZ)(re,{achievement:r,unlocked:a,progress:s,mode:"leaderboard"},r.id))}return t}),[]);if(0!==a.length)return(0,o.BX)("div",Object.assign({className:"gp-achievements__group"},{children:[r&&(0,o.BX)("h3",Object.assign({className:"gp-achievements__group-title"},{children:[t.name,(0,o.BX)("div",{children:[i," / ",a.length]})]})),t.description&&(0,o.tZ)("p",{children:t.description}),a]}))}))]})};var de=n(4086);v()(de.Z,{insert:"head",singleton:!1}),de.Z.locals;var pe=n(3080);const ge=({achievement:e,onClick:t,onFinish:n,notificationDisplayTime:i})=>{var a,r;const c=(0,s.useRef)(null),[d,g]=(0,s.useState)("hidden"),[u,h]=(0,s.useState)(!1);"hidden"===d&&(c.current?(g("play"),c.current.getBoundingClientRect()):h(!0));const m=1e3*i||3e3;(0,s.useEffect)((()=>{setTimeout((()=>{g("finish"),setTimeout(n,3e3)}),m)}),[i,n]);let v=(0,pe.M)(e);const[f,_]=(0,s.useState)(v),y=()=>{_(ne.Z.app.trophy)},x=(0,o.tZ)(b.Z,{className:"gp-achievement__avatar",contain:!0,onError:y,onAbort:y,src:f||ne.Z.cdn.trophy}),w=(0,o.tZ)("span",Object.assign({className:p()("gp-achievement__rare",`gp-rare-bg_${null===(a=null==e?void 0:e.rare)||void 0===a?void 0:a.toLowerCase()}`)},{children:(0,o.tZ)(l.xv,{id:`rare.${e.rare}`})})),O=(0,o.tZ)(l.xv,{id:"achievements.unlocked"}),Z=(0,o.tZ)(l.xv,{id:"achievements.progress"}),k=Math.floor(e.progress/e.progressStep)*e.progressStep,C=(0,o.BX)("div",Object.assign({className:p()("gp-achievement__rare","gp-achievement__progress")},{children:[(0,o.tZ)("div",{className:p()("gp-achievement__progressBar",`gp-rare-bg_${null===(r=null==e?void 0:e.rare)||void 0===r?void 0:r.toLowerCase()}`),style:`width: ${k/e.maxProgress*100}%;`}),(0,o.BX)("span",Object.assign({className:"gp-achievement__progressBar-text"},{children:[k," / ",e.maxProgress]}))]}));return(0,o.BX)("div",Object.assign({ref:c,className:p()("gp-achievement-container",`gp-achievement-container_${d}`)},{children:[(0,o.BX)("div",Object.assign({className:"gp-achievement__unlocked"},{children:[k<e.maxProgress&&0!=k?Z:null,e.unlocked?O:null]})),(0,o.BX)("button",Object.assign({className:"gp-achievement",onClick:()=>t()},{children:[x,(0,o.BX)("div",Object.assign({className:"gp-achievement__content"},{children:[(0,o.tZ)("h3",{children:e.name}),e.description&&(0,o.tZ)("p",{children:e.description})]}))]})),k<e.maxProgress&&0!=k?C:null,e.rare!==ee.COMMON&&e.unlocked?w:null]}))};var ue=n(3215);v()(ue.Z,{insert:"head",singleton:!1}),ue.Z.locals;const he=({gamesCollection:{description:e,games:t}})=>(0,o.BX)(o.HY,{children:[e&&(0,o.tZ)("p",Object.assign({className:"gp-games-collection__description"},{children:e})),t.map((e=>{const t=(0,o.tZ)(b.Z,{className:"gp-list-item__avatar",src:e.icon});return(0,o.tZ)(_,Object.assign({title:e.name,href:e.url,target:"_blank",avatar:t},{children:e.description}))}))]});var me=n(253);v()(me.Z,{insert:"head",singleton:!1}),me.Z.locals;const ve=({document:e})=>(0,o.tZ)("div",{dangerouslySetInnerHTML:{__html:e.content}});var fe=n(1438),_e=n(8866);const be=2*Math.PI,ye=.5*Math.PI;class xe{constructor(e=0,t=0){this.x=e,this.y=t}}class we{constructor(e,t,n,i){this.p0=e,this.p1=t,this.p2=n,this.p3=i,this.time=0,this.duration=3+2*Math.random(),this.color="#"+Math.floor(16777215*Math.random()).toString(16),this.w=8,this.h=6,this.complete=!1,this.x=0,this.y=0,this.r=0,this.sy=0}update(e){this.time=Math.min(this.duration,this.time+e);const t=Ce.Ease.outCubic(this.time,0,1,this.duration),n=Ce.cubeBezier(this.p0,this.p1,this.p2,this.p3,t),i=n.x-this.x,a=n.y-this.y;this.r=Math.atan2(a,i)+ye,this.sy=Math.sin(Math.PI*t*10),this.x=n.x,this.y=n.y,this.complete=this.time===this.duration}draw(e){e.save(),e.translate(this.x,this.y),e.rotate(this.r),e.scale(1,this.sy),e.fillStyle=this.color,e.fillRect(.5*-this.w,.5*-this.h,this.w,this.h),e.restore()}}class Oe{constructor(e,t){this.x=e,this.y=t,this.r=24,this._progress=0,this.complete=!1}reset(){this._progress=0,this.complete=!1}set progress(e){this._progress=e<0?0:e>1?1:e,this.complete=1===this._progress}get progress(){return this._progress}draw(e){e.fillStyle="#47b929",e.beginPath(),e.arc(this.x,this.y,this.r,-ye,be*this._progress-ye),e.lineTo(this.x,this.y),e.closePath(),e.fill()}}class Ze extends Oe{constructor(e,t){super(e,t)}reset(){this._progress=0,this.complete=!1}set progress(e){const t=this._progress;this._progress=e<0?0:e>1?1:e,t<1&&this._progress>=1.8&&(this.complete=!0)}draw(e){super.draw(e),e.save(),e.strokeStyle="#fff",e.lineCap="round",e.lineWidth=4;const t=this.r/2,n=.6*t,i=.4*t,a=Math.min(1,this._progress/.6),o=this._progress>.6?(this._progress-.6)/.4:0,r=this.x-t/2,s=this.y,c=r+n*a*Math.cos(Math.PI/4),l=s+n*a*Math.sin(Math.PI/4),d=c+i*o*Math.cos(Math.PI/3),p=l-i*o*Math.sin(Math.PI/3);e.beginPath(),e.moveTo(r,s),this._progress<=.6?e.lineTo(c,l):(e.lineTo(c,l),e.lineTo(d,p)),e.stroke(),e.restore()}}class ke{constructor(e,t){this.x=e,this.y=t,this.startRadius=24,this.time=0,this.duration=.4,this.progress=0,this.complete=!1}reset(){this.time=0,this.progress=0,this.complete=!1}update(){this.time=Math.min(this.duration,this.time+Ce.timeStep),this.progress=Ce.Ease.inBack(this.time,0,1,this.duration,1.70158),this.complete=this.time===this.duration}draw(e){e.fillStyle="#47b929",e.beginPath(),e.arc(this.x,this.y,this.startRadius*(1-this.progress),0,be),e.fill()}}class Ce{static cubeBezier(e,t,n,i,a){const o=new xe,r=1-a;return o.x=r*r*r*e.x+3*r*r*a*t.x+3*r*a*a*n.x+a*a*a*i.x,o.y=r*r*r*e.y+3*r*r*a*t.y+3*r*a*a*n.y+a*a*a*i.y,o}}Ce.timeStep=1/60,Ce.Ease={inCubic:(e,t,n,i)=>n*(e/=i)*e*e+t,outCubic:(e,t,n,i)=>(e/=i,n*(--e*e*e+1)+t),inOutCubic:(e,t,n,i)=>(e/=i/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t,inBack:(e,t,n,i,a)=>n*(e/=i)*e*(((a=a||1.70158)+1)*e-a)+t};const Ne=({width:e,height:t})=>{const n=(0,oe.useRef)(null),i=e,a=t,r=[];let s,c,l,d=0;return(0,oe.useEffect)((()=>{var e;const t=null===(e=n.current)||void 0===e?void 0:e.getContext("2d");t&&(n.current.width=i,n.current.height=a,s=new Oe(.5*i,.5*a),c=new ke(.5*i,.5*a),function(){for(let e=0;e<128;e++){const e=new xe(.5*i,.5*a),t=new xe(Math.random()*i,Math.random()*a),n=new xe(Math.random()*i,Math.random()*a),o=new xe(Math.random()*i,a+64);r.push(new we(e,t,n,o))}}(),l=new Ze(.5*i,.5*a),requestAnimationFrame((function e(){if(function(){switch(d){case 0:s.progress+=1/45;break;case 1:c.update();break;case 2:r.forEach((e=>{e.update(.016666666666666666)}));break;case 3:!(l._progress<1.8)||(l._progress+=.05)}}(),function(){switch(t.clearRect(0,0,i,a),d){case 0:s.draw(t);break;case 1:c.draw(t);break;case 2:r.forEach((e=>{e.draw(t)}));break;case 3:l.draw(t)}}(),0===d&&s.complete)d=1;else if(1===d&&c.complete)d=2;else if(2===d&&r.filter((e=>e.time>=2)).length/r.length>.75)d=3;else if(3===d&&l.complete)return s.reset(),c.reset(),l.reset(),r.length=0,void(d=0);requestAnimationFrame(e)})))}),[]),(0,o.tZ)("canvas",{id:"drawing_canvas",ref:n})};var je=n(7264);function Se(e){return e%1==0?Math.floor(e):e}v()(je.Z,{insert:"head",singleton:!1}),je.Z.locals;var Ee,Te=n(180),Me=n(3793),ze=function(e,t,n,i){return new(n||(n=Promise))((function(a,o){function r(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}c((i=i.apply(e,t||[])).next())}))};!function(e){e.Initial="Initial",e.Loading="Loading",e.Timeout="Timeout",e.Failed="Failed",e.Success="Success"}(Ee||(Ee={}));const Be={unauthorized_purchase:"unauthorized_purchase",failed_balance_deduction:"failed_balance_deduction",internal_error:"internal_error",deactivated_profile:"deactivated_profile",invalid_payment_model:"invalid_payment_model",disabled_payments:"disabled_payments",insufficient_funds:"insufficient_funds"},Pe={1002:"purchaseAmountTooLarge",1019:"mobileOperatorNotSupported",1049:"paymentDeclinedSecurity",1092:"paymentDeclinedSecurity",1058:"cardDeclined",2001:"paymentMethodUnavailable",2002:"paymentMethodUnavailable",2009:"attemptsLimitExceeded",3017:"attemptsLimitExceeded",2048:"paymentSystemError",2007:"invalidUserDetails",3030:"paymentMethodNotAvailableRegion",3032:"paymentCurrentlyUnavailable",1057:"insufficient_funds",1055:"cardNotValid"};let Ae=null;const Ie=({product:{icon:e,name:t,description:i,price:a,currencySymbol:r,id:c},transaction:d,gamePush:p,close:g,setPurchaseTitle:h,setPersistent:m,useOnBeforeClose:v})=>{const f=(0,s.useRef)(null),[_,b]=(0,s.useState)(""),[y,x]=(0,s.useState)(null),[w,O]=(0,s.useState)(Ee.Initial),[Z,k]=(0,s.useState)(null),[C,N]=(0,s.useState)(void 0),j=p.device.type===Me.U7.Tv&&p.platform.config.paymentsConfig.tvQrPayment,S=p.platform.type===M.z.CUSTOM||p.platform.type===M.z.PARTNER?p.platform.config.paymentsConfig.configs.web.activeService===Te.L_.Xsolla:p.platform.config.paymentsConfig.configs.android.activeService===Te.L_.Xsolla,E=w===Ee.Loading,T=()=>{j||m(!0),O(Ee.Loading),h("purchase.title.waiting")},z=e=>{x({success:!0,payload:e}),h("purchase.title.success"),O(Ee.Success),m(!1)},B=()=>{x({success:!1,payload:"purchase_timeout"}),O(Ee.Timeout),m(!1),k(null)},P=e=>{x({success:!1,payload:e}),b(`purchase.errors.${e}`),O(Ee.Failed),h("purchase.title.error"),m(!1),k(null)},A=(e,t=!1)=>ze(void 0,void 0,void 0,(function*(){let n=0;const i=t?60:12,a=()=>ze(void 0,void 0,void 0,(function*(){try{const t=yield p._services.paymentsService.getPlayerPurchase({projectId:p.projectId,purchaseId:e,orderStatus:fe.iF.Paid});if(!0===(null==t?void 0:t.subscribed)||(null==t?void 0:t.orderStatus)===fe.iF.Paid)return C&&(clearInterval(C),N(void 0)),void z(t);if(n++,n>=i)return C&&(clearInterval(C),N(void 0)),void B()}catch(e){if("db: ничего не найдено"===e)return n++,void(n>=i&&(C&&(clearInterval(C),N(void 0)),B()));C&&(clearInterval(C),N(void 0)),ce.kg.error(e),P("unexpected")}}));if(yield a(),n<i&&!C){const e=window.setInterval((()=>ze(void 0,void 0,void 0,(function*(){yield a()}))),5e3);N(e)}}));(0,oe.useEffect)((()=>{v((()=>{C&&(clearInterval(C),N(void 0)),y&&(y.success?d.done(y.payload):d.abort(y.payload))}))}),[y,C]),(0,oe.useEffect)((()=>{f.current&&!E&&f.current.focus()}),[E]);const I=(0,o.BX)(o.HY,{children:[(0,o.BX)("div",Object.assign({className:"gp-product__info"},{children:[(0,o.tZ)("img",{className:"gp-product__icon",src:`${e}`,alt:t}),(0,o.tZ)("h2",Object.assign({className:"gp-product__name"},{children:t})),(0,o.tZ)("p",Object.assign({className:"gp-product__description"},{children:i}))]})),(0,o.tZ)("div",Object.assign({className:"gp-product__action"},{children:(0,o.BX)(u.Z,Object.assign({ref:f,className:"gp-product__button",tabIndex:0,isLoading:E,disabled:E,onClick:S?()=>ze(void 0,void 0,void 0,(function*(){T();try{const e=yield p._services.paymentsService.purchase({payload:{},id:c}),{token:t}=e.purchase.payload,i=p.platform.config.paymentsConfig.sandbox?`https://sandbox-secure.xsolla.com/paystation4/?token=${t}`:`https://secure.xsolla.com/paystation4/?token=${t}`;if(j){const t=yield ze(void 0,void 0,void 0,(function*(){return Ae||(Ae=n.e(1487).then(n.t.bind(n,1764,19)).then((e=>e.default))),Ae})),a=yield t.toDataURL(i,{width:300,margin:2,color:{dark:"#000000",light:"#ffffff"}});k(a);const{_id:o}=e.purchase;A(o||"",!0)}else{const t=(e=>{const t=document.createElement("div");t.className="gp-product__overlay",document.body.prepend(t);const n=document.createElement("iframe");return n.className="gp-product__iframe",n.src=e,t.appendChild(n),()=>{document.body.contains(t)&&document.body.removeChild(t)}})(i),n=i=>{var a;try{const o=JSON.parse(i.data);if("close"===o.command&&(g(),t(),window.removeEventListener("message",n)),"error"===o.command){const e=o.data.code,i=Pe[e]||"unexpected";ce.kg.error(o.data.message),P(i),t(),window.removeEventListener("message",n)}if("change-status"===o.command){if("canceled"===(null===(a=o.data)||void 0===a?void 0:a.value))return P("canceled"),void t();const{_id:i}=e.purchase;A(i||"",!1),t(),window.removeEventListener("message",n)}}catch(e){}};window.addEventListener("message",n)}}catch(e){ce.kg.error(e),x({success:!1,payload:e}),P("unexpected")}})):()=>ze(void 0,void 0,void 0,(function*(){T();try{yield(0,_e.Z)(2e3),yield p._services.paymentsService.purchase({payload:{},id:c}).then((e=>{z(e)}))}catch(e){if("purchase_timeout"===e)B();else{const t=(e=>Be[e]||"unexpected")(e);P(t)}}}))},{children:[(0,o.tZ)(l.xv,{id:"purchase.btn.buy"})," ",`${Se(a)} ${r}`]}))}))]});return(0,o.BX)("div",Object.assign({className:"gp-product__wrapper"},{children:[w===Ee.Initial&&(0,o.tZ)(o.HY,{children:I}),E&&Z&&(0,o.tZ)("div",Object.assign({className:"gp-product__qr-payment"},{children:(0,o.BX)("div",Object.assign({className:"gp-product__qr-container"},{children:[(0,o.tZ)("h2",Object.assign({className:"gp-product__qr-title"},{children:(0,o.tZ)(l.xv,{id:"purchase.qr.title"})})),(0,o.tZ)("img",{src:Z,alt:"QR Code",className:"gp-product__qr-image"}),(0,o.tZ)("p",Object.assign({className:"gp-product__qr-description"},{children:(0,o.tZ)(l.xv,{id:"purchase.qr.description"})}))]}))})),E&&!Z&&(0,o.BX)("div",Object.assign({className:"gp-product__action"},{children:[!S&&(0,o.tZ)("p",Object.assign({className:"gp-product__text"},{children:(0,o.tZ)(l.xv,{id:"purchase.text.waiting"})})),I]})),w===Ee.Timeout&&(0,o.BX)("div",Object.assign({className:"gp-product__action"},{children:[(0,o.tZ)("p",Object.assign({className:"gp-product__text"},{children:(0,o.tZ)(l.xv,{id:"purchase.text.tooLong"})})),(0,o.tZ)("p",Object.assign({className:"gp-product__alert"},{children:(0,o.tZ)(l.xv,{id:"purchase.text.delayedPaymentAlert"})})),(0,o.tZ)(u.Z,Object.assign({className:"gp-product__button",onClick:()=>g(!0)},{children:(0,o.tZ)(l.xv,{id:"purchase.btn.continue"})}))]})),w===Ee.Failed&&(0,o.BX)("div",Object.assign({className:"gp-product__action"},{children:[(0,o.tZ)("p",Object.assign({className:"gp-product__text"},{children:(0,o.tZ)(l.xv,{id:_})})),(0,o.tZ)(u.Z,Object.assign({className:"gp-product__button",onClick:()=>g(!0)},{children:(0,o.tZ)(l.xv,{id:"purchase.btn.close"})}))]})),w===Ee.Success&&(0,o.BX)("div",Object.assign({className:"gp-product__action"},{children:[(0,o.tZ)(Ne,{width:300,height:150}),(0,o.tZ)(u.Z,Object.assign({className:"gp-product__button",onClick:()=>g(!0)},{children:(0,o.tZ)(l.xv,{id:"purchase.btn.close"})}))]}))]}))};var Le,Xe=n(6186);function De(e){const t=[];return e.forEach((e=>{const n=t[t.length-1];(null==n?void 0:n.player.id)!==e.authorId?t.push({player:e.player,messages:[e]}):n.messages.push(e)})),t}function Fe(e,t){const n=new Date(e.createdAt);return Re(n)?n.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"}):n.toLocaleDateString(t,{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"})}function Re(e){return new Date(e).setHours(0,0,0,0)===(new Date).setHours(0,0,0,0)}function $e(e,t){if(!e)return"";const n=new Date(e);let i;if(Re(n)){const e=Math.floor((n.getTime()-Date.now())/1e3),t=Math.floor(e/3600),a=Math.floor(e/60%60),o=Math.floor(e%60);i=`${String(a).padStart(2,"0")}:${String(o).padStart(2,"0")}`,t>0&&(i=`${String(t).padStart(2,"0")}:${i}`)}else i=n.toLocaleDateString(t,{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"});return(0,x.z)("chat.muteTime",{time:i})}v()(Xe.Z,{insert:"head",singleton:!1}),Xe.Z.locals,function(e){e.ConnectionError="connection_error",e.OriginNotAllowed="origin_not_allowed",e.AccessDenied="access_denied",e.InternalError="internal_error",e.PlayerMuted="player_muted",e.ChatDisabled="chat_disabled",e.RateLimitReached="rate_limit_reached",e.BadValueFilterCensor="bad_value_filter_censor"}(Le||(Le={}));const Ye={connection_error:Le.ConnectionError,origin_not_allowed:Le.OriginNotAllowed,access_denied:Le.AccessDenied,player_banned:Le.AccessDenied,internal_error:Le.InternalError,player_muted:Le.PlayerMuted,player_not_found:Le.ChatDisabled,empty_channel_id:Le.ChatDisabled,project_not_found:Le.ChatDisabled,channel_not_found:Le.ChatDisabled,rate_limit_reached:Le.RateLimitReached,bad_value_filter_censor:Le.BadValueFilterCensor};var He=n(1457),qe=n(2615);v()(qe.Z,{insert:"head",singleton:!1}),qe.Z.locals;const Ue=({rootMargin:e,root:t,onIntersect:n})=>{const{ref:i,inView:a}=(0,He.YD)({rootMargin:e,root:t,threshold:[0,.5,1]});return(0,s.useEffect)((()=>{a&&n()}),[a]),(0,o.tZ)("div",{className:"gp-intersection-observer",ref:i})};var Ge=n(9639),Ve=n.n(Ge),Ke=function(e,t,n,i){return new(n||(n=Promise))((function(a,o){function r(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}c((i=i.apply(e,t||[])).next())}))};const We=[Le.AccessDenied,Le.ChatDisabled,Le.OriginNotAllowed,Le.PlayerMuted],Je=({channel:e,personalChannelData:t})=>{const{playerId:n,channelName:i,channelType:a}=t;return(0,o.BX)("div",Object.assign({className:"gp-chat-title"},{children:["channel"===a||null!==i?(0,o.tZ)(o.HY,{children:i}):(0,o.BX)(o.HY,{children:[(0,o.tZ)(l.xv,{id:"player.defaultName"})," ",n&&`#${n}`]}),e.membersOnlineCount>1&&(0,o.BX)("span",Object.assign({className:"gp-chat-title__online"},{children:[e.membersOnlineCount," ",(0,o.tZ)(l.xv,{id:"chat.online"})]}))]}))},Qe=({store:e,gamePush:t})=>{var n,i,a,r;const c=(0,s.useRef)(null),{channel:d,personalChannelData:h}=e,[m,v]=(0,s.useState)(""),[f,_]=(0,s.useState)(""),[b,y]=(0,s.useState)([...e.channelMessages.items].reverse()),[Z,k]=(0,s.useState)(De(b)),[C,N]=(0,s.useState)(""),[j,S]=(0,s.useState)(!1),[E,T]=(0,s.useState)(!1),[M,z]=(0,s.useState)(!1),[B,A]=(0,s.useState)(0),[I,L]=(0,s.useState)(e.channelMessages.canLoadMore),X=d.mute.isMuted,D=d.ownerId===t.player.id?d.ownerAcl:d.memberAcl,R=D.canAddMessage&&!X&&!We.includes(C),$=(0,s.useRef)(0),Y=(0,s.useRef)(0),H=(0,s.useRef)(0),q=(0,x.N)(),[U,G]=(0,s.useState)(!1),V=d.messageLimits.length||8192,K=d.messageLimits.timeoutPeriod||0,W=(null===(n=d.censor)||void 0===n?void 0:n.links)||(null===(i=d.censor)||void 0===i?void 0:i.spam)||!1,J=(null===(a=d.censor)||void 0===a?void 0:a.ageRestriction)>=0&&(null===(r=d.censor)||void 0===r?void 0:r.ageRestriction)<18;function Q(e){b.push(e),y(b),k(De(b)),te(e.authorId===t.player.id)}function ee(n=""){return Ke(this,void 0,void 0,(function*(){const i=!n.trim()&&!m.trim(),a=Date.now()-B<1e3*K;if(!D.canAddMessage)return;if(i)return;if(a){z(a);const e=function(){const e=Ve()(t.serverTime),n=Math.ceil((1e3*K-e.diff(B))/1e3);return e.add(n,"second").format("YYYY-MM-DDTHH:mm:ssZZ")}();return void _(e)}if(j)return;if(!R)return;S(!0);const[o,r]=yield function(n=""){return Ke(this,void 0,void 0,(function*(){const i=e=>[null,e],a=e=>i("string"==typeof e?e:"internal_error"),o={channelId:d.id,text:n.trim()||m.trim(),tags:h.tags};try{return[yield t.channels.sendMessage(o),""]}catch(n){if("access_denied"!==n)return ce.kg.error(n),[null,n];let r;try{r=yield t.channels.fetchChannel({channelId:d.id}),e.setChannel(r)}catch(e){return ce.kg.error(e),a(e)}if(!r)return i("internal_error");if(r.mute.isMuted)return i("player_muted");if(!r.isJoined&&"feed"!==h.channelType)try{yield t.channels.join({channelId:d.id})}catch(e){return ce.kg.error(e),a(e)}try{return[yield t.channels.sendMessage(o),""]}catch(e){return a(e)}}}))}(n);S(!1),r?function(e){switch(e){case Le.PlayerMuted:case Le.RateLimitReached:return}N(e)}(function(e){return Ye[e]||Le.InternalError}(r)):(A(Ve()(o.createdAt).valueOf()),Q(o),v(""))}))}const te=(e=!1)=>Ke(void 0,void 0,void 0,(function*(){if(!(null==c?void 0:c.current))return;const{current:t}=c;(e||t.scrollHeight===t.scrollTop+t.offsetHeight)&&(yield(0,_e.Z)(0),t.scrollTo(0,t.scrollHeight))}));function ne(e){e.authorId!==t.player.id&&d.id===e.channelId&&Q(e)}function ie(){d.membersCount+=1,d.membersOnlineCount+=1,e.setChannel(Object.assign({},d))}function ae(){d.membersCount-=1,d.membersOnlineCount-=1,e.setChannel(Object.assign({},d))}function oe(n){n.channelId===d.id&&n.playerId===t.player.id&&e.setChannel(Object.assign(Object.assign({},d),{mute:{isMuted:!0,unmuteAt:n.unmuteAt}}))}function re(n){n.channelId===d.id&&n.playerId===t.player.id&&(e.setChannel(Object.assign(Object.assign({},d),{mute:{isMuted:!1,unmuteAt:""}})),requestAnimationFrame(q))}function se(t){t.id===d.id&&e.setChannel(Object.assign(Object.assign({},d),t))}function le(){if(M&&f){const e=new Date(f);if(Math.floor((e.getTime()-Date.now())/1e3)<=0)return z(!1),void requestAnimationFrame(q);q()}}function de(){if(X&&d.mute.unmuteAt){const t=new Date(d.mute.unmuteAt);if(Math.floor((t.getTime()-Date.now())/1e3)<=0)return e.setChannel(Object.assign(Object.assign({},d),{mute:{isMuted:!1,unmuteAt:""}})),void requestAnimationFrame(q);q()}}(0,s.useEffect)((()=>{const e=e=>{U&&("Enter"!==e.key&&"NumpadEnter"!==e.code||function(e){e.ctrlKey||e.shiftKey||(e.preventDefault(),ee(e.target.value))}(e))};return U&&window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[U]),(0,s.useEffect)((()=>{te()}),[Z]),(0,s.useEffect)((()=>{t.channels.on("event:message",ne),t.channels.on("event:join",ie),t.channels.on("event:leave",ae),t.channels.on("event:mute",oe),t.channels.on("event:unmute",re),t.channels.on("event:updateChannel",se),te(!0);const e=Z.filter((e=>e.player.id===t.player.id)).reduce(((e,t)=>e.concat(t.messages)),[]);if(e.length>0){const t=e.reduce(((e,t)=>Ve()(t.createdAt).isAfter(Ve()(e.createdAt))?t:e));A(Ve()(t.createdAt).valueOf())}return()=>{t.channels.off("event:message",ne),t.channels.off("event:join",ie),t.channels.off("event:leave",ae),t.channels.off("event:mute",oe),t.channels.off("event:unmute",re),t.channels.off("event:updateChannel",se)}}),[]),(0,s.useEffect)((()=>($.current=window.setInterval(de,1e3),()=>clearInterval($.current))),[d.mute.unmuteAt]),(0,s.useEffect)((()=>(Y.current=window.setInterval(le,1e3),()=>clearInterval(Y.current))),[f]),(0,s.useEffect)((()=>{if(C)return H.current=window.setTimeout((()=>{N("")}),5e3),()=>clearTimeout(H.current)}),[C]);const pe=(0,o.tZ)(l.xv,{id:`chat.errors.${C}`,fields:C===Le.BadValueFilterCensor?{linksAndSpam:W?(0,x.z)("chat.censor.linksAndSpam"):".",ageWarning:J?(0,x.z)("chat.censor.ageWarning"):""}:{}}),ge=p()("gp-chat-alert",{_censor:C===Le.BadValueFilterCensor});return(0,o.BX)("div",Object.assign({className:"gp-chat-container"},{children:[(0,o.BX)("div",Object.assign({className:"gp-chat-messages",ref:c},{children:[d.description&&(0,o.tZ)("p",Object.assign({className:"gp-leaderboard__description"},{children:d.description})),(0,o.tZ)(Ue,{rootMargin:"300px",root:c.current,onIntersect:function(){var e;return Ke(this,void 0,void 0,(function*(){if(!E&&I){T(!0);try{const n=yield t.channels.fetchMoreMessages({channelId:d.id}),i=[...n.items.reverse(),...b],a=null===(e=c.current)||void 0===e?void 0:e.scrollHeight;y(i),k(De(i)),L(n.canLoadMore),a&&requestAnimationFrame((()=>c.current.scrollTo(0,c.current.scrollHeight-a)))}catch(e){ce.kg.error(e)}T(!1)}}))}}),0===Z.length&&(0,o.tZ)("p",{children:(0,o.tZ)(l.xv,{id:"chat.emptyMessages"})}),Z.map((e=>{const{player:n,messages:[i]}=e,a=function(e){let t=0===e.authorId?(0,x.z)("chat.administrator"):e.player.name;return t||(t=w(e.player.id)),t}(i),r=(0,o.BX)(o.HY,{children:[(0,o.tZ)("span",Object.assign({className:"gp-chat-messages__name",onClick:()=>v(`${a}, ${m}`)},{children:a})),", ",Fe(i,t.locale)]});return(0,o.tZ)(O,Object.assign({id:n.id,name:r,avatar:n.avatar,avatarGeneratorTemplate:t.avatarGeneratorTemplate,colorize:!0,mode:"leaderboard"},{children:e.messages.map((e=>(0,o.tZ)("p",{children:e.text})))}),i.id)}))]})),(0,o.tZ)("div",Object.assign({className:ge},{children:C&&(0,o.tZ)(g.Z,Object.assign({className:"gp-chat-bottom__alert",dense:!0,mode:"error"},{children:pe}))})),D.canAddMessage&&(0,o.tZ)("div",Object.assign({className:p()("gp-chat-bottom",{"gp-chat-bottom_overlay":U&&t.isMobile&&t.fullscreen.isEnabled})},{children:(0,o.BX)("div",Object.assign({className:"gp-chat-bottom__content"},{children:[(0,o.BX)("div",Object.assign({className:"gp-chat-bottom__input-area"},{children:[X&&(0,o.tZ)(g.Z,Object.assign({className:"gp-chat-bottom__alert",dense:!0,mode:"error"},{children:(0,o.tZ)(l.xv,{id:"chat.errors.player_muted",fields:{duration:$e(d.mute.unmuteAt,t.locale)}})})),M&&(0,o.tZ)(g.Z,Object.assign({className:"gp-chat-bottom__alert",dense:!0,mode:"error"},{children:(0,o.tZ)(l.xv,{id:"chat.errors.rate_limit_reached",fields:{timeLeft:$e(f,t.locale)}})})),!X&&!M&&(0,o.tZ)(P.Z,{className:"gp-chat-bottom__input",type:"textarea",placeholder:(0,x.z)("chat.sendPlaceholder"),value:m,rows:1,maxRows:5,maxLength:V,onInput:e=>function(e){e.length<=V&&v(e)}(e),onFocus:function(){G(!0)},onBlur:function(){setTimeout((()=>G(!1)),100)}})]})),(0,o.tZ)(u.Z,Object.assign({className:"gp-chat-bottom__send-button",disabled:j||!R,onClick:ee},{children:(0,o.tZ)(F.Z,{children:"send-message"})}))]}))}))]}))};n(7975);var et=n(6955);v()(et.Z,{insert:"head",singleton:!1}),et.Z.locals;const tt=({requiredOrientation:e})=>(0,o.BX)("div",Object.assign({className:"gp-orientation-overlay"},{children:[(0,o.tZ)("div",{className:"gp-orientation-overlay__background"}),(0,o.BX)("div",Object.assign({className:"gp-orientation-overlay__info"},{children:[(0,o.tZ)(F.Z,Object.assign({className:"gp-orientation-overlay__icon",size:128},{children:"tilt"})),(0,o.tZ)("strong",Object.assign({class:"gp-orientation-overlay__title"},{children:(0,o.tZ)(l.xv,Object.assign({id:"orientationOverlay.title"},{children:e}))})),(0,o.tZ)("span",{children:(0,o.tZ)(l.xv,{id:`orientationOverlay.description.${e}`})})]}))]}));var nt=n(2682);v()(nt.Z,{insert:"head",singleton:!1}),nt.Z.locals;var it=n(8376);v()(it.Z,{insert:"head",singleton:!1}),it.Z.locals;const at=({className:e="",fadeIn:t,children:n,onClick:i})=>(0,o.BX)("div",Object.assign({className:p()("gp-background-overlay",e,{"gp-background-overlay_fade-in":t}),onClick:e=>null==i?void 0:i(e)},{children:[(0,o.tZ)("div",{className:"gp-background-overlay__background"}),(0,o.tZ)("div",Object.assign({className:"gp-background-overlay__info"},{children:n}))]})),ot=({})=>{const[e,t]=(0,s.useState)(2);return(0,s.useEffect)((()=>{let e=2;const n=setInterval((()=>{e-=1,t(e)}),1e3);return setTimeout((()=>clearInterval(n)),1e3),()=>clearInterval(n)}),[]),(0,o.BX)(at,Object.assign({className:"gp-pre-ad-countdown",fadeIn:!0},{children:[(0,o.tZ)(F.Z,Object.assign({className:"gp-pre-ad-countdown__icon gp-pre-ad-countdown__icon_wait",size:64},{children:"wait"})),(0,o.tZ)("strong",Object.assign({class:"gp-pre-ad-countdown__title"},{children:(0,o.tZ)(l.xv,{id:"preAdCountdownOverlay.title"})})),(0,o.tZ)("span",Object.assign({class:"gp-pre-ad-countdown__description"},{children:(0,o.tZ)(l.xv,{id:"preAdCountdownOverlay.description",fields:{countdown:e}})}))]}))},rt=({close:e})=>((0,s.useEffect)((()=>G(e)),[]),(0,o.BX)(at,Object.assign({className:"gp-pre-ad-countdown gp-pre-ad-countdown_finish",onClick:()=>e()},{children:[(0,o.tZ)(F.Z,Object.assign({className:"gp-pre-ad-countdown__icon",size:128},{children:"tap"})),(0,o.tZ)("strong",Object.assign({class:"gp-pre-ad-countdown__title"},{children:(0,o.tZ)(l.xv,{id:"preAdCountdownOverlayFinish.title"})}))]})));var st=n(4925);v()(st.Z,{insert:"head",singleton:!1}),st.Z.locals;const ct=({close:e})=>((0,s.useEffect)((()=>G(e)),[]),(0,o.BX)(at,Object.assign({className:"gp-rewarded-failed-overlay",onClick:()=>e()},{children:[(0,o.tZ)(F.Z,Object.assign({className:"gp-rewarded-failed-overlay__icon",size:128},{children:"info"})),(0,o.tZ)("strong",Object.assign({class:"gp-rewarded-failed-overlay__title"},{children:(0,o.tZ)(l.xv,{id:"rewardedFailedOverlay.title"})})),(0,o.tZ)("strong",Object.assign({class:"gp-rewarded-failed-overlay__description"},{children:(0,o.BX)("ul",{children:[(0,o.tZ)("li",{children:(0,o.tZ)(l.xv,{id:"rewardedFailedOverlay.noAds"})}),(0,o.tZ)("li",{children:(0,o.tZ)(l.xv,{id:"rewardedFailedOverlay.adblock"})}),(0,o.tZ)("li",{children:(0,o.tZ)(l.xv,{id:"rewardedFailedOverlay.notFinishedWatch"})})]})})),(0,o.tZ)(u.Z,Object.assign({onClick:e},{children:(0,o.tZ)(l.xv,{id:"buttons.continue"})}))]})));var lt=n(5931);v()(lt.Z,{insert:"head",singleton:!1}),lt.Z.locals;const dt=({allowed:e,detected:t})=>(0,o.BX)("div",Object.assign({className:"gp-unsupported-device-overlay"},{children:[(0,o.tZ)("div",{className:"gp-unsupported-device-overlay__background"}),(0,o.BX)("div",Object.assign({className:"gp-unsupported-device-overlay__info"},{children:[(0,o.tZ)(F.Z,Object.assign({className:"gp-unsupported-device-overlay__icon",size:128},{children:"computer"})),(0,o.tZ)("h1",Object.assign({className:"gp-unsupported-device-overlay__notice"},{children:(0,o.tZ)(l.xv,{id:"unsupportedDeviceOverlay.notice",fields:{detected:t,allowed:e.map(String).join(", ")}})}))]}))]}));var pt=n(1857);v()(pt.Z,{insert:"head",singleton:!1}),pt.Z.locals;const gt=({options:e})=>(0,o.tZ)("iframe",{src:e.src,className:"gp-iframe"});let ut;const ht=(0,c.$)((e=>e),i.N)((e=>{var t;const{activeOverlay:n,overlayStatus:i,conflictInfo:a,leaderbordInfo:r,achievementsInfo:c,gamesCollection:l,showAchievementsList:d,document:g,product:u,gamePush:h,transaction:m,shareOptions:v,shareType:f,persistent:_,closeOverlay:b,closePreAdCountdownOverlayFinish:y,closeRewardedFailedOverlay:x,closeResumeOverlay:w,setOverlayStatus:O,clearAchievement:Z,setPersistent:k,useOnBeforeClose:C,clearPersonalChannelData:N,sizeOffsets:j,orientationOverlay:E,preAdCountdownOverlay:T,rewardedFailedOverlay:M,resumeOverlay:z,preAdCountdownOverlayFinish:B,unsupportedDeviceOverlay:P,withSecretCode:A,withConfirm:L,confirmOptions:X,iframe:D}=e,[F,R]=(0,s.useState)(0),[Y,H]=(0,s.useState)(!1),[q,U]=(0,s.useState)("purchase.title.approve"),G=(0,s.useRef)(null);function W(e=!1){return t=this,a=void 0,r=function*(){if(!["fade-out","fade-in"].includes(i)&&(!_||e)){if(L&&!(yield h.windows.showConfirm({title:X.title,description:X.description,textCancel:X.textCancel,textConfirm:X.textConfirm,invertButtonColors:X.invertButtonColors})))return;"product"===n&&U("purchase.title.approve"),O("fade-out"),clearTimeout(ut),setTimeout((()=>{O("hidden"),H(!1),b(),k(!1),N()}),300)}},new((o=void 0)||(o=Promise))((function(e,n){function i(e){try{c(r.next(e))}catch(e){n(e)}}function s(e){try{c(r.throw(e))}catch(e){n(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(i,s)}c((r=r.apply(t,a||[])).next())}));var t,a,o,r}n&&["hidden"].includes(i)&&(O("fade-in"),ut=setTimeout((()=>{O("visible"),H(G.current.offsetHeight>=window.innerHeight)}),300));const J=(({top:e,bottom:t})=>{const n={};return e>0&&(n.maxHeight=`calc(100% - ${e}px)`),t>0&&(n.paddingBottom=`${t}px`),n})(j),ee=p()("gp-overlay",`gp-overlay_${i}`,`gp-overlay_${h.platform.type}`,{"gp-overlay_fullscreen":Y});H((null===(t=G.current)||void 0===t?void 0:t.offsetHeight)>=window.innerHeight&&0===F);const[te]=d;return(0,o.BX)("div",Object.assign({className:"gp-overlay-ecosystem"},K.Y,{onContextMenu:e=>e.preventDefault()},{children:[(0,o.BX)("div",Object.assign({className:ee},{children:[(0,o.tZ)("div",{className:"gp-overlay__background",onClick:()=>W()}),(0,o.BX)("div",Object.assign({ref:G,className:"gp-overlay__container",style:Object.assign({transform:`translateY(${F}px)`},J),"data-object":"loginOverlay"},{children:[!_&&(0,o.tZ)("button",Object.assign({className:"gp-overlay__close",tabIndex:0,"data-button":"closeoverlay",onClick:()=>W()},{children:(0,o.tZ)("svg",Object.assign({viewBox:"0 0 366 366",xmlns:"http://www.w3.org/2000/svg"},{children:(0,o.tZ)("path",{d:"M243 183 356 70c13-13 13-33 0-46L341 9a32 32 0 0 0-45 0L183 123 70 9a32 32 0 0 0-46 0L9 24a32 32 0 0 0 0 46l114 113L9 296a32 32 0 0 0 0 45l15 15c13 13 33 13 46 0l113-113 113 113c12 13 33 13 45 0l15-15c13-12 13-33 0-45zm0 0"})}))})),"playersConflict"===n&&(0,o.tZ)(V,Object.assign({className:"gp-players-conflict",title:"playersConflict.title",sdkName:h.name,close:W,setOffsetY:R},{children:(0,o.tZ)(S,{gamePush:h,conflictInfo:a,transaction:m})})),"login"===n&&(0,o.tZ)(V,Object.assign({className:"gp-login",title:"login.title",sdkName:h.name,close:W,setOffsetY:R},{children:(0,o.tZ)(I,{gamePush:h,transaction:m,withSecretCode:A})})),"leaderboard"===n&&(0,o.tZ)(V,Object.assign({className:"gp-leaderboard",title:"leaderboard.title",customTitle:r.leaderboard.name,sdkName:h.name,close:W,setOffsetY:R},{children:(0,o.tZ)($,{leaderbordInfo:r,gamePush:h})})),"chat"===n&&(0,o.tZ)(V,Object.assign({className:"gp-chat",swipeToHide:!1,sdkName:h.name,customTitle:(0,o.tZ)(Je,{channel:e.channel,personalChannelData:e.personalChannelData}),close:W,setOffsetY:R},{children:(0,o.tZ)(Qe,{store:e,gamePush:h})})),"achievements"===n&&(0,o.tZ)(V,Object.assign({className:"gp-achievements",title:"achievements.title",sdkName:h.name,close:W,setOffsetY:R},{children:(0,o.tZ)(le,{achievementsInfo:c,gamePush:h})})),"gamesCollection"===n&&(0,o.tZ)(V,Object.assign({className:"gp-games-collection",customTitle:l.name,sdkName:h.name,close:W,setOffsetY:R},{children:(0,o.tZ)(he,{gamesCollection:l})})),"share"===n&&(0,o.tZ)(V,Object.assign({className:"gp-share",title:`share.title-${f}`,sdkName:h.name,close:W,setOffsetY:R},{children:(0,o.tZ)(Q,{gamePush:h,shareOptions:v,transaction:m,close:W})})),"document"===n&&(0,o.tZ)(V,Object.assign({className:"gp-document",title:`documents.${g.type}.title`,sdkName:h.name,close:W,setOffsetY:R},{children:(0,o.tZ)(ve,{document:g})})),"product"===n&&(0,o.tZ)(V,Object.assign({className:"gp-product",title:q,persistent:_,sdkName:h.name,close:()=>W(!0),setOffsetY:R},{children:(0,o.tZ)(Ie,{product:u,transaction:m,gamePush:h,close:W,setPurchaseTitle:U,setPersistent:k,useOnBeforeClose:C})})),"iframe"===n&&(0,o.tZ)(V,Object.assign({className:"gp-iframe",title:D.title,sdkName:h.name,persistent:_,close:W,setOffsetY:R},{children:(0,o.tZ)(gt,{options:D})}))]}))]})),te&&(0,o.tZ)(ge,{achievement:te,onFinish:Z,notificationDisplayTime:e.notificationDisplayTime,onClick:()=>h.achievements.open({scrollTo:te.id})},`${te.id}.${te.progress}`),E&&(0,o.tZ)(tt,{requiredOrientation:E.orientationRequired}),T&&(0,o.tZ)(ot,{}),B&&(0,o.tZ)(rt,{close:y}),z&&(0,o.tZ)(rt,{close:w}),M&&(0,o.tZ)(ct,{close:x}),P&&(0,o.tZ)(dt,{detected:P.detected,allowed:P.allowed})]}))})),mt=(0,c.$)(["langDefinition"],i.N)((({langDefinition:e})=>(0,o.tZ)(l.Pj,Object.assign({definition:e},{children:(0,o.tZ)(ht,{})}))));var vt=n(1961),ft=n(6388),_t=function(e,t,n,i){return new(n||(n=Promise))((function(a,o){function r(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}c((i=i.apply(e,t||[])).next())}))};const bt="Cancel last request";function yt(e){const t=new ft.Z,n=(0,i.r)(e,t);!function(e){const t=document.createElement("div");t.id="gamepush-overlay",t.classList.add("gp_mobile"),document.body.appendChild(t),(0,r.render)((0,o.tZ)(c.z,Object.assign({store:e},{children:(0,o.tZ)(mt,{})})),t)}(n);const s={on:t.on.bind(t),off:t.off.bind(t),once:t.once.bind(t),pickPlayerOnConflict(t){var i;return _t(this,void 0,void 0,(function*(){null===(i=n.getState().transaction)||void 0===i||i.abort(bt);const o=(0,a._)();return yield e._pointersManager.waitForPointersUp(),n.setState({conflictInfo:t,transaction:o,activeOverlay:"playersConflict"}),o.ready}))},login(t={}){var i;return _t(this,void 0,void 0,(function*(){null===(i=n.getState().transaction)||void 0===i||i.abort(bt);const o=(0,a._)();return yield e._pointersManager.waitForPointersUp(),n.setState({transaction:o,activeOverlay:"login",withSecretCode:t.withSecretCode}),o.ready}))},changeLanguage(e){return _t(this,void 0,void 0,(function*(){const t=yield(0,vt.vf)(e);n.setState({langDefinition:t,lang:e})}))},changeAvatarGenerator(e){n.setState({avatarGenerator:e})},openLeaderboard(t,i){var o;return _t(this,void 0,void 0,(function*(){null===(o=n.getState().transaction)||void 0===o||o.abort(bt);const r=(0,a._)();return yield e._pointersManager.waitForPointersUp(),n.setState({leaderbordInfo:Object.assign(Object.assign({},i),{query:t}),transaction:r,activeOverlay:"leaderboard"}),r.ready}))},openAchievements(t,{scrollTo:i}={}){var o;return _t(this,void 0,void 0,(function*(){null===(o=n.getState().transaction)||void 0===o||o.abort(bt);const r=(0,a._)();return yield e._pointersManager.waitForPointersUp(),n.setState({achievementsInfo:Object.assign(Object.assign({},t),{scrollTo:i}),transaction:r,activeOverlay:"achievements"}),r.ready}))},openChat(t,i,o){var r;return _t(this,void 0,void 0,(function*(){null===(r=n.getState().transaction)||void 0===r||r.abort(bt);const s=(0,a._)();return yield e._pointersManager.waitForPointersUp(),n.setState({personalChannelData:o?Object.assign({},o):n.getState().personalChannelData,channel:t,channelMessages:i,transaction:s,activeOverlay:"chat"}),s.ready}))},openDocument(t){var i;return _t(this,void 0,void 0,(function*(){null===(i=n.getState().transaction)||void 0===i||i.abort(bt);const o=(0,a._)();return yield e._pointersManager.waitForPointersUp(),n.setState({document:Object.assign({},t),transaction:o,activeOverlay:"document"}),o.ready}))},openProductPurchase(t){var i;return _t(this,void 0,void 0,(function*(){null===(i=n.getState().transaction)||void 0===i||i.abort(bt);const o=(0,a._)();return yield e._pointersManager.waitForPointersUp(),n.setState({product:Object.assign({},t),transaction:o,activeOverlay:"product"}),e.payments._events.emit("open"),o.ready.finally((()=>e.payments._events.emit("close"))),o.ready}))},unlockAchievement(e){var t;const{showAchievementsList:i}=n.getState();null===(t=n.getState().transaction)||void 0===t||t.abort(bt),i.push(e),n.setState({showAchievementsList:[...i]})},setNotificationDisplayTime(e){n.getState().notificationDisplayTime||n.setState({notificationDisplayTime:e})},openGamesCollections(t){var i;return _t(this,void 0,void 0,(function*(){null===(i=n.getState().transaction)||void 0===i||i.abort(bt);const o=(0,a._)();return yield e._pointersManager.waitForPointersUp(),n.setState({gamesCollection:t,transaction:o,activeOverlay:"gamesCollection"}),o.ready}))},close(){return _t(this,void 0,void 0,(function*(){const e=(0,a._)(),{overlayStatus:i,withConfirm:o,gamePush:r,confirmOptions:s}=n.getState();if(!["fade-out","fade-in"].includes(i)){if(o&&!(yield r.windows.showConfirm({title:s.title,description:s.description,textCancel:s.textCancel,textConfirm:s.textConfirm,invertButtonColors:s.invertButtonColors})))return;return n.setState({overlayStatus:"fade-out"}),setTimeout((()=>{n.setState({overlayStatus:"hidden",activeOverlay:""}),(0,_e.Z)(10).then(e.done)}),300),e.ready.finally((()=>{t._events.emit("close")}))}}))},share(t,i){var o;return _t(this,void 0,void 0,(function*(){null===(o=n.getState().transaction)||void 0===o||o.abort(bt);const r=(0,a._)();return yield e._pointersManager.waitForPointersUp(),n.setState({transaction:r,shareType:t,shareOptions:Object.assign({},i),activeOverlay:"share"}),r.ready}))},showOrientationOverlay(e){n.setState({orientationOverlay:{orientationRequired:e}})},setUnsupportedDeviceOverlay({detected:e,allowed:t}){n.setState({unsupportedDeviceOverlay:{detected:e,allowed:t}})},closeOrientationOverlay(){n.setState({orientationOverlay:null})},showPreAdCountdownOverlay(){n.setState({preAdCountdownOverlay:!0})},closePreAdCountdownOverlay(){n.setState({preAdCountdownOverlay:null})},showPreAdCountdownOverlayFinish(e){var t;null===(t=n.getState().preAdCountdownTransaction)||void 0===t||t.done();const i=(0,a._)();return n.setState({preAdCountdownOverlayFinish:!0,preAdCountdownTransaction:i,wasInFullscreen:e}),i.ready},closePreAdCountdownOverlayFinish(){var e;null===(e=n.getState().preAdCountdownTransaction)||void 0===e||e.done(),n.setState({preAdCountdownOverlayFinish:null,preAdCountdownTransaction:null})},showResumeOverlay(){var t,i,o,r;if((null===(t=e.ads)||void 0===t?void 0:t.isFullscreenPlaying)||(null===(i=e.ads)||void 0===i?void 0:i.isRewardedPlaying)||(null===(o=e.ads)||void 0===o?void 0:o.isPreloaderPlaying))return;null===(r=n.getState().resumeOverlayTransaction)||void 0===r||r.done();const s=(0,a._)();return n.setState({resumeOverlay:!0,resumeOverlayTransaction:s}),s.ready},closeResumeOverlay(){var t;null===(t=n.getState().resumeOverlayTransaction)||void 0===t||t.done(),e.resume(),n.setState({resumeOverlay:null,resumeOverlayTransaction:null})},showRewardedFailedOverlay(){var e;null===(e=n.getState().rewardedFailedOverlayTransaction)||void 0===e||e.done();const t=(0,a._)();return n.setState({rewardedFailedOverlay:!0,rewardedFailedOverlayTransaction:t}),t.ready},closeRewardedFailedOverlay(){var e;null===(e=n.getState().rewardedFailedOverlayTransaction)||void 0===e||e.done(),n.setState({rewardedFailedOverlay:null,rewardedFailedOverlayTransaction:null})},showIframe({src:e,title:t,transaction:i}){var a;return null===(a=n.getState().transaction)||void 0===a||a.abort(bt),n.setState({iframe:{src:e,title:t},transaction:i,activeOverlay:"iframe"}),i.ready},setSizeOffsets(e){n.setState({sizeOffsets:e})},setPersistent(e){n.setState({persistent:e})},setConfirmOptions(e){const{withConfirm:t}=e,i=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]])}return n}(e,["withConfirm"]);n.setState({confirmOptions:Object.assign({},i),withConfirm:null!=t&&t})}};return s.changeLanguage(e.language),s}},6918:(e,t,n)=>{"use strict";n.d(t,{r:()=>a,N:()=>r});var i=n(4483);function a(e,t){return(0,i.Z)({events:t,lang:e.language,avatarGenerator:e.avatarGenerator,gamePush:e,activeOverlay:"",activeWindow:"",overlayStatus:"hidden",windowStatus:"hidden",langDefinition:{},leaderbordInfo:{leaderboard:null,players:[],fields:[],query:null},showAchievementsList:[],document:null,product:null,persistent:!1,achievementsInfo:{achievements:[],achievementsGroups:[],playerAchievements:[]},conflictInfo:{players:[],fields:[]},gamesCollection:{id:0,tag:"",name:"",description:"",games:[]},transaction:null,channel:null,personalChannelData:{playerId:null,tags:[],channelName:null,channelType:"channel"},channelMessages:{items:[],canLoadMore:!1},secretCode:"",shareOptions:{},shareType:"share",sizeOffsets:e._overlaySizeOffsets,orientationOverlay:null,preAdCountdownOverlay:null,preAdCountdownOverlayFinish:null,preAdCountdownTransaction:null,rewardedFailedOverlay:null,rewardedFailedOverlayTransaction:null,resumeOverlayTransaction:null,resumeOverlay:null,unsupportedDeviceOverlay:null,wasInFullscreen:!1,withSecretCode:!1,iframe:null,withConfirm:!1,confirmOptions:null,confirmTransaction:null,onBeforeClose:()=>{},notificationDisplayTime:null})}const o=["achievements","leaderboard","gamesCollection","chat"],r={setWindowStatus:(e,t)=>({windowStatus:t}),setOverlayStatus:(e,t)=>({overlayStatus:t}),setPersistent:(e,t)=>({persistent:t}),clearPersonalChannelData:()=>({personalChannelData:{playerId:null,tags:[],channelName:null,channelType:"channel"}}),useOnBeforeClose:(e,t)=>({onBeforeClose:t}),closeOverlay(e){var t,n,i,a;return null===(t=e.onBeforeClose)||void 0===t||t.call(e),null===(n=e.transaction)||void 0===n||n.ready.finally((()=>{e.events._events.emit("close")})),o.includes(e.activeOverlay)?null===(i=e.transaction)||void 0===i||i.done(!0):null===(a=e.transaction)||void 0===a||a.abort("cancel"),{activeOverlay:""}},closeWindow:()=>({activeWindow:""}),clearConfirmOptions:()=>({confirmOptions:null}),clearAchievement:e=>(e.showAchievementsList.shift(),{showAchievementsList:[...e.showAchievementsList]}),setChannel:(e,t)=>({channel:t}),closePreAdCountdownOverlayFinish(e){var t;return null===(t=e.preAdCountdownTransaction)||void 0===t||t.done(),e.wasInFullscreen&&e.gamePush.ads.needToLeaveFullscreenBeforeAds&&e.gamePush.fullscreen.open(),{preAdCountdownOverlayFinish:null,preAdCountdownTransaction:null}},closeRewardedFailedOverlay(e){var t;return null===(t=e.rewardedFailedOverlayTransaction)||void 0===t||t.done(),{rewardedFailedOverlay:null,rewardedFailedOverlayTransaction:null}},closeResumeOverlay(e){var t;return null===(t=e.resumeOverlayTransaction)||void 0===t||t.done(),e.gamePush.resume(),{resumeOverlay:null,resumeOverlayTransaction:null}},setSizeOffsets:(e,t)=>({sizeOffsets:t})}},1049:(e,t,n)=>{"use strict";function i(e,t,n){return e.replace(/{{hash}}/gi,t).replace(/{{size}}/gi,n)}n.d(t,{Z:()=>i})}}]);