const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./generateNick-BF_tQQgy.js","./analytics-C4g1w3Ww.js","./workers-0KObbvUQ.js","./BoardCell-ChT1TErB.js","./BoardCellFading-DcyL0ksJ.js","./BoardCellFading-BgBe4D3f.css","./BoardCell-f6bf-1sc.css","./Arrow-CNeIKriu.js","./GameInfoProvider-CYzOF--K.js","./ScrollArea-D_4_3NIY.js","./Background-CzE9_nId.js","./Background-iLbtqZUh.css","./MandatoryCaptureModalDialog.hooks-B2xtkTVY.js","./GameInfoProvider-BAJxIWwI.css","./AFKCancelGameModal-DoEXsuLt.js","./ModalExternal-Bc4p8-uQ.js","./ModalExternal-D61RFZHH.css","./AvatarDetailsModal-BfQcRyP8.js","./AvatarDetailsModal-bQZid8ah.css","./ConfirmDefeatModal-eNDoyKaS.js","./ConfirmDrawRequestModal-7d6vszK4.js","./formatPlayerName-CbEGQV3k.js","./ConfirmExitModal-Bpnc1GnH.js","./ConfirmFriendGameModal-B7tx6ace.js","./ConfirmGameQuitModal-BRJ-BKV3.js","./ConfirmOnlineGamesModal-9wFPRGCB.js","./ConfirmRematchRequestModal-CcSm6lo5.js","./ConfirmVictoryModal-B6HRPMlD.js","./CustomConfirmModal-CW_FdJ7u.js","./CustomContinueModal-BdEfxkCI.js","./CustomContinueModal-DO5JkZ3Y.css","./DeleteLastSavedGameModal-Fy03A2wV.js","./GameResultModal-CEisd8Vx.js","./GameResultIcon-DOKH6OTH.js","./CustomPopover-BiKCfJi1.js","./leaderboard.services.ui-Cy1UHfbc.js","./GameResultIcon-DkinvDDd.css","./Divider-LWlDoTpr.js","./GameResultModalAfterLoadGame-DDyL54fb.js","./LangSettingsModal-DInEGoMj.js","./LangSettingsModal-BeWqPRKw.css","./LeaderboardModal-D5QvznJs.js","./LeaderboardModal-CycsMQFs.css","./OnlineGameStatusModal-D_SH3SVX.js","./Switch-kkRJNaF4.js","./GameSettings-BjRaJEZ_.js","./RewardPaymentEl-DJaO0Moh.js","./PremiumModal-BNGw1tw5.js","./PremiumModal-B1cgpZGG.css","./PremiumTime-DnpUiTt6.js","./GameSettings-CTXTktye.css","./debounce-Duy6lWxL.js","./RatingChangeDetailsModal-VcyqWopY.js","./Badge-n1kUSIcG.js","./RatingChangeDetailsModal-D5ELhhfP.css","./RejectedByOpponentModal-D7xfGQnd.js","./RewardedVideoAdBlockErrorModal-CF8Zyed2.js","./RewardedVideoErrorModal-fXd2mobo.js","./RulesModal-D3fvCBIF.js","./RulesModal-DksszR8_.css","./ChatOpenErrorModal-I1Rcl9Zz.js","./RewardAcceptModal-DigS7dE7.js","./UserProfileModal-K5WpCtHM.js","./Skeleton-CrccMNn7.js","./UserProfileModal-ChIDsHUg.css","./OnlineTogetherGameStatusModal-BsS-qpqh.js","./FriendGameSettings-B9CEgOEU.js","./HintsSwitch-Ci2QMKJK.js","./OnlineTogetherModeSelectModal-C59WWMW4.js","./ConnectionByInviteLinkModal-C7qpOfJT.js","./ConnectionByPeerIdModal--urL8wkV.js","./ConnectionByPeerIdModal-CN7jqUDU.css","./GameFriendSettingsModal-SM5lBwTn.js","./GameSingleSettingsModal-YT7dxxdb.js","./PaymentsModal-I4MTd0gC.js","./PaymentErrorModal-CwBMF_XX.js","./PaymentSuccessModal-CH5cugPs.js","./BoardSettingsModal-B0IoG71n.js","./BoardSettingsModal-mJZGlIze.css","./OnlineGameErrorModal-Dp61IXIc.js","./ChatSelectModal-G7ShUW14.js","./SchedulersModal-Dko3-6ud.js","./CashValueIsZeroModal-DdxIVTtS.js","./TimeFormatDetailsModal-BCZhNuHr.js","./GameAISettingsModal-DdakgsxM.js","./CheckersRulesModal-BFgFUXMR.js","./MandatoryCaptureModalDialogContent-BGea4WAa.js","./MandatoryCaptureModalDialogContent-CIWfCS8i.css"])))=>i.map(i=>d[i]);
var TU=Object.defineProperty;var IU=(e,t,n)=>t in e?TU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var z=(e,t,n)=>IU(e,typeof t!="symbol"?t+"":t,n);import{_ as jd,i as LU,a as n2,b as h0,c as eg,B as Wt,S as Bn,G as _r,d as m0,e as Ad,g as DU,P as at,D as MN,f as PN,h as g0,j as NU,k as p0,l as FU,m as GU,n as jU,o as $U,p as zU,q as UU,r as VU,s as qU,t as QU,u as HU,v as WU,w as JU,x as ZU,y as YU,z as KU,A as XU,C as eV,E as tV,F as nV,H as rV,I as oV,J as iV,K as aV,V as sV,L as TN,M as lV,N as cV,O as uV,Q as $l,R as r2,T as o2,U as i2,W as En,X as ts,Y as ca,Z as a2,$ as v0,a0 as NM,a1 as dV,a2 as IN,a3 as fV,a4 as hV}from"./analytics-C4g1w3Ww.js";import{W as mV}from"./workers-0KObbvUQ.js";function gV(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(e,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var Es=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function to(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Sb={exports:{}},Kf={},Ab={exports:{}},Qt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FM;function pV(){if(FM)return Qt;FM=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.iterator;function g(N){return N===null||typeof N!="object"?null:(N=m&&N[m]||N["@@iterator"],typeof N=="function"?N:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,_={};function b(N,V,X){this.props=N,this.context=V,this.refs=_,this.updater=X||v}b.prototype.isReactComponent={},b.prototype.setState=function(N,V){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,V,"setState")},b.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function E(){}E.prototype=b.prototype;function A(N,V,X){this.props=N,this.context=V,this.refs=_,this.updater=X||v}var C=A.prototype=new E;C.constructor=A,y(C,b.prototype),C.isPureReactComponent=!0;var M=Array.isArray,T=Object.prototype.hasOwnProperty,I={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function B(N,V,X){var oe,ce={},he=null,ye=null;if(V!=null)for(oe in V.ref!==void 0&&(ye=V.ref),V.key!==void 0&&(he=""+V.key),V)T.call(V,oe)&&!P.hasOwnProperty(oe)&&(ce[oe]=V[oe]);var Fe=arguments.length-2;if(Fe===1)ce.children=X;else if(1<Fe){for(var H=Array(Fe),te=0;te<Fe;te++)H[te]=arguments[te+2];ce.children=H}if(N&&N.defaultProps)for(oe in Fe=N.defaultProps,Fe)ce[oe]===void 0&&(ce[oe]=Fe[oe]);return{$$typeof:e,type:N,key:he,ref:ye,props:ce,_owner:I.current}}function R(N,V){return{$$typeof:e,type:N.type,key:V,ref:N.ref,props:N.props,_owner:N._owner}}function x(N){return typeof N=="object"&&N!==null&&N.$$typeof===e}function D(N){var V={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(X){return V[X]})}var $=/\/+/g;function U(N,V){return typeof N=="object"&&N!==null&&N.key!=null?D(""+N.key):V.toString(36)}function j(N,V,X,oe,ce){var he=typeof N;(he==="undefined"||he==="boolean")&&(N=null);var ye=!1;if(N===null)ye=!0;else switch(he){case"string":case"number":ye=!0;break;case"object":switch(N.$$typeof){case e:case t:ye=!0}}if(ye)return ye=N,ce=ce(ye),N=oe===""?"."+U(ye,0):oe,M(ce)?(X="",N!=null&&(X=N.replace($,"$&/")+"/"),j(ce,V,X,"",function(te){return te})):ce!=null&&(x(ce)&&(ce=R(ce,X+(!ce.key||ye&&ye.key===ce.key?"":(""+ce.key).replace($,"$&/")+"/")+N)),V.push(ce)),1;if(ye=0,oe=oe===""?".":oe+":",M(N))for(var Fe=0;Fe<N.length;Fe++){he=N[Fe];var H=oe+U(he,Fe);ye+=j(he,V,X,H,ce)}else if(H=g(N),typeof H=="function")for(N=H.call(N),Fe=0;!(he=N.next()).done;)he=he.value,H=oe+U(he,Fe++),ye+=j(he,V,X,H,ce);else if(he==="object")throw V=String(N),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return ye}function G(N,V,X){if(N==null)return N;var oe=[],ce=0;return j(N,oe,"","",function(he){return V.call(X,he,ce++)}),oe}function q(N){if(N._status===-1){var V=N._result;V=V(),V.then(function(X){(N._status===0||N._status===-1)&&(N._status=1,N._result=X)},function(X){(N._status===0||N._status===-1)&&(N._status=2,N._result=X)}),N._status===-1&&(N._status=0,N._result=V)}if(N._status===1)return N._result.default;throw N._result}var Q={current:null},F={transition:null},W={ReactCurrentDispatcher:Q,ReactCurrentBatchConfig:F,ReactCurrentOwner:I};function Y(){throw Error("act(...) is not supported in production builds of React.")}return Qt.Children={map:G,forEach:function(N,V,X){G(N,function(){V.apply(this,arguments)},X)},count:function(N){var V=0;return G(N,function(){V++}),V},toArray:function(N){return G(N,function(V){return V})||[]},only:function(N){if(!x(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Qt.Component=b,Qt.Fragment=n,Qt.Profiler=o,Qt.PureComponent=A,Qt.StrictMode=r,Qt.Suspense=u,Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W,Qt.act=Y,Qt.cloneElement=function(N,V,X){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var oe=y({},N.props),ce=N.key,he=N.ref,ye=N._owner;if(V!=null){if(V.ref!==void 0&&(he=V.ref,ye=I.current),V.key!==void 0&&(ce=""+V.key),N.type&&N.type.defaultProps)var Fe=N.type.defaultProps;for(H in V)T.call(V,H)&&!P.hasOwnProperty(H)&&(oe[H]=V[H]===void 0&&Fe!==void 0?Fe[H]:V[H])}var H=arguments.length-2;if(H===1)oe.children=X;else if(1<H){Fe=Array(H);for(var te=0;te<H;te++)Fe[te]=arguments[te+2];oe.children=Fe}return{$$typeof:e,type:N.type,key:ce,ref:he,props:oe,_owner:ye}},Qt.createContext=function(N){return N={$$typeof:a,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:i,_context:N},N.Consumer=N},Qt.createElement=B,Qt.createFactory=function(N){var V=B.bind(null,N);return V.type=N,V},Qt.createRef=function(){return{current:null}},Qt.forwardRef=function(N){return{$$typeof:l,render:N}},Qt.isValidElement=x,Qt.lazy=function(N){return{$$typeof:f,_payload:{_status:-1,_result:N},_init:q}},Qt.memo=function(N,V){return{$$typeof:d,type:N,compare:V===void 0?null:V}},Qt.startTransition=function(N){var V=F.transition;F.transition={};try{N()}finally{F.transition=V}},Qt.unstable_act=Y,Qt.useCallback=function(N,V){return Q.current.useCallback(N,V)},Qt.useContext=function(N){return Q.current.useContext(N)},Qt.useDebugValue=function(){},Qt.useDeferredValue=function(N){return Q.current.useDeferredValue(N)},Qt.useEffect=function(N,V){return Q.current.useEffect(N,V)},Qt.useId=function(){return Q.current.useId()},Qt.useImperativeHandle=function(N,V,X){return Q.current.useImperativeHandle(N,V,X)},Qt.useInsertionEffect=function(N,V){return Q.current.useInsertionEffect(N,V)},Qt.useLayoutEffect=function(N,V){return Q.current.useLayoutEffect(N,V)},Qt.useMemo=function(N,V){return Q.current.useMemo(N,V)},Qt.useReducer=function(N,V,X){return Q.current.useReducer(N,V,X)},Qt.useRef=function(N){return Q.current.useRef(N)},Qt.useState=function(N){return Q.current.useState(N)},Qt.useSyncExternalStore=function(N,V,X){return Q.current.useSyncExternalStore(N,V,X)},Qt.useTransition=function(){return Q.current.useTransition()},Qt.version="18.3.1",Qt}var GM;function $d(){return GM||(GM=1,Ab.exports=pV()),Ab.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jM;function vV(){if(jM)return Kf;jM=1;var e=$d(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function a(l,u,d){var f,m={},g=null,v=null;d!==void 0&&(g=""+d),u.key!==void 0&&(g=""+u.key),u.ref!==void 0&&(v=u.ref);for(f in u)r.call(u,f)&&!i.hasOwnProperty(f)&&(m[f]=u[f]);if(l&&l.defaultProps)for(f in u=l.defaultProps,u)m[f]===void 0&&(m[f]=u[f]);return{$$typeof:t,type:l,key:g,ref:v,props:m,_owner:o.current}}return Kf.Fragment=n,Kf.jsx=a,Kf.jsxs=a,Kf}var $M;function LN(){return $M||($M=1,Sb.exports=vV()),Sb.exports}var w=LN(),Hp={},Cb={exports:{}},So={},kb={exports:{}},Eb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zM;function yV(){return zM||(zM=1,function(e){function t(F,W){var Y=F.length;F.push(W);e:for(;0<Y;){var N=Y-1>>>1,V=F[N];if(0<o(V,W))F[N]=W,F[Y]=V,Y=N;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var W=F[0],Y=F.pop();if(Y!==W){F[0]=Y;e:for(var N=0,V=F.length,X=V>>>1;N<X;){var oe=2*(N+1)-1,ce=F[oe],he=oe+1,ye=F[he];if(0>o(ce,Y))he<V&&0>o(ye,ce)?(F[N]=ye,F[he]=Y,N=he):(F[N]=ce,F[oe]=Y,N=oe);else if(he<V&&0>o(ye,Y))F[N]=ye,F[he]=Y,N=he;else break e}}return W}function o(F,W){var Y=F.sortIndex-W.sortIndex;return Y!==0?Y:F.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var u=[],d=[],f=1,m=null,g=3,v=!1,y=!1,_=!1,b=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(F){for(var W=n(d);W!==null;){if(W.callback===null)r(d);else if(W.startTime<=F)r(d),W.sortIndex=W.expirationTime,t(u,W);else break;W=n(d)}}function M(F){if(_=!1,C(F),!y)if(n(u)!==null)y=!0,q(T);else{var W=n(d);W!==null&&Q(M,W.startTime-F)}}function T(F,W){y=!1,_&&(_=!1,E(B),B=-1),v=!0;var Y=g;try{for(C(W),m=n(u);m!==null&&(!(m.expirationTime>W)||F&&!D());){var N=m.callback;if(typeof N=="function"){m.callback=null,g=m.priorityLevel;var V=N(m.expirationTime<=W);W=e.unstable_now(),typeof V=="function"?m.callback=V:m===n(u)&&r(u),C(W)}else r(u);m=n(u)}if(m!==null)var X=!0;else{var oe=n(d);oe!==null&&Q(M,oe.startTime-W),X=!1}return X}finally{m=null,g=Y,v=!1}}var I=!1,P=null,B=-1,R=5,x=-1;function D(){return!(e.unstable_now()-x<R)}function $(){if(P!==null){var F=e.unstable_now();x=F;var W=!0;try{W=P(!0,F)}finally{W?U():(I=!1,P=null)}}else I=!1}var U;if(typeof A=="function")U=function(){A($)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,G=j.port2;j.port1.onmessage=$,U=function(){G.postMessage(null)}}else U=function(){b($,0)};function q(F){P=F,I||(I=!0,U())}function Q(F,W){B=b(function(){F(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){y||v||(y=!0,q(T))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(F){switch(g){case 1:case 2:case 3:var W=3;break;default:W=g}var Y=g;g=W;try{return F()}finally{g=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,W){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Y=g;g=F;try{return W()}finally{g=Y}},e.unstable_scheduleCallback=function(F,W,Y){var N=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?N+Y:N):Y=N,F){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=Y+V,F={id:f++,callback:W,priorityLevel:F,startTime:Y,expirationTime:V,sortIndex:-1},Y>N?(F.sortIndex=Y,t(d,F),n(u)===null&&F===n(d)&&(_?(E(B),B=-1):_=!0,Q(M,Y-N))):(F.sortIndex=V,t(u,F),y||v||(y=!0,q(T))),F},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(F){var W=g;return function(){var Y=g;g=W;try{return F.apply(this,arguments)}finally{g=Y}}}}(Eb)),Eb}var UM;function _V(){return UM||(UM=1,kb.exports=yV()),kb.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VM;function bV(){if(VM)return So;VM=1;var e=$d(),t=_V();function n(s){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+s,h=1;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+s+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function i(s,c){a(s,c),a(s+"Capture",c)}function a(s,c){for(o[s]=c,s=0;s<c.length;s++)r.add(c[s])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function g(s){return u.call(m,s)?!0:u.call(f,s)?!1:d.test(s)?m[s]=!0:(f[s]=!0,!1)}function v(s,c,h,p){if(h!==null&&h.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return p?!1:h!==null?!h.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function y(s,c,h,p){if(c===null||typeof c>"u"||v(s,c,h,p))return!0;if(p)return!1;if(h!==null)switch(h.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function _(s,c,h,p,S,k,L){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=p,this.attributeNamespace=S,this.mustUseProperty=h,this.propertyName=s,this.type=c,this.sanitizeURL=k,this.removeEmptyString=L}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){b[s]=new _(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var c=s[0];b[c]=new _(c,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){b[s]=new _(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){b[s]=new _(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){b[s]=new _(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){b[s]=new _(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){b[s]=new _(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){b[s]=new _(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){b[s]=new _(s,5,!1,s.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function A(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var c=s.replace(E,A);b[c]=new _(c,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var c=s.replace(E,A);b[c]=new _(c,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var c=s.replace(E,A);b[c]=new _(c,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){b[s]=new _(s,1,!1,s.toLowerCase(),null,!1,!1)}),b.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){b[s]=new _(s,1,!1,s.toLowerCase(),null,!0,!0)});function C(s,c,h,p){var S=b.hasOwnProperty(c)?b[c]:null;(S!==null?S.type!==0:p||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(y(c,h,S,p)&&(h=null),p||S===null?g(c)&&(h===null?s.removeAttribute(c):s.setAttribute(c,""+h)):S.mustUseProperty?s[S.propertyName]=h===null?S.type===3?!1:"":h:(c=S.attributeName,p=S.attributeNamespace,h===null?s.removeAttribute(c):(S=S.type,h=S===3||S===4&&h===!0?"":""+h,p?s.setAttributeNS(p,c,h):s.setAttribute(c,h))))}var M=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),I=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),D=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),F=Symbol.iterator;function W(s){return s===null||typeof s!="object"?null:(s=F&&s[F]||s["@@iterator"],typeof s=="function"?s:null)}var Y=Object.assign,N;function V(s){if(N===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);N=c&&c[1]||""}return`
`+N+s}var X=!1;function oe(s,c){if(!s||X)return"";X=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(de){var p=de}Reflect.construct(s,[],c)}else{try{c.call()}catch(de){p=de}s.call(c.prototype)}else{try{throw Error()}catch(de){p=de}s()}}catch(de){if(de&&p&&typeof de.stack=="string"){for(var S=de.stack.split(`
`),k=p.stack.split(`
`),L=S.length-1,J=k.length-1;1<=L&&0<=J&&S[L]!==k[J];)J--;for(;1<=L&&0<=J;L--,J--)if(S[L]!==k[J]){if(L!==1||J!==1)do if(L--,J--,0>J||S[L]!==k[J]){var K=`
`+S[L].replace(" at new "," at ");return s.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",s.displayName)),K}while(1<=L&&0<=J);break}}}finally{X=!1,Error.prepareStackTrace=h}return(s=s?s.displayName||s.name:"")?V(s):""}function ce(s){switch(s.tag){case 5:return V(s.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return s=oe(s.type,!1),s;case 11:return s=oe(s.type.render,!1),s;case 1:return s=oe(s.type,!0),s;default:return""}}function he(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case P:return"Fragment";case I:return"Portal";case R:return"Profiler";case B:return"StrictMode";case U:return"Suspense";case j:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case D:return(s.displayName||"Context")+".Consumer";case x:return(s._context.displayName||"Context")+".Provider";case $:var c=s.render;return s=s.displayName,s||(s=c.displayName||c.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case G:return c=s.displayName||null,c!==null?c:he(s.type)||"Memo";case q:c=s._payload,s=s._init;try{return he(s(c))}catch{}}return null}function ye(s){var c=s.type;switch(s.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=c.render,s=s.displayName||s.name||"",c.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return he(c);case 8:return c===B?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function Fe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function H(s){var c=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function te(s){var c=H(s)?"checked":"value",h=Object.getOwnPropertyDescriptor(s.constructor.prototype,c),p=""+s[c];if(!s.hasOwnProperty(c)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var S=h.get,k=h.set;return Object.defineProperty(s,c,{configurable:!0,get:function(){return S.call(this)},set:function(L){p=""+L,k.call(this,L)}}),Object.defineProperty(s,c,{enumerable:h.enumerable}),{getValue:function(){return p},setValue:function(L){p=""+L},stopTracking:function(){s._valueTracker=null,delete s[c]}}}}function le(s){s._valueTracker||(s._valueTracker=te(s))}function Ve(s){if(!s)return!1;var c=s._valueTracker;if(!c)return!0;var h=c.getValue(),p="";return s&&(p=H(s)?s.checked?"true":"false":s.value),s=p,s!==h?(c.setValue(s),!0):!1}function _e(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Ee(s,c){var h=c.checked;return Y({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??s._wrapperState.initialChecked})}function ft(s,c){var h=c.defaultValue==null?"":c.defaultValue,p=c.checked!=null?c.checked:c.defaultChecked;h=Fe(c.value!=null?c.value:h),s._wrapperState={initialChecked:p,initialValue:h,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function Kt(s,c){c=c.checked,c!=null&&C(s,"checked",c,!1)}function Fn(s,c){Kt(s,c);var h=Fe(c.value),p=c.type;if(h!=null)p==="number"?(h===0&&s.value===""||s.value!=h)&&(s.value=""+h):s.value!==""+h&&(s.value=""+h);else if(p==="submit"||p==="reset"){s.removeAttribute("value");return}c.hasOwnProperty("value")?tn(s,c.type,h):c.hasOwnProperty("defaultValue")&&tn(s,c.type,Fe(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(s.defaultChecked=!!c.defaultChecked)}function dn(s,c,h){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var p=c.type;if(!(p!=="submit"&&p!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+s._wrapperState.initialValue,h||c===s.value||(s.value=c),s.defaultValue=c}h=s.name,h!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,h!==""&&(s.name=h)}function tn(s,c,h){(c!=="number"||_e(s.ownerDocument)!==s)&&(h==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+h&&(s.defaultValue=""+h))}var Sn=Array.isArray;function ur(s,c,h,p){if(s=s.options,c){c={};for(var S=0;S<h.length;S++)c["$"+h[S]]=!0;for(h=0;h<s.length;h++)S=c.hasOwnProperty("$"+s[h].value),s[h].selected!==S&&(s[h].selected=S),S&&p&&(s[h].defaultSelected=!0)}else{for(h=""+Fe(h),c=null,S=0;S<s.length;S++){if(s[S].value===h){s[S].selected=!0,p&&(s[S].defaultSelected=!0);return}c!==null||s[S].disabled||(c=s[S])}c!==null&&(c.selected=!0)}}function zo(s,c){if(c.dangerouslySetInnerHTML!=null)throw Error(n(91));return Y({},c,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Uo(s,c){var h=c.value;if(h==null){if(h=c.children,c=c.defaultValue,h!=null){if(c!=null)throw Error(n(92));if(Sn(h)){if(1<h.length)throw Error(n(93));h=h[0]}c=h}c==null&&(c=""),h=c}s._wrapperState={initialValue:Fe(h)}}function Vs(s,c){var h=Fe(c.value),p=Fe(c.defaultValue);h!=null&&(h=""+h,h!==s.value&&(s.value=h),c.defaultValue==null&&s.defaultValue!==h&&(s.defaultValue=h)),p!=null&&(s.defaultValue=""+p)}function Wl(s){var c=s.textContent;c===s._wrapperState.initialValue&&c!==""&&c!==null&&(s.value=c)}function Gi(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dn(s,c){return s==null||s==="http://www.w3.org/1999/xhtml"?Gi(c):s==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var po,mu=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,h,p,S){MSApp.execUnsafeLocalFunction(function(){return s(c,h,p,S)})}:s}(function(s,c){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=c;else{for(po=po||document.createElement("div"),po.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=po.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;c.firstChild;)s.appendChild(c.firstChild)}});function as(s,c){if(c){var h=s.firstChild;if(h&&h===s.lastChild&&h.nodeType===3){h.nodeValue=c;return}}s.textContent=c}var Jl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fg=["Webkit","ms","Moz","O"];Object.keys(Jl).forEach(function(s){Fg.forEach(function(c){c=c+s.charAt(0).toUpperCase()+s.substring(1),Jl[c]=Jl[s]})});function mf(s,c,h){return c==null||typeof c=="boolean"||c===""?"":h||typeof c!="number"||c===0||Jl.hasOwnProperty(s)&&Jl[s]?(""+c).trim():c+"px"}function gf(s,c){s=s.style;for(var h in c)if(c.hasOwnProperty(h)){var p=h.indexOf("--")===0,S=mf(h,c[h],p);h==="float"&&(h="cssFloat"),p?s.setProperty(h,S):s[h]=S}}var Gg=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gu(s,c){if(c){if(Gg[s]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(n(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(n(61))}if(c.style!=null&&typeof c.style!="object")throw Error(n(62))}}function pu(s,c){if(s.indexOf("-")===-1)return typeof c.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vu=null;function Ir(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var F1=null,yu=null,_u=null;function eO(s){if(s=Nf(s)){if(typeof F1!="function")throw Error(n(280));var c=s.stateNode;c&&(c=lp(c),F1(s.stateNode,s.type,c))}}function tO(s){yu?_u?_u.push(s):_u=[s]:yu=s}function nO(){if(yu){var s=yu,c=_u;if(_u=yu=null,eO(s),c)for(s=0;s<c.length;s++)eO(c[s])}}function rO(s,c){return s(c)}function oO(){}var G1=!1;function iO(s,c,h){if(G1)return s(c,h);G1=!0;try{return rO(s,c,h)}finally{G1=!1,(yu!==null||_u!==null)&&(oO(),nO())}}function pf(s,c){var h=s.stateNode;if(h===null)return null;var p=lp(h);if(p===null)return null;h=p[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(h&&typeof h!="function")throw Error(n(231,c,typeof h));return h}var j1=!1;if(l)try{var vf={};Object.defineProperty(vf,"passive",{get:function(){j1=!0}}),window.addEventListener("test",vf,vf),window.removeEventListener("test",vf,vf)}catch{j1=!1}function G$(s,c,h,p,S,k,L,J,K){var de=Array.prototype.slice.call(arguments,3);try{c.apply(h,de)}catch(Ae){this.onError(Ae)}}var yf=!1,jg=null,$g=!1,$1=null,j$={onError:function(s){yf=!0,jg=s}};function $$(s,c,h,p,S,k,L,J,K){yf=!1,jg=null,G$.apply(j$,arguments)}function z$(s,c,h,p,S,k,L,J,K){if($$.apply(this,arguments),yf){if(yf){var de=jg;yf=!1,jg=null}else throw Error(n(198));$g||($g=!0,$1=de)}}function Zl(s){var c=s,h=s;if(s.alternate)for(;c.return;)c=c.return;else{s=c;do c=s,(c.flags&4098)!==0&&(h=c.return),s=c.return;while(s)}return c.tag===3?h:null}function aO(s){if(s.tag===13){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function sO(s){if(Zl(s)!==s)throw Error(n(188))}function U$(s){var c=s.alternate;if(!c){if(c=Zl(s),c===null)throw Error(n(188));return c!==s?null:s}for(var h=s,p=c;;){var S=h.return;if(S===null)break;var k=S.alternate;if(k===null){if(p=S.return,p!==null){h=p;continue}break}if(S.child===k.child){for(k=S.child;k;){if(k===h)return sO(S),s;if(k===p)return sO(S),c;k=k.sibling}throw Error(n(188))}if(h.return!==p.return)h=S,p=k;else{for(var L=!1,J=S.child;J;){if(J===h){L=!0,h=S,p=k;break}if(J===p){L=!0,p=S,h=k;break}J=J.sibling}if(!L){for(J=k.child;J;){if(J===h){L=!0,h=k,p=S;break}if(J===p){L=!0,p=k,h=S;break}J=J.sibling}if(!L)throw Error(n(189))}}if(h.alternate!==p)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?s:c}function lO(s){return s=U$(s),s!==null?cO(s):null}function cO(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var c=cO(s);if(c!==null)return c;s=s.sibling}return null}var uO=t.unstable_scheduleCallback,dO=t.unstable_cancelCallback,V$=t.unstable_shouldYield,q$=t.unstable_requestPaint,rr=t.unstable_now,Q$=t.unstable_getCurrentPriorityLevel,z1=t.unstable_ImmediatePriority,fO=t.unstable_UserBlockingPriority,zg=t.unstable_NormalPriority,H$=t.unstable_LowPriority,hO=t.unstable_IdlePriority,Ug=null,Ra=null;function W$(s){if(Ra&&typeof Ra.onCommitFiberRoot=="function")try{Ra.onCommitFiberRoot(Ug,s,void 0,(s.current.flags&128)===128)}catch{}}var ji=Math.clz32?Math.clz32:Y$,J$=Math.log,Z$=Math.LN2;function Y$(s){return s>>>=0,s===0?32:31-(J$(s)/Z$|0)|0}var Vg=64,qg=4194304;function _f(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Qg(s,c){var h=s.pendingLanes;if(h===0)return 0;var p=0,S=s.suspendedLanes,k=s.pingedLanes,L=h&268435455;if(L!==0){var J=L&~S;J!==0?p=_f(J):(k&=L,k!==0&&(p=_f(k)))}else L=h&~S,L!==0?p=_f(L):k!==0&&(p=_f(k));if(p===0)return 0;if(c!==0&&c!==p&&(c&S)===0&&(S=p&-p,k=c&-c,S>=k||S===16&&(k&4194240)!==0))return c;if((p&4)!==0&&(p|=h&16),c=s.entangledLanes,c!==0)for(s=s.entanglements,c&=p;0<c;)h=31-ji(c),S=1<<h,p|=s[h],c&=~S;return p}function K$(s,c){switch(s){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function X$(s,c){for(var h=s.suspendedLanes,p=s.pingedLanes,S=s.expirationTimes,k=s.pendingLanes;0<k;){var L=31-ji(k),J=1<<L,K=S[L];K===-1?((J&h)===0||(J&p)!==0)&&(S[L]=K$(J,c)):K<=c&&(s.expiredLanes|=J),k&=~J}}function U1(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function mO(){var s=Vg;return Vg<<=1,(Vg&4194240)===0&&(Vg=64),s}function V1(s){for(var c=[],h=0;31>h;h++)c.push(s);return c}function bf(s,c,h){s.pendingLanes|=c,c!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,c=31-ji(c),s[c]=h}function ez(s,c){var h=s.pendingLanes&~c;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=c,s.mutableReadLanes&=c,s.entangledLanes&=c,c=s.entanglements;var p=s.eventTimes;for(s=s.expirationTimes;0<h;){var S=31-ji(h),k=1<<S;c[S]=0,p[S]=-1,s[S]=-1,h&=~k}}function q1(s,c){var h=s.entangledLanes|=c;for(s=s.entanglements;h;){var p=31-ji(h),S=1<<p;S&c|s[p]&c&&(s[p]|=c),h&=~S}}var vn=0;function gO(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var pO,Q1,vO,yO,_O,H1=!1,Hg=[],qs=null,Qs=null,Hs=null,wf=new Map,Sf=new Map,Ws=[],tz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bO(s,c){switch(s){case"focusin":case"focusout":qs=null;break;case"dragenter":case"dragleave":Qs=null;break;case"mouseover":case"mouseout":Hs=null;break;case"pointerover":case"pointerout":wf.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sf.delete(c.pointerId)}}function Af(s,c,h,p,S,k){return s===null||s.nativeEvent!==k?(s={blockedOn:c,domEventName:h,eventSystemFlags:p,nativeEvent:k,targetContainers:[S]},c!==null&&(c=Nf(c),c!==null&&Q1(c)),s):(s.eventSystemFlags|=p,c=s.targetContainers,S!==null&&c.indexOf(S)===-1&&c.push(S),s)}function nz(s,c,h,p,S){switch(c){case"focusin":return qs=Af(qs,s,c,h,p,S),!0;case"dragenter":return Qs=Af(Qs,s,c,h,p,S),!0;case"mouseover":return Hs=Af(Hs,s,c,h,p,S),!0;case"pointerover":var k=S.pointerId;return wf.set(k,Af(wf.get(k)||null,s,c,h,p,S)),!0;case"gotpointercapture":return k=S.pointerId,Sf.set(k,Af(Sf.get(k)||null,s,c,h,p,S)),!0}return!1}function wO(s){var c=Yl(s.target);if(c!==null){var h=Zl(c);if(h!==null){if(c=h.tag,c===13){if(c=aO(h),c!==null){s.blockedOn=c,_O(s.priority,function(){vO(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){s.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Wg(s){if(s.blockedOn!==null)return!1;for(var c=s.targetContainers;0<c.length;){var h=J1(s.domEventName,s.eventSystemFlags,c[0],s.nativeEvent);if(h===null){h=s.nativeEvent;var p=new h.constructor(h.type,h);vu=p,h.target.dispatchEvent(p),vu=null}else return c=Nf(h),c!==null&&Q1(c),s.blockedOn=h,!1;c.shift()}return!0}function SO(s,c,h){Wg(s)&&h.delete(c)}function rz(){H1=!1,qs!==null&&Wg(qs)&&(qs=null),Qs!==null&&Wg(Qs)&&(Qs=null),Hs!==null&&Wg(Hs)&&(Hs=null),wf.forEach(SO),Sf.forEach(SO)}function Cf(s,c){s.blockedOn===c&&(s.blockedOn=null,H1||(H1=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,rz)))}function kf(s){function c(S){return Cf(S,s)}if(0<Hg.length){Cf(Hg[0],s);for(var h=1;h<Hg.length;h++){var p=Hg[h];p.blockedOn===s&&(p.blockedOn=null)}}for(qs!==null&&Cf(qs,s),Qs!==null&&Cf(Qs,s),Hs!==null&&Cf(Hs,s),wf.forEach(c),Sf.forEach(c),h=0;h<Ws.length;h++)p=Ws[h],p.blockedOn===s&&(p.blockedOn=null);for(;0<Ws.length&&(h=Ws[0],h.blockedOn===null);)wO(h),h.blockedOn===null&&Ws.shift()}var bu=M.ReactCurrentBatchConfig,Jg=!0;function oz(s,c,h,p){var S=vn,k=bu.transition;bu.transition=null;try{vn=1,W1(s,c,h,p)}finally{vn=S,bu.transition=k}}function iz(s,c,h,p){var S=vn,k=bu.transition;bu.transition=null;try{vn=4,W1(s,c,h,p)}finally{vn=S,bu.transition=k}}function W1(s,c,h,p){if(Jg){var S=J1(s,c,h,p);if(S===null)f_(s,c,p,Zg,h),bO(s,p);else if(nz(S,s,c,h,p))p.stopPropagation();else if(bO(s,p),c&4&&-1<tz.indexOf(s)){for(;S!==null;){var k=Nf(S);if(k!==null&&pO(k),k=J1(s,c,h,p),k===null&&f_(s,c,p,Zg,h),k===S)break;S=k}S!==null&&p.stopPropagation()}else f_(s,c,p,null,h)}}var Zg=null;function J1(s,c,h,p){if(Zg=null,s=Ir(p),s=Yl(s),s!==null)if(c=Zl(s),c===null)s=null;else if(h=c.tag,h===13){if(s=aO(c),s!==null)return s;s=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;s=null}else c!==s&&(s=null);return Zg=s,null}function AO(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Q$()){case z1:return 1;case fO:return 4;case zg:case H$:return 16;case hO:return 536870912;default:return 16}default:return 16}}var Js=null,Z1=null,Yg=null;function CO(){if(Yg)return Yg;var s,c=Z1,h=c.length,p,S="value"in Js?Js.value:Js.textContent,k=S.length;for(s=0;s<h&&c[s]===S[s];s++);var L=h-s;for(p=1;p<=L&&c[h-p]===S[k-p];p++);return Yg=S.slice(s,1<p?1-p:void 0)}function Kg(s){var c=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&c===13&&(s=13)):s=c,s===10&&(s=13),32<=s||s===13?s:0}function Xg(){return!0}function kO(){return!1}function Vo(s){function c(h,p,S,k,L){this._reactName=h,this._targetInst=S,this.type=p,this.nativeEvent=k,this.target=L,this.currentTarget=null;for(var J in s)s.hasOwnProperty(J)&&(h=s[J],this[J]=h?h(k):k[J]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?Xg:kO,this.isPropagationStopped=kO,this}return Y(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Xg)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Xg)},persist:function(){},isPersistent:Xg}),c}var wu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Y1=Vo(wu),Ef=Y({},wu,{view:0,detail:0}),az=Vo(Ef),K1,X1,Bf,ep=Y({},Ef,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:t_,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Bf&&(Bf&&s.type==="mousemove"?(K1=s.screenX-Bf.screenX,X1=s.screenY-Bf.screenY):X1=K1=0,Bf=s),K1)},movementY:function(s){return"movementY"in s?s.movementY:X1}}),EO=Vo(ep),sz=Y({},ep,{dataTransfer:0}),lz=Vo(sz),cz=Y({},Ef,{relatedTarget:0}),e_=Vo(cz),uz=Y({},wu,{animationName:0,elapsedTime:0,pseudoElement:0}),dz=Vo(uz),fz=Y({},wu,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),hz=Vo(fz),mz=Y({},wu,{data:0}),BO=Vo(mz),gz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yz(s){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(s):(s=vz[s])?!!c[s]:!1}function t_(){return yz}var _z=Y({},Ef,{key:function(s){if(s.key){var c=gz[s.key]||s.key;if(c!=="Unidentified")return c}return s.type==="keypress"?(s=Kg(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?pz[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:t_,charCode:function(s){return s.type==="keypress"?Kg(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Kg(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),bz=Vo(_z),wz=Y({},ep,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),RO=Vo(wz),Sz=Y({},Ef,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:t_}),Az=Vo(Sz),Cz=Y({},wu,{propertyName:0,elapsedTime:0,pseudoElement:0}),kz=Vo(Cz),Ez=Y({},ep,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Bz=Vo(Ez),Rz=[9,13,27,32],n_=l&&"CompositionEvent"in window,Rf=null;l&&"documentMode"in document&&(Rf=document.documentMode);var xz=l&&"TextEvent"in window&&!Rf,xO=l&&(!n_||Rf&&8<Rf&&11>=Rf),OO=" ",MO=!1;function PO(s,c){switch(s){case"keyup":return Rz.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function TO(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Su=!1;function Oz(s,c){switch(s){case"compositionend":return TO(c);case"keypress":return c.which!==32?null:(MO=!0,OO);case"textInput":return s=c.data,s===OO&&MO?null:s;default:return null}}function Mz(s,c){if(Su)return s==="compositionend"||!n_&&PO(s,c)?(s=CO(),Yg=Z1=Js=null,Su=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return xO&&c.locale!=="ko"?null:c.data;default:return null}}var Pz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function IO(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c==="input"?!!Pz[s.type]:c==="textarea"}function LO(s,c,h,p){tO(p),c=ip(c,"onChange"),0<c.length&&(h=new Y1("onChange","change",null,h,p),s.push({event:h,listeners:c}))}var xf=null,Of=null;function Tz(s){XO(s,0)}function tp(s){var c=Bu(s);if(Ve(c))return s}function Iz(s,c){if(s==="change")return c}var DO=!1;if(l){var r_;if(l){var o_="oninput"in document;if(!o_){var NO=document.createElement("div");NO.setAttribute("oninput","return;"),o_=typeof NO.oninput=="function"}r_=o_}else r_=!1;DO=r_&&(!document.documentMode||9<document.documentMode)}function FO(){xf&&(xf.detachEvent("onpropertychange",GO),Of=xf=null)}function GO(s){if(s.propertyName==="value"&&tp(Of)){var c=[];LO(c,Of,s,Ir(s)),iO(Tz,c)}}function Lz(s,c,h){s==="focusin"?(FO(),xf=c,Of=h,xf.attachEvent("onpropertychange",GO)):s==="focusout"&&FO()}function Dz(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return tp(Of)}function Nz(s,c){if(s==="click")return tp(c)}function Fz(s,c){if(s==="input"||s==="change")return tp(c)}function Gz(s,c){return s===c&&(s!==0||1/s===1/c)||s!==s&&c!==c}var $i=typeof Object.is=="function"?Object.is:Gz;function Mf(s,c){if($i(s,c))return!0;if(typeof s!="object"||s===null||typeof c!="object"||c===null)return!1;var h=Object.keys(s),p=Object.keys(c);if(h.length!==p.length)return!1;for(p=0;p<h.length;p++){var S=h[p];if(!u.call(c,S)||!$i(s[S],c[S]))return!1}return!0}function jO(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function $O(s,c){var h=jO(s);s=0;for(var p;h;){if(h.nodeType===3){if(p=s+h.textContent.length,s<=c&&p>=c)return{node:h,offset:c-s};s=p}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=jO(h)}}function zO(s,c){return s&&c?s===c?!0:s&&s.nodeType===3?!1:c&&c.nodeType===3?zO(s,c.parentNode):"contains"in s?s.contains(c):s.compareDocumentPosition?!!(s.compareDocumentPosition(c)&16):!1:!1}function UO(){for(var s=window,c=_e();c instanceof s.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)s=c.contentWindow;else break;c=_e(s.document)}return c}function i_(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c&&(c==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||c==="textarea"||s.contentEditable==="true")}function jz(s){var c=UO(),h=s.focusedElem,p=s.selectionRange;if(c!==h&&h&&h.ownerDocument&&zO(h.ownerDocument.documentElement,h)){if(p!==null&&i_(h)){if(c=p.start,s=p.end,s===void 0&&(s=c),"selectionStart"in h)h.selectionStart=c,h.selectionEnd=Math.min(s,h.value.length);else if(s=(c=h.ownerDocument||document)&&c.defaultView||window,s.getSelection){s=s.getSelection();var S=h.textContent.length,k=Math.min(p.start,S);p=p.end===void 0?k:Math.min(p.end,S),!s.extend&&k>p&&(S=p,p=k,k=S),S=$O(h,k);var L=$O(h,p);S&&L&&(s.rangeCount!==1||s.anchorNode!==S.node||s.anchorOffset!==S.offset||s.focusNode!==L.node||s.focusOffset!==L.offset)&&(c=c.createRange(),c.setStart(S.node,S.offset),s.removeAllRanges(),k>p?(s.addRange(c),s.extend(L.node,L.offset)):(c.setEnd(L.node,L.offset),s.addRange(c)))}}for(c=[],s=h;s=s.parentNode;)s.nodeType===1&&c.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<c.length;h++)s=c[h],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var $z=l&&"documentMode"in document&&11>=document.documentMode,Au=null,a_=null,Pf=null,s_=!1;function VO(s,c,h){var p=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;s_||Au==null||Au!==_e(p)||(p=Au,"selectionStart"in p&&i_(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Pf&&Mf(Pf,p)||(Pf=p,p=ip(a_,"onSelect"),0<p.length&&(c=new Y1("onSelect","select",null,c,h),s.push({event:c,listeners:p}),c.target=Au)))}function np(s,c){var h={};return h[s.toLowerCase()]=c.toLowerCase(),h["Webkit"+s]="webkit"+c,h["Moz"+s]="moz"+c,h}var Cu={animationend:np("Animation","AnimationEnd"),animationiteration:np("Animation","AnimationIteration"),animationstart:np("Animation","AnimationStart"),transitionend:np("Transition","TransitionEnd")},l_={},qO={};l&&(qO=document.createElement("div").style,"AnimationEvent"in window||(delete Cu.animationend.animation,delete Cu.animationiteration.animation,delete Cu.animationstart.animation),"TransitionEvent"in window||delete Cu.transitionend.transition);function rp(s){if(l_[s])return l_[s];if(!Cu[s])return s;var c=Cu[s],h;for(h in c)if(c.hasOwnProperty(h)&&h in qO)return l_[s]=c[h];return s}var QO=rp("animationend"),HO=rp("animationiteration"),WO=rp("animationstart"),JO=rp("transitionend"),ZO=new Map,YO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zs(s,c){ZO.set(s,c),i(c,[s])}for(var c_=0;c_<YO.length;c_++){var u_=YO[c_],zz=u_.toLowerCase(),Uz=u_[0].toUpperCase()+u_.slice(1);Zs(zz,"on"+Uz)}Zs(QO,"onAnimationEnd"),Zs(HO,"onAnimationIteration"),Zs(WO,"onAnimationStart"),Zs("dblclick","onDoubleClick"),Zs("focusin","onFocus"),Zs("focusout","onBlur"),Zs(JO,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vz=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tf));function KO(s,c,h){var p=s.type||"unknown-event";s.currentTarget=h,z$(p,c,void 0,s),s.currentTarget=null}function XO(s,c){c=(c&4)!==0;for(var h=0;h<s.length;h++){var p=s[h],S=p.event;p=p.listeners;e:{var k=void 0;if(c)for(var L=p.length-1;0<=L;L--){var J=p[L],K=J.instance,de=J.currentTarget;if(J=J.listener,K!==k&&S.isPropagationStopped())break e;KO(S,J,de),k=K}else for(L=0;L<p.length;L++){if(J=p[L],K=J.instance,de=J.currentTarget,J=J.listener,K!==k&&S.isPropagationStopped())break e;KO(S,J,de),k=K}}}if($g)throw s=$1,$g=!1,$1=null,s}function On(s,c){var h=c[y_];h===void 0&&(h=c[y_]=new Set);var p=s+"__bubble";h.has(p)||(e4(c,s,2,!1),h.add(p))}function d_(s,c,h){var p=0;c&&(p|=4),e4(h,s,p,c)}var op="_reactListening"+Math.random().toString(36).slice(2);function If(s){if(!s[op]){s[op]=!0,r.forEach(function(h){h!=="selectionchange"&&(Vz.has(h)||d_(h,!1,s),d_(h,!0,s))});var c=s.nodeType===9?s:s.ownerDocument;c===null||c[op]||(c[op]=!0,d_("selectionchange",!1,c))}}function e4(s,c,h,p){switch(AO(c)){case 1:var S=oz;break;case 4:S=iz;break;default:S=W1}h=S.bind(null,c,h,s),S=void 0,!j1||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(S=!0),p?S!==void 0?s.addEventListener(c,h,{capture:!0,passive:S}):s.addEventListener(c,h,!0):S!==void 0?s.addEventListener(c,h,{passive:S}):s.addEventListener(c,h,!1)}function f_(s,c,h,p,S){var k=p;if((c&1)===0&&(c&2)===0&&p!==null)e:for(;;){if(p===null)return;var L=p.tag;if(L===3||L===4){var J=p.stateNode.containerInfo;if(J===S||J.nodeType===8&&J.parentNode===S)break;if(L===4)for(L=p.return;L!==null;){var K=L.tag;if((K===3||K===4)&&(K=L.stateNode.containerInfo,K===S||K.nodeType===8&&K.parentNode===S))return;L=L.return}for(;J!==null;){if(L=Yl(J),L===null)return;if(K=L.tag,K===5||K===6){p=k=L;continue e}J=J.parentNode}}p=p.return}iO(function(){var de=k,Ae=Ir(h),ke=[];e:{var Se=ZO.get(s);if(Se!==void 0){var Je=Y1,nt=s;switch(s){case"keypress":if(Kg(h)===0)break e;case"keydown":case"keyup":Je=bz;break;case"focusin":nt="focus",Je=e_;break;case"focusout":nt="blur",Je=e_;break;case"beforeblur":case"afterblur":Je=e_;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Je=EO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Je=lz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Je=Az;break;case QO:case HO:case WO:Je=dz;break;case JO:Je=kz;break;case"scroll":Je=az;break;case"wheel":Je=Bz;break;case"copy":case"cut":case"paste":Je=hz;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Je=RO}var it=(c&4)!==0,or=!it&&s==="scroll",ie=it?Se!==null?Se+"Capture":null:Se;it=[];for(var ee=de,ae;ee!==null;){ae=ee;var Oe=ae.stateNode;if(ae.tag===5&&Oe!==null&&(ae=Oe,ie!==null&&(Oe=pf(ee,ie),Oe!=null&&it.push(Lf(ee,Oe,ae)))),or)break;ee=ee.return}0<it.length&&(Se=new Je(Se,nt,null,h,Ae),ke.push({event:Se,listeners:it}))}}if((c&7)===0){e:{if(Se=s==="mouseover"||s==="pointerover",Je=s==="mouseout"||s==="pointerout",Se&&h!==vu&&(nt=h.relatedTarget||h.fromElement)&&(Yl(nt)||nt[ss]))break e;if((Je||Se)&&(Se=Ae.window===Ae?Ae:(Se=Ae.ownerDocument)?Se.defaultView||Se.parentWindow:window,Je?(nt=h.relatedTarget||h.toElement,Je=de,nt=nt?Yl(nt):null,nt!==null&&(or=Zl(nt),nt!==or||nt.tag!==5&&nt.tag!==6)&&(nt=null)):(Je=null,nt=de),Je!==nt)){if(it=EO,Oe="onMouseLeave",ie="onMouseEnter",ee="mouse",(s==="pointerout"||s==="pointerover")&&(it=RO,Oe="onPointerLeave",ie="onPointerEnter",ee="pointer"),or=Je==null?Se:Bu(Je),ae=nt==null?Se:Bu(nt),Se=new it(Oe,ee+"leave",Je,h,Ae),Se.target=or,Se.relatedTarget=ae,Oe=null,Yl(Ae)===de&&(it=new it(ie,ee+"enter",nt,h,Ae),it.target=ae,it.relatedTarget=or,Oe=it),or=Oe,Je&&nt)t:{for(it=Je,ie=nt,ee=0,ae=it;ae;ae=ku(ae))ee++;for(ae=0,Oe=ie;Oe;Oe=ku(Oe))ae++;for(;0<ee-ae;)it=ku(it),ee--;for(;0<ae-ee;)ie=ku(ie),ae--;for(;ee--;){if(it===ie||ie!==null&&it===ie.alternate)break t;it=ku(it),ie=ku(ie)}it=null}else it=null;Je!==null&&t4(ke,Se,Je,it,!1),nt!==null&&or!==null&&t4(ke,or,nt,it,!0)}}e:{if(Se=de?Bu(de):window,Je=Se.nodeName&&Se.nodeName.toLowerCase(),Je==="select"||Je==="input"&&Se.type==="file")var ct=Iz;else if(IO(Se))if(DO)ct=Fz;else{ct=Dz;var pt=Lz}else(Je=Se.nodeName)&&Je.toLowerCase()==="input"&&(Se.type==="checkbox"||Se.type==="radio")&&(ct=Nz);if(ct&&(ct=ct(s,de))){LO(ke,ct,h,Ae);break e}pt&&pt(s,Se,de),s==="focusout"&&(pt=Se._wrapperState)&&pt.controlled&&Se.type==="number"&&tn(Se,"number",Se.value)}switch(pt=de?Bu(de):window,s){case"focusin":(IO(pt)||pt.contentEditable==="true")&&(Au=pt,a_=de,Pf=null);break;case"focusout":Pf=a_=Au=null;break;case"mousedown":s_=!0;break;case"contextmenu":case"mouseup":case"dragend":s_=!1,VO(ke,h,Ae);break;case"selectionchange":if($z)break;case"keydown":case"keyup":VO(ke,h,Ae)}var vt;if(n_)e:{switch(s){case"compositionstart":var kt="onCompositionStart";break e;case"compositionend":kt="onCompositionEnd";break e;case"compositionupdate":kt="onCompositionUpdate";break e}kt=void 0}else Su?PO(s,h)&&(kt="onCompositionEnd"):s==="keydown"&&h.keyCode===229&&(kt="onCompositionStart");kt&&(xO&&h.locale!=="ko"&&(Su||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&Su&&(vt=CO()):(Js=Ae,Z1="value"in Js?Js.value:Js.textContent,Su=!0)),pt=ip(de,kt),0<pt.length&&(kt=new BO(kt,s,null,h,Ae),ke.push({event:kt,listeners:pt}),vt?kt.data=vt:(vt=TO(h),vt!==null&&(kt.data=vt)))),(vt=xz?Oz(s,h):Mz(s,h))&&(de=ip(de,"onBeforeInput"),0<de.length&&(Ae=new BO("onBeforeInput","beforeinput",null,h,Ae),ke.push({event:Ae,listeners:de}),Ae.data=vt))}XO(ke,c)})}function Lf(s,c,h){return{instance:s,listener:c,currentTarget:h}}function ip(s,c){for(var h=c+"Capture",p=[];s!==null;){var S=s,k=S.stateNode;S.tag===5&&k!==null&&(S=k,k=pf(s,h),k!=null&&p.unshift(Lf(s,k,S)),k=pf(s,c),k!=null&&p.push(Lf(s,k,S))),s=s.return}return p}function ku(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function t4(s,c,h,p,S){for(var k=c._reactName,L=[];h!==null&&h!==p;){var J=h,K=J.alternate,de=J.stateNode;if(K!==null&&K===p)break;J.tag===5&&de!==null&&(J=de,S?(K=pf(h,k),K!=null&&L.unshift(Lf(h,K,J))):S||(K=pf(h,k),K!=null&&L.push(Lf(h,K,J)))),h=h.return}L.length!==0&&s.push({event:c,listeners:L})}var qz=/\r\n?/g,Qz=/\u0000|\uFFFD/g;function n4(s){return(typeof s=="string"?s:""+s).replace(qz,`
`).replace(Qz,"")}function ap(s,c,h){if(c=n4(c),n4(s)!==c&&h)throw Error(n(425))}function sp(){}var h_=null,m_=null;function g_(s,c){return s==="textarea"||s==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var p_=typeof setTimeout=="function"?setTimeout:void 0,Hz=typeof clearTimeout=="function"?clearTimeout:void 0,r4=typeof Promise=="function"?Promise:void 0,Wz=typeof queueMicrotask=="function"?queueMicrotask:typeof r4<"u"?function(s){return r4.resolve(null).then(s).catch(Jz)}:p_;function Jz(s){setTimeout(function(){throw s})}function v_(s,c){var h=c,p=0;do{var S=h.nextSibling;if(s.removeChild(h),S&&S.nodeType===8)if(h=S.data,h==="/$"){if(p===0){s.removeChild(S),kf(c);return}p--}else h!=="$"&&h!=="$?"&&h!=="$!"||p++;h=S}while(h);kf(c)}function Ys(s){for(;s!=null;s=s.nextSibling){var c=s.nodeType;if(c===1||c===3)break;if(c===8){if(c=s.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return s}function o4(s){s=s.previousSibling;for(var c=0;s;){if(s.nodeType===8){var h=s.data;if(h==="$"||h==="$!"||h==="$?"){if(c===0)return s;c--}else h==="/$"&&c++}s=s.previousSibling}return null}var Eu=Math.random().toString(36).slice(2),xa="__reactFiber$"+Eu,Df="__reactProps$"+Eu,ss="__reactContainer$"+Eu,y_="__reactEvents$"+Eu,Zz="__reactListeners$"+Eu,Yz="__reactHandles$"+Eu;function Yl(s){var c=s[xa];if(c)return c;for(var h=s.parentNode;h;){if(c=h[ss]||h[xa]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(s=o4(s);s!==null;){if(h=s[xa])return h;s=o4(s)}return c}s=h,h=s.parentNode}return null}function Nf(s){return s=s[xa]||s[ss],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Bu(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function lp(s){return s[Df]||null}var __=[],Ru=-1;function Ks(s){return{current:s}}function Mn(s){0>Ru||(s.current=__[Ru],__[Ru]=null,Ru--)}function Cn(s,c){Ru++,__[Ru]=s.current,s.current=c}var Xs={},$r=Ks(Xs),vo=Ks(!1),Kl=Xs;function xu(s,c){var h=s.type.contextTypes;if(!h)return Xs;var p=s.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===c)return p.__reactInternalMemoizedMaskedChildContext;var S={},k;for(k in h)S[k]=c[k];return p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=c,s.__reactInternalMemoizedMaskedChildContext=S),S}function yo(s){return s=s.childContextTypes,s!=null}function cp(){Mn(vo),Mn($r)}function i4(s,c,h){if($r.current!==Xs)throw Error(n(168));Cn($r,c),Cn(vo,h)}function a4(s,c,h){var p=s.stateNode;if(c=c.childContextTypes,typeof p.getChildContext!="function")return h;p=p.getChildContext();for(var S in p)if(!(S in c))throw Error(n(108,ye(s)||"Unknown",S));return Y({},h,p)}function up(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Xs,Kl=$r.current,Cn($r,s),Cn(vo,vo.current),!0}function s4(s,c,h){var p=s.stateNode;if(!p)throw Error(n(169));h?(s=a4(s,c,Kl),p.__reactInternalMemoizedMergedChildContext=s,Mn(vo),Mn($r),Cn($r,s)):Mn(vo),Cn(vo,h)}var ls=null,dp=!1,b_=!1;function l4(s){ls===null?ls=[s]:ls.push(s)}function Kz(s){dp=!0,l4(s)}function el(){if(!b_&&ls!==null){b_=!0;var s=0,c=vn;try{var h=ls;for(vn=1;s<h.length;s++){var p=h[s];do p=p(!0);while(p!==null)}ls=null,dp=!1}catch(S){throw ls!==null&&(ls=ls.slice(s+1)),uO(z1,el),S}finally{vn=c,b_=!1}}return null}var Ou=[],Mu=0,fp=null,hp=0,ci=[],ui=0,Xl=null,cs=1,us="";function ec(s,c){Ou[Mu++]=hp,Ou[Mu++]=fp,fp=s,hp=c}function c4(s,c,h){ci[ui++]=cs,ci[ui++]=us,ci[ui++]=Xl,Xl=s;var p=cs;s=us;var S=32-ji(p)-1;p&=~(1<<S),h+=1;var k=32-ji(c)+S;if(30<k){var L=S-S%5;k=(p&(1<<L)-1).toString(32),p>>=L,S-=L,cs=1<<32-ji(c)+S|h<<S|p,us=k+s}else cs=1<<k|h<<S|p,us=s}function w_(s){s.return!==null&&(ec(s,1),c4(s,1,0))}function S_(s){for(;s===fp;)fp=Ou[--Mu],Ou[Mu]=null,hp=Ou[--Mu],Ou[Mu]=null;for(;s===Xl;)Xl=ci[--ui],ci[ui]=null,us=ci[--ui],ci[ui]=null,cs=ci[--ui],ci[ui]=null}var qo=null,Qo=null,Nn=!1,zi=null;function u4(s,c){var h=mi(5,null,null,0);h.elementType="DELETED",h.stateNode=c,h.return=s,c=s.deletions,c===null?(s.deletions=[h],s.flags|=16):c.push(h)}function d4(s,c){switch(s.tag){case 5:var h=s.type;return c=c.nodeType!==1||h.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(s.stateNode=c,qo=s,Qo=Ys(c.firstChild),!0):!1;case 6:return c=s.pendingProps===""||c.nodeType!==3?null:c,c!==null?(s.stateNode=c,qo=s,Qo=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(h=Xl!==null?{id:cs,overflow:us}:null,s.memoizedState={dehydrated:c,treeContext:h,retryLane:1073741824},h=mi(18,null,null,0),h.stateNode=c,h.return=s,s.child=h,qo=s,Qo=null,!0):!1;default:return!1}}function A_(s){return(s.mode&1)!==0&&(s.flags&128)===0}function C_(s){if(Nn){var c=Qo;if(c){var h=c;if(!d4(s,c)){if(A_(s))throw Error(n(418));c=Ys(h.nextSibling);var p=qo;c&&d4(s,c)?u4(p,h):(s.flags=s.flags&-4097|2,Nn=!1,qo=s)}}else{if(A_(s))throw Error(n(418));s.flags=s.flags&-4097|2,Nn=!1,qo=s}}}function f4(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;qo=s}function mp(s){if(s!==qo)return!1;if(!Nn)return f4(s),Nn=!0,!1;var c;if((c=s.tag!==3)&&!(c=s.tag!==5)&&(c=s.type,c=c!=="head"&&c!=="body"&&!g_(s.type,s.memoizedProps)),c&&(c=Qo)){if(A_(s))throw h4(),Error(n(418));for(;c;)u4(s,c),c=Ys(c.nextSibling)}if(f4(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,c=0;s;){if(s.nodeType===8){var h=s.data;if(h==="/$"){if(c===0){Qo=Ys(s.nextSibling);break e}c--}else h!=="$"&&h!=="$!"&&h!=="$?"||c++}s=s.nextSibling}Qo=null}}else Qo=qo?Ys(s.stateNode.nextSibling):null;return!0}function h4(){for(var s=Qo;s;)s=Ys(s.nextSibling)}function Pu(){Qo=qo=null,Nn=!1}function k_(s){zi===null?zi=[s]:zi.push(s)}var Xz=M.ReactCurrentBatchConfig;function Ff(s,c,h){if(s=h.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(n(309));var p=h.stateNode}if(!p)throw Error(n(147,s));var S=p,k=""+s;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===k?c.ref:(c=function(L){var J=S.refs;L===null?delete J[k]:J[k]=L},c._stringRef=k,c)}if(typeof s!="string")throw Error(n(284));if(!h._owner)throw Error(n(290,s))}return s}function gp(s,c){throw s=Object.prototype.toString.call(c),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":s))}function m4(s){var c=s._init;return c(s._payload)}function g4(s){function c(ie,ee){if(s){var ae=ie.deletions;ae===null?(ie.deletions=[ee],ie.flags|=16):ae.push(ee)}}function h(ie,ee){if(!s)return null;for(;ee!==null;)c(ie,ee),ee=ee.sibling;return null}function p(ie,ee){for(ie=new Map;ee!==null;)ee.key!==null?ie.set(ee.key,ee):ie.set(ee.index,ee),ee=ee.sibling;return ie}function S(ie,ee){return ie=ll(ie,ee),ie.index=0,ie.sibling=null,ie}function k(ie,ee,ae){return ie.index=ae,s?(ae=ie.alternate,ae!==null?(ae=ae.index,ae<ee?(ie.flags|=2,ee):ae):(ie.flags|=2,ee)):(ie.flags|=1048576,ee)}function L(ie){return s&&ie.alternate===null&&(ie.flags|=2),ie}function J(ie,ee,ae,Oe){return ee===null||ee.tag!==6?(ee=pb(ae,ie.mode,Oe),ee.return=ie,ee):(ee=S(ee,ae),ee.return=ie,ee)}function K(ie,ee,ae,Oe){var ct=ae.type;return ct===P?Ae(ie,ee,ae.props.children,Oe,ae.key):ee!==null&&(ee.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===q&&m4(ct)===ee.type)?(Oe=S(ee,ae.props),Oe.ref=Ff(ie,ee,ae),Oe.return=ie,Oe):(Oe=Gp(ae.type,ae.key,ae.props,null,ie.mode,Oe),Oe.ref=Ff(ie,ee,ae),Oe.return=ie,Oe)}function de(ie,ee,ae,Oe){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==ae.containerInfo||ee.stateNode.implementation!==ae.implementation?(ee=vb(ae,ie.mode,Oe),ee.return=ie,ee):(ee=S(ee,ae.children||[]),ee.return=ie,ee)}function Ae(ie,ee,ae,Oe,ct){return ee===null||ee.tag!==7?(ee=lc(ae,ie.mode,Oe,ct),ee.return=ie,ee):(ee=S(ee,ae),ee.return=ie,ee)}function ke(ie,ee,ae){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return ee=pb(""+ee,ie.mode,ae),ee.return=ie,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case T:return ae=Gp(ee.type,ee.key,ee.props,null,ie.mode,ae),ae.ref=Ff(ie,null,ee),ae.return=ie,ae;case I:return ee=vb(ee,ie.mode,ae),ee.return=ie,ee;case q:var Oe=ee._init;return ke(ie,Oe(ee._payload),ae)}if(Sn(ee)||W(ee))return ee=lc(ee,ie.mode,ae,null),ee.return=ie,ee;gp(ie,ee)}return null}function Se(ie,ee,ae,Oe){var ct=ee!==null?ee.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number")return ct!==null?null:J(ie,ee,""+ae,Oe);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case T:return ae.key===ct?K(ie,ee,ae,Oe):null;case I:return ae.key===ct?de(ie,ee,ae,Oe):null;case q:return ct=ae._init,Se(ie,ee,ct(ae._payload),Oe)}if(Sn(ae)||W(ae))return ct!==null?null:Ae(ie,ee,ae,Oe,null);gp(ie,ae)}return null}function Je(ie,ee,ae,Oe,ct){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number")return ie=ie.get(ae)||null,J(ee,ie,""+Oe,ct);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case T:return ie=ie.get(Oe.key===null?ae:Oe.key)||null,K(ee,ie,Oe,ct);case I:return ie=ie.get(Oe.key===null?ae:Oe.key)||null,de(ee,ie,Oe,ct);case q:var pt=Oe._init;return Je(ie,ee,ae,pt(Oe._payload),ct)}if(Sn(Oe)||W(Oe))return ie=ie.get(ae)||null,Ae(ee,ie,Oe,ct,null);gp(ee,Oe)}return null}function nt(ie,ee,ae,Oe){for(var ct=null,pt=null,vt=ee,kt=ee=0,Br=null;vt!==null&&kt<ae.length;kt++){vt.index>kt?(Br=vt,vt=null):Br=vt.sibling;var sn=Se(ie,vt,ae[kt],Oe);if(sn===null){vt===null&&(vt=Br);break}s&&vt&&sn.alternate===null&&c(ie,vt),ee=k(sn,ee,kt),pt===null?ct=sn:pt.sibling=sn,pt=sn,vt=Br}if(kt===ae.length)return h(ie,vt),Nn&&ec(ie,kt),ct;if(vt===null){for(;kt<ae.length;kt++)vt=ke(ie,ae[kt],Oe),vt!==null&&(ee=k(vt,ee,kt),pt===null?ct=vt:pt.sibling=vt,pt=vt);return Nn&&ec(ie,kt),ct}for(vt=p(ie,vt);kt<ae.length;kt++)Br=Je(vt,ie,kt,ae[kt],Oe),Br!==null&&(s&&Br.alternate!==null&&vt.delete(Br.key===null?kt:Br.key),ee=k(Br,ee,kt),pt===null?ct=Br:pt.sibling=Br,pt=Br);return s&&vt.forEach(function(cl){return c(ie,cl)}),Nn&&ec(ie,kt),ct}function it(ie,ee,ae,Oe){var ct=W(ae);if(typeof ct!="function")throw Error(n(150));if(ae=ct.call(ae),ae==null)throw Error(n(151));for(var pt=ct=null,vt=ee,kt=ee=0,Br=null,sn=ae.next();vt!==null&&!sn.done;kt++,sn=ae.next()){vt.index>kt?(Br=vt,vt=null):Br=vt.sibling;var cl=Se(ie,vt,sn.value,Oe);if(cl===null){vt===null&&(vt=Br);break}s&&vt&&cl.alternate===null&&c(ie,vt),ee=k(cl,ee,kt),pt===null?ct=cl:pt.sibling=cl,pt=cl,vt=Br}if(sn.done)return h(ie,vt),Nn&&ec(ie,kt),ct;if(vt===null){for(;!sn.done;kt++,sn=ae.next())sn=ke(ie,sn.value,Oe),sn!==null&&(ee=k(sn,ee,kt),pt===null?ct=sn:pt.sibling=sn,pt=sn);return Nn&&ec(ie,kt),ct}for(vt=p(ie,vt);!sn.done;kt++,sn=ae.next())sn=Je(vt,ie,kt,sn.value,Oe),sn!==null&&(s&&sn.alternate!==null&&vt.delete(sn.key===null?kt:sn.key),ee=k(sn,ee,kt),pt===null?ct=sn:pt.sibling=sn,pt=sn);return s&&vt.forEach(function(PU){return c(ie,PU)}),Nn&&ec(ie,kt),ct}function or(ie,ee,ae,Oe){if(typeof ae=="object"&&ae!==null&&ae.type===P&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case T:e:{for(var ct=ae.key,pt=ee;pt!==null;){if(pt.key===ct){if(ct=ae.type,ct===P){if(pt.tag===7){h(ie,pt.sibling),ee=S(pt,ae.props.children),ee.return=ie,ie=ee;break e}}else if(pt.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===q&&m4(ct)===pt.type){h(ie,pt.sibling),ee=S(pt,ae.props),ee.ref=Ff(ie,pt,ae),ee.return=ie,ie=ee;break e}h(ie,pt);break}else c(ie,pt);pt=pt.sibling}ae.type===P?(ee=lc(ae.props.children,ie.mode,Oe,ae.key),ee.return=ie,ie=ee):(Oe=Gp(ae.type,ae.key,ae.props,null,ie.mode,Oe),Oe.ref=Ff(ie,ee,ae),Oe.return=ie,ie=Oe)}return L(ie);case I:e:{for(pt=ae.key;ee!==null;){if(ee.key===pt)if(ee.tag===4&&ee.stateNode.containerInfo===ae.containerInfo&&ee.stateNode.implementation===ae.implementation){h(ie,ee.sibling),ee=S(ee,ae.children||[]),ee.return=ie,ie=ee;break e}else{h(ie,ee);break}else c(ie,ee);ee=ee.sibling}ee=vb(ae,ie.mode,Oe),ee.return=ie,ie=ee}return L(ie);case q:return pt=ae._init,or(ie,ee,pt(ae._payload),Oe)}if(Sn(ae))return nt(ie,ee,ae,Oe);if(W(ae))return it(ie,ee,ae,Oe);gp(ie,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"?(ae=""+ae,ee!==null&&ee.tag===6?(h(ie,ee.sibling),ee=S(ee,ae),ee.return=ie,ie=ee):(h(ie,ee),ee=pb(ae,ie.mode,Oe),ee.return=ie,ie=ee),L(ie)):h(ie,ee)}return or}var Tu=g4(!0),p4=g4(!1),pp=Ks(null),vp=null,Iu=null,E_=null;function B_(){E_=Iu=vp=null}function R_(s){var c=pp.current;Mn(pp),s._currentValue=c}function x_(s,c,h){for(;s!==null;){var p=s.alternate;if((s.childLanes&c)!==c?(s.childLanes|=c,p!==null&&(p.childLanes|=c)):p!==null&&(p.childLanes&c)!==c&&(p.childLanes|=c),s===h)break;s=s.return}}function Lu(s,c){vp=s,E_=Iu=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&c)!==0&&(_o=!0),s.firstContext=null)}function di(s){var c=s._currentValue;if(E_!==s)if(s={context:s,memoizedValue:c,next:null},Iu===null){if(vp===null)throw Error(n(308));Iu=s,vp.dependencies={lanes:0,firstContext:s}}else Iu=Iu.next=s;return c}var tc=null;function O_(s){tc===null?tc=[s]:tc.push(s)}function v4(s,c,h,p){var S=c.interleaved;return S===null?(h.next=h,O_(c)):(h.next=S.next,S.next=h),c.interleaved=h,ds(s,p)}function ds(s,c){s.lanes|=c;var h=s.alternate;for(h!==null&&(h.lanes|=c),h=s,s=s.return;s!==null;)s.childLanes|=c,h=s.alternate,h!==null&&(h.childLanes|=c),h=s,s=s.return;return h.tag===3?h.stateNode:null}var tl=!1;function M_(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function y4(s,c){s=s.updateQueue,c.updateQueue===s&&(c.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function fs(s,c){return{eventTime:s,lane:c,tag:0,payload:null,callback:null,next:null}}function nl(s,c,h){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(on&2)!==0){var S=p.pending;return S===null?c.next=c:(c.next=S.next,S.next=c),p.pending=c,ds(s,h)}return S=p.interleaved,S===null?(c.next=c,O_(p)):(c.next=S.next,S.next=c),p.interleaved=c,ds(s,h)}function yp(s,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194240)!==0)){var p=c.lanes;p&=s.pendingLanes,h|=p,c.lanes=h,q1(s,h)}}function _4(s,c){var h=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,h===p)){var S=null,k=null;if(h=h.firstBaseUpdate,h!==null){do{var L={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};k===null?S=k=L:k=k.next=L,h=h.next}while(h!==null);k===null?S=k=c:k=k.next=c}else S=k=c;h={baseState:p.baseState,firstBaseUpdate:S,lastBaseUpdate:k,shared:p.shared,effects:p.effects},s.updateQueue=h;return}s=h.lastBaseUpdate,s===null?h.firstBaseUpdate=c:s.next=c,h.lastBaseUpdate=c}function _p(s,c,h,p){var S=s.updateQueue;tl=!1;var k=S.firstBaseUpdate,L=S.lastBaseUpdate,J=S.shared.pending;if(J!==null){S.shared.pending=null;var K=J,de=K.next;K.next=null,L===null?k=de:L.next=de,L=K;var Ae=s.alternate;Ae!==null&&(Ae=Ae.updateQueue,J=Ae.lastBaseUpdate,J!==L&&(J===null?Ae.firstBaseUpdate=de:J.next=de,Ae.lastBaseUpdate=K))}if(k!==null){var ke=S.baseState;L=0,Ae=de=K=null,J=k;do{var Se=J.lane,Je=J.eventTime;if((p&Se)===Se){Ae!==null&&(Ae=Ae.next={eventTime:Je,lane:0,tag:J.tag,payload:J.payload,callback:J.callback,next:null});e:{var nt=s,it=J;switch(Se=c,Je=h,it.tag){case 1:if(nt=it.payload,typeof nt=="function"){ke=nt.call(Je,ke,Se);break e}ke=nt;break e;case 3:nt.flags=nt.flags&-65537|128;case 0:if(nt=it.payload,Se=typeof nt=="function"?nt.call(Je,ke,Se):nt,Se==null)break e;ke=Y({},ke,Se);break e;case 2:tl=!0}}J.callback!==null&&J.lane!==0&&(s.flags|=64,Se=S.effects,Se===null?S.effects=[J]:Se.push(J))}else Je={eventTime:Je,lane:Se,tag:J.tag,payload:J.payload,callback:J.callback,next:null},Ae===null?(de=Ae=Je,K=ke):Ae=Ae.next=Je,L|=Se;if(J=J.next,J===null){if(J=S.shared.pending,J===null)break;Se=J,J=Se.next,Se.next=null,S.lastBaseUpdate=Se,S.shared.pending=null}}while(!0);if(Ae===null&&(K=ke),S.baseState=K,S.firstBaseUpdate=de,S.lastBaseUpdate=Ae,c=S.shared.interleaved,c!==null){S=c;do L|=S.lane,S=S.next;while(S!==c)}else k===null&&(S.shared.lanes=0);oc|=L,s.lanes=L,s.memoizedState=ke}}function b4(s,c,h){if(s=c.effects,c.effects=null,s!==null)for(c=0;c<s.length;c++){var p=s[c],S=p.callback;if(S!==null){if(p.callback=null,p=h,typeof S!="function")throw Error(n(191,S));S.call(p)}}}var Gf={},Oa=Ks(Gf),jf=Ks(Gf),$f=Ks(Gf);function nc(s){if(s===Gf)throw Error(n(174));return s}function P_(s,c){switch(Cn($f,c),Cn(jf,s),Cn(Oa,Gf),s=c.nodeType,s){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:Dn(null,"");break;default:s=s===8?c.parentNode:c,c=s.namespaceURI||null,s=s.tagName,c=Dn(c,s)}Mn(Oa),Cn(Oa,c)}function Du(){Mn(Oa),Mn(jf),Mn($f)}function w4(s){nc($f.current);var c=nc(Oa.current),h=Dn(c,s.type);c!==h&&(Cn(jf,s),Cn(Oa,h))}function T_(s){jf.current===s&&(Mn(Oa),Mn(jf))}var Gn=Ks(0);function bp(s){for(var c=s;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var I_=[];function L_(){for(var s=0;s<I_.length;s++)I_[s]._workInProgressVersionPrimary=null;I_.length=0}var wp=M.ReactCurrentDispatcher,D_=M.ReactCurrentBatchConfig,rc=0,jn=null,mr=null,kr=null,Sp=!1,zf=!1,Uf=0,eU=0;function zr(){throw Error(n(321))}function N_(s,c){if(c===null)return!1;for(var h=0;h<c.length&&h<s.length;h++)if(!$i(s[h],c[h]))return!1;return!0}function F_(s,c,h,p,S,k){if(rc=k,jn=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,wp.current=s===null||s.memoizedState===null?oU:iU,s=h(p,S),zf){k=0;do{if(zf=!1,Uf=0,25<=k)throw Error(n(301));k+=1,kr=mr=null,c.updateQueue=null,wp.current=aU,s=h(p,S)}while(zf)}if(wp.current=kp,c=mr!==null&&mr.next!==null,rc=0,kr=mr=jn=null,Sp=!1,c)throw Error(n(300));return s}function G_(){var s=Uf!==0;return Uf=0,s}function Ma(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kr===null?jn.memoizedState=kr=s:kr=kr.next=s,kr}function fi(){if(mr===null){var s=jn.alternate;s=s!==null?s.memoizedState:null}else s=mr.next;var c=kr===null?jn.memoizedState:kr.next;if(c!==null)kr=c,mr=s;else{if(s===null)throw Error(n(310));mr=s,s={memoizedState:mr.memoizedState,baseState:mr.baseState,baseQueue:mr.baseQueue,queue:mr.queue,next:null},kr===null?jn.memoizedState=kr=s:kr=kr.next=s}return kr}function Vf(s,c){return typeof c=="function"?c(s):c}function j_(s){var c=fi(),h=c.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=s;var p=mr,S=p.baseQueue,k=h.pending;if(k!==null){if(S!==null){var L=S.next;S.next=k.next,k.next=L}p.baseQueue=S=k,h.pending=null}if(S!==null){k=S.next,p=p.baseState;var J=L=null,K=null,de=k;do{var Ae=de.lane;if((rc&Ae)===Ae)K!==null&&(K=K.next={lane:0,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),p=de.hasEagerState?de.eagerState:s(p,de.action);else{var ke={lane:Ae,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null};K===null?(J=K=ke,L=p):K=K.next=ke,jn.lanes|=Ae,oc|=Ae}de=de.next}while(de!==null&&de!==k);K===null?L=p:K.next=J,$i(p,c.memoizedState)||(_o=!0),c.memoizedState=p,c.baseState=L,c.baseQueue=K,h.lastRenderedState=p}if(s=h.interleaved,s!==null){S=s;do k=S.lane,jn.lanes|=k,oc|=k,S=S.next;while(S!==s)}else S===null&&(h.lanes=0);return[c.memoizedState,h.dispatch]}function $_(s){var c=fi(),h=c.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=s;var p=h.dispatch,S=h.pending,k=c.memoizedState;if(S!==null){h.pending=null;var L=S=S.next;do k=s(k,L.action),L=L.next;while(L!==S);$i(k,c.memoizedState)||(_o=!0),c.memoizedState=k,c.baseQueue===null&&(c.baseState=k),h.lastRenderedState=k}return[k,p]}function S4(){}function A4(s,c){var h=jn,p=fi(),S=c(),k=!$i(p.memoizedState,S);if(k&&(p.memoizedState=S,_o=!0),p=p.queue,z_(E4.bind(null,h,p,s),[s]),p.getSnapshot!==c||k||kr!==null&&kr.memoizedState.tag&1){if(h.flags|=2048,qf(9,k4.bind(null,h,p,S,c),void 0,null),Er===null)throw Error(n(349));(rc&30)!==0||C4(h,c,S)}return S}function C4(s,c,h){s.flags|=16384,s={getSnapshot:c,value:h},c=jn.updateQueue,c===null?(c={lastEffect:null,stores:null},jn.updateQueue=c,c.stores=[s]):(h=c.stores,h===null?c.stores=[s]:h.push(s))}function k4(s,c,h,p){c.value=h,c.getSnapshot=p,B4(c)&&R4(s)}function E4(s,c,h){return h(function(){B4(c)&&R4(s)})}function B4(s){var c=s.getSnapshot;s=s.value;try{var h=c();return!$i(s,h)}catch{return!0}}function R4(s){var c=ds(s,1);c!==null&&Qi(c,s,1,-1)}function x4(s){var c=Ma();return typeof s=="function"&&(s=s()),c.memoizedState=c.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vf,lastRenderedState:s},c.queue=s,s=s.dispatch=rU.bind(null,jn,s),[c.memoizedState,s]}function qf(s,c,h,p){return s={tag:s,create:c,destroy:h,deps:p,next:null},c=jn.updateQueue,c===null?(c={lastEffect:null,stores:null},jn.updateQueue=c,c.lastEffect=s.next=s):(h=c.lastEffect,h===null?c.lastEffect=s.next=s:(p=h.next,h.next=s,s.next=p,c.lastEffect=s)),s}function O4(){return fi().memoizedState}function Ap(s,c,h,p){var S=Ma();jn.flags|=s,S.memoizedState=qf(1|c,h,void 0,p===void 0?null:p)}function Cp(s,c,h,p){var S=fi();p=p===void 0?null:p;var k=void 0;if(mr!==null){var L=mr.memoizedState;if(k=L.destroy,p!==null&&N_(p,L.deps)){S.memoizedState=qf(c,h,k,p);return}}jn.flags|=s,S.memoizedState=qf(1|c,h,k,p)}function M4(s,c){return Ap(8390656,8,s,c)}function z_(s,c){return Cp(2048,8,s,c)}function P4(s,c){return Cp(4,2,s,c)}function T4(s,c){return Cp(4,4,s,c)}function I4(s,c){if(typeof c=="function")return s=s(),c(s),function(){c(null)};if(c!=null)return s=s(),c.current=s,function(){c.current=null}}function L4(s,c,h){return h=h!=null?h.concat([s]):null,Cp(4,4,I4.bind(null,c,s),h)}function U_(){}function D4(s,c){var h=fi();c=c===void 0?null:c;var p=h.memoizedState;return p!==null&&c!==null&&N_(c,p[1])?p[0]:(h.memoizedState=[s,c],s)}function N4(s,c){var h=fi();c=c===void 0?null:c;var p=h.memoizedState;return p!==null&&c!==null&&N_(c,p[1])?p[0]:(s=s(),h.memoizedState=[s,c],s)}function F4(s,c,h){return(rc&21)===0?(s.baseState&&(s.baseState=!1,_o=!0),s.memoizedState=h):($i(h,c)||(h=mO(),jn.lanes|=h,oc|=h,s.baseState=!0),c)}function tU(s,c){var h=vn;vn=h!==0&&4>h?h:4,s(!0);var p=D_.transition;D_.transition={};try{s(!1),c()}finally{vn=h,D_.transition=p}}function G4(){return fi().memoizedState}function nU(s,c,h){var p=al(s);if(h={lane:p,action:h,hasEagerState:!1,eagerState:null,next:null},j4(s))$4(c,h);else if(h=v4(s,c,h,p),h!==null){var S=ro();Qi(h,s,p,S),z4(h,c,p)}}function rU(s,c,h){var p=al(s),S={lane:p,action:h,hasEagerState:!1,eagerState:null,next:null};if(j4(s))$4(c,S);else{var k=s.alternate;if(s.lanes===0&&(k===null||k.lanes===0)&&(k=c.lastRenderedReducer,k!==null))try{var L=c.lastRenderedState,J=k(L,h);if(S.hasEagerState=!0,S.eagerState=J,$i(J,L)){var K=c.interleaved;K===null?(S.next=S,O_(c)):(S.next=K.next,K.next=S),c.interleaved=S;return}}catch{}finally{}h=v4(s,c,S,p),h!==null&&(S=ro(),Qi(h,s,p,S),z4(h,c,p))}}function j4(s){var c=s.alternate;return s===jn||c!==null&&c===jn}function $4(s,c){zf=Sp=!0;var h=s.pending;h===null?c.next=c:(c.next=h.next,h.next=c),s.pending=c}function z4(s,c,h){if((h&4194240)!==0){var p=c.lanes;p&=s.pendingLanes,h|=p,c.lanes=h,q1(s,h)}}var kp={readContext:di,useCallback:zr,useContext:zr,useEffect:zr,useImperativeHandle:zr,useInsertionEffect:zr,useLayoutEffect:zr,useMemo:zr,useReducer:zr,useRef:zr,useState:zr,useDebugValue:zr,useDeferredValue:zr,useTransition:zr,useMutableSource:zr,useSyncExternalStore:zr,useId:zr,unstable_isNewReconciler:!1},oU={readContext:di,useCallback:function(s,c){return Ma().memoizedState=[s,c===void 0?null:c],s},useContext:di,useEffect:M4,useImperativeHandle:function(s,c,h){return h=h!=null?h.concat([s]):null,Ap(4194308,4,I4.bind(null,c,s),h)},useLayoutEffect:function(s,c){return Ap(4194308,4,s,c)},useInsertionEffect:function(s,c){return Ap(4,2,s,c)},useMemo:function(s,c){var h=Ma();return c=c===void 0?null:c,s=s(),h.memoizedState=[s,c],s},useReducer:function(s,c,h){var p=Ma();return c=h!==void 0?h(c):c,p.memoizedState=p.baseState=c,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:c},p.queue=s,s=s.dispatch=nU.bind(null,jn,s),[p.memoizedState,s]},useRef:function(s){var c=Ma();return s={current:s},c.memoizedState=s},useState:x4,useDebugValue:U_,useDeferredValue:function(s){return Ma().memoizedState=s},useTransition:function(){var s=x4(!1),c=s[0];return s=tU.bind(null,s[1]),Ma().memoizedState=s,[c,s]},useMutableSource:function(){},useSyncExternalStore:function(s,c,h){var p=jn,S=Ma();if(Nn){if(h===void 0)throw Error(n(407));h=h()}else{if(h=c(),Er===null)throw Error(n(349));(rc&30)!==0||C4(p,c,h)}S.memoizedState=h;var k={value:h,getSnapshot:c};return S.queue=k,M4(E4.bind(null,p,k,s),[s]),p.flags|=2048,qf(9,k4.bind(null,p,k,h,c),void 0,null),h},useId:function(){var s=Ma(),c=Er.identifierPrefix;if(Nn){var h=us,p=cs;h=(p&~(1<<32-ji(p)-1)).toString(32)+h,c=":"+c+"R"+h,h=Uf++,0<h&&(c+="H"+h.toString(32)),c+=":"}else h=eU++,c=":"+c+"r"+h.toString(32)+":";return s.memoizedState=c},unstable_isNewReconciler:!1},iU={readContext:di,useCallback:D4,useContext:di,useEffect:z_,useImperativeHandle:L4,useInsertionEffect:P4,useLayoutEffect:T4,useMemo:N4,useReducer:j_,useRef:O4,useState:function(){return j_(Vf)},useDebugValue:U_,useDeferredValue:function(s){var c=fi();return F4(c,mr.memoizedState,s)},useTransition:function(){var s=j_(Vf)[0],c=fi().memoizedState;return[s,c]},useMutableSource:S4,useSyncExternalStore:A4,useId:G4,unstable_isNewReconciler:!1},aU={readContext:di,useCallback:D4,useContext:di,useEffect:z_,useImperativeHandle:L4,useInsertionEffect:P4,useLayoutEffect:T4,useMemo:N4,useReducer:$_,useRef:O4,useState:function(){return $_(Vf)},useDebugValue:U_,useDeferredValue:function(s){var c=fi();return mr===null?c.memoizedState=s:F4(c,mr.memoizedState,s)},useTransition:function(){var s=$_(Vf)[0],c=fi().memoizedState;return[s,c]},useMutableSource:S4,useSyncExternalStore:A4,useId:G4,unstable_isNewReconciler:!1};function Ui(s,c){if(s&&s.defaultProps){c=Y({},c),s=s.defaultProps;for(var h in s)c[h]===void 0&&(c[h]=s[h]);return c}return c}function V_(s,c,h,p){c=s.memoizedState,h=h(p,c),h=h==null?c:Y({},c,h),s.memoizedState=h,s.lanes===0&&(s.updateQueue.baseState=h)}var Ep={isMounted:function(s){return(s=s._reactInternals)?Zl(s)===s:!1},enqueueSetState:function(s,c,h){s=s._reactInternals;var p=ro(),S=al(s),k=fs(p,S);k.payload=c,h!=null&&(k.callback=h),c=nl(s,k,S),c!==null&&(Qi(c,s,S,p),yp(c,s,S))},enqueueReplaceState:function(s,c,h){s=s._reactInternals;var p=ro(),S=al(s),k=fs(p,S);k.tag=1,k.payload=c,h!=null&&(k.callback=h),c=nl(s,k,S),c!==null&&(Qi(c,s,S,p),yp(c,s,S))},enqueueForceUpdate:function(s,c){s=s._reactInternals;var h=ro(),p=al(s),S=fs(h,p);S.tag=2,c!=null&&(S.callback=c),c=nl(s,S,p),c!==null&&(Qi(c,s,p,h),yp(c,s,p))}};function U4(s,c,h,p,S,k,L){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,k,L):c.prototype&&c.prototype.isPureReactComponent?!Mf(h,p)||!Mf(S,k):!0}function V4(s,c,h){var p=!1,S=Xs,k=c.contextType;return typeof k=="object"&&k!==null?k=di(k):(S=yo(c)?Kl:$r.current,p=c.contextTypes,k=(p=p!=null)?xu(s,S):Xs),c=new c(h,k),s.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Ep,s.stateNode=c,c._reactInternals=s,p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=S,s.__reactInternalMemoizedMaskedChildContext=k),c}function q4(s,c,h,p){s=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,p),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,p),c.state!==s&&Ep.enqueueReplaceState(c,c.state,null)}function q_(s,c,h,p){var S=s.stateNode;S.props=h,S.state=s.memoizedState,S.refs={},M_(s);var k=c.contextType;typeof k=="object"&&k!==null?S.context=di(k):(k=yo(c)?Kl:$r.current,S.context=xu(s,k)),S.state=s.memoizedState,k=c.getDerivedStateFromProps,typeof k=="function"&&(V_(s,c,k,h),S.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(c=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),c!==S.state&&Ep.enqueueReplaceState(S,S.state,null),_p(s,h,S,p),S.state=s.memoizedState),typeof S.componentDidMount=="function"&&(s.flags|=4194308)}function Nu(s,c){try{var h="",p=c;do h+=ce(p),p=p.return;while(p);var S=h}catch(k){S=`
Error generating stack: `+k.message+`
`+k.stack}return{value:s,source:c,stack:S,digest:null}}function Q_(s,c,h){return{value:s,source:null,stack:h??null,digest:c??null}}function H_(s,c){try{console.error(c.value)}catch(h){setTimeout(function(){throw h})}}var sU=typeof WeakMap=="function"?WeakMap:Map;function Q4(s,c,h){h=fs(-1,h),h.tag=3,h.payload={element:null};var p=c.value;return h.callback=function(){Tp||(Tp=!0,lb=p),H_(s,c)},h}function H4(s,c,h){h=fs(-1,h),h.tag=3;var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var S=c.value;h.payload=function(){return p(S)},h.callback=function(){H_(s,c)}}var k=s.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(h.callback=function(){H_(s,c),typeof p!="function"&&(ol===null?ol=new Set([this]):ol.add(this));var L=c.stack;this.componentDidCatch(c.value,{componentStack:L!==null?L:""})}),h}function W4(s,c,h){var p=s.pingCache;if(p===null){p=s.pingCache=new sU;var S=new Set;p.set(c,S)}else S=p.get(c),S===void 0&&(S=new Set,p.set(c,S));S.has(h)||(S.add(h),s=wU.bind(null,s,c,h),c.then(s,s))}function J4(s){do{var c;if((c=s.tag===13)&&(c=s.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return s;s=s.return}while(s!==null);return null}function Z4(s,c,h,p,S){return(s.mode&1)===0?(s===c?s.flags|=65536:(s.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(c=fs(-1,1),c.tag=2,nl(h,c,1))),h.lanes|=1),s):(s.flags|=65536,s.lanes=S,s)}var lU=M.ReactCurrentOwner,_o=!1;function no(s,c,h,p){c.child=s===null?p4(c,null,h,p):Tu(c,s.child,h,p)}function Y4(s,c,h,p,S){h=h.render;var k=c.ref;return Lu(c,S),p=F_(s,c,h,p,k,S),h=G_(),s!==null&&!_o?(c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~S,hs(s,c,S)):(Nn&&h&&w_(c),c.flags|=1,no(s,c,p,S),c.child)}function K4(s,c,h,p,S){if(s===null){var k=h.type;return typeof k=="function"&&!gb(k)&&k.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(c.tag=15,c.type=k,X4(s,c,k,p,S)):(s=Gp(h.type,null,p,c,c.mode,S),s.ref=c.ref,s.return=c,c.child=s)}if(k=s.child,(s.lanes&S)===0){var L=k.memoizedProps;if(h=h.compare,h=h!==null?h:Mf,h(L,p)&&s.ref===c.ref)return hs(s,c,S)}return c.flags|=1,s=ll(k,p),s.ref=c.ref,s.return=c,c.child=s}function X4(s,c,h,p,S){if(s!==null){var k=s.memoizedProps;if(Mf(k,p)&&s.ref===c.ref)if(_o=!1,c.pendingProps=p=k,(s.lanes&S)!==0)(s.flags&131072)!==0&&(_o=!0);else return c.lanes=s.lanes,hs(s,c,S)}return W_(s,c,h,p,S)}function eM(s,c,h){var p=c.pendingProps,S=p.children,k=s!==null?s.memoizedState:null;if(p.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cn(Gu,Ho),Ho|=h;else{if((h&1073741824)===0)return s=k!==null?k.baseLanes|h:h,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:s,cachePool:null,transitions:null},c.updateQueue=null,Cn(Gu,Ho),Ho|=s,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=k!==null?k.baseLanes:h,Cn(Gu,Ho),Ho|=p}else k!==null?(p=k.baseLanes|h,c.memoizedState=null):p=h,Cn(Gu,Ho),Ho|=p;return no(s,c,S,h),c.child}function tM(s,c){var h=c.ref;(s===null&&h!==null||s!==null&&s.ref!==h)&&(c.flags|=512,c.flags|=2097152)}function W_(s,c,h,p,S){var k=yo(h)?Kl:$r.current;return k=xu(c,k),Lu(c,S),h=F_(s,c,h,p,k,S),p=G_(),s!==null&&!_o?(c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~S,hs(s,c,S)):(Nn&&p&&w_(c),c.flags|=1,no(s,c,h,S),c.child)}function nM(s,c,h,p,S){if(yo(h)){var k=!0;up(c)}else k=!1;if(Lu(c,S),c.stateNode===null)Rp(s,c),V4(c,h,p),q_(c,h,p,S),p=!0;else if(s===null){var L=c.stateNode,J=c.memoizedProps;L.props=J;var K=L.context,de=h.contextType;typeof de=="object"&&de!==null?de=di(de):(de=yo(h)?Kl:$r.current,de=xu(c,de));var Ae=h.getDerivedStateFromProps,ke=typeof Ae=="function"||typeof L.getSnapshotBeforeUpdate=="function";ke||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(J!==p||K!==de)&&q4(c,L,p,de),tl=!1;var Se=c.memoizedState;L.state=Se,_p(c,p,L,S),K=c.memoizedState,J!==p||Se!==K||vo.current||tl?(typeof Ae=="function"&&(V_(c,h,Ae,p),K=c.memoizedState),(J=tl||U4(c,h,J,p,Se,K,de))?(ke||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(c.flags|=4194308)):(typeof L.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=p,c.memoizedState=K),L.props=p,L.state=K,L.context=de,p=J):(typeof L.componentDidMount=="function"&&(c.flags|=4194308),p=!1)}else{L=c.stateNode,y4(s,c),J=c.memoizedProps,de=c.type===c.elementType?J:Ui(c.type,J),L.props=de,ke=c.pendingProps,Se=L.context,K=h.contextType,typeof K=="object"&&K!==null?K=di(K):(K=yo(h)?Kl:$r.current,K=xu(c,K));var Je=h.getDerivedStateFromProps;(Ae=typeof Je=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(J!==ke||Se!==K)&&q4(c,L,p,K),tl=!1,Se=c.memoizedState,L.state=Se,_p(c,p,L,S);var nt=c.memoizedState;J!==ke||Se!==nt||vo.current||tl?(typeof Je=="function"&&(V_(c,h,Je,p),nt=c.memoizedState),(de=tl||U4(c,h,de,p,Se,nt,K)||!1)?(Ae||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(p,nt,K),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(p,nt,K)),typeof L.componentDidUpdate=="function"&&(c.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof L.componentDidUpdate!="function"||J===s.memoizedProps&&Se===s.memoizedState||(c.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||J===s.memoizedProps&&Se===s.memoizedState||(c.flags|=1024),c.memoizedProps=p,c.memoizedState=nt),L.props=p,L.state=nt,L.context=K,p=de):(typeof L.componentDidUpdate!="function"||J===s.memoizedProps&&Se===s.memoizedState||(c.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||J===s.memoizedProps&&Se===s.memoizedState||(c.flags|=1024),p=!1)}return J_(s,c,h,p,k,S)}function J_(s,c,h,p,S,k){tM(s,c);var L=(c.flags&128)!==0;if(!p&&!L)return S&&s4(c,h,!1),hs(s,c,k);p=c.stateNode,lU.current=c;var J=L&&typeof h.getDerivedStateFromError!="function"?null:p.render();return c.flags|=1,s!==null&&L?(c.child=Tu(c,s.child,null,k),c.child=Tu(c,null,J,k)):no(s,c,J,k),c.memoizedState=p.state,S&&s4(c,h,!0),c.child}function rM(s){var c=s.stateNode;c.pendingContext?i4(s,c.pendingContext,c.pendingContext!==c.context):c.context&&i4(s,c.context,!1),P_(s,c.containerInfo)}function oM(s,c,h,p,S){return Pu(),k_(S),c.flags|=256,no(s,c,h,p),c.child}var Z_={dehydrated:null,treeContext:null,retryLane:0};function Y_(s){return{baseLanes:s,cachePool:null,transitions:null}}function iM(s,c,h){var p=c.pendingProps,S=Gn.current,k=!1,L=(c.flags&128)!==0,J;if((J=L)||(J=s!==null&&s.memoizedState===null?!1:(S&2)!==0),J?(k=!0,c.flags&=-129):(s===null||s.memoizedState!==null)&&(S|=1),Cn(Gn,S&1),s===null)return C_(c),s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((c.mode&1)===0?c.lanes=1:s.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(L=p.children,s=p.fallback,k?(p=c.mode,k=c.child,L={mode:"hidden",children:L},(p&1)===0&&k!==null?(k.childLanes=0,k.pendingProps=L):k=jp(L,p,0,null),s=lc(s,p,h,null),k.return=c,s.return=c,k.sibling=s,c.child=k,c.child.memoizedState=Y_(h),c.memoizedState=Z_,s):K_(c,L));if(S=s.memoizedState,S!==null&&(J=S.dehydrated,J!==null))return cU(s,c,L,p,J,S,h);if(k){k=p.fallback,L=c.mode,S=s.child,J=S.sibling;var K={mode:"hidden",children:p.children};return(L&1)===0&&c.child!==S?(p=c.child,p.childLanes=0,p.pendingProps=K,c.deletions=null):(p=ll(S,K),p.subtreeFlags=S.subtreeFlags&14680064),J!==null?k=ll(J,k):(k=lc(k,L,h,null),k.flags|=2),k.return=c,p.return=c,p.sibling=k,c.child=p,p=k,k=c.child,L=s.child.memoizedState,L=L===null?Y_(h):{baseLanes:L.baseLanes|h,cachePool:null,transitions:L.transitions},k.memoizedState=L,k.childLanes=s.childLanes&~h,c.memoizedState=Z_,p}return k=s.child,s=k.sibling,p=ll(k,{mode:"visible",children:p.children}),(c.mode&1)===0&&(p.lanes=h),p.return=c,p.sibling=null,s!==null&&(h=c.deletions,h===null?(c.deletions=[s],c.flags|=16):h.push(s)),c.child=p,c.memoizedState=null,p}function K_(s,c){return c=jp({mode:"visible",children:c},s.mode,0,null),c.return=s,s.child=c}function Bp(s,c,h,p){return p!==null&&k_(p),Tu(c,s.child,null,h),s=K_(c,c.pendingProps.children),s.flags|=2,c.memoizedState=null,s}function cU(s,c,h,p,S,k,L){if(h)return c.flags&256?(c.flags&=-257,p=Q_(Error(n(422))),Bp(s,c,L,p)):c.memoizedState!==null?(c.child=s.child,c.flags|=128,null):(k=p.fallback,S=c.mode,p=jp({mode:"visible",children:p.children},S,0,null),k=lc(k,S,L,null),k.flags|=2,p.return=c,k.return=c,p.sibling=k,c.child=p,(c.mode&1)!==0&&Tu(c,s.child,null,L),c.child.memoizedState=Y_(L),c.memoizedState=Z_,k);if((c.mode&1)===0)return Bp(s,c,L,null);if(S.data==="$!"){if(p=S.nextSibling&&S.nextSibling.dataset,p)var J=p.dgst;return p=J,k=Error(n(419)),p=Q_(k,p,void 0),Bp(s,c,L,p)}if(J=(L&s.childLanes)!==0,_o||J){if(p=Er,p!==null){switch(L&-L){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=(S&(p.suspendedLanes|L))!==0?0:S,S!==0&&S!==k.retryLane&&(k.retryLane=S,ds(s,S),Qi(p,s,S,-1))}return mb(),p=Q_(Error(n(421))),Bp(s,c,L,p)}return S.data==="$?"?(c.flags|=128,c.child=s.child,c=SU.bind(null,s),S._reactRetry=c,null):(s=k.treeContext,Qo=Ys(S.nextSibling),qo=c,Nn=!0,zi=null,s!==null&&(ci[ui++]=cs,ci[ui++]=us,ci[ui++]=Xl,cs=s.id,us=s.overflow,Xl=c),c=K_(c,p.children),c.flags|=4096,c)}function aM(s,c,h){s.lanes|=c;var p=s.alternate;p!==null&&(p.lanes|=c),x_(s.return,c,h)}function X_(s,c,h,p,S){var k=s.memoizedState;k===null?s.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:p,tail:h,tailMode:S}:(k.isBackwards=c,k.rendering=null,k.renderingStartTime=0,k.last=p,k.tail=h,k.tailMode=S)}function sM(s,c,h){var p=c.pendingProps,S=p.revealOrder,k=p.tail;if(no(s,c,p.children,h),p=Gn.current,(p&2)!==0)p=p&1|2,c.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=c.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&aM(s,h,c);else if(s.tag===19)aM(s,h,c);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===c)break e;for(;s.sibling===null;){if(s.return===null||s.return===c)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}if(Cn(Gn,p),(c.mode&1)===0)c.memoizedState=null;else switch(S){case"forwards":for(h=c.child,S=null;h!==null;)s=h.alternate,s!==null&&bp(s)===null&&(S=h),h=h.sibling;h=S,h===null?(S=c.child,c.child=null):(S=h.sibling,h.sibling=null),X_(c,!1,S,h,k);break;case"backwards":for(h=null,S=c.child,c.child=null;S!==null;){if(s=S.alternate,s!==null&&bp(s)===null){c.child=S;break}s=S.sibling,S.sibling=h,h=S,S=s}X_(c,!0,h,null,k);break;case"together":X_(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Rp(s,c){(c.mode&1)===0&&s!==null&&(s.alternate=null,c.alternate=null,c.flags|=2)}function hs(s,c,h){if(s!==null&&(c.dependencies=s.dependencies),oc|=c.lanes,(h&c.childLanes)===0)return null;if(s!==null&&c.child!==s.child)throw Error(n(153));if(c.child!==null){for(s=c.child,h=ll(s,s.pendingProps),c.child=h,h.return=c;s.sibling!==null;)s=s.sibling,h=h.sibling=ll(s,s.pendingProps),h.return=c;h.sibling=null}return c.child}function uU(s,c,h){switch(c.tag){case 3:rM(c),Pu();break;case 5:w4(c);break;case 1:yo(c.type)&&up(c);break;case 4:P_(c,c.stateNode.containerInfo);break;case 10:var p=c.type._context,S=c.memoizedProps.value;Cn(pp,p._currentValue),p._currentValue=S;break;case 13:if(p=c.memoizedState,p!==null)return p.dehydrated!==null?(Cn(Gn,Gn.current&1),c.flags|=128,null):(h&c.child.childLanes)!==0?iM(s,c,h):(Cn(Gn,Gn.current&1),s=hs(s,c,h),s!==null?s.sibling:null);Cn(Gn,Gn.current&1);break;case 19:if(p=(h&c.childLanes)!==0,(s.flags&128)!==0){if(p)return sM(s,c,h);c.flags|=128}if(S=c.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),Cn(Gn,Gn.current),p)break;return null;case 22:case 23:return c.lanes=0,eM(s,c,h)}return hs(s,c,h)}var lM,eb,cM,uM;lM=function(s,c){for(var h=c.child;h!==null;){if(h.tag===5||h.tag===6)s.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},eb=function(){},cM=function(s,c,h,p){var S=s.memoizedProps;if(S!==p){s=c.stateNode,nc(Oa.current);var k=null;switch(h){case"input":S=Ee(s,S),p=Ee(s,p),k=[];break;case"select":S=Y({},S,{value:void 0}),p=Y({},p,{value:void 0}),k=[];break;case"textarea":S=zo(s,S),p=zo(s,p),k=[];break;default:typeof S.onClick!="function"&&typeof p.onClick=="function"&&(s.onclick=sp)}gu(h,p);var L;h=null;for(de in S)if(!p.hasOwnProperty(de)&&S.hasOwnProperty(de)&&S[de]!=null)if(de==="style"){var J=S[de];for(L in J)J.hasOwnProperty(L)&&(h||(h={}),h[L]="")}else de!=="dangerouslySetInnerHTML"&&de!=="children"&&de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&de!=="autoFocus"&&(o.hasOwnProperty(de)?k||(k=[]):(k=k||[]).push(de,null));for(de in p){var K=p[de];if(J=S!=null?S[de]:void 0,p.hasOwnProperty(de)&&K!==J&&(K!=null||J!=null))if(de==="style")if(J){for(L in J)!J.hasOwnProperty(L)||K&&K.hasOwnProperty(L)||(h||(h={}),h[L]="");for(L in K)K.hasOwnProperty(L)&&J[L]!==K[L]&&(h||(h={}),h[L]=K[L])}else h||(k||(k=[]),k.push(de,h)),h=K;else de==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,J=J?J.__html:void 0,K!=null&&J!==K&&(k=k||[]).push(de,K)):de==="children"?typeof K!="string"&&typeof K!="number"||(k=k||[]).push(de,""+K):de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&(o.hasOwnProperty(de)?(K!=null&&de==="onScroll"&&On("scroll",s),k||J===K||(k=[])):(k=k||[]).push(de,K))}h&&(k=k||[]).push("style",h);var de=k;(c.updateQueue=de)&&(c.flags|=4)}},uM=function(s,c,h,p){h!==p&&(c.flags|=4)};function Qf(s,c){if(!Nn)switch(s.tailMode){case"hidden":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?s.tail=null:h.sibling=null;break;case"collapsed":h=s.tail;for(var p=null;h!==null;)h.alternate!==null&&(p=h),h=h.sibling;p===null?c||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function Ur(s){var c=s.alternate!==null&&s.alternate.child===s.child,h=0,p=0;if(c)for(var S=s.child;S!==null;)h|=S.lanes|S.childLanes,p|=S.subtreeFlags&14680064,p|=S.flags&14680064,S.return=s,S=S.sibling;else for(S=s.child;S!==null;)h|=S.lanes|S.childLanes,p|=S.subtreeFlags,p|=S.flags,S.return=s,S=S.sibling;return s.subtreeFlags|=p,s.childLanes=h,c}function dU(s,c,h){var p=c.pendingProps;switch(S_(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ur(c),null;case 1:return yo(c.type)&&cp(),Ur(c),null;case 3:return p=c.stateNode,Du(),Mn(vo),Mn($r),L_(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(mp(c)?c.flags|=4:s===null||s.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,zi!==null&&(db(zi),zi=null))),eb(s,c),Ur(c),null;case 5:T_(c);var S=nc($f.current);if(h=c.type,s!==null&&c.stateNode!=null)cM(s,c,h,p,S),s.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!p){if(c.stateNode===null)throw Error(n(166));return Ur(c),null}if(s=nc(Oa.current),mp(c)){p=c.stateNode,h=c.type;var k=c.memoizedProps;switch(p[xa]=c,p[Df]=k,s=(c.mode&1)!==0,h){case"dialog":On("cancel",p),On("close",p);break;case"iframe":case"object":case"embed":On("load",p);break;case"video":case"audio":for(S=0;S<Tf.length;S++)On(Tf[S],p);break;case"source":On("error",p);break;case"img":case"image":case"link":On("error",p),On("load",p);break;case"details":On("toggle",p);break;case"input":ft(p,k),On("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!k.multiple},On("invalid",p);break;case"textarea":Uo(p,k),On("invalid",p)}gu(h,k),S=null;for(var L in k)if(k.hasOwnProperty(L)){var J=k[L];L==="children"?typeof J=="string"?p.textContent!==J&&(k.suppressHydrationWarning!==!0&&ap(p.textContent,J,s),S=["children",J]):typeof J=="number"&&p.textContent!==""+J&&(k.suppressHydrationWarning!==!0&&ap(p.textContent,J,s),S=["children",""+J]):o.hasOwnProperty(L)&&J!=null&&L==="onScroll"&&On("scroll",p)}switch(h){case"input":le(p),dn(p,k,!0);break;case"textarea":le(p),Wl(p);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(p.onclick=sp)}p=S,c.updateQueue=p,p!==null&&(c.flags|=4)}else{L=S.nodeType===9?S:S.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Gi(h)),s==="http://www.w3.org/1999/xhtml"?h==="script"?(s=L.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof p.is=="string"?s=L.createElement(h,{is:p.is}):(s=L.createElement(h),h==="select"&&(L=s,p.multiple?L.multiple=!0:p.size&&(L.size=p.size))):s=L.createElementNS(s,h),s[xa]=c,s[Df]=p,lM(s,c,!1,!1),c.stateNode=s;e:{switch(L=pu(h,p),h){case"dialog":On("cancel",s),On("close",s),S=p;break;case"iframe":case"object":case"embed":On("load",s),S=p;break;case"video":case"audio":for(S=0;S<Tf.length;S++)On(Tf[S],s);S=p;break;case"source":On("error",s),S=p;break;case"img":case"image":case"link":On("error",s),On("load",s),S=p;break;case"details":On("toggle",s),S=p;break;case"input":ft(s,p),S=Ee(s,p),On("invalid",s);break;case"option":S=p;break;case"select":s._wrapperState={wasMultiple:!!p.multiple},S=Y({},p,{value:void 0}),On("invalid",s);break;case"textarea":Uo(s,p),S=zo(s,p),On("invalid",s);break;default:S=p}gu(h,S),J=S;for(k in J)if(J.hasOwnProperty(k)){var K=J[k];k==="style"?gf(s,K):k==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,K!=null&&mu(s,K)):k==="children"?typeof K=="string"?(h!=="textarea"||K!=="")&&as(s,K):typeof K=="number"&&as(s,""+K):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(o.hasOwnProperty(k)?K!=null&&k==="onScroll"&&On("scroll",s):K!=null&&C(s,k,K,L))}switch(h){case"input":le(s),dn(s,p,!1);break;case"textarea":le(s),Wl(s);break;case"option":p.value!=null&&s.setAttribute("value",""+Fe(p.value));break;case"select":s.multiple=!!p.multiple,k=p.value,k!=null?ur(s,!!p.multiple,k,!1):p.defaultValue!=null&&ur(s,!!p.multiple,p.defaultValue,!0);break;default:typeof S.onClick=="function"&&(s.onclick=sp)}switch(h){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Ur(c),null;case 6:if(s&&c.stateNode!=null)uM(s,c,s.memoizedProps,p);else{if(typeof p!="string"&&c.stateNode===null)throw Error(n(166));if(h=nc($f.current),nc(Oa.current),mp(c)){if(p=c.stateNode,h=c.memoizedProps,p[xa]=c,(k=p.nodeValue!==h)&&(s=qo,s!==null))switch(s.tag){case 3:ap(p.nodeValue,h,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&ap(p.nodeValue,h,(s.mode&1)!==0)}k&&(c.flags|=4)}else p=(h.nodeType===9?h:h.ownerDocument).createTextNode(p),p[xa]=c,c.stateNode=p}return Ur(c),null;case 13:if(Mn(Gn),p=c.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Nn&&Qo!==null&&(c.mode&1)!==0&&(c.flags&128)===0)h4(),Pu(),c.flags|=98560,k=!1;else if(k=mp(c),p!==null&&p.dehydrated!==null){if(s===null){if(!k)throw Error(n(318));if(k=c.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(n(317));k[xa]=c}else Pu(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Ur(c),k=!1}else zi!==null&&(db(zi),zi=null),k=!0;if(!k)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=h,c):(p=p!==null,p!==(s!==null&&s.memoizedState!==null)&&p&&(c.child.flags|=8192,(c.mode&1)!==0&&(s===null||(Gn.current&1)!==0?gr===0&&(gr=3):mb())),c.updateQueue!==null&&(c.flags|=4),Ur(c),null);case 4:return Du(),eb(s,c),s===null&&If(c.stateNode.containerInfo),Ur(c),null;case 10:return R_(c.type._context),Ur(c),null;case 17:return yo(c.type)&&cp(),Ur(c),null;case 19:if(Mn(Gn),k=c.memoizedState,k===null)return Ur(c),null;if(p=(c.flags&128)!==0,L=k.rendering,L===null)if(p)Qf(k,!1);else{if(gr!==0||s!==null&&(s.flags&128)!==0)for(s=c.child;s!==null;){if(L=bp(s),L!==null){for(c.flags|=128,Qf(k,!1),p=L.updateQueue,p!==null&&(c.updateQueue=p,c.flags|=4),c.subtreeFlags=0,p=h,h=c.child;h!==null;)k=h,s=p,k.flags&=14680066,L=k.alternate,L===null?(k.childLanes=0,k.lanes=s,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=L.childLanes,k.lanes=L.lanes,k.child=L.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=L.memoizedProps,k.memoizedState=L.memoizedState,k.updateQueue=L.updateQueue,k.type=L.type,s=L.dependencies,k.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),h=h.sibling;return Cn(Gn,Gn.current&1|2),c.child}s=s.sibling}k.tail!==null&&rr()>ju&&(c.flags|=128,p=!0,Qf(k,!1),c.lanes=4194304)}else{if(!p)if(s=bp(L),s!==null){if(c.flags|=128,p=!0,h=s.updateQueue,h!==null&&(c.updateQueue=h,c.flags|=4),Qf(k,!0),k.tail===null&&k.tailMode==="hidden"&&!L.alternate&&!Nn)return Ur(c),null}else 2*rr()-k.renderingStartTime>ju&&h!==1073741824&&(c.flags|=128,p=!0,Qf(k,!1),c.lanes=4194304);k.isBackwards?(L.sibling=c.child,c.child=L):(h=k.last,h!==null?h.sibling=L:c.child=L,k.last=L)}return k.tail!==null?(c=k.tail,k.rendering=c,k.tail=c.sibling,k.renderingStartTime=rr(),c.sibling=null,h=Gn.current,Cn(Gn,p?h&1|2:h&1),c):(Ur(c),null);case 22:case 23:return hb(),p=c.memoizedState!==null,s!==null&&s.memoizedState!==null!==p&&(c.flags|=8192),p&&(c.mode&1)!==0?(Ho&1073741824)!==0&&(Ur(c),c.subtreeFlags&6&&(c.flags|=8192)):Ur(c),null;case 24:return null;case 25:return null}throw Error(n(156,c.tag))}function fU(s,c){switch(S_(c),c.tag){case 1:return yo(c.type)&&cp(),s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 3:return Du(),Mn(vo),Mn($r),L_(),s=c.flags,(s&65536)!==0&&(s&128)===0?(c.flags=s&-65537|128,c):null;case 5:return T_(c),null;case 13:if(Mn(Gn),s=c.memoizedState,s!==null&&s.dehydrated!==null){if(c.alternate===null)throw Error(n(340));Pu()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 19:return Mn(Gn),null;case 4:return Du(),null;case 10:return R_(c.type._context),null;case 22:case 23:return hb(),null;case 24:return null;default:return null}}var xp=!1,Vr=!1,hU=typeof WeakSet=="function"?WeakSet:Set,et=null;function Fu(s,c){var h=s.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(p){Wn(s,c,p)}else h.current=null}function tb(s,c,h){try{h()}catch(p){Wn(s,c,p)}}var dM=!1;function mU(s,c){if(h_=Jg,s=UO(),i_(s)){if("selectionStart"in s)var h={start:s.selectionStart,end:s.selectionEnd};else e:{h=(h=s.ownerDocument)&&h.defaultView||window;var p=h.getSelection&&h.getSelection();if(p&&p.rangeCount!==0){h=p.anchorNode;var S=p.anchorOffset,k=p.focusNode;p=p.focusOffset;try{h.nodeType,k.nodeType}catch{h=null;break e}var L=0,J=-1,K=-1,de=0,Ae=0,ke=s,Se=null;t:for(;;){for(var Je;ke!==h||S!==0&&ke.nodeType!==3||(J=L+S),ke!==k||p!==0&&ke.nodeType!==3||(K=L+p),ke.nodeType===3&&(L+=ke.nodeValue.length),(Je=ke.firstChild)!==null;)Se=ke,ke=Je;for(;;){if(ke===s)break t;if(Se===h&&++de===S&&(J=L),Se===k&&++Ae===p&&(K=L),(Je=ke.nextSibling)!==null)break;ke=Se,Se=ke.parentNode}ke=Je}h=J===-1||K===-1?null:{start:J,end:K}}else h=null}h=h||{start:0,end:0}}else h=null;for(m_={focusedElem:s,selectionRange:h},Jg=!1,et=c;et!==null;)if(c=et,s=c.child,(c.subtreeFlags&1028)!==0&&s!==null)s.return=c,et=s;else for(;et!==null;){c=et;try{var nt=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(nt!==null){var it=nt.memoizedProps,or=nt.memoizedState,ie=c.stateNode,ee=ie.getSnapshotBeforeUpdate(c.elementType===c.type?it:Ui(c.type,it),or);ie.__reactInternalSnapshotBeforeUpdate=ee}break;case 3:var ae=c.stateNode.containerInfo;ae.nodeType===1?ae.textContent="":ae.nodeType===9&&ae.documentElement&&ae.removeChild(ae.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Oe){Wn(c,c.return,Oe)}if(s=c.sibling,s!==null){s.return=c.return,et=s;break}et=c.return}return nt=dM,dM=!1,nt}function Hf(s,c,h){var p=c.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var S=p=p.next;do{if((S.tag&s)===s){var k=S.destroy;S.destroy=void 0,k!==void 0&&tb(c,h,k)}S=S.next}while(S!==p)}}function Op(s,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&s)===s){var p=h.create;h.destroy=p()}h=h.next}while(h!==c)}}function nb(s){var c=s.ref;if(c!==null){var h=s.stateNode;switch(s.tag){case 5:s=h;break;default:s=h}typeof c=="function"?c(s):c.current=s}}function fM(s){var c=s.alternate;c!==null&&(s.alternate=null,fM(c)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(c=s.stateNode,c!==null&&(delete c[xa],delete c[Df],delete c[y_],delete c[Zz],delete c[Yz])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function hM(s){return s.tag===5||s.tag===3||s.tag===4}function mM(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||hM(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function rb(s,c,h){var p=s.tag;if(p===5||p===6)s=s.stateNode,c?h.nodeType===8?h.parentNode.insertBefore(s,c):h.insertBefore(s,c):(h.nodeType===8?(c=h.parentNode,c.insertBefore(s,h)):(c=h,c.appendChild(s)),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=sp));else if(p!==4&&(s=s.child,s!==null))for(rb(s,c,h),s=s.sibling;s!==null;)rb(s,c,h),s=s.sibling}function ob(s,c,h){var p=s.tag;if(p===5||p===6)s=s.stateNode,c?h.insertBefore(s,c):h.appendChild(s);else if(p!==4&&(s=s.child,s!==null))for(ob(s,c,h),s=s.sibling;s!==null;)ob(s,c,h),s=s.sibling}var Lr=null,Vi=!1;function rl(s,c,h){for(h=h.child;h!==null;)gM(s,c,h),h=h.sibling}function gM(s,c,h){if(Ra&&typeof Ra.onCommitFiberUnmount=="function")try{Ra.onCommitFiberUnmount(Ug,h)}catch{}switch(h.tag){case 5:Vr||Fu(h,c);case 6:var p=Lr,S=Vi;Lr=null,rl(s,c,h),Lr=p,Vi=S,Lr!==null&&(Vi?(s=Lr,h=h.stateNode,s.nodeType===8?s.parentNode.removeChild(h):s.removeChild(h)):Lr.removeChild(h.stateNode));break;case 18:Lr!==null&&(Vi?(s=Lr,h=h.stateNode,s.nodeType===8?v_(s.parentNode,h):s.nodeType===1&&v_(s,h),kf(s)):v_(Lr,h.stateNode));break;case 4:p=Lr,S=Vi,Lr=h.stateNode.containerInfo,Vi=!0,rl(s,c,h),Lr=p,Vi=S;break;case 0:case 11:case 14:case 15:if(!Vr&&(p=h.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){S=p=p.next;do{var k=S,L=k.destroy;k=k.tag,L!==void 0&&((k&2)!==0||(k&4)!==0)&&tb(h,c,L),S=S.next}while(S!==p)}rl(s,c,h);break;case 1:if(!Vr&&(Fu(h,c),p=h.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=h.memoizedProps,p.state=h.memoizedState,p.componentWillUnmount()}catch(J){Wn(h,c,J)}rl(s,c,h);break;case 21:rl(s,c,h);break;case 22:h.mode&1?(Vr=(p=Vr)||h.memoizedState!==null,rl(s,c,h),Vr=p):rl(s,c,h);break;default:rl(s,c,h)}}function pM(s){var c=s.updateQueue;if(c!==null){s.updateQueue=null;var h=s.stateNode;h===null&&(h=s.stateNode=new hU),c.forEach(function(p){var S=AU.bind(null,s,p);h.has(p)||(h.add(p),p.then(S,S))})}}function qi(s,c){var h=c.deletions;if(h!==null)for(var p=0;p<h.length;p++){var S=h[p];try{var k=s,L=c,J=L;e:for(;J!==null;){switch(J.tag){case 5:Lr=J.stateNode,Vi=!1;break e;case 3:Lr=J.stateNode.containerInfo,Vi=!0;break e;case 4:Lr=J.stateNode.containerInfo,Vi=!0;break e}J=J.return}if(Lr===null)throw Error(n(160));gM(k,L,S),Lr=null,Vi=!1;var K=S.alternate;K!==null&&(K.return=null),S.return=null}catch(de){Wn(S,c,de)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)vM(c,s),c=c.sibling}function vM(s,c){var h=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(qi(c,s),Pa(s),p&4){try{Hf(3,s,s.return),Op(3,s)}catch(it){Wn(s,s.return,it)}try{Hf(5,s,s.return)}catch(it){Wn(s,s.return,it)}}break;case 1:qi(c,s),Pa(s),p&512&&h!==null&&Fu(h,h.return);break;case 5:if(qi(c,s),Pa(s),p&512&&h!==null&&Fu(h,h.return),s.flags&32){var S=s.stateNode;try{as(S,"")}catch(it){Wn(s,s.return,it)}}if(p&4&&(S=s.stateNode,S!=null)){var k=s.memoizedProps,L=h!==null?h.memoizedProps:k,J=s.type,K=s.updateQueue;if(s.updateQueue=null,K!==null)try{J==="input"&&k.type==="radio"&&k.name!=null&&Kt(S,k),pu(J,L);var de=pu(J,k);for(L=0;L<K.length;L+=2){var Ae=K[L],ke=K[L+1];Ae==="style"?gf(S,ke):Ae==="dangerouslySetInnerHTML"?mu(S,ke):Ae==="children"?as(S,ke):C(S,Ae,ke,de)}switch(J){case"input":Fn(S,k);break;case"textarea":Vs(S,k);break;case"select":var Se=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!k.multiple;var Je=k.value;Je!=null?ur(S,!!k.multiple,Je,!1):Se!==!!k.multiple&&(k.defaultValue!=null?ur(S,!!k.multiple,k.defaultValue,!0):ur(S,!!k.multiple,k.multiple?[]:"",!1))}S[Df]=k}catch(it){Wn(s,s.return,it)}}break;case 6:if(qi(c,s),Pa(s),p&4){if(s.stateNode===null)throw Error(n(162));S=s.stateNode,k=s.memoizedProps;try{S.nodeValue=k}catch(it){Wn(s,s.return,it)}}break;case 3:if(qi(c,s),Pa(s),p&4&&h!==null&&h.memoizedState.isDehydrated)try{kf(c.containerInfo)}catch(it){Wn(s,s.return,it)}break;case 4:qi(c,s),Pa(s);break;case 13:qi(c,s),Pa(s),S=s.child,S.flags&8192&&(k=S.memoizedState!==null,S.stateNode.isHidden=k,!k||S.alternate!==null&&S.alternate.memoizedState!==null||(sb=rr())),p&4&&pM(s);break;case 22:if(Ae=h!==null&&h.memoizedState!==null,s.mode&1?(Vr=(de=Vr)||Ae,qi(c,s),Vr=de):qi(c,s),Pa(s),p&8192){if(de=s.memoizedState!==null,(s.stateNode.isHidden=de)&&!Ae&&(s.mode&1)!==0)for(et=s,Ae=s.child;Ae!==null;){for(ke=et=Ae;et!==null;){switch(Se=et,Je=Se.child,Se.tag){case 0:case 11:case 14:case 15:Hf(4,Se,Se.return);break;case 1:Fu(Se,Se.return);var nt=Se.stateNode;if(typeof nt.componentWillUnmount=="function"){p=Se,h=Se.return;try{c=p,nt.props=c.memoizedProps,nt.state=c.memoizedState,nt.componentWillUnmount()}catch(it){Wn(p,h,it)}}break;case 5:Fu(Se,Se.return);break;case 22:if(Se.memoizedState!==null){bM(ke);continue}}Je!==null?(Je.return=Se,et=Je):bM(ke)}Ae=Ae.sibling}e:for(Ae=null,ke=s;;){if(ke.tag===5){if(Ae===null){Ae=ke;try{S=ke.stateNode,de?(k=S.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(J=ke.stateNode,K=ke.memoizedProps.style,L=K!=null&&K.hasOwnProperty("display")?K.display:null,J.style.display=mf("display",L))}catch(it){Wn(s,s.return,it)}}}else if(ke.tag===6){if(Ae===null)try{ke.stateNode.nodeValue=de?"":ke.memoizedProps}catch(it){Wn(s,s.return,it)}}else if((ke.tag!==22&&ke.tag!==23||ke.memoizedState===null||ke===s)&&ke.child!==null){ke.child.return=ke,ke=ke.child;continue}if(ke===s)break e;for(;ke.sibling===null;){if(ke.return===null||ke.return===s)break e;Ae===ke&&(Ae=null),ke=ke.return}Ae===ke&&(Ae=null),ke.sibling.return=ke.return,ke=ke.sibling}}break;case 19:qi(c,s),Pa(s),p&4&&pM(s);break;case 21:break;default:qi(c,s),Pa(s)}}function Pa(s){var c=s.flags;if(c&2){try{e:{for(var h=s.return;h!==null;){if(hM(h)){var p=h;break e}h=h.return}throw Error(n(160))}switch(p.tag){case 5:var S=p.stateNode;p.flags&32&&(as(S,""),p.flags&=-33);var k=mM(s);ob(s,k,S);break;case 3:case 4:var L=p.stateNode.containerInfo,J=mM(s);rb(s,J,L);break;default:throw Error(n(161))}}catch(K){Wn(s,s.return,K)}s.flags&=-3}c&4096&&(s.flags&=-4097)}function gU(s,c,h){et=s,yM(s)}function yM(s,c,h){for(var p=(s.mode&1)!==0;et!==null;){var S=et,k=S.child;if(S.tag===22&&p){var L=S.memoizedState!==null||xp;if(!L){var J=S.alternate,K=J!==null&&J.memoizedState!==null||Vr;J=xp;var de=Vr;if(xp=L,(Vr=K)&&!de)for(et=S;et!==null;)L=et,K=L.child,L.tag===22&&L.memoizedState!==null?wM(S):K!==null?(K.return=L,et=K):wM(S);for(;k!==null;)et=k,yM(k),k=k.sibling;et=S,xp=J,Vr=de}_M(s)}else(S.subtreeFlags&8772)!==0&&k!==null?(k.return=S,et=k):_M(s)}}function _M(s){for(;et!==null;){var c=et;if((c.flags&8772)!==0){var h=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:Vr||Op(5,c);break;case 1:var p=c.stateNode;if(c.flags&4&&!Vr)if(h===null)p.componentDidMount();else{var S=c.elementType===c.type?h.memoizedProps:Ui(c.type,h.memoizedProps);p.componentDidUpdate(S,h.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var k=c.updateQueue;k!==null&&b4(c,k,p);break;case 3:var L=c.updateQueue;if(L!==null){if(h=null,c.child!==null)switch(c.child.tag){case 5:h=c.child.stateNode;break;case 1:h=c.child.stateNode}b4(c,L,h)}break;case 5:var J=c.stateNode;if(h===null&&c.flags&4){h=J;var K=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":K.autoFocus&&h.focus();break;case"img":K.src&&(h.src=K.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var de=c.alternate;if(de!==null){var Ae=de.memoizedState;if(Ae!==null){var ke=Ae.dehydrated;ke!==null&&kf(ke)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Vr||c.flags&512&&nb(c)}catch(Se){Wn(c,c.return,Se)}}if(c===s){et=null;break}if(h=c.sibling,h!==null){h.return=c.return,et=h;break}et=c.return}}function bM(s){for(;et!==null;){var c=et;if(c===s){et=null;break}var h=c.sibling;if(h!==null){h.return=c.return,et=h;break}et=c.return}}function wM(s){for(;et!==null;){var c=et;try{switch(c.tag){case 0:case 11:case 15:var h=c.return;try{Op(4,c)}catch(K){Wn(c,h,K)}break;case 1:var p=c.stateNode;if(typeof p.componentDidMount=="function"){var S=c.return;try{p.componentDidMount()}catch(K){Wn(c,S,K)}}var k=c.return;try{nb(c)}catch(K){Wn(c,k,K)}break;case 5:var L=c.return;try{nb(c)}catch(K){Wn(c,L,K)}}}catch(K){Wn(c,c.return,K)}if(c===s){et=null;break}var J=c.sibling;if(J!==null){J.return=c.return,et=J;break}et=c.return}}var pU=Math.ceil,Mp=M.ReactCurrentDispatcher,ib=M.ReactCurrentOwner,hi=M.ReactCurrentBatchConfig,on=0,Er=null,dr=null,Dr=0,Ho=0,Gu=Ks(0),gr=0,Wf=null,oc=0,Pp=0,ab=0,Jf=null,bo=null,sb=0,ju=1/0,ms=null,Tp=!1,lb=null,ol=null,Ip=!1,il=null,Lp=0,Zf=0,cb=null,Dp=-1,Np=0;function ro(){return(on&6)!==0?rr():Dp!==-1?Dp:Dp=rr()}function al(s){return(s.mode&1)===0?1:(on&2)!==0&&Dr!==0?Dr&-Dr:Xz.transition!==null?(Np===0&&(Np=mO()),Np):(s=vn,s!==0||(s=window.event,s=s===void 0?16:AO(s.type)),s)}function Qi(s,c,h,p){if(50<Zf)throw Zf=0,cb=null,Error(n(185));bf(s,h,p),((on&2)===0||s!==Er)&&(s===Er&&((on&2)===0&&(Pp|=h),gr===4&&sl(s,Dr)),wo(s,p),h===1&&on===0&&(c.mode&1)===0&&(ju=rr()+500,dp&&el()))}function wo(s,c){var h=s.callbackNode;X$(s,c);var p=Qg(s,s===Er?Dr:0);if(p===0)h!==null&&dO(h),s.callbackNode=null,s.callbackPriority=0;else if(c=p&-p,s.callbackPriority!==c){if(h!=null&&dO(h),c===1)s.tag===0?Kz(AM.bind(null,s)):l4(AM.bind(null,s)),Wz(function(){(on&6)===0&&el()}),h=null;else{switch(gO(p)){case 1:h=z1;break;case 4:h=fO;break;case 16:h=zg;break;case 536870912:h=hO;break;default:h=zg}h=MM(h,SM.bind(null,s))}s.callbackPriority=c,s.callbackNode=h}}function SM(s,c){if(Dp=-1,Np=0,(on&6)!==0)throw Error(n(327));var h=s.callbackNode;if($u()&&s.callbackNode!==h)return null;var p=Qg(s,s===Er?Dr:0);if(p===0)return null;if((p&30)!==0||(p&s.expiredLanes)!==0||c)c=Fp(s,p);else{c=p;var S=on;on|=2;var k=kM();(Er!==s||Dr!==c)&&(ms=null,ju=rr()+500,ac(s,c));do try{_U();break}catch(J){CM(s,J)}while(!0);B_(),Mp.current=k,on=S,dr!==null?c=0:(Er=null,Dr=0,c=gr)}if(c!==0){if(c===2&&(S=U1(s),S!==0&&(p=S,c=ub(s,S))),c===1)throw h=Wf,ac(s,0),sl(s,p),wo(s,rr()),h;if(c===6)sl(s,p);else{if(S=s.current.alternate,(p&30)===0&&!vU(S)&&(c=Fp(s,p),c===2&&(k=U1(s),k!==0&&(p=k,c=ub(s,k))),c===1))throw h=Wf,ac(s,0),sl(s,p),wo(s,rr()),h;switch(s.finishedWork=S,s.finishedLanes=p,c){case 0:case 1:throw Error(n(345));case 2:sc(s,bo,ms);break;case 3:if(sl(s,p),(p&130023424)===p&&(c=sb+500-rr(),10<c)){if(Qg(s,0)!==0)break;if(S=s.suspendedLanes,(S&p)!==p){ro(),s.pingedLanes|=s.suspendedLanes&S;break}s.timeoutHandle=p_(sc.bind(null,s,bo,ms),c);break}sc(s,bo,ms);break;case 4:if(sl(s,p),(p&4194240)===p)break;for(c=s.eventTimes,S=-1;0<p;){var L=31-ji(p);k=1<<L,L=c[L],L>S&&(S=L),p&=~k}if(p=S,p=rr()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*pU(p/1960))-p,10<p){s.timeoutHandle=p_(sc.bind(null,s,bo,ms),p);break}sc(s,bo,ms);break;case 5:sc(s,bo,ms);break;default:throw Error(n(329))}}}return wo(s,rr()),s.callbackNode===h?SM.bind(null,s):null}function ub(s,c){var h=Jf;return s.current.memoizedState.isDehydrated&&(ac(s,c).flags|=256),s=Fp(s,c),s!==2&&(c=bo,bo=h,c!==null&&db(c)),s}function db(s){bo===null?bo=s:bo.push.apply(bo,s)}function vU(s){for(var c=s;;){if(c.flags&16384){var h=c.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var p=0;p<h.length;p++){var S=h[p],k=S.getSnapshot;S=S.value;try{if(!$i(k(),S))return!1}catch{return!1}}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function sl(s,c){for(c&=~ab,c&=~Pp,s.suspendedLanes|=c,s.pingedLanes&=~c,s=s.expirationTimes;0<c;){var h=31-ji(c),p=1<<h;s[h]=-1,c&=~p}}function AM(s){if((on&6)!==0)throw Error(n(327));$u();var c=Qg(s,0);if((c&1)===0)return wo(s,rr()),null;var h=Fp(s,c);if(s.tag!==0&&h===2){var p=U1(s);p!==0&&(c=p,h=ub(s,p))}if(h===1)throw h=Wf,ac(s,0),sl(s,c),wo(s,rr()),h;if(h===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=c,sc(s,bo,ms),wo(s,rr()),null}function fb(s,c){var h=on;on|=1;try{return s(c)}finally{on=h,on===0&&(ju=rr()+500,dp&&el())}}function ic(s){il!==null&&il.tag===0&&(on&6)===0&&$u();var c=on;on|=1;var h=hi.transition,p=vn;try{if(hi.transition=null,vn=1,s)return s()}finally{vn=p,hi.transition=h,on=c,(on&6)===0&&el()}}function hb(){Ho=Gu.current,Mn(Gu)}function ac(s,c){s.finishedWork=null,s.finishedLanes=0;var h=s.timeoutHandle;if(h!==-1&&(s.timeoutHandle=-1,Hz(h)),dr!==null)for(h=dr.return;h!==null;){var p=h;switch(S_(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&cp();break;case 3:Du(),Mn(vo),Mn($r),L_();break;case 5:T_(p);break;case 4:Du();break;case 13:Mn(Gn);break;case 19:Mn(Gn);break;case 10:R_(p.type._context);break;case 22:case 23:hb()}h=h.return}if(Er=s,dr=s=ll(s.current,null),Dr=Ho=c,gr=0,Wf=null,ab=Pp=oc=0,bo=Jf=null,tc!==null){for(c=0;c<tc.length;c++)if(h=tc[c],p=h.interleaved,p!==null){h.interleaved=null;var S=p.next,k=h.pending;if(k!==null){var L=k.next;k.next=S,p.next=L}h.pending=p}tc=null}return s}function CM(s,c){do{var h=dr;try{if(B_(),wp.current=kp,Sp){for(var p=jn.memoizedState;p!==null;){var S=p.queue;S!==null&&(S.pending=null),p=p.next}Sp=!1}if(rc=0,kr=mr=jn=null,zf=!1,Uf=0,ib.current=null,h===null||h.return===null){gr=1,Wf=c,dr=null;break}e:{var k=s,L=h.return,J=h,K=c;if(c=Dr,J.flags|=32768,K!==null&&typeof K=="object"&&typeof K.then=="function"){var de=K,Ae=J,ke=Ae.tag;if((Ae.mode&1)===0&&(ke===0||ke===11||ke===15)){var Se=Ae.alternate;Se?(Ae.updateQueue=Se.updateQueue,Ae.memoizedState=Se.memoizedState,Ae.lanes=Se.lanes):(Ae.updateQueue=null,Ae.memoizedState=null)}var Je=J4(L);if(Je!==null){Je.flags&=-257,Z4(Je,L,J,k,c),Je.mode&1&&W4(k,de,c),c=Je,K=de;var nt=c.updateQueue;if(nt===null){var it=new Set;it.add(K),c.updateQueue=it}else nt.add(K);break e}else{if((c&1)===0){W4(k,de,c),mb();break e}K=Error(n(426))}}else if(Nn&&J.mode&1){var or=J4(L);if(or!==null){(or.flags&65536)===0&&(or.flags|=256),Z4(or,L,J,k,c),k_(Nu(K,J));break e}}k=K=Nu(K,J),gr!==4&&(gr=2),Jf===null?Jf=[k]:Jf.push(k),k=L;do{switch(k.tag){case 3:k.flags|=65536,c&=-c,k.lanes|=c;var ie=Q4(k,K,c);_4(k,ie);break e;case 1:J=K;var ee=k.type,ae=k.stateNode;if((k.flags&128)===0&&(typeof ee.getDerivedStateFromError=="function"||ae!==null&&typeof ae.componentDidCatch=="function"&&(ol===null||!ol.has(ae)))){k.flags|=65536,c&=-c,k.lanes|=c;var Oe=H4(k,J,c);_4(k,Oe);break e}}k=k.return}while(k!==null)}BM(h)}catch(ct){c=ct,dr===h&&h!==null&&(dr=h=h.return);continue}break}while(!0)}function kM(){var s=Mp.current;return Mp.current=kp,s===null?kp:s}function mb(){(gr===0||gr===3||gr===2)&&(gr=4),Er===null||(oc&268435455)===0&&(Pp&268435455)===0||sl(Er,Dr)}function Fp(s,c){var h=on;on|=2;var p=kM();(Er!==s||Dr!==c)&&(ms=null,ac(s,c));do try{yU();break}catch(S){CM(s,S)}while(!0);if(B_(),on=h,Mp.current=p,dr!==null)throw Error(n(261));return Er=null,Dr=0,gr}function yU(){for(;dr!==null;)EM(dr)}function _U(){for(;dr!==null&&!V$();)EM(dr)}function EM(s){var c=OM(s.alternate,s,Ho);s.memoizedProps=s.pendingProps,c===null?BM(s):dr=c,ib.current=null}function BM(s){var c=s;do{var h=c.alternate;if(s=c.return,(c.flags&32768)===0){if(h=dU(h,c,Ho),h!==null){dr=h;return}}else{if(h=fU(h,c),h!==null){h.flags&=32767,dr=h;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{gr=6,dr=null;return}}if(c=c.sibling,c!==null){dr=c;return}dr=c=s}while(c!==null);gr===0&&(gr=5)}function sc(s,c,h){var p=vn,S=hi.transition;try{hi.transition=null,vn=1,bU(s,c,h,p)}finally{hi.transition=S,vn=p}return null}function bU(s,c,h,p){do $u();while(il!==null);if((on&6)!==0)throw Error(n(327));h=s.finishedWork;var S=s.finishedLanes;if(h===null)return null;if(s.finishedWork=null,s.finishedLanes=0,h===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var k=h.lanes|h.childLanes;if(ez(s,k),s===Er&&(dr=Er=null,Dr=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||Ip||(Ip=!0,MM(zg,function(){return $u(),null})),k=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||k){k=hi.transition,hi.transition=null;var L=vn;vn=1;var J=on;on|=4,ib.current=null,mU(s,h),vM(h,s),jz(m_),Jg=!!h_,m_=h_=null,s.current=h,gU(h),q$(),on=J,vn=L,hi.transition=k}else s.current=h;if(Ip&&(Ip=!1,il=s,Lp=S),k=s.pendingLanes,k===0&&(ol=null),W$(h.stateNode),wo(s,rr()),c!==null)for(p=s.onRecoverableError,h=0;h<c.length;h++)S=c[h],p(S.value,{componentStack:S.stack,digest:S.digest});if(Tp)throw Tp=!1,s=lb,lb=null,s;return(Lp&1)!==0&&s.tag!==0&&$u(),k=s.pendingLanes,(k&1)!==0?s===cb?Zf++:(Zf=0,cb=s):Zf=0,el(),null}function $u(){if(il!==null){var s=gO(Lp),c=hi.transition,h=vn;try{if(hi.transition=null,vn=16>s?16:s,il===null)var p=!1;else{if(s=il,il=null,Lp=0,(on&6)!==0)throw Error(n(331));var S=on;for(on|=4,et=s.current;et!==null;){var k=et,L=k.child;if((et.flags&16)!==0){var J=k.deletions;if(J!==null){for(var K=0;K<J.length;K++){var de=J[K];for(et=de;et!==null;){var Ae=et;switch(Ae.tag){case 0:case 11:case 15:Hf(8,Ae,k)}var ke=Ae.child;if(ke!==null)ke.return=Ae,et=ke;else for(;et!==null;){Ae=et;var Se=Ae.sibling,Je=Ae.return;if(fM(Ae),Ae===de){et=null;break}if(Se!==null){Se.return=Je,et=Se;break}et=Je}}}var nt=k.alternate;if(nt!==null){var it=nt.child;if(it!==null){nt.child=null;do{var or=it.sibling;it.sibling=null,it=or}while(it!==null)}}et=k}}if((k.subtreeFlags&2064)!==0&&L!==null)L.return=k,et=L;else e:for(;et!==null;){if(k=et,(k.flags&2048)!==0)switch(k.tag){case 0:case 11:case 15:Hf(9,k,k.return)}var ie=k.sibling;if(ie!==null){ie.return=k.return,et=ie;break e}et=k.return}}var ee=s.current;for(et=ee;et!==null;){L=et;var ae=L.child;if((L.subtreeFlags&2064)!==0&&ae!==null)ae.return=L,et=ae;else e:for(L=ee;et!==null;){if(J=et,(J.flags&2048)!==0)try{switch(J.tag){case 0:case 11:case 15:Op(9,J)}}catch(ct){Wn(J,J.return,ct)}if(J===L){et=null;break e}var Oe=J.sibling;if(Oe!==null){Oe.return=J.return,et=Oe;break e}et=J.return}}if(on=S,el(),Ra&&typeof Ra.onPostCommitFiberRoot=="function")try{Ra.onPostCommitFiberRoot(Ug,s)}catch{}p=!0}return p}finally{vn=h,hi.transition=c}}return!1}function RM(s,c,h){c=Nu(h,c),c=Q4(s,c,1),s=nl(s,c,1),c=ro(),s!==null&&(bf(s,1,c),wo(s,c))}function Wn(s,c,h){if(s.tag===3)RM(s,s,h);else for(;c!==null;){if(c.tag===3){RM(c,s,h);break}else if(c.tag===1){var p=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(ol===null||!ol.has(p))){s=Nu(h,s),s=H4(c,s,1),c=nl(c,s,1),s=ro(),c!==null&&(bf(c,1,s),wo(c,s));break}}c=c.return}}function wU(s,c,h){var p=s.pingCache;p!==null&&p.delete(c),c=ro(),s.pingedLanes|=s.suspendedLanes&h,Er===s&&(Dr&h)===h&&(gr===4||gr===3&&(Dr&130023424)===Dr&&500>rr()-sb?ac(s,0):ab|=h),wo(s,c)}function xM(s,c){c===0&&((s.mode&1)===0?c=1:(c=qg,qg<<=1,(qg&130023424)===0&&(qg=4194304)));var h=ro();s=ds(s,c),s!==null&&(bf(s,c,h),wo(s,h))}function SU(s){var c=s.memoizedState,h=0;c!==null&&(h=c.retryLane),xM(s,h)}function AU(s,c){var h=0;switch(s.tag){case 13:var p=s.stateNode,S=s.memoizedState;S!==null&&(h=S.retryLane);break;case 19:p=s.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(c),xM(s,h)}var OM;OM=function(s,c,h){if(s!==null)if(s.memoizedProps!==c.pendingProps||vo.current)_o=!0;else{if((s.lanes&h)===0&&(c.flags&128)===0)return _o=!1,uU(s,c,h);_o=(s.flags&131072)!==0}else _o=!1,Nn&&(c.flags&1048576)!==0&&c4(c,hp,c.index);switch(c.lanes=0,c.tag){case 2:var p=c.type;Rp(s,c),s=c.pendingProps;var S=xu(c,$r.current);Lu(c,h),S=F_(null,c,p,s,S,h);var k=G_();return c.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,yo(p)?(k=!0,up(c)):k=!1,c.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,M_(c),S.updater=Ep,c.stateNode=S,S._reactInternals=c,q_(c,p,s,h),c=J_(null,c,p,!0,k,h)):(c.tag=0,Nn&&k&&w_(c),no(null,c,S,h),c=c.child),c;case 16:p=c.elementType;e:{switch(Rp(s,c),s=c.pendingProps,S=p._init,p=S(p._payload),c.type=p,S=c.tag=kU(p),s=Ui(p,s),S){case 0:c=W_(null,c,p,s,h);break e;case 1:c=nM(null,c,p,s,h);break e;case 11:c=Y4(null,c,p,s,h);break e;case 14:c=K4(null,c,p,Ui(p.type,s),h);break e}throw Error(n(306,p,""))}return c;case 0:return p=c.type,S=c.pendingProps,S=c.elementType===p?S:Ui(p,S),W_(s,c,p,S,h);case 1:return p=c.type,S=c.pendingProps,S=c.elementType===p?S:Ui(p,S),nM(s,c,p,S,h);case 3:e:{if(rM(c),s===null)throw Error(n(387));p=c.pendingProps,k=c.memoizedState,S=k.element,y4(s,c),_p(c,p,null,h);var L=c.memoizedState;if(p=L.element,k.isDehydrated)if(k={element:p,isDehydrated:!1,cache:L.cache,pendingSuspenseBoundaries:L.pendingSuspenseBoundaries,transitions:L.transitions},c.updateQueue.baseState=k,c.memoizedState=k,c.flags&256){S=Nu(Error(n(423)),c),c=oM(s,c,p,h,S);break e}else if(p!==S){S=Nu(Error(n(424)),c),c=oM(s,c,p,h,S);break e}else for(Qo=Ys(c.stateNode.containerInfo.firstChild),qo=c,Nn=!0,zi=null,h=p4(c,null,p,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Pu(),p===S){c=hs(s,c,h);break e}no(s,c,p,h)}c=c.child}return c;case 5:return w4(c),s===null&&C_(c),p=c.type,S=c.pendingProps,k=s!==null?s.memoizedProps:null,L=S.children,g_(p,S)?L=null:k!==null&&g_(p,k)&&(c.flags|=32),tM(s,c),no(s,c,L,h),c.child;case 6:return s===null&&C_(c),null;case 13:return iM(s,c,h);case 4:return P_(c,c.stateNode.containerInfo),p=c.pendingProps,s===null?c.child=Tu(c,null,p,h):no(s,c,p,h),c.child;case 11:return p=c.type,S=c.pendingProps,S=c.elementType===p?S:Ui(p,S),Y4(s,c,p,S,h);case 7:return no(s,c,c.pendingProps,h),c.child;case 8:return no(s,c,c.pendingProps.children,h),c.child;case 12:return no(s,c,c.pendingProps.children,h),c.child;case 10:e:{if(p=c.type._context,S=c.pendingProps,k=c.memoizedProps,L=S.value,Cn(pp,p._currentValue),p._currentValue=L,k!==null)if($i(k.value,L)){if(k.children===S.children&&!vo.current){c=hs(s,c,h);break e}}else for(k=c.child,k!==null&&(k.return=c);k!==null;){var J=k.dependencies;if(J!==null){L=k.child;for(var K=J.firstContext;K!==null;){if(K.context===p){if(k.tag===1){K=fs(-1,h&-h),K.tag=2;var de=k.updateQueue;if(de!==null){de=de.shared;var Ae=de.pending;Ae===null?K.next=K:(K.next=Ae.next,Ae.next=K),de.pending=K}}k.lanes|=h,K=k.alternate,K!==null&&(K.lanes|=h),x_(k.return,h,c),J.lanes|=h;break}K=K.next}}else if(k.tag===10)L=k.type===c.type?null:k.child;else if(k.tag===18){if(L=k.return,L===null)throw Error(n(341));L.lanes|=h,J=L.alternate,J!==null&&(J.lanes|=h),x_(L,h,c),L=k.sibling}else L=k.child;if(L!==null)L.return=k;else for(L=k;L!==null;){if(L===c){L=null;break}if(k=L.sibling,k!==null){k.return=L.return,L=k;break}L=L.return}k=L}no(s,c,S.children,h),c=c.child}return c;case 9:return S=c.type,p=c.pendingProps.children,Lu(c,h),S=di(S),p=p(S),c.flags|=1,no(s,c,p,h),c.child;case 14:return p=c.type,S=Ui(p,c.pendingProps),S=Ui(p.type,S),K4(s,c,p,S,h);case 15:return X4(s,c,c.type,c.pendingProps,h);case 17:return p=c.type,S=c.pendingProps,S=c.elementType===p?S:Ui(p,S),Rp(s,c),c.tag=1,yo(p)?(s=!0,up(c)):s=!1,Lu(c,h),V4(c,p,S),q_(c,p,S,h),J_(null,c,p,!0,s,h);case 19:return sM(s,c,h);case 22:return eM(s,c,h)}throw Error(n(156,c.tag))};function MM(s,c){return uO(s,c)}function CU(s,c,h,p){this.tag=s,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mi(s,c,h,p){return new CU(s,c,h,p)}function gb(s){return s=s.prototype,!(!s||!s.isReactComponent)}function kU(s){if(typeof s=="function")return gb(s)?1:0;if(s!=null){if(s=s.$$typeof,s===$)return 11;if(s===G)return 14}return 2}function ll(s,c){var h=s.alternate;return h===null?(h=mi(s.tag,c,s.key,s.mode),h.elementType=s.elementType,h.type=s.type,h.stateNode=s.stateNode,h.alternate=s,s.alternate=h):(h.pendingProps=c,h.type=s.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=s.flags&14680064,h.childLanes=s.childLanes,h.lanes=s.lanes,h.child=s.child,h.memoizedProps=s.memoizedProps,h.memoizedState=s.memoizedState,h.updateQueue=s.updateQueue,c=s.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=s.sibling,h.index=s.index,h.ref=s.ref,h}function Gp(s,c,h,p,S,k){var L=2;if(p=s,typeof s=="function")gb(s)&&(L=1);else if(typeof s=="string")L=5;else e:switch(s){case P:return lc(h.children,S,k,c);case B:L=8,S|=8;break;case R:return s=mi(12,h,c,S|2),s.elementType=R,s.lanes=k,s;case U:return s=mi(13,h,c,S),s.elementType=U,s.lanes=k,s;case j:return s=mi(19,h,c,S),s.elementType=j,s.lanes=k,s;case Q:return jp(h,S,k,c);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case x:L=10;break e;case D:L=9;break e;case $:L=11;break e;case G:L=14;break e;case q:L=16,p=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return c=mi(L,h,c,S),c.elementType=s,c.type=p,c.lanes=k,c}function lc(s,c,h,p){return s=mi(7,s,p,c),s.lanes=h,s}function jp(s,c,h,p){return s=mi(22,s,p,c),s.elementType=Q,s.lanes=h,s.stateNode={isHidden:!1},s}function pb(s,c,h){return s=mi(6,s,null,c),s.lanes=h,s}function vb(s,c,h){return c=mi(4,s.children!==null?s.children:[],s.key,c),c.lanes=h,c.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},c}function EU(s,c,h,p,S){this.tag=c,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=V1(0),this.expirationTimes=V1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=V1(0),this.identifierPrefix=p,this.onRecoverableError=S,this.mutableSourceEagerHydrationData=null}function yb(s,c,h,p,S,k,L,J,K){return s=new EU(s,c,h,J,K),c===1?(c=1,k===!0&&(c|=8)):c=0,k=mi(3,null,null,c),s.current=k,k.stateNode=s,k.memoizedState={element:p,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},M_(k),s}function BU(s,c,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:I,key:p==null?null:""+p,children:s,containerInfo:c,implementation:h}}function PM(s){if(!s)return Xs;s=s._reactInternals;e:{if(Zl(s)!==s||s.tag!==1)throw Error(n(170));var c=s;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(yo(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(n(171))}if(s.tag===1){var h=s.type;if(yo(h))return a4(s,h,c)}return c}function TM(s,c,h,p,S,k,L,J,K){return s=yb(h,p,!0,s,S,k,L,J,K),s.context=PM(null),h=s.current,p=ro(),S=al(h),k=fs(p,S),k.callback=c??null,nl(h,k,S),s.current.lanes=S,bf(s,S,p),wo(s,p),s}function $p(s,c,h,p){var S=c.current,k=ro(),L=al(S);return h=PM(h),c.context===null?c.context=h:c.pendingContext=h,c=fs(k,L),c.payload={element:s},p=p===void 0?null:p,p!==null&&(c.callback=p),s=nl(S,c,L),s!==null&&(Qi(s,S,L,k),yp(s,S,L)),L}function zp(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function IM(s,c){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var h=s.retryLane;s.retryLane=h!==0&&h<c?h:c}}function _b(s,c){IM(s,c),(s=s.alternate)&&IM(s,c)}function RU(){return null}var LM=typeof reportError=="function"?reportError:function(s){console.error(s)};function bb(s){this._internalRoot=s}Up.prototype.render=bb.prototype.render=function(s){var c=this._internalRoot;if(c===null)throw Error(n(409));$p(s,c,null,null)},Up.prototype.unmount=bb.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var c=s.containerInfo;ic(function(){$p(null,s,null,null)}),c[ss]=null}};function Up(s){this._internalRoot=s}Up.prototype.unstable_scheduleHydration=function(s){if(s){var c=yO();s={blockedOn:null,target:s,priority:c};for(var h=0;h<Ws.length&&c!==0&&c<Ws[h].priority;h++);Ws.splice(h,0,s),h===0&&wO(s)}};function wb(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Vp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function DM(){}function xU(s,c,h,p,S){if(S){if(typeof p=="function"){var k=p;p=function(){var de=zp(L);k.call(de)}}var L=TM(c,p,s,0,null,!1,!1,"",DM);return s._reactRootContainer=L,s[ss]=L.current,If(s.nodeType===8?s.parentNode:s),ic(),L}for(;S=s.lastChild;)s.removeChild(S);if(typeof p=="function"){var J=p;p=function(){var de=zp(K);J.call(de)}}var K=yb(s,0,!1,null,null,!1,!1,"",DM);return s._reactRootContainer=K,s[ss]=K.current,If(s.nodeType===8?s.parentNode:s),ic(function(){$p(c,K,h,p)}),K}function qp(s,c,h,p,S){var k=h._reactRootContainer;if(k){var L=k;if(typeof S=="function"){var J=S;S=function(){var K=zp(L);J.call(K)}}$p(c,L,s,S)}else L=xU(h,c,s,S,p);return zp(L)}pO=function(s){switch(s.tag){case 3:var c=s.stateNode;if(c.current.memoizedState.isDehydrated){var h=_f(c.pendingLanes);h!==0&&(q1(c,h|1),wo(c,rr()),(on&6)===0&&(ju=rr()+500,el()))}break;case 13:ic(function(){var p=ds(s,1);if(p!==null){var S=ro();Qi(p,s,1,S)}}),_b(s,1)}},Q1=function(s){if(s.tag===13){var c=ds(s,134217728);if(c!==null){var h=ro();Qi(c,s,134217728,h)}_b(s,134217728)}},vO=function(s){if(s.tag===13){var c=al(s),h=ds(s,c);if(h!==null){var p=ro();Qi(h,s,c,p)}_b(s,c)}},yO=function(){return vn},_O=function(s,c){var h=vn;try{return vn=s,c()}finally{vn=h}},F1=function(s,c,h){switch(c){case"input":if(Fn(s,h),c=h.name,h.type==="radio"&&c!=null){for(h=s;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<h.length;c++){var p=h[c];if(p!==s&&p.form===s.form){var S=lp(p);if(!S)throw Error(n(90));Ve(p),Fn(p,S)}}}break;case"textarea":Vs(s,h);break;case"select":c=h.value,c!=null&&ur(s,!!h.multiple,c,!1)}},rO=fb,oO=ic;var OU={usingClientEntryPoint:!1,Events:[Nf,Bu,lp,tO,nO,fb]},Yf={findFiberByHostInstance:Yl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MU={bundleType:Yf.bundleType,version:Yf.version,rendererPackageName:Yf.rendererPackageName,rendererConfig:Yf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=lO(s),s===null?null:s.stateNode},findFiberByHostInstance:Yf.findFiberByHostInstance||RU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qp.isDisabled&&Qp.supportsFiber)try{Ug=Qp.inject(MU),Ra=Qp}catch{}}return So.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OU,So.createPortal=function(s,c){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wb(c))throw Error(n(200));return BU(s,c,null,h)},So.createRoot=function(s,c){if(!wb(s))throw Error(n(299));var h=!1,p="",S=LM;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(p=c.identifierPrefix),c.onRecoverableError!==void 0&&(S=c.onRecoverableError)),c=yb(s,1,!1,null,null,h,!1,p,S),s[ss]=c.current,If(s.nodeType===8?s.parentNode:s),new bb(c)},So.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var c=s._reactInternals;if(c===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=lO(c),s=s===null?null:s.stateNode,s},So.flushSync=function(s){return ic(s)},So.hydrate=function(s,c,h){if(!Vp(c))throw Error(n(200));return qp(null,s,c,!0,h)},So.hydrateRoot=function(s,c,h){if(!wb(s))throw Error(n(405));var p=h!=null&&h.hydratedSources||null,S=!1,k="",L=LM;if(h!=null&&(h.unstable_strictMode===!0&&(S=!0),h.identifierPrefix!==void 0&&(k=h.identifierPrefix),h.onRecoverableError!==void 0&&(L=h.onRecoverableError)),c=TM(c,null,s,1,h??null,S,!1,k,L),s[ss]=c.current,If(s),p)for(s=0;s<p.length;s++)h=p[s],S=h._getVersion,S=S(h._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[h,S]:c.mutableSourceEagerHydrationData.push(h,S);return new Up(c)},So.render=function(s,c,h){if(!Vp(c))throw Error(n(200));return qp(null,s,c,!1,h)},So.unmountComponentAtNode=function(s){if(!Vp(s))throw Error(n(40));return s._reactRootContainer?(ic(function(){qp(null,null,s,!1,function(){s._reactRootContainer=null,s[ss]=null})}),!0):!1},So.unstable_batchedUpdates=fb,So.unstable_renderSubtreeIntoContainer=function(s,c,h,p){if(!Vp(h))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return qp(s,c,h,!1,p)},So.version="18.3.1-next-f1338f8080-20240426",So}var qM;function DN(){if(qM)return Cb.exports;qM=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Cb.exports=bV(),Cb.exports}var QM;function wV(){if(QM)return Hp;QM=1;var e=DN();return Hp.createRoot=e.createRoot,Hp.hydrateRoot=e.hydrateRoot,Hp}var SV=wV();const AV=to(SV),NN=()=>window.innerWidth<=350,FN=()=>window.innerWidth<=500,y0=()=>window.innerWidth/window.innerHeight<=1,GN=()=>window.innerWidth/window.innerHeight,jN=()=>({windowWidth:window.innerWidth,windowHeight:window.innerHeight}),CV="crazy-games-banner",rm=()=>{const e=y0(),t=!e;if(e)return window.innerWidth>=970?{width:970,height:90}:window.innerWidth>=728?{width:728,height:90}:window.innerWidth>=468?{width:468,height:60}:{width:320,height:50};if(t){if(window.innerHeight>=600)return{width:120,height:600};if(window.innerHeight>=400){if(window.innerWidth>=468)return{width:468,height:60};if(window.innerWidth>=320)return{width:320,height:50}}}return{width:0,height:0}},HM=()=>{const e=rm();return e.width>e.height},kV=!0,Ki=class Ki{static async request(){if(!jd()||LU()||kV)return!1}static hide(){}static show(){return Ki.request()}static clearBanner(){return null}};z(Ki,"prevSize",rm()),z(Ki,"size",rm()),z(Ki,"pending",!1),z(Ki,"playing",!1),z(Ki,"refreshTimer"),z(Ki,"waitTimer"),z(Ki,"lastUpdateTimestamp",new Date().getTime()),z(Ki,"isShowingAvailable",()=>!0);let ra=Ki;const EV=()=>{var t,n;return n2()&&((n=(t=window.gp)==null?void 0:t.ads)!=null&&n.isStickyPlaying)?110:0},BV=()=>0;let WM=0,JM=0;const id=()=>{const e=EV(),t=BV(),{bottom:n=0,left:r=0,top:o=0,right:i=0}=window.inset||{};document.body.style.paddingTop=`${o}px`,document.body.style.paddingBottom=`${n}px`,document.body.style.paddingLeft=`${r}px`,document.body.style.paddingRight=`${i}px`;const a=(window.innerHeight-e-(n+o))*.01,l=(window.innerWidth-t-(r+i))*.01;WM!==a&&(document.documentElement.style.setProperty("--vh",`${a}px`),WM=a),JM!==l&&(document.documentElement.style.setProperty("--vw",`${l}px`),JM=l)};window.errorLogTrackingFn=()=>{};window.ecommerceLayer=[];window.dataLayer=[];id();window.addEventListener("resize",id);!h0()&&!eg()&&(window.consoleSavedActions={log:console.log,warn:console.warn,info:console.info},console.log=()=>{},console.warn=()=>{},console.info=()=>{});async function lr(e){return new Promise(t=>{setTimeout(()=>{t(void 0)},e)})}const RV=(e,t)=>{const n={lastCall:0,lastCallTimer:0};return function(...o){let i=n.lastCall;n.lastCall=Date.now(),i&&n.lastCall-i<=t&&clearTimeout(n.lastCallTimer),n.lastCallTimer=setTimeout(()=>e(...o),t)}};function $N(e,t){return function(){return e.apply(t,arguments)}}const{toString:xV}=Object.prototype,{getPrototypeOf:s2}=Object,_0=(e=>t=>{const n=xV.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Sa=e=>(e=e.toLowerCase(),t=>_0(t)===e),b0=e=>t=>typeof t===e,{isArray:zd}=Array,om=b0("undefined");function OV(e){return e!==null&&!om(e)&&e.constructor!==null&&!om(e.constructor)&&ti(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const zN=Sa("ArrayBuffer");function MV(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&zN(e.buffer),t}const PV=b0("string"),ti=b0("function"),UN=b0("number"),w0=e=>e!==null&&typeof e=="object",TV=e=>e===!0||e===!1,Ev=e=>{if(_0(e)!=="object")return!1;const t=s2(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},IV=Sa("Date"),LV=Sa("File"),DV=Sa("Blob"),NV=Sa("FileList"),FV=e=>w0(e)&&ti(e.pipe),GV=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ti(e.append)&&((t=_0(e))==="formdata"||t==="object"&&ti(e.toString)&&e.toString()==="[object FormData]"))},jV=Sa("URLSearchParams"),[$V,zV,UV,VV]=["ReadableStream","Request","Response","Headers"].map(Sa),qV=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function tg(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,o;if(typeof e!="object"&&(e=[e]),zd(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),a=i.length;let l;for(r=0;r<a;r++)l=i[r],t.call(null,e[l],l,e)}}function VN(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,o;for(;r-- >0;)if(o=n[r],t===o.toLowerCase())return o;return null}const Bc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,qN=e=>!om(e)&&e!==Bc;function Wk(){const{caseless:e}=qN(this)&&this||{},t={},n=(r,o)=>{const i=e&&VN(t,o)||o;Ev(t[i])&&Ev(r)?t[i]=Wk(t[i],r):Ev(r)?t[i]=Wk({},r):zd(r)?t[i]=r.slice():t[i]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&tg(arguments[r],n);return t}const QV=(e,t,n,{allOwnKeys:r}={})=>(tg(t,(o,i)=>{n&&ti(o)?e[i]=$N(o,n):e[i]=o},{allOwnKeys:r}),e),HV=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),WV=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},JV=(e,t,n,r)=>{let o,i,a;const l={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)a=o[i],(!r||r(a,e,t))&&!l[a]&&(t[a]=e[a],l[a]=!0);e=n!==!1&&s2(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},ZV=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},YV=e=>{if(!e)return null;if(zd(e))return e;let t=e.length;if(!UN(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},KV=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&s2(Uint8Array)),XV=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let o;for(;(o=r.next())&&!o.done;){const i=o.value;t.call(e,i[0],i[1])}},eq=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},tq=Sa("HTMLFormElement"),nq=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,o){return r.toUpperCase()+o}),ZM=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),rq=Sa("RegExp"),QN=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};tg(n,(o,i)=>{let a;(a=t(o,i,e))!==!1&&(r[i]=a||o)}),Object.defineProperties(e,r)},oq=e=>{QN(e,(t,n)=>{if(ti(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(ti(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},iq=(e,t)=>{const n={},r=o=>{o.forEach(i=>{n[i]=!0})};return zd(e)?r(e):r(String(e).split(t)),n},aq=()=>{},sq=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,Bb="abcdefghijklmnopqrstuvwxyz",YM="0123456789",HN={DIGIT:YM,ALPHA:Bb,ALPHA_DIGIT:Bb+Bb.toUpperCase()+YM},lq=(e=16,t=HN.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function cq(e){return!!(e&&ti(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const uq=e=>{const t=new Array(10),n=(r,o)=>{if(w0(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[o]=r;const i=zd(r)?[]:{};return tg(r,(a,l)=>{const u=n(a,o+1);!om(u)&&(i[l]=u)}),t[o]=void 0,i}}return r};return n(e,0)},dq=Sa("AsyncFunction"),fq=e=>e&&(w0(e)||ti(e))&&ti(e.then)&&ti(e.catch),WN=((e,t)=>e?setImmediate:t?((n,r)=>(Bc.addEventListener("message",({source:o,data:i})=>{o===Bc&&i===n&&r.length&&r.shift()()},!1),o=>{r.push(o),Bc.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ti(Bc.postMessage)),hq=typeof queueMicrotask<"u"?queueMicrotask.bind(Bc):typeof process<"u"&&process.nextTick||WN,pe={isArray:zd,isArrayBuffer:zN,isBuffer:OV,isFormData:GV,isArrayBufferView:MV,isString:PV,isNumber:UN,isBoolean:TV,isObject:w0,isPlainObject:Ev,isReadableStream:$V,isRequest:zV,isResponse:UV,isHeaders:VV,isUndefined:om,isDate:IV,isFile:LV,isBlob:DV,isRegExp:rq,isFunction:ti,isStream:FV,isURLSearchParams:jV,isTypedArray:KV,isFileList:NV,forEach:tg,merge:Wk,extend:QV,trim:qV,stripBOM:HV,inherits:WV,toFlatObject:JV,kindOf:_0,kindOfTest:Sa,endsWith:ZV,toArray:YV,forEachEntry:XV,matchAll:eq,isHTMLForm:tq,hasOwnProperty:ZM,hasOwnProp:ZM,reduceDescriptors:QN,freezeMethods:oq,toObjectSet:iq,toCamelCase:nq,noop:aq,toFiniteNumber:sq,findKey:VN,global:Bc,isContextDefined:qN,ALPHABET:HN,generateString:lq,isSpecCompliantForm:cq,toJSONObject:uq,isAsyncFn:dq,isThenable:fq,setImmediate:WN,asap:hq};function Ft(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}pe.inherits(Ft,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:pe.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const JN=Ft.prototype,ZN={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ZN[e]={value:e}});Object.defineProperties(Ft,ZN);Object.defineProperty(JN,"isAxiosError",{value:!0});Ft.from=(e,t,n,r,o,i)=>{const a=Object.create(JN);return pe.toFlatObject(e,a,function(u){return u!==Error.prototype},l=>l!=="isAxiosError"),Ft.call(a,e.message,t,n,r,o),a.cause=e,a.name=e.name,i&&Object.assign(a,i),a};const mq=null;function Jk(e){return pe.isPlainObject(e)||pe.isArray(e)}function YN(e){return pe.endsWith(e,"[]")?e.slice(0,-2):e}function KM(e,t,n){return e?e.concat(t).map(function(o,i){return o=YN(o),!n&&i?"["+o+"]":o}).join(n?".":""):t}function gq(e){return pe.isArray(e)&&!e.some(Jk)}const pq=pe.toFlatObject(pe,{},null,function(t){return/^is[A-Z]/.test(t)});function S0(e,t,n){if(!pe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=pe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,b){return!pe.isUndefined(b[_])});const r=n.metaTokens,o=n.visitor||f,i=n.dots,a=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&pe.isSpecCompliantForm(t);if(!pe.isFunction(o))throw new TypeError("visitor must be a function");function d(y){if(y===null)return"";if(pe.isDate(y))return y.toISOString();if(!u&&pe.isBlob(y))throw new Ft("Blob is not supported. Use a Buffer instead.");return pe.isArrayBuffer(y)||pe.isTypedArray(y)?u&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function f(y,_,b){let E=y;if(y&&!b&&typeof y=="object"){if(pe.endsWith(_,"{}"))_=r?_:_.slice(0,-2),y=JSON.stringify(y);else if(pe.isArray(y)&&gq(y)||(pe.isFileList(y)||pe.endsWith(_,"[]"))&&(E=pe.toArray(y)))return _=YN(_),E.forEach(function(C,M){!(pe.isUndefined(C)||C===null)&&t.append(a===!0?KM([_],M,i):a===null?_:_+"[]",d(C))}),!1}return Jk(y)?!0:(t.append(KM(b,_,i),d(y)),!1)}const m=[],g=Object.assign(pq,{defaultVisitor:f,convertValue:d,isVisitable:Jk});function v(y,_){if(!pe.isUndefined(y)){if(m.indexOf(y)!==-1)throw Error("Circular reference detected in "+_.join("."));m.push(y),pe.forEach(y,function(E,A){(!(pe.isUndefined(E)||E===null)&&o.call(t,E,pe.isString(A)?A.trim():A,_,g))===!0&&v(E,_?_.concat(A):[A])}),m.pop()}}if(!pe.isObject(e))throw new TypeError("data must be an object");return v(e),t}function XM(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function l2(e,t){this._pairs=[],e&&S0(e,this,t)}const KN=l2.prototype;KN.append=function(t,n){this._pairs.push([t,n])};KN.toString=function(t){const n=t?function(r){return t.call(this,r,XM)}:XM;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function vq(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function XN(e,t,n){if(!t)return e;const r=n&&n.encode||vq,o=n&&n.serialize;let i;if(o?i=o(t,n):i=pe.isURLSearchParams(t)?t.toString():new l2(t,n).toString(r),i){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}let eP=class{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){pe.forEach(this.handlers,function(r){r!==null&&t(r)})}};const e9={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},yq=typeof URLSearchParams<"u"?URLSearchParams:l2,_q=typeof FormData<"u"?FormData:null,bq=typeof Blob<"u"?Blob:null,wq={isBrowser:!0,classes:{URLSearchParams:yq,FormData:_q,Blob:bq},protocols:["http","https","file","blob","url","data"]},c2=typeof window<"u"&&typeof document<"u",Sq=(e=>c2&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),Aq=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Cq=c2&&window.location.href||"http://localhost",kq=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:c2,hasStandardBrowserEnv:Sq,hasStandardBrowserWebWorkerEnv:Aq,origin:Cq},Symbol.toStringTag,{value:"Module"})),ua={...kq,...wq};function Eq(e,t){return S0(e,new ua.classes.URLSearchParams,Object.assign({visitor:function(n,r,o,i){return ua.isNode&&pe.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function Bq(e){return pe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Rq(e){const t={},n=Object.keys(e);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],t[i]=e[i];return t}function t9(e){function t(n,r,o,i){let a=n[i++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),u=i>=n.length;return a=!a&&pe.isArray(o)?o.length:a,u?(pe.hasOwnProp(o,a)?o[a]=[o[a],r]:o[a]=r,!l):((!o[a]||!pe.isObject(o[a]))&&(o[a]=[]),t(n,r,o[a],i)&&pe.isArray(o[a])&&(o[a]=Rq(o[a])),!l)}if(pe.isFormData(e)&&pe.isFunction(e.entries)){const n={};return pe.forEachEntry(e,(r,o)=>{t(Bq(r),o,n,0)}),n}return null}function xq(e,t,n){if(pe.isString(e))try{return(t||JSON.parse)(e),pe.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const ng={transitional:e9,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",o=r.indexOf("application/json")>-1,i=pe.isObject(t);if(i&&pe.isHTMLForm(t)&&(t=new FormData(t)),pe.isFormData(t))return o?JSON.stringify(t9(t)):t;if(pe.isArrayBuffer(t)||pe.isBuffer(t)||pe.isStream(t)||pe.isFile(t)||pe.isBlob(t)||pe.isReadableStream(t))return t;if(pe.isArrayBufferView(t))return t.buffer;if(pe.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Eq(t,this.formSerializer).toString();if((l=pe.isFileList(t))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return S0(l?{"files[]":t}:t,u&&new u,this.formSerializer)}}return i||o?(n.setContentType("application/json",!1),xq(t)):t}],transformResponse:[function(t){const n=this.transitional||ng.transitional,r=n&&n.forcedJSONParsing,o=this.responseType==="json";if(pe.isResponse(t)||pe.isReadableStream(t))return t;if(t&&pe.isString(t)&&(r&&!this.responseType||o)){const a=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(l){if(a)throw l.name==="SyntaxError"?Ft.from(l,Ft.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ua.classes.FormData,Blob:ua.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};pe.forEach(["delete","get","head","post","put","patch"],e=>{ng.headers[e]={}});const Oq=pe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Mq=e=>{const t={};let n,r,o;return e&&e.split(`
`).forEach(function(a){o=a.indexOf(":"),n=a.substring(0,o).trim().toLowerCase(),r=a.substring(o+1).trim(),!(!n||t[n]&&Oq[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},tP=Symbol("internals");function Xf(e){return e&&String(e).trim().toLowerCase()}function Bv(e){return e===!1||e==null?e:pe.isArray(e)?e.map(Bv):String(e)}function Pq(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const Tq=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Rb(e,t,n,r,o){if(pe.isFunction(r))return r.call(this,t,n);if(o&&(t=n),!!pe.isString(t)){if(pe.isString(r))return t.indexOf(r)!==-1;if(pe.isRegExp(r))return r.test(t)}}function Iq(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function Lq(e,t){const n=pe.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(o,i,a){return this[r].call(this,t,o,i,a)},configurable:!0})})}let Do=class{constructor(t){t&&this.set(t)}set(t,n,r){const o=this;function i(l,u,d){const f=Xf(u);if(!f)throw new Error("header name must be a non-empty string");const m=pe.findKey(o,f);(!m||o[m]===void 0||d===!0||d===void 0&&o[m]!==!1)&&(o[m||u]=Bv(l))}const a=(l,u)=>pe.forEach(l,(d,f)=>i(d,f,u));if(pe.isPlainObject(t)||t instanceof this.constructor)a(t,n);else if(pe.isString(t)&&(t=t.trim())&&!Tq(t))a(Mq(t),n);else if(pe.isHeaders(t))for(const[l,u]of t.entries())i(u,l,r);else t!=null&&i(n,t,r);return this}get(t,n){if(t=Xf(t),t){const r=pe.findKey(this,t);if(r){const o=this[r];if(!n)return o;if(n===!0)return Pq(o);if(pe.isFunction(n))return n.call(this,o,r);if(pe.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Xf(t),t){const r=pe.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Rb(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let o=!1;function i(a){if(a=Xf(a),a){const l=pe.findKey(r,a);l&&(!n||Rb(r,r[l],l,n))&&(delete r[l],o=!0)}}return pe.isArray(t)?t.forEach(i):i(t),o}clear(t){const n=Object.keys(this);let r=n.length,o=!1;for(;r--;){const i=n[r];(!t||Rb(this,this[i],i,t,!0))&&(delete this[i],o=!0)}return o}normalize(t){const n=this,r={};return pe.forEach(this,(o,i)=>{const a=pe.findKey(r,i);if(a){n[a]=Bv(o),delete n[i];return}const l=t?Iq(i):String(i).trim();l!==i&&delete n[i],n[l]=Bv(o),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return pe.forEach(this,(r,o)=>{r!=null&&r!==!1&&(n[o]=t&&pe.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(o=>r.set(o)),r}static accessor(t){const r=(this[tP]=this[tP]={accessors:{}}).accessors,o=this.prototype;function i(a){const l=Xf(a);r[l]||(Lq(o,a),r[l]=!0)}return pe.isArray(t)?t.forEach(i):i(t),this}};Do.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);pe.reduceDescriptors(Do.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});pe.freezeMethods(Do);function xb(e,t){const n=this||ng,r=t||n,o=Do.from(r.headers);let i=r.data;return pe.forEach(e,function(l){i=l.call(n,i,o.normalize(),t?t.status:void 0)}),o.normalize(),i}function n9(e){return!!(e&&e.__CANCEL__)}function Ud(e,t,n){Ft.call(this,e??"canceled",Ft.ERR_CANCELED,t,n),this.name="CanceledError"}pe.inherits(Ud,Ft,{__CANCEL__:!0});function r9(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Ft("Request failed with status code "+n.status,[Ft.ERR_BAD_REQUEST,Ft.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Dq(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Nq(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o=0,i=0,a;return t=t!==void 0?t:1e3,function(u){const d=Date.now(),f=r[i];a||(a=d),n[o]=u,r[o]=d;let m=i,g=0;for(;m!==o;)g+=n[m++],m=m%e;if(o=(o+1)%e,o===i&&(i=(i+1)%e),d-a<t)return;const v=f&&d-f;return v?Math.round(g*1e3/v):void 0}}function Fq(e,t){let n=0,r=1e3/t,o,i;const a=(d,f=Date.now())=>{n=f,o=null,i&&(clearTimeout(i),i=null),e.apply(null,d)};return[(...d)=>{const f=Date.now(),m=f-n;m>=r?a(d,f):(o=d,i||(i=setTimeout(()=>{i=null,a(o)},r-m)))},()=>o&&a(o)]}const Yv=(e,t,n=3)=>{let r=0;const o=Nq(50,250);return Fq(i=>{const a=i.loaded,l=i.lengthComputable?i.total:void 0,u=a-r,d=o(u),f=a<=l;r=a;const m={loaded:a,total:l,progress:l?a/l:void 0,bytes:u,rate:d||void 0,estimated:d&&l&&f?(l-a)/d:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(m)},n)},nP=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},rP=e=>(...t)=>pe.asap(()=>e(...t)),Gq=ua.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function o(i){let a=i;return t&&(n.setAttribute("href",a),a=n.href),n.setAttribute("href",a),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=o(window.location.href),function(a){const l=pe.isString(a)?o(a):a;return l.protocol===r.protocol&&l.host===r.host}}():function(){return function(){return!0}}(),jq=ua.hasStandardBrowserEnv?{write(e,t,n,r,o,i){const a=[e+"="+encodeURIComponent(t)];pe.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),pe.isString(r)&&a.push("path="+r),pe.isString(o)&&a.push("domain="+o),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function $q(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function zq(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function o9(e,t){return e&&!$q(t)?zq(e,t):t}const oP=e=>e instanceof Do?{...e}:e;function Uc(e,t){t=t||{};const n={};function r(d,f,m){return pe.isPlainObject(d)&&pe.isPlainObject(f)?pe.merge.call({caseless:m},d,f):pe.isPlainObject(f)?pe.merge({},f):pe.isArray(f)?f.slice():f}function o(d,f,m){if(pe.isUndefined(f)){if(!pe.isUndefined(d))return r(void 0,d,m)}else return r(d,f,m)}function i(d,f){if(!pe.isUndefined(f))return r(void 0,f)}function a(d,f){if(pe.isUndefined(f)){if(!pe.isUndefined(d))return r(void 0,d)}else return r(void 0,f)}function l(d,f,m){if(m in t)return r(d,f);if(m in e)return r(void 0,d)}const u={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(d,f)=>o(oP(d),oP(f),!0)};return pe.forEach(Object.keys(Object.assign({},e,t)),function(f){const m=u[f]||o,g=m(e[f],t[f],f);pe.isUndefined(g)&&m!==l||(n[f]=g)}),n}const i9=e=>{const t=Uc({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:i,headers:a,auth:l}=t;t.headers=a=Do.from(a),t.url=XN(o9(t.baseURL,t.url),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let u;if(pe.isFormData(n)){if(ua.hasStandardBrowserEnv||ua.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((u=a.getContentType())!==!1){const[d,...f]=u?u.split(";").map(m=>m.trim()).filter(Boolean):[];a.setContentType([d||"multipart/form-data",...f].join("; "))}}if(ua.hasStandardBrowserEnv&&(r&&pe.isFunction(r)&&(r=r(t)),r||r!==!1&&Gq(t.url))){const d=o&&i&&jq.read(i);d&&a.set(o,d)}return t},Uq=typeof XMLHttpRequest<"u",Vq=Uq&&function(e){return new Promise(function(n,r){const o=i9(e);let i=o.data;const a=Do.from(o.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:d}=o,f,m,g,v,y;function _(){v&&v(),y&&y(),o.cancelToken&&o.cancelToken.unsubscribe(f),o.signal&&o.signal.removeEventListener("abort",f)}let b=new XMLHttpRequest;b.open(o.method.toUpperCase(),o.url,!0),b.timeout=o.timeout;function E(){if(!b)return;const C=Do.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),T={data:!l||l==="text"||l==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:C,config:e,request:b};r9(function(P){n(P),_()},function(P){r(P),_()},T),b=null}"onloadend"in b?b.onloadend=E:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(E)},b.onabort=function(){b&&(r(new Ft("Request aborted",Ft.ECONNABORTED,e,b)),b=null)},b.onerror=function(){r(new Ft("Network Error",Ft.ERR_NETWORK,e,b)),b=null},b.ontimeout=function(){let M=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const T=o.transitional||e9;o.timeoutErrorMessage&&(M=o.timeoutErrorMessage),r(new Ft(M,T.clarifyTimeoutError?Ft.ETIMEDOUT:Ft.ECONNABORTED,e,b)),b=null},i===void 0&&a.setContentType(null),"setRequestHeader"in b&&pe.forEach(a.toJSON(),function(M,T){b.setRequestHeader(T,M)}),pe.isUndefined(o.withCredentials)||(b.withCredentials=!!o.withCredentials),l&&l!=="json"&&(b.responseType=o.responseType),d&&([g,y]=Yv(d,!0),b.addEventListener("progress",g)),u&&b.upload&&([m,v]=Yv(u),b.upload.addEventListener("progress",m),b.upload.addEventListener("loadend",v)),(o.cancelToken||o.signal)&&(f=C=>{b&&(r(!C||C.type?new Ud(null,e,b):C),b.abort(),b=null)},o.cancelToken&&o.cancelToken.subscribe(f),o.signal&&(o.signal.aborted?f():o.signal.addEventListener("abort",f)));const A=Dq(o.url);if(A&&ua.protocols.indexOf(A)===-1){r(new Ft("Unsupported protocol "+A+":",Ft.ERR_BAD_REQUEST,e));return}b.send(i||null)})},qq=(e,t)=>{let n=new AbortController,r;const o=function(u){if(!r){r=!0,a();const d=u instanceof Error?u:this.reason;n.abort(d instanceof Ft?d:new Ud(d instanceof Error?d.message:d))}};let i=t&&setTimeout(()=>{o(new Ft(`timeout ${t} of ms exceeded`,Ft.ETIMEDOUT))},t);const a=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(u=>{u&&(u.removeEventListener?u.removeEventListener("abort",o):u.unsubscribe(o))}),e=null)};e.forEach(u=>u&&u.addEventListener&&u.addEventListener("abort",o));const{signal:l}=n;return l.unsubscribe=a,[l,()=>{i&&clearTimeout(i),i=null}]},Qq=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,o;for(;r<n;)o=r+t,yield e.slice(r,o),r=o},Hq=async function*(e,t,n){for await(const r of e)yield*Qq(ArrayBuffer.isView(r)?r:await n(String(r)),t)},iP=(e,t,n,r,o)=>{const i=Hq(e,t,o);let a=0,l,u=d=>{l||(l=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:f,value:m}=await i.next();if(f){u(),d.close();return}let g=m.byteLength;if(n){let v=a+=g;n(v)}d.enqueue(new Uint8Array(m))}catch(f){throw u(f),f}},cancel(d){return u(d),i.return()}},{highWaterMark:2})},A0=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",a9=A0&&typeof ReadableStream=="function",Zk=A0&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),s9=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Wq=a9&&s9(()=>{let e=!1;const t=new Request(ua.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),aP=64*1024,Yk=a9&&s9(()=>pe.isReadableStream(new Response("").body)),Kv={stream:Yk&&(e=>e.body)};A0&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Kv[t]&&(Kv[t]=pe.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new Ft(`Response type '${t}' is not supported`,Ft.ERR_NOT_SUPPORT,r)})})})(new Response);const Jq=async e=>{if(e==null)return 0;if(pe.isBlob(e))return e.size;if(pe.isSpecCompliantForm(e))return(await new Request(e).arrayBuffer()).byteLength;if(pe.isArrayBufferView(e)||pe.isArrayBuffer(e))return e.byteLength;if(pe.isURLSearchParams(e)&&(e=e+""),pe.isString(e))return(await Zk(e)).byteLength},Zq=async(e,t)=>{const n=pe.toFiniteNumber(e.getContentLength());return n??Jq(t)},Yq=A0&&(async e=>{let{url:t,method:n,data:r,signal:o,cancelToken:i,timeout:a,onDownloadProgress:l,onUploadProgress:u,responseType:d,headers:f,withCredentials:m="same-origin",fetchOptions:g}=i9(e);d=d?(d+"").toLowerCase():"text";let[v,y]=o||i||a?qq([o,i],a):[],_,b;const E=()=>{!_&&setTimeout(()=>{v&&v.unsubscribe()}),_=!0};let A;try{if(u&&Wq&&n!=="get"&&n!=="head"&&(A=await Zq(f,r))!==0){let I=new Request(t,{method:"POST",body:r,duplex:"half"}),P;if(pe.isFormData(r)&&(P=I.headers.get("content-type"))&&f.setContentType(P),I.body){const[B,R]=nP(A,Yv(rP(u)));r=iP(I.body,aP,B,R,Zk)}}pe.isString(m)||(m=m?"include":"omit"),b=new Request(t,{...g,signal:v,method:n.toUpperCase(),headers:f.normalize().toJSON(),body:r,duplex:"half",credentials:m});let C=await fetch(b);const M=Yk&&(d==="stream"||d==="response");if(Yk&&(l||M)){const I={};["status","statusText","headers"].forEach(x=>{I[x]=C[x]});const P=pe.toFiniteNumber(C.headers.get("content-length")),[B,R]=l&&nP(P,Yv(rP(l),!0))||[];C=new Response(iP(C.body,aP,B,()=>{R&&R(),M&&E()},Zk),I)}d=d||"text";let T=await Kv[pe.findKey(Kv,d)||"text"](C,e);return!M&&E(),y&&y(),await new Promise((I,P)=>{r9(I,P,{data:T,headers:Do.from(C.headers),status:C.status,statusText:C.statusText,config:e,request:b})})}catch(C){throw E(),C&&C.name==="TypeError"&&/fetch/i.test(C.message)?Object.assign(new Ft("Network Error",Ft.ERR_NETWORK,e,b),{cause:C.cause||C}):Ft.from(C,C&&C.code,e,b)}}),Kk={http:mq,xhr:Vq,fetch:Yq};pe.forEach(Kk,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const sP=e=>`- ${e}`,Kq=e=>pe.isFunction(e)||e===null||e===!1,l9={getAdapter:e=>{e=pe.isArray(e)?e:[e];const{length:t}=e;let n,r;const o={};for(let i=0;i<t;i++){n=e[i];let a;if(r=n,!Kq(n)&&(r=Kk[(a=String(n)).toLowerCase()],r===void 0))throw new Ft(`Unknown adapter '${a}'`);if(r)break;o[a||"#"+i]=r}if(!r){const i=Object.entries(o).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=t?i.length>1?`since :
`+i.map(sP).join(`
`):" "+sP(i[0]):"as no adapter specified";throw new Ft("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:Kk};function Ob(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ud(null,e)}function lP(e){return Ob(e),e.headers=Do.from(e.headers),e.data=xb.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),l9.getAdapter(e.adapter||ng.adapter)(e).then(function(r){return Ob(e),r.data=xb.call(e,e.transformResponse,r),r.headers=Do.from(r.headers),r},function(r){return n9(r)||(Ob(e),r&&r.response&&(r.response.data=xb.call(e,e.transformResponse,r.response),r.response.headers=Do.from(r.response.headers))),Promise.reject(r)})}const c9="1.7.4",u2={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{u2[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const cP={};u2.transitional=function(t,n,r){function o(i,a){return"[Axios v"+c9+"] Transitional option '"+i+"'"+a+(r?". "+r:"")}return(i,a,l)=>{if(t===!1)throw new Ft(o(a," has been removed"+(n?" in "+n:"")),Ft.ERR_DEPRECATED);return n&&!cP[a]&&(cP[a]=!0,console.warn(o(a," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,a,l):!0}};function Xq(e,t,n){if(typeof e!="object")throw new Ft("options must be an object",Ft.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const i=r[o],a=t[i];if(a){const l=e[i],u=l===void 0||a(l,i,e);if(u!==!0)throw new Ft("option "+i+" must be "+u,Ft.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ft("Unknown option "+i,Ft.ERR_BAD_OPTION)}}const Xk={assertOptions:Xq,validators:u2},ul=Xk.validators;let Tc=class{constructor(t){this.defaults=t,this.interceptors={request:new eP,response:new eP}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let o;Error.captureStackTrace?Error.captureStackTrace(o={}):o=new Error;const i=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Uc(this.defaults,n);const{transitional:r,paramsSerializer:o,headers:i}=n;r!==void 0&&Xk.assertOptions(r,{silentJSONParsing:ul.transitional(ul.boolean),forcedJSONParsing:ul.transitional(ul.boolean),clarifyTimeoutError:ul.transitional(ul.boolean)},!1),o!=null&&(pe.isFunction(o)?n.paramsSerializer={serialize:o}:Xk.assertOptions(o,{encode:ul.function,serialize:ul.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=i&&pe.merge(i.common,i[n.method]);i&&pe.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),n.headers=Do.concat(a,i);const l=[];let u=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(n)===!1||(u=u&&_.synchronous,l.unshift(_.fulfilled,_.rejected))});const d=[];this.interceptors.response.forEach(function(_){d.push(_.fulfilled,_.rejected)});let f,m=0,g;if(!u){const y=[lP.bind(this),void 0];for(y.unshift.apply(y,l),y.push.apply(y,d),g=y.length,f=Promise.resolve(n);m<g;)f=f.then(y[m++],y[m++]);return f}g=l.length;let v=n;for(m=0;m<g;){const y=l[m++],_=l[m++];try{v=y(v)}catch(b){_.call(this,b);break}}try{f=lP.call(this,v)}catch(y){return Promise.reject(y)}for(m=0,g=d.length;m<g;)f=f.then(d[m++],d[m++]);return f}getUri(t){t=Uc(this.defaults,t);const n=o9(t.baseURL,t.url);return XN(n,t.params,t.paramsSerializer)}};pe.forEach(["delete","get","head","options"],function(t){Tc.prototype[t]=function(n,r){return this.request(Uc(r||{},{method:t,url:n,data:(r||{}).data}))}});pe.forEach(["post","put","patch"],function(t){function n(r){return function(i,a,l){return this.request(Uc(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}Tc.prototype[t]=n(),Tc.prototype[t+"Form"]=n(!0)});let eQ=class u9{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(o=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](o);r._listeners=null}),this.promise.then=o=>{let i;const a=new Promise(l=>{r.subscribe(l),i=l}).then(o);return a.cancel=function(){r.unsubscribe(i)},a},t(function(i,a,l){r.reason||(r.reason=new Ud(i,a,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new u9(function(o){t=o}),cancel:t}}};function tQ(e){return function(n){return e.apply(null,n)}}function nQ(e){return pe.isObject(e)&&e.isAxiosError===!0}const eE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(eE).forEach(([e,t])=>{eE[t]=e});function d9(e){const t=new Tc(e),n=$N(Tc.prototype.request,t);return pe.extend(n,Tc.prototype,t,{allOwnKeys:!0}),pe.extend(n,t,null,{allOwnKeys:!0}),n.create=function(o){return d9(Uc(e,o))},n}const fn=d9(ng);fn.Axios=Tc;fn.CanceledError=Ud;fn.CancelToken=eQ;fn.isCancel=n9;fn.VERSION=c9;fn.toFormData=S0;fn.AxiosError=Ft;fn.Cancel=fn.CanceledError;fn.all=function(t){return Promise.all(t)};fn.spread=tQ;fn.isAxiosError=nQ;fn.mergeConfig=Uc;fn.AxiosHeaders=Do;fn.formToJSON=e=>t9(pe.isHTMLForm(e)?new FormData(e):e);fn.getAdapter=l9.getAdapter;fn.HttpStatusCode=eE;fn.default=fn;const{Axios:U2e,AxiosError:V2e,CanceledError:q2e,isCancel:Q2e,CancelToken:H2e,VERSION:W2e,all:J2e,Cancel:Z2e,isAxiosError:Y2e,spread:K2e,toFormData:X2e,AxiosHeaders:eRe,HttpStatusCode:tRe,formToJSON:nRe,getAdapter:rRe,mergeConfig:oRe}=fn;var tE=function(e,t){return tE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},tE(e,t)};function Fs(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");tE(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var $a=function(){return $a=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},$a.apply(this,arguments)};function f9(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function rQ(e,t,n,r){function o(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(f){try{d(r.next(f))}catch(m){a(m)}}function u(f){try{d(r.throw(f))}catch(m){a(m)}}function d(f){f.done?i(f.value):o(f.value).then(l,u)}d((r=r.apply(e,t||[])).next())})}function h9(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(d){return function(f){return u([d,f])}}function u(d){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(n=0)),n;)try{if(r=1,o&&(i=d[0]&2?o.return:d[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,d[1])).done)return i;switch(o=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,o=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){n.label=d[1];break}if(d[0]===6&&n.label<i[1]){n.label=i[1],i=d;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(d);break}i[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(f){d=[6,f],o=0}finally{r=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Cd(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function im(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(l){a={error:l}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i}function kd(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function hd(e){return this instanceof hd?(this.v=e,this):new hd(e)}function oQ(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",a),o[Symbol.asyncIterator]=function(){return this},o;function a(v){return function(y){return Promise.resolve(y).then(v,m)}}function l(v,y){r[v]&&(o[v]=function(_){return new Promise(function(b,E){i.push([v,_,b,E])>1||u(v,_)})},y&&(o[v]=y(o[v])))}function u(v,y){try{d(r[v](y))}catch(_){g(i[0][3],_)}}function d(v){v.value instanceof hd?Promise.resolve(v.value.v).then(f,m):g(i[0][2],v)}function f(v){u("next",v)}function m(v){u("throw",v)}function g(v,y){v(y),i.shift(),i.length&&u(i[0][0],i[0][1])}}function iQ(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Cd=="function"?Cd(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(a){return new Promise(function(l,u){a=e[i](a),o(l,u,a.done,a.value)})}}function o(i,a,l,u){Promise.resolve(u).then(function(d){i({value:d,done:l})},a)}}function br(e){return typeof e=="function"}function m9(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Mb=m9(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,o){return o+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function Xv(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var rg=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,o,i;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var l=Cd(a),u=l.next();!u.done;u=l.next()){var d=u.value;d.remove(this)}}catch(_){t={error:_}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}else a.remove(this);var f=this.initialTeardown;if(br(f))try{f()}catch(_){i=_ instanceof Mb?_.errors:[_]}var m=this._finalizers;if(m){this._finalizers=null;try{for(var g=Cd(m),v=g.next();!v.done;v=g.next()){var y=v.value;try{uP(y)}catch(_){i=i??[],_ instanceof Mb?i=kd(kd([],im(i)),im(_.errors)):i.push(_)}}}catch(_){r={error:_}}finally{try{v&&!v.done&&(o=g.return)&&o.call(g)}finally{if(r)throw r.error}}}if(i)throw new Mb(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)uP(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&Xv(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&Xv(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),g9=rg.EMPTY;function p9(e){return e instanceof rg||e&&"closed"in e&&br(e.remove)&&br(e.add)&&br(e.unsubscribe)}function uP(e){br(e)?e():e.unsubscribe()}var aQ={Promise:void 0},sQ={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,kd([e,t],im(n)))},clearTimeout:function(e){return clearTimeout(e)},delegate:void 0};function v9(e){sQ.setTimeout(function(){throw e})}function dP(){}function Rv(e){e()}var d2=function(e){Fs(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,p9(n)&&n.add(r)):r.destination=uQ,r}return t.create=function(n,r,o){return new am(n,r,o)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(rg),lQ=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){Wp(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){Wp(r)}else Wp(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){Wp(n)}},e}(),am=function(e){Fs(t,e);function t(n,r,o){var i=e.call(this)||this,a;return br(n)||!n?a={next:n??void 0,error:r??void 0,complete:o??void 0}:a=n,i.destination=new lQ(a),i}return t}(d2);function Wp(e){v9(e)}function cQ(e){throw e}var uQ={closed:!0,next:dP,error:cQ,complete:dP},f2=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function h2(e){return e}function dQ(e){return e.length===0?h2:e.length===1?e[0]:function(n){return e.reduce(function(r,o){return o(r)},n)}}var ha=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var o=this,i=hQ(t)?t:new am(t,n,r);return Rv(function(){var a=o,l=a.operator,u=a.source;i.add(l?l.call(i,u):u?o._subscribe(i):o._trySubscribe(i))}),i},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=fP(n),new n(function(o,i){var a=new am({next:function(l){try{t(l)}catch(u){i(u),a.unsubscribe()}},error:i,complete:o});r.subscribe(a)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[f2]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return dQ(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=fP(t),new t(function(r,o){var i;n.subscribe(function(a){return i=a},function(a){return o(a)},function(){return r(i)})})},e.create=function(t){return new e(t)},e}();function fP(e){var t;return(t=e??aQ.Promise)!==null&&t!==void 0?t:Promise}function fQ(e){return e&&br(e.next)&&br(e.error)&&br(e.complete)}function hQ(e){return e&&e instanceof d2||fQ(e)&&p9(e)}function mQ(e){return br(e==null?void 0:e.lift)}function Aa(e){return function(t){if(mQ(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ii(e,t,n,r,o){return new gQ(e,t,n,r,o)}var gQ=function(e){Fs(t,e);function t(n,r,o,i,a,l){var u=e.call(this,n)||this;return u.onFinalize=a,u.shouldUnsubscribe=l,u._next=r?function(d){try{r(d)}catch(f){n.error(f)}}:e.prototype._next,u._error=i?function(d){try{i(d)}catch(f){n.error(f)}finally{this.unsubscribe()}}:e.prototype._error,u._complete=o?function(){try{o()}catch(d){n.error(d)}finally{this.unsubscribe()}}:e.prototype._complete,u}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(d2),pQ=m9(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),xi=function(e){Fs(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new hP(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new pQ},t.prototype.next=function(n){var r=this;Rv(function(){var o,i;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var a=Cd(r.currentObservers),l=a.next();!l.done;l=a.next()){var u=l.value;u.next(n)}}catch(d){o={error:d}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(o)throw o.error}}}})},t.prototype.error=function(n){var r=this;Rv(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var o=r.observers;o.length;)o.shift().error(n)}})},t.prototype.complete=function(){var n=this;Rv(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,o=this,i=o.hasError,a=o.isStopped,l=o.observers;return i||a?g9:(this.currentObservers=null,l.push(n),new rg(function(){r.currentObservers=null,Xv(l,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,o=r.hasError,i=r.thrownError,a=r.isStopped;o?n.error(i):a&&n.complete()},t.prototype.asObservable=function(){var n=new ha;return n.source=this,n},t.create=function(n,r){return new hP(n,r)},t}(ha),hP=function(e){Fs(t,e);function t(n,r){var o=e.call(this)||this;return o.destination=n,o.source=r,o}return t.prototype.next=function(n){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.next)===null||o===void 0||o.call(r,n)},t.prototype.error=function(n){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.error)===null||o===void 0||o.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,o;return(o=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&o!==void 0?o:g9},t}(xi),Po=function(e){Fs(t,e);function t(n){var r=e.call(this)||this;return r._value=n,r}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){var n=this,r=n.hasError,o=n.thrownError,i=n._value;if(r)throw o;return this._throwIfClosed(),i},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}(xi),vQ={now:function(){return Date.now()}},yQ=function(e){Fs(t,e);function t(n,r){return e.call(this)||this}return t.prototype.schedule=function(n,r){return this},t}(rg),mP={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setInterval.apply(void 0,kd([e,t],im(n)))},clearInterval:function(e){return clearInterval(e)},delegate:void 0},_Q=function(e){Fs(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o.pending=!1,o}return t.prototype.schedule=function(n,r){var o;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var i=this.id,a=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(a,i,r)),this.pending=!0,this.delay=r,this.id=(o=this.id)!==null&&o!==void 0?o:this.requestAsyncId(a,this.id,r),this},t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),mP.setInterval(n.flush.bind(n,this),o)},t.prototype.recycleAsyncId=function(n,r,o){if(o===void 0&&(o=0),o!=null&&this.delay===o&&this.pending===!1)return r;r!=null&&mP.clearInterval(r)},t.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(n,r);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,r){var o=!1,i;try{this.work(n)}catch(a){o=!0,i=a||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),i},t.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,o=n.scheduler,i=o.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Xv(i,this),r!=null&&(this.id=this.recycleAsyncId(o,r,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(yQ),gP=function(){function e(t,n){n===void 0&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,t).schedule(r,n)},e.now=vQ.now,e}(),bQ=function(e){Fs(t,e);function t(n,r){r===void 0&&(r=gP.now);var o=e.call(this,n,r)||this;return o.actions=[],o._active=!1,o}return t.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var o;this._active=!0;do if(o=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,o){for(;n=r.shift();)n.unsubscribe();throw o}},t}(gP),C0=new bQ(_Q),wQ=C0,SQ=new ha(function(e){return e.complete()});function AQ(e){return e&&br(e.schedule)}var CQ=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function kQ(e){return br(e==null?void 0:e.then)}function EQ(e){return br(e[f2])}function BQ(e){return Symbol.asyncIterator&&br(e==null?void 0:e[Symbol.asyncIterator])}function RQ(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function xQ(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var OQ=xQ();function MQ(e){return br(e==null?void 0:e[OQ])}function PQ(e){return oQ(this,arguments,function(){var n,r,o,i;return h9(this,function(a){switch(a.label){case 0:n=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,hd(n.read())];case 3:return r=a.sent(),o=r.value,i=r.done,i?[4,hd(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,hd(o)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function TQ(e){return br(e==null?void 0:e.getReader)}function au(e){if(e instanceof ha)return e;if(e!=null){if(EQ(e))return IQ(e);if(CQ(e))return LQ(e);if(kQ(e))return DQ(e);if(BQ(e))return y9(e);if(MQ(e))return NQ(e);if(TQ(e))return FQ(e)}throw RQ(e)}function IQ(e){return new ha(function(t){var n=e[f2]();if(br(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function LQ(e){return new ha(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function DQ(e){return new ha(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,v9)})}function NQ(e){return new ha(function(t){var n,r;try{for(var o=Cd(e),i=o.next();!i.done;i=o.next()){var a=i.value;if(t.next(a),t.closed)return}}catch(l){n={error:l}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}t.complete()})}function y9(e){return new ha(function(t){GQ(e,t).catch(function(n){return t.error(n)})})}function FQ(e){return y9(PQ(e))}function GQ(e,t){var n,r,o,i;return rQ(this,void 0,void 0,function(){var a,l;return h9(this,function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),n=iQ(e),u.label=1;case 1:return[4,n.next()];case 2:if(r=u.sent(),!!r.done)return[3,4];if(a=r.value,t.next(a),t.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return l=u.sent(),o={error:l},[3,11];case 6:return u.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function jQ(e){return e instanceof Date&&!isNaN(e)}function uo(e,t){return Aa(function(n,r){var o=0;n.subscribe(ii(r,function(i){r.next(e.call(t,i,o++))}))})}function $Q(e,t,n,r,o,i,a,l){var u=[],d=0,f=0,m=!1,g=function(){m&&!u.length&&!d&&t.complete()},v=function(_){return d<r?y(_):u.push(_)},y=function(_){d++;var b=!1;au(n(_,f++)).subscribe(ii(t,function(E){t.next(E)},function(){b=!0},void 0,function(){if(b)try{d--;for(var E=function(){var A=u.shift();a||y(A)};u.length&&d<r;)E();g()}catch(A){t.error(A)}}))};return e.subscribe(ii(t,v,function(){m=!0,g()})),function(){}}function ey(e,t,n){return n===void 0&&(n=1/0),br(t)?ey(function(r,o){return uo(function(i,a){return t(r,i,o,a)})(au(e(r,o)))},n):(typeof t=="number"&&(n=t),Aa(function(r,o){return $Q(r,o,e,n)}))}function zQ(e){return new ha(function(t){au(e()).subscribe(t)})}function m2(e,t,n){e===void 0&&(e=0),n===void 0&&(n=wQ);var r=-1;return t!=null&&(AQ(t)?n=t:r=t),new ha(function(o){var i=jQ(e)?+e-n.now():e;i<0&&(i=0);var a=0;return n.schedule(function(){o.closed||(o.next(a++),0<=r?this.schedule(void 0,r):o.complete())},i)})}function UQ(e,t){return t===void 0&&(t=C0),m2(e,e,t)}function ta(e,t){return Aa(function(n,r){var o=0;n.subscribe(ii(r,function(i){return e.call(t,i,o++)&&r.next(i)}))})}function _9(e,t){return t===void 0&&(t=C0),Aa(function(n,r){var o=null,i=null,a=null,l=function(){if(o){o.unsubscribe(),o=null;var d=i;i=null,r.next(d)}};function u(){var d=a+e,f=t.now();if(f<d){o=this.schedule(void 0,d-f),r.add(o);return}l()}n.subscribe(ii(r,function(d){i=d,a=t.now(),o||(o=t.schedule(u,e),r.add(o))},function(){l(),r.complete()},void 0,function(){i=o=null}))})}function xv(e){return e<=0?function(){return SQ}:Aa(function(t,n){var r=0;t.subscribe(ii(n,function(o){++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function Oi(e,t){return t===void 0&&(t=h2),e=e??VQ,Aa(function(n,r){var o,i=!0;n.subscribe(ii(r,function(a){var l=t(a);(i||!e(o,l))&&(i=!1,o=l,r.next(a))}))})}function VQ(e,t){return e===t}function sm(e){e===void 0&&(e={});var t=e.connector,n=t===void 0?function(){return new xi}:t,r=e.resetOnError,o=r===void 0?!0:r,i=e.resetOnComplete,a=i===void 0?!0:i,l=e.resetOnRefCountZero,u=l===void 0?!0:l;return function(d){var f,m,g,v=0,y=!1,_=!1,b=function(){m==null||m.unsubscribe(),m=void 0},E=function(){b(),f=g=void 0,y=_=!1},A=function(){var C=f;E(),C==null||C.unsubscribe()};return Aa(function(C,M){v++,!_&&!y&&b();var T=g=g??n();M.add(function(){v--,v===0&&!_&&!y&&(m=Pb(A,u))}),T.subscribe(M),!f&&v>0&&(f=new am({next:function(I){return T.next(I)},error:function(I){_=!0,b(),m=Pb(E,o,I),T.error(I)},complete:function(){y=!0,b(),m=Pb(E,a),T.complete()}}),au(C).subscribe(f))})(d)}}function Pb(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t===!0){e();return}if(t!==!1){var o=new am({next:function(){o.unsubscribe(),e()}});return au(t.apply(void 0,kd([],im(n)))).subscribe(o)}}function qQ(e,t){return Aa(function(n,r){var o=null,i=0,a=!1,l=function(){return a&&!o&&r.complete()};n.subscribe(ii(r,function(u){o==null||o.unsubscribe();var d=0,f=i++;au(e(u,f)).subscribe(o=ii(r,function(m){return r.next(t?t(u,m,f,d++):m)},function(){o=null,l()}))},function(){a=!0,l()}))})}function QQ(e,t){return t===void 0&&(t=!1),Aa(function(n,r){var o=0;n.subscribe(ii(r,function(i){var a=e(i,o++);(a||t)&&r.next(i),!a&&r.complete()}))})}function md(e,t,n){var r=br(e)||t||n?{next:e,error:t,complete:n}:e;return r?Aa(function(o,i){var a;(a=r.subscribe)===null||a===void 0||a.call(r);var l=!0;o.subscribe(ii(i,function(u){var d;(d=r.next)===null||d===void 0||d.call(r,u),i.next(u)},function(){var u;l=!1,(u=r.complete)===null||u===void 0||u.call(r),i.complete()},function(u){var d;l=!1,(d=r.error)===null||d===void 0||d.call(r,u),i.error(u)},function(){var u,d;l&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):h2}function HQ(e,t){return Aa(function(n,r){var o=t??{},i=o.leading,a=i===void 0?!0:i,l=o.trailing,u=l===void 0?!1:l,d=!1,f=null,m=null,g=!1,v=function(){m==null||m.unsubscribe(),m=null,u&&(b(),g&&r.complete())},y=function(){m=null,g&&r.complete()},_=function(E){return m=au(e(E)).subscribe(ii(r,v,y))},b=function(){if(d){d=!1;var E=f;f=null,r.next(E),!g&&_(E)}};n.subscribe(ii(r,function(E){d=!0,f=E,!(m&&!m.closed)&&(a?b():_(E))},function(){g=!0,!(u&&d&&m&&!m.closed)&&r.complete()}))})}function WQ(e,t,n){t===void 0&&(t=C0);var r=m2(e,t);return HQ(function(){return r},n)}const b9=new Po(!1),JQ=b9.pipe(Oi()),ZQ=e=>{b9.next(e)},YQ=e=>{const t=JQ.subscribe(e);return()=>t.unsubscribe()},pP=e=>{const t=new AudioBuffer({length:e.length,numberOfChannels:e.numberOfChannels,sampleRate:e.sampleRate});for(let n=0;n<t.numberOfChannels;++n){const r=e.getChannelData(n);t.copyToChannel(r,n)}return t},KQ=e=>e.startsWith("data:"),XQ=e=>{const t=e.split(",")[1];if(!t)throw new Error(" data URL ");const n=atob(t),r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r.buffer};class eH{constructor(t,n){z(this,"audioContext");z(this,"bufferCache");z(this,"source",null);z(this,"_gainVolume");z(this,"_paused",!1);z(this,"_loop",!1);z(this,"stopOnPlayAgain",!1);z(this,"_muted",!1);z(this,"_savedVolume",0);z(this,"pausedAt",0);z(this,"startedAt",0);this.audioContext=t,this.bufferCache=pP(n.buffer),this._gainVolume=this.audioContext.createGain(),this.volume=n.volume,this.loop=!!n.loop,this.stopOnPlayAgain=!!n.stopOnPlayAgain}get paused(){return this._paused}get volume(){return this.muted?this._savedVolume:this._gainVolume.gain.value}get loop(){return this._loop}get muted(){return this._muted}get isPlaying(){return!!this.source}getSource(){return this.source}set paused(t){this._paused=t}set volume(t){this._savedVolume=t,!this.muted&&(this._gainVolume.gain.value=t)}set loop(t){this._loop=t}set muted(t){this._muted=t}createSource(){this.source=this.audioContext.createBufferSource(),this.source.buffer=pP(this.bufferCache),this.source.connect(this._gainVolume).connect(this.audioContext.destination),this.source.loop=this.loop}pause(){!this.source||this.paused||(this.paused=!0,this.pausedAt=Date.now()-this.startedAt,this.source.stop(0),this.source=null)}async play(){this.source?(this.loop||this.stopOnPlayAgain)&&(this.loop?this.source.stop(0):(this.stop(),await lr(10),this.createSource())):this.createSource(),this.source&&(this.paused=!1,this.startedAt=Date.now()-(this.pausedAt||0),this.source.start(0,(this.pausedAt||0)/1e3),this.source.onended=this.loop?()=>{}:()=>this.stop())}stop(){this.source&&(this.paused=!1,this.startedAt=0,this.pausedAt=0,this.source.stop(0),this.source=null)}mute(){this.muted||(this.muted=!0,this._gainVolume.gain.value=0)}unmute(){this.muted&&(this.muted=!1,this._gainVolume.gain.value=this._savedVolume)}}const Jp=new AudioContext,d0=class d0{constructor(t){z(this,"context",Jp);z(this,"debug",!1);z(this,"volume",.3);z(this,"audioCache",{});z(this,"_muted",!1);z(this,"_externalMuted",!1);z(this,"pauseListener",()=>{});z(this,"subs",[]);this.volume=t,this.pauseListener=r=>r?this._mute():this._unmute(),this.subs.push(YQ(this.pauseListener));const n=()=>{Jp.resume(),window.removeEventListener("click",n),window.removeEventListener("contextmenu",n),window.removeEventListener("keydown",n)};window.addEventListener("click",n),window.addEventListener("contextmenu",n),window.addEventListener("keydown",n)}get muted(){return this._muted}destroy(){this.subs.forEach(t=>t()),this.subs=[]}log(t,...n){this.debug&&Wt.info(`[AUDIO_API] ${t}`,...n)}_mute(t=!1){this._muted||(t&&(this._externalMuted=!0),Object.keys(this.audioCache).forEach(n=>{var r;return(r=this.audioCache[n])==null?void 0:r.mute()}),this._muted=!0,this.log("mute"))}_unmute(t=!1){this._muted&&(t&&(this._externalMuted=!1),!this._externalMuted&&(Object.keys(this.audioCache).forEach(n=>{var r;return(r=this.audioCache[n])==null?void 0:r.unmute()}),this._muted=!1,this.log("unmute")))}mute(){this._mute(!0)}unmute(){this._unmute(!0)}async createAudio(t){if(this._muted)return null;let n;KQ(t.url)?n=XQ(t.url):n=await fetch(t.url).then(i=>i.arrayBuffer());const r=await Jp.decodeAudioData(n),o=new eH(Jp,{volume:t.volume||this.volume,loop:t.loop,stopOnPlayAgain:t.stopOnPlayAgain,buffer:r});return o.play(),this.audioCache[t.url]=o,this.log("createAudio",t),o}async playAudio(t){await lr(t.delayMs||0);const n=this.audioCache[t.url];return!n||this.muted?null:(n.play(),this.log("playAudio",{...t}),n)}async playAudioFile(t){if(this.muted)return null;this.log("playAudioFile",t);let n=null;try{this.audioCache[t.url]?n=await this.playAudio(t):n=await this.createAudio(t)}catch(r){Wt.error("[AUDIO_API] playAudioFile error",r)}return n}async playAudioExternalFile(t){var r,o;if(this.muted)return null;this.log("playAudioExternalFile",t);let n=null;try{const i=(r=d0.externalAudioCache)[o=t.url]??(r[o]=await(async()=>{const d=(await fn.get(t.url,{responseType:"blob"})).data;return URL.createObjectURL(d)})()),a={...t,url:i},l=this.audioCache[a.url];!l||!t.stopOnPlayAgain&&l.isPlaying?n=await this.createAudio(a):n=await this.playAudio(a)}catch(i){Wt.error("[AUDIO_API] playAudioExternalFile error",i)}return n}};z(d0,"externalAudioCache",{});let ty=d0;var He;(function(e){e.EN="en",e.RU="ru",e.AR="ar",e.DE="de",e.ES="es",e.FR="fr",e.HI="hi",e.ID="id",e.IT="it",e.JA="ja",e.KK="kk",e.KO="ko",e.PL="pl",e.PT="pt",e.TR="tr",e.UZ="uz",e.VI="vi",e.ZH="zh"})(He||(He={}));var nE;(function(e){e.en="en-US",e.ru="ru-RU",e.ar="ar-ae",e.de="ksh-DE",e.es="es-ES",e.fr="fr-fr",e.hi="en-IN",e.id="id-ID",e.it="it-IT",e.ja="ja-JP",e.kk="ru-KZ",e.ko="ko-KR",e.pl="pl-PL",e.pt="pt-PT",e.tr="tr-TR",e.uz="uz-Cyrl-UZ",e.vi="vi-VN",e.zh="zh-CN"})(nE||(nE={}));var rE;(function(e){e.AZ="az",e.HY="hy",e.DE="be",e.KY="ky",e.KK="kk",e.MO="mo",e.TG="tg",e.UZ="uz",e.RU="ru"})(rE||(rE={}));const zu={chess:11406,checkers_en:15362,checkers_ru:16274,checkers_poddavki:15743,saper:17872,domino:21563}[DU()],cc="premium",vP="premium:secondsLeft",oE="premium:secondsLeftTotal",Zp=24*60*60,ir=class ir{};z(ir,"HOST","https://user-service.myhd.info"),z(ir,"REQUEST_CONFIG",{headers:{"Content-Type":"application/json",Accept:"*/*"}}),z(ir,"getPlayerState",async(t,n)=>{var r,o,i,a,l;try{return((o=(r=(await fn.get(`${ir.HOST}/data/${zu}/${t}`,{params:{secretCode:n},...ir.REQUEST_CONFIG})).data)==null?void 0:r.data)==null?void 0:o.state)||null}catch(u){const d=u;return((i=d.response)==null?void 0:i.status)===404||Wt.error("GameArenaAPI getPlayerState error",u,{status:(a=d.response)==null?void 0:a.status,statusText:(l=d.response)==null?void 0:l.statusText}),null}}),z(ir,"updatePlayerState",async(t,n,r)=>{try{return(await fn.put(`${ir.HOST}/data/${zu}/${t}`,{secretCode:n,state:r},ir.REQUEST_CONFIG)).data.data.state}catch(o){return Wt.error("GameArenaAPI updatePlayerState error",o),null}}),z(ir,"setPlayerState",async(t,n,r)=>{try{const o=Object.keys(r).filter(l=>!(["credentials"].includes(l)||l.includes(":"))).reduce((l,u)=>(l[u]=r[u],l),{});let i=0;return r.premium&&(i=Date.now()+(r[oE]||0)*1e3),(await fn.post(`${ir.HOST}/data/${zu}/${t}`,{id:t,secretCode:n,credentials:r.credentials,state:{...o,premium:i}},ir.REQUEST_CONFIG)).data}catch(o){return Wt.error("GameArenaAPI setPlayerState error",o),null}}),z(ir,"getOtherPlayers",async t=>{try{return(await fn.post(`${ir.HOST}/data/${zu}/other`,{ids:t},ir.REQUEST_CONFIG)).data.data.map(r=>({state:r}))}catch(n){return Wt.error("GameArenaAPI getOtherPlayers error",n),[]}}),z(ir,"getLeaderboard",async(t,n,r,o="DESC")=>{try{return r==="leaders"?(await fn.get(`${ir.HOST}/leaderboard/${zu}/top`,{params:{order:o.toLowerCase(),type:n,limit:yt.LEADERBOARD_TOP_CNT,playerId:t},headers:ir.REQUEST_CONFIG.headers})).data.data:(await fn.get(`${ir.HOST}/leaderboard/${zu}/around/${t}`,{params:{type:n,order:o.toLowerCase(),radius:yt.LEADERBOARD_AROUND},headers:ir.REQUEST_CONFIG.headers})).data.data}catch(i){return Wt.error("GameArenaAPI getLeaderboard error",i),null}});let Al=ir;const je=class je{static setEnabled(t){je._enabled=t}static getEnabled(){return je._enabled}static setPlayer(t,n){je.playerId=t,je.secretCode=n}static async getState(t){var n,r;return je.needUseAPI()?Object.keys(je.localState).length===0?je.loadState(t):{...je.localState,premium:je.get("premium")||0}:typeof((r=(n=window.gp)==null?void 0:n.player)==null?void 0:r.toJSON)!="function"?(Wt.error("GameArenaAPIService getState error",new Error("window.gp.player.toJSON is not defined")),Promise.resolve(t)):window.gp.player.toJSON()}static async loadState(t){const n=await Al.getPlayerState(je.playerId,je.secretCode);return n?(je.serverState=n,je.localState={...je.localState,...je.serverState}):(await Al.setPlayerState(je.playerId,je.secretCode,t),je.serverState=t,je.localState={...je.localState,...je.serverState}),{...je.localState,premium:je.get("premium")||0}}static getPremiumValue(){const t=Date.now(),n=je.localState[cc]||t,r=Math.max(0,(new Date(n).getTime()-t)/1e3);return{daysLeft:Math.ceil(r/Zp),secondsLeftTotal:r,secondsLeft:Math.floor(r%Zp)}}static set(t,n){var r,o,i,a;if(!je.needUseAPI()){(o=(r=window.gp)==null?void 0:r.player)==null||o.set(t,n);return}if(t===cc){const u=(Number(n)||0)*Zp;je.localState[cc]=Date.now()+u*1e3;return}["avatar","name"].includes(t)&&((a=(i=window.gp)==null?void 0:i.player)==null||a.set(t,n)),je.localState[t]=n}static get(t){var n,r;if(!je.needUseAPI())return(r=(n=window.gp)==null?void 0:n.player)==null?void 0:r.get(t);if([cc,vP,oE].includes(t)){const{secondsLeft:o,daysLeft:i,secondsLeftTotal:a}=je.getPremiumValue();switch(t){case cc:return i;case vP:return o;case oE:return a}}return je.localState[t]}static add(t,n){var r,o;if(!je.needUseAPI()){(o=(r=window.gp)==null?void 0:r.player)==null||o.add(t,n);return}if(t===cc){const{secondsLeftTotal:i}=je.getPremiumValue(),l=(Number(n)||0)*Zp+i;je.localState[cc]=Date.now()+l*1e3;return}je.localState[t]+=n}static async startSyncAfterInit(){je.waitInitBeforeSync&&(await lr(500),je.waitInitBeforeSync=!1,je.syncWasCalled&&je.sync())}static async sync(){var i,a,l,u;if(je.syncWasCalled=!0,je.waitInitBeforeSync)return;if(!je.needUseAPI()){await((a=(i=window.gp)==null?void 0:i.player)==null?void 0:a.sync()),Bn.trackGPRequest(_r.PlayerSync);return}const t=Object.keys(je.localState).filter(d=>je.localState[d]!==je.serverState[d]);if((t.includes("avatar")||t.includes("name"))&&(await((u=(l=window.gp)==null?void 0:l.player)==null?void 0:u.sync()),Bn.trackGPRequest(_r.PlayerSync)),t.length===0)return;const n=[],r="score";if(t.includes(r)&&m0()){const d=Ad(),f=d.isAvailableMethod("leaderboards.setScore").then(m=>m?d.leaderboards.setScore(r,je.localState[r]):Promise.resolve());n.push(f)}const o=Al.updatePlayerState(je.playerId,je.secretCode,t.reduce((d,f)=>(d[f]=je.localState[f],d),{}));n.push(o),await Promise.all(n),je.serverState={...je.serverState,...je.localState}}static async leaderboard(t,n,r="DESC"){if(!je.needUseAPI()){const{player:o}=await window.gp.leaderboard.fetchPlayerRating({orderBy:[t],order:r,includeFields:[],showNearest:0});Bn.trackGPRequest(_r.LeaderboardFetchPlayerRating);const i=o.position<=je.LEADERBOARD_TOP_CNT-je.LEADERBOARD_AROUND||n==="leaders"?je.LEADERBOARD_TOP_CNT:3,a=await window.gp.leaderboard.fetch({orderBy:[t],withMe:"last",order:r,includeFields:[],limit:i,showNearest:i===je.LEADERBOARD_TOP_CNT?0:je.LEADERBOARD_AROUND});return Bn.trackGPRequest(_r.LeaderboardFetch),a.players.map(l=>({...l,score:l[t]}))}return Al.getLeaderboard(je.playerId,t,n,r).then(o=>o.map(i=>({...i,id:i.playerId,position:i.rank})))}static async fetchOtherPlayers(t){if(!je.needUseAPI())return await je.gpPlayersFetch(t);try{const n=await Al.getOtherPlayers(t),r=t.filter(i=>!n.find(a=>a.state.id===i)),o=r.length>0?await je.gpPlayersFetch(r):[];return[...n.map(je.formatOtherUser),...o.map(je.formatOtherUser)]}catch(n){return Wt.error("fetchGpOtherPlayers error",n),[]}}};z(je,"playerId"),z(je,"secretCode"),z(je,"serverState",{}),z(je,"localState",{}),z(je,"_enabled",!0),z(je,"needUseAPI",()=>{var t,n,r;return((r=(n=(t=window.gp)==null?void 0:t.variables)==null?void 0:n.state)==null?void 0:r.USE_EXTERNAL_API)==="1"&&je.getEnabled()}),z(je,"waitInitBeforeSync",!1),z(je,"syncWasCalled",!1),z(je,"LEADERBOARD_AROUND",5),z(je,"LEADERBOARD_TOP_CNT",20),z(je,"formatOtherUser",t=>{const n=r=>r?typeof r=="string"?JSON.parse(r):typeof r=="object"?r:null:null;return{state:{...t.state,playerData:n(t.state.playerData)}}}),z(je,"gpPlayersFetch",async t=>{try{const n=await window.gp.players.fetch({ids:t.map(Number)});return Bn.trackGPRequest(_r.PlayersFetch),n.players.map(je.formatOtherUser)}catch(n){return Wt.error("gpPlayersFetch error",n),[]}});let yt=je;var Zn;(function(e){e.discount="DISCOUNT",e.x2="X2"})(Zn||(Zn={}));var lm;(function(e){e.coins="coins",e.premium="premium",e.cash="cash"})(lm||(lm={}));var Me;(function(e){e.COINS_1="COINS_1",e.COINS_2="COINS_2",e.COINS_3="COINS_3",e.COINS_4="COINS_4",e.COINS_5="COINS_5",e.COINS_6="COINS_6",e.CRYSTAL_1="NEW_COINS_1",e.CRYSTAL_2="NEW_COINS_2",e.CRYSTAL_3="NEW_COINS_3",e.CRYSTAL_4="NEW_COINS_4",e.CASH_1="CASH_1",e.CASH_2="CASH_2",e.CASH_3="CASH_3",e.PREMIUM_1="PREMIUM_1",e.PREMIUM_2="PREMIUM_2",e.PREMIUM_3="PREMIUM_3",e.NEW_PREMIUM_1="NEW_PREMIUM_1",e.NEW_PREMIUM_2="NEW_PREMIUM_2",e.NEW_PREMIUM_3="NEW_PREMIUM_3",e.PROMO_COIN_1="PROMO_COIN_1",e.PROMO_COIN_2="PROMO_COIN_2",e.PROMO_COIN_3="PROMO_COIN_3",e.PROMO_COIN_4="PROMO_COIN_4",e.PROMO_COIN_5="PROMO_COIN_5",e.PROMO_COIN_6="PROMO_COIN_6",e.PROMO_PREM_1="PROMO_PREM_1",e.PROMO_PREM_2="PROMO_PREM_2",e.PROMO_PREM_3="PROMO_PREM_3",e.X2_COIN_1="X2_COIN_1",e.X2_COIN_2="X2_COIN_2",e.X2_COIN_3="X2_COIN_3",e.X2_COIN_4="X2_COIN_4",e.X2_COIN_5="X2_COIN_5",e.X2_COIN_6="X2_COIN_6",e.X2_PREM_1="X2_PREM_1",e.X2_PREM_2="X2_PREM_2",e.X2_PREM_3="X2_PREM_3"})(Me||(Me={}));class g2{constructor(t,n,r=null){z(this,"tag");z(this,"field");z(this,"type");this.tag=t,this.field=n,this.type=r}}const Jn=(e,t=null)=>new g2(e,lm.coins,t),gi=(e,t=null)=>new g2(e,lm.premium,t),Tb=(e,t=null)=>new g2(e,lm.cash,t),k0={[Me.COINS_1]:Jn(Me.COINS_1),[Me.COINS_2]:Jn(Me.COINS_2),[Me.COINS_3]:Jn(Me.COINS_3),[Me.COINS_4]:Jn(Me.COINS_4),[Me.COINS_5]:Jn(Me.COINS_5),[Me.COINS_6]:Jn(Me.COINS_6),[Me.CRYSTAL_1]:Jn(Me.CRYSTAL_1),[Me.CRYSTAL_2]:Jn(Me.CRYSTAL_2),[Me.CRYSTAL_3]:Jn(Me.CRYSTAL_3),[Me.CRYSTAL_4]:Jn(Me.CRYSTAL_4),[Me.CASH_1]:Tb(Me.CASH_1),[Me.CASH_2]:Tb(Me.CASH_2),[Me.CASH_3]:Tb(Me.CASH_3),[Me.PREMIUM_1]:gi(Me.PREMIUM_1),[Me.PREMIUM_2]:gi(Me.PREMIUM_2),[Me.PREMIUM_3]:gi(Me.PREMIUM_3),[Me.NEW_PREMIUM_1]:gi(Me.NEW_PREMIUM_1),[Me.NEW_PREMIUM_2]:gi(Me.NEW_PREMIUM_2),[Me.NEW_PREMIUM_3]:gi(Me.NEW_PREMIUM_3),[Me.PROMO_COIN_1]:Jn(Me.PROMO_COIN_1,Zn.discount),[Me.PROMO_COIN_2]:Jn(Me.PROMO_COIN_2,Zn.discount),[Me.PROMO_COIN_3]:Jn(Me.PROMO_COIN_3,Zn.discount),[Me.PROMO_COIN_4]:Jn(Me.PROMO_COIN_4,Zn.discount),[Me.PROMO_COIN_5]:Jn(Me.PROMO_COIN_5,Zn.discount),[Me.PROMO_COIN_6]:Jn(Me.PROMO_COIN_6,Zn.discount),[Me.PROMO_PREM_1]:gi(Me.PROMO_PREM_1,Zn.discount),[Me.PROMO_PREM_2]:gi(Me.PROMO_PREM_2,Zn.discount),[Me.PROMO_PREM_3]:gi(Me.PROMO_PREM_3,Zn.discount),[Me.X2_COIN_1]:Jn(Me.X2_COIN_1,Zn.x2),[Me.X2_COIN_2]:Jn(Me.X2_COIN_2,Zn.x2),[Me.X2_COIN_3]:Jn(Me.X2_COIN_3,Zn.x2),[Me.X2_COIN_4]:Jn(Me.X2_COIN_4,Zn.x2),[Me.X2_COIN_5]:Jn(Me.X2_COIN_5,Zn.x2),[Me.X2_COIN_6]:Jn(Me.X2_COIN_6,Zn.x2),[Me.X2_PREM_1]:gi(Me.X2_PREM_1,Zn.x2),[Me.X2_PREM_2]:gi(Me.X2_PREM_2,Zn.x2),[Me.X2_PREM_3]:gi(Me.X2_PREM_3,Zn.x2)},w9=()=>{var e,t;return(((t=(e=window.gp)==null?void 0:e.events)==null?void 0:t.list)||[]).filter(n=>n.isActive&&n.timeLeft>0)},tH=()=>!!w9().filter(e=>e.tag===Zn.discount)[0],nH=()=>!!w9().filter(e=>e.tag===Zn.x2)[0];var Na;(function(e){e.PlayerNotFound="player_not_found",e.EmptyIdOrTag="empty_id_or_tag",e.ProductNotFound="product_not_found",e.PurchasesNotAllovedOnPlatform="purchases_not_alloved_on_platform",e.Undefined="undefined"})(Na||(Na={}));const E0=e=>e.includes("PREM")?"PREMIUM":e.includes("CASH")?"GOLD":"GEMS",p2=e=>{const t=E0(e),n=e.split("_"),r=Number(n[n.length-1]||1)||1;return t==="GOLD"?r+4:r},rH=async e=>{var t;try{const n=await window.gp.payments.purchase({tag:e.tag});Bn.trackGPRequest(_r.PaymentPurchase);const r=e.field,o=Number(parseInt(n.product.name??0));yt.add(r,o);const i=window.dataLayer[window.dataLayer.length-1],a=E0(e.tag),l=a==="PREMIUM"?"PREMIUM":"COMMON",u=p2(e.tag);return window.ecommerceLayer.push({ecommerce:{currencyCode:e.currency,purchase:{actionField:{id:((t=i.ecommerce)==null?void 0:t.transaction_id)||n.purchase.productId},products:[{id:n.purchase.productId,variant:e.tag,name:e.name,price:e.price,category:a,currencyCode:e.currency,position:u,list:l,quantity:1}]}}}),await yt.sync(),await window.gp.payments.consume({tag:e.tag}),Bn.trackGPRequest(_r.PaymentConsume),n.product}catch(n){return Wt.error("PaymentError gpPayProduct error",n),n}},oH=async e=>{if(!e)return;const t=Number(parseInt(e.name??0));yt.add(e.field,t),await window.gp.payments.consume({tag:e.tag}),Bn.trackGPRequest(_r.PaymentConsume)},iH=async()=>{const e=window.gp.payments.products.reduce((r,o)=>({...r,[o.id]:{...o,...k0[o.tag]}}),{});let t=!1;const n=async(r,o=0)=>{if(r.length-1<o)return;const i=r[o];return i.orderStatus==="PAID"&&(t=!0,await oH(e[i.productId])),n(r,o+1)};await n(window.gp.payments.purchases),t&&await yt.sync()},aH=async()=>{try{return window.gp.payments.fetchProducts()}catch(e){return Wt.error("PaymentError fetchProducts error",e),null}},sH=async e=>{try{if(yt.get("coins")>=e)return yt.add("coins",-e),yt.sync(),!0}catch(t){Wt.error("PaymentError gpSpendCoins error",t)}return!1};var Ib={exports:{}};/**
 * event-lite.js - Light-weight EventEmitter (less than 1KB when gzipped)
 *
 * @copyright Yusuke Kawasaki
 * @license MIT
 * @constructor
 * @see https://github.com/kawanet/event-lite
 * @see http://kawanet.github.io/event-lite/EventLite.html
 * @example
 * var EventLite = require("event-lite");
 *
 * function MyClass() {...}             // your class
 *
 * EventLite.mixin(MyClass.prototype);  // import event methods
 *
 * var obj = new MyClass();
 * obj.on("foo", function() {...});     // add event listener
 * obj.once("bar", function() {...});   // add one-time event listener
 * obj.emit("foo");                     // dispatch event
 * obj.emit("bar");                     // dispatch another event
 * obj.off("foo");                      // remove event listener
 */var yP;function lH(){return yP||(yP=1,function(e){function t(){if(!(this instanceof t))return new t}(function(n){e.exports=n;var r="listeners",o={on:a,once:l,off:u,emit:d};i(n.prototype),n.mixin=i;function i(m){for(var g in o)m[g]=o[g];return m}function a(m,g){return f(this,m).push(g),this}function l(m,g){var v=this;return y.originalListener=g,f(v,m).push(y),v;function y(){u.call(v,m,y),g.apply(this,arguments)}}function u(m,g){var v=this,y;if(!arguments.length)delete v[r];else if(g){if(y=f(v,m,!0),y){if(y=y.filter(_),!y.length)return u.call(v,m);v[r][m]=y}}else if(y=v[r],y&&(delete y[m],!Object.keys(y).length))return u.call(v);return v;function _(b){return b!==g&&b.originalListener!==g}}function d(m,g){var v=this,y=f(v,m,!0);if(!y)return!1;var _=arguments.length;if(_===1)y.forEach(E);else if(_===2)y.forEach(A);else{var b=Array.prototype.slice.call(arguments,1);y.forEach(C)}return!!y.length;function E(M){M.call(v)}function A(M){M.call(v,g)}function C(M){M.apply(v,b)}}function f(m,g,v){if(!(v&&!m[r])){var y=m[r]||(m[r]={});return y[g]||(y[g]=[])}}})(t)}(Ib)),Ib.exports}var cH=lH();const uH=to(cH),gs={on:()=>{},off:()=>{},once:()=>{}},Lb={id:0,name:"guest",avatar:"",rating:0,withComputerRating:0,score:0,withComputerScore:0,onlineScore:0,singleScore:0,singleTimeLvl1:0,singleTimeLvl2:0,singleTimeLvl3:0,premium:0,coins:0,cash:0,playerData:""},S9={id:0,tag:"",type:"ACTIVE_DAYS",days:0,isRepeat:!1,isAutoRegister:!1,triggers:[]},_P={scheduler:S9,stats:{activeDays:0,activeDaysConsecutive:0,playtimeToday:0,playtimeAll:0},daysClaimed:[],isRegistered:!1,currentDay:0},Uu={scheduler:S9,day:0,isDayReached:!1,isDayComplete:!1,isDayClaimed:!1,isAllDayClaimed:!1,canClaimDay:!1,canClaimAllDay:!1,bonuses:[],triggers:[]},dH={...gs,language:He.EN,changeLanguage:()=>{},isMobile:!1,isPortrait:!1,isDev:!1,isAllowedOrigin:!1,serverTime:"",isPaused:!1,pause:()=>{},resume:()=>{},setBackground:()=>{},device:{type:MN.desktop},players:{fetch:()=>Promise.resolve({players:[]})},variables:{state:{}},gamesCollections:{open:()=>{}},experiments:{has:()=>!1},gameStart:()=>{},gameplayStart:()=>{},gameplayStop:()=>{},ads:{...gs,showRewardedVideo:()=>Promise.resolve(!1),showFullscreen:()=>Promise.resolve(!1),showPreloader:()=>Promise.resolve(!1),isAdblockEnabled:!1,isStickyAvailable:!1,isFullscreenAvailable:!1,isRewardedAvailable:!1,isPreloaderAvailable:!1,isStickyPlaying:!1,isFullscreenPlaying:!1,isRewardedPlaying:!1,isPreloaderPlaying:!1,isCountdownOverlayEnabled:!1,isRewardedFailedOverlayEnabled:!1,canShowFullscreenBeforeGamePlay:!1,closeSticky:()=>{},refreshSticky:()=>{},showSticky:()=>{}},socials:{share:()=>{}},player:{...gs,...Lb,secretCode:"",tempSecretCode:"",credentials:"",isStub:!1,fields:Lb,isLoggedIn:!1,hasAnyCredentials:!1,ready:Promise.resolve(!0),toJSON:()=>Promise.resolve({playerData:""}),sync:()=>Promise.resolve(),login:()=>Promise.resolve(),fetchFields:()=>Promise.resolve(),get:()=>"",set:()=>{},add:()=>{},toggle:()=>{},has:()=>!1,fromJSON:()=>{},load:()=>Promise.resolve(),playerAdapter:{userId:"guest"},state:Lb,stats:{activeDays:0,activeDaysConsecutive:0,playtimeToday:0,playtimeAll:0}},schedulers:{...gs,list:[],activeList:[],register:()=>Promise.resolve(_P),claimDay:()=>Promise.resolve(Uu),claimDayAdditional:()=>Promise.resolve(Uu),claimAllDay:()=>Promise.resolve(Uu),claimAllDays:()=>Promise.resolve(Uu),getScheduler:()=>_P,getSchedulerDay:()=>Uu,getSchedulerCurrentDay:()=>Uu},platform:{type:at.UNKNOWN,getSDK:()=>null,getNativeSDK:()=>null,hasIntegratedAuth:!1,isExternalLinksAllowed:!1},payments:{...gs,isAvailable:!1,products:[],purchases:[],fetchProducts:()=>Promise.resolve({products:[],playerPurchases:[]}),purchase:()=>Promise.resolve({product:{},purchase:{}}),consume:()=>Promise.resolve({product:{},purchase:{}}),has:()=>!1},rewards:{...gs,list:[],givenList:[],give:()=>Promise.resolve({reward:{},playerReward:{}}),accept:()=>Promise.resolve({reward:{},playerReward:{}}),getReward:()=>Promise.resolve({reward:{},playerReward:{}}),has:()=>!1,hasAccepted:()=>!1,hasUnaccepted:()=>!1},events:{...gs,list:[],activeList:[],join:()=>Promise.resolve({event:{},playerEvent:{}}),has:()=>!1,isJoined:()=>!1,getEvent:()=>({event:{},isJoined:!1,stats:{},rewards:[],achievements:[],products:[]})},channels:{...gs,openChat:()=>{},openPersonalChat:()=>{},openFeed:()=>{}},leaderboard:{...gs,open:()=>{},fetchPlayerRating:()=>Promise.resolve({player:{},fields:[],abovePlayers:[],belowPlayers:[]}),fetch:()=>Promise.resolve({players:[],fields:[],topPlayers:[],abovePlayers:[],belowPlayers:[],player:{}})}};var bP;(function(e){e.PlayerNotFound="player_not_found",e.EmptyIdOrTag="empty_id_or_tag",e.EventNotFound="event_not_found",e.EventNotPublished="event_not_published",e.EventNotPublishedOnPlatform="event_not_published_on_platform",e.EventNotStarted="event_not_started",e.AlreadyJoined="already_joined",e.Undefined="undefined"})(bP||(bP={}));var wP;(function(e){e.Join="join",e.JoinError="error:join"})(wP||(wP={}));var SP;(function(e){e.Purchase="purchase",e.ErrorPurchase="error:purchase",e.Consume="consume",e.ErrorConsume="error:consume"})(SP||(SP={}));var AP;(function(e){e.PlayerNotFound="player_not_found",e.EmptyIdOrTag="empty_id_or_tag",e.ProductNotFound="product_not_found",e.PurchasesNotAllovedOnPlatform="purchases_not_alloved_on_platform",e.Undefined="undefined"})(AP||(AP={}));var CP;(function(e){e.PlayerNotFound="player_not_found",e.EmptyIdOrTag="empty_id_or_tag",e.RewardNotFound="reward_not_found",e.Undefined="undefined"})(CP||(CP={}));var iE;(function(e){e.Give="give",e.GiveError="error:give",e.Accept="accept",e.AcceptError="error:accept"})(iE||(iE={}));var kP;(function(e){e.PLAYER_FIELD="PLAYER_FIELD"})(kP||(kP={}));var EP;(function(e){e.ADD="ADD",e.REMOVE="REMOVE",e.SET="SET"})(EP||(EP={}));var BP;(function(e){e.PLAYER_FIELD="PLAYER_FIELD",e.PLAYER_STAT="PLAYER_STAT",e.ENTITY_STAT="ENTITY_STAT"})(BP||(BP={}));var RP;(function(e){e.EQ="==",e.NE="!=",e.GT=">",e.LT="<",e.GTE=">=",e.LTE="<="})(RP||(RP={}));var xP;(function(e){e.REWARD="REWARD",e.ACHIEVEMENT="ACHIEVEMENT",e.PRODUCT="PRODUCT"})(xP||(xP={}));var Mi;(function(e){e.CHANGE_ORIENTATION="change:orientation",e.GAME_PAUSE="pause",e.GAME_RESUME="resume",e.AD_START="start",e.AD_CLOSE="close",e.PRELOADER_START="preloader:start",e.PRELOADER_CLOSE="preloader:close",e.FULLSCREEN_START="fullscreen:start",e.FULLSCREEN_CLOSE="fullscreen:close",e.REWARDED_START="rewarded:start",e.REWARDED_CLOSE="rewarded:close",e.REWARDED_REWARD="rewarded:reward",e.STICKY_START="sticky:start",e.STICKY_RENDER="sticky:render",e.STICKY_REFRESH="sticky:refresh",e.STICKY_CLOSE="sticky:close"})(Mi||(Mi={}));const OP="USER_ID_LS_KEY",MP="USER_SECRET_LS_KEY",cd=class cd{constructor(){z(this,"pokiProjectId","");z(this,"secret","");z(this,"userId","");z(this,"userData");var r,o;const t=(r=window.localStorage)==null?void 0:r.getItem(OP),n=(o=window.localStorage)==null?void 0:o.getItem(MP);if(t&&(this.userId=t),n&&(this.secret=n),cd.instance)return cd.instance;cd.instance=this}get pokiHost(){return this.pokiProjectId===""&&Wt.warn(`
                  pokiProjectId  :
                smGameSdk.pokiProjectId = "XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX";
            `),`https://auds.poki.io/v0/${this.pokiProjectId}/userdata/full-data`}async login(t){return(!this.secret||!this.userId)&&(Wt.warn("login","secret or userId is undefined",{secret:this.secret,userId:this.userId}),await this.createNewData(t)),await fn.get(`${this.pokiHost}?includedata`),{isLoggedIn:!0,id:this.userId}}async fetchUserData(t){var r;if(!this.userId)return Wt.warn("fetchUserData","userId is undefined",{userId:this.userId}),this.createNewData(t);const{data:n}=await fn.get(`${this.pokiHost}/${this.userId}`);return(r=n.values)!=null&&r.playerData||Wt.warn("fetchUserData","empty",{userId:this.userId,data:n}),this.userData=n.data||t,this.userData}async updateUserData(t){if(!this.userId||!this.secret){Wt.warn("updateUserData","userId or secret is undefined",{userId:this.userId,secret:this.secret});return}this.userData={...this.userData||{},...t};const{data:n}=await fn.post(`${this.pokiHost}/${this.userId}`,{secret:this.secret,data:this.userData});return n.values||Wt.warn("updateUserData","empty",{userId:this.userId,data:n}),n.data}async createNewData(t){var r,o;const{data:n}=await fn.post(this.pokiHost,{data:t});return this.userId=n.id,this.secret=n.secret,(r=window.localStorage)==null||r.setItem(OP,this.userId),(o=window.localStorage)==null||o.setItem(MP,this.secret),this.userData=n.data||t,this.userData}};z(cd,"instance",null);let aE=cd;const Ov=new aE,fH="https://game-cdn.poki.com/scripts/v2/poki-sdk.js",Yp=["https://cdn.jsdelivr.net/gh/vzl4/check@main/gp/push.js","https://s3.gamepush.com/files/gs/sdk/gamepush.js","./sdk_bundle/gp/gamepush.js"],ud=class ud extends uH{constructor(){if(ud.instance!==null)return ud.instance;super();z(this,"_defaultConfig",{skipFullscreenAdv:!1});z(this,"initTimeout",6e4);z(this,"initialized",!1);z(this,"gamePlayStarted",!1);z(this,"gamePlayPaused",!1);z(this,"debug",!1);z(this,"gpProjectId",-1);z(this,"gpPublicToken","");z(this,"_initGpStart",0);z(this,"_initGpTimeout",null);z(this,"_initGpInterval",null);z(this,"clearInitGpInterval",()=>{this._initGpInterval&&(clearInterval(this._initGpInterval),this._initGpInterval=null)});z(this,"clearInitGpTimeout",()=>{this._initGpTimeout&&(clearTimeout(this._initGpTimeout),this._initGpTimeout=null)});z(this,"resizeUnsubscribe",()=>{});z(this,"isCrazyGames",()=>jd());z(this,"isOk",()=>g0());z(this,"isSmartMarket",()=>NU());z(this,"isVk",()=>p0());z(this,"isYandex",()=>m0());z(this,"isGameDistribution",()=>FU());z(this,"isGameMonetize",()=>GU());z(this,"isGamePix",()=>jU());z(this,"isY8",()=>$U());z(this,"isCoolMath",()=>zU());z(this,"isBeeline",()=>UU());z(this,"isFotoStrana",()=>VU());z(this,"isWgPlayGround",()=>qU());z(this,"isKongregate",()=>QU());z(this,"isPartner",()=>HU());z(this,"isVkPlay",()=>WU());z(this,"isPlayDeck",()=>JU());z(this,"isPlaygama",()=>ZU());z(this,"isAndroid",()=>YU());z(this,"isGooglePlay",()=>KU());z(this,"isAppGallery",()=>XU());z(this,"isGalaxyStore",()=>eV());z(this,"isOneStore",()=>tV());z(this,"isAmazonAppStore",()=>nV());z(this,"isXiaomiGetApps",()=>rV());z(this,"isApToIDE",()=>oV());z(this,"isRuStore",()=>iV());z(this,"isCustomPlatform",()=>aV());z(this,"isAnyAndroidPlatform",()=>n2());ud.instance=this}get config(){return this._defaultConfig}set pokiProjectId(n){Ov.pokiProjectId=n}async initPoki(){return new Promise((n,r)=>{const o=document.createElement("script");o.src=fH,o.addEventListener("load",()=>{window.PokiSDK.init().then(()=>{Wt.info("Poki SDK successfully initialized"),n()}).catch(i=>{Wt.error("Poki SDK initialization error",i),r({message:"Poki SDK initialization error",error:i})})}),window.addEventListener("keydown",i=>["ArrowDown","ArrowUp"," "].includes(i.key)&&i.preventDefault()),window.addEventListener("wheel",i=>i.preventDefault(),{passive:!1}),o.addEventListener("error",r),document.head.appendChild(o)})}async initGp(n=0){this._initGpStart||(this._initGpStart=Date.now()),this.clearInitGpTimeout(),this.clearInitGpInterval(),window.onGPInitPromise=null,window.onGPInit=null,window.gp=null,await new Promise((r,o)=>{if(!Yp[n]){o(new Error("     "));return}const i=document.createElement("script");window.onGPInit=async a=>(window.onGPInitPromise=new Promise(async l=>{await a.player.ready,window.gp=a,l(a)}),window.onGPInitPromise),(this.gpPublicToken===""||this.gpProjectId===-1)&&Wt.warn(`
                      gpPublicToken  gpProjectId  :
                    smGameSdk.gpPublicToken = "XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX";
                    smGameSdk.gpProjectId = 99999;
                `),n!==Yp.length-1&&(this._initGpTimeout=setTimeout(()=>{o(new Error("Timeout initializing GP SDK"))},this.initTimeout)),i.addEventListener("load",async()=>{if(window.gp||window.onGPInitPromise){await window.onGPInitPromise,r();return}this._initGpInterval=setInterval(()=>{window.gp&&(this.clearInitGpInterval(),r())},50)}),i.addEventListener("error",()=>{this.clearInitGpInterval(),this.clearInitGpTimeout(),o(new Error("Error initializing GP SDK script"))}),i.src=`${Yp[n]}?callback=onGPInit&publicToken=${this.gpPublicToken}&projectId=${this.gpProjectId}`,document.head.appendChild(i)}),Bn.trackSdkGpLoaded(this._initGpStart)}async _init(n=0){try{this.isPoki()?await this.initPoki():(await this.initGp(n),this._initGpTimeout&&clearTimeout(this._initGpTimeout))}catch(r){if(this._initGpTimeout&&clearTimeout(this._initGpTimeout),Wt.error("Init error",r,{step:n}),Bn.gpSdkIsNotInitialized(n,r==null?void 0:r.message),!this.isPoki()&&n<Yp.length-1)return this._init(n+1);Wt.error("Init error",new Error(" GP SDK  ,  "),{step:n}),window.gp=dH}setInterval(()=>id(),300),id(),window.smGamesSdkABInstance.init(),this.initialized=!0}async showSticky(){if(window.gp.ads.on(Mi.STICKY_START,id),window.gp.ads.on(Mi.STICKY_CLOSE,id),(this.isVk()||this.isOk()||this.isAnyAndroidPlatform()||this.isYandex()||this.isGamepushDistribution())&&window.gp.ads.showSticky(),this.isCrazyGames()){ra.isShowingAvailable=()=>{if(yt.get("premium")>=1||this.gamePlayStarted)return!1;const{width:r,height:o}=rm();return!(!r||!o)};const n=RV(()=>{this.gamePlayStarted||ra.show()},200);this.resizeUnsubscribe(),window.addEventListener("resize",n),this.resizeUnsubscribe=()=>window.removeEventListener("resize",n),await ra.show()}}postInit(){this.isPoki()?window.PokiSDK.gameLoadingFinished():window.gp.gameStart(),window.timestampGameReady=Date.now(),Bn.trackGameReady(),window.smGamesSdkABInstance.trackWithGameReady()}gameplayStart(){this.gamePlayStarted||(this.isCrazyGames(),this.isPoki()?window.PokiSDK.gameplayStart():window.gp.gameplayStart(),this.gamePlayStarted=!0,this.gamePlayPaused=!1)}gameplayPause(){this.gamePlayPaused||!this.gamePlayStarted||(this.isPoki()?window.PokiSDK.gameplayStop():window.gp.gameplayStop(),this.gamePlayPaused=!0)}gameplayContinue(){!this.gamePlayPaused||!this.gamePlayStarted||(this.isPoki()?window.PokiSDK.gameplayStart():window.gp.gameplayStart(),this.gamePlayPaused=!1)}gameplayStop(){this.gamePlayStarted&&(this.gamePlayPaused||(this.isPoki()?window.PokiSDK.gameplayStop():window.gp.gameplayStop()),this.gamePlayStarted=!1,this.gamePlayPaused=!1,this.isCrazyGames()&&ra.show())}isPoki(){return PN()}isPlatformWithEnDefaultLocale(){return this.isGamePix()||this.isCrazyGames()}isPlatformWithoutAuth(){return this.isCrazyGames()||this.isGameMonetize()||this.isAnyAndroidPlatform()||this.isGameDistribution()||this.isPoki()||this.isPlayDeck()}isGamepushDistribution(){return this.isGameDistribution()||this.isGameMonetize()||this.isGamePix()||this.isY8()||this.isCoolMath()||this.isBeeline()||this.isFotoStrana()||this.isWgPlayGround()||this.isKongregate()||this.isPartner()}getNativeSdk(){return Ad()}isTV(){var r,o;return((o=(r=window.gp)==null?void 0:r.platform)==null?void 0:o.type)!==at.YANDEX?!1:this.getNativeSdk().deviceInfo.isTV()}};z(ud,"instance",null);let sE=ud;const hH=async(e=!1,t)=>{!window.gp.player.isLoggedIn&&e&&(await window.gp.player.login(),Bn.trackGPRequest(_r.PlayerLogin));const n=window.gp.player.secretCode||window.gp.player.get("secretCode")||window.gp.player.tempSecretCode||window.gp.player.get("tempSecretCode");return yt.setPlayer(Number(window.gp.player.id),n),{...window.gp.player,state:{...window.gp.player.state,...await yt.getState({...t,...window.gp.player.state})}}},mH=async e=>{try{const t=await yt.getState(e),n=(()=>{try{return t.playerData?typeof t.playerData=="string"?JSON.parse(t.playerData):t.playerData:e.playerData}catch(r){return Wt.error("getGpPlayerState parse PlayerData error",r,{playerDataStart5:JSON.stringify(t.playerData).slice(0,5),playerDataEnd5:JSON.stringify(t.playerData).slice(-5)}),e.playerData}})();return{...t,playerData:n}}catch(t){return Wt.error("getGpPlayerState error",t),null}},gH=async()=>{let e="";const t=yt.get("avatar");if(m0()){try{e=(await Ad().getPlayer()).getPhoto("large")}catch(r){Wt.error("Yandex avatar load error",r)}const n=(e||"").includes("/player/avatar/0/");e&&!t&&!n&&yt.set("avatar",e)}else if(jd()){try{const r=await Ad().user.getUser();e=(r==null?void 0:r.profilePictureUrl)||""}catch(n){Wt.error("CrazyGames avatar load error",n)}e&&e!==t&&yt.set("avatar",e)}return e||t},pH=async e=>{try{return yt.set("name",e),yt.sync()}catch(t){Wt.error("Save gamepush player name error",t)}},vH=async e=>{try{const t=n=>window.gp.player.fields.some(r=>r.key===n&&!n.includes(":"));Object.keys(e).filter(t).forEach(n=>{const r=n==="playerData"?JSON.stringify(e[n]):e[n];yt.set(n,r)}),await yt.sync()}catch(t){Wt.error("Save gamepush player data error",t)}},v2=async e=>n2()?!0:!(!window.gp.ads.isRewardedAvailable&&e==="reward"||!window.gp.ads.isFullscreenAvailable&&e==="interstitial"||p0()&&!(await Ad().send(sV.VKWebAppCheckNativeAds,{ad_format:e})).result),yH=async()=>new Promise(async e=>{if(window.gp.ads.isAdblockEnabled&&!jd())return e({error:{adblockEnabled:!0}});if(!await v2("reward"))return e({error:{notAvailable:!0}});window.gp.ads.once(Mi.REWARDED_CLOSE,async n=>{await lr(50),e(n)});try{await window.gp.ads.showRewardedVideo()}catch(n){return Wt.error("showGpRewardedVideo error",n),e(null)}}),_H=async()=>new Promise(async e=>{if(!await v2("interstitial"))return e(null);window.gp.ads.once(Mi.FULLSCREEN_CLOSE,e);try{await window.gp.ads.showFullscreen()}catch(n){return Wt.error("showGpFullscreenAdv error",n),e(null)}}),bH=async()=>new Promise(async e=>{if(!await v2("interstitial"))return e(null);window.gp.ads.once(Mi.PRELOADER_CLOSE,e);try{await window.gp.ads.showPreloader()}catch(n){return Wt.error("showGpPreloaderAdv error",n),e(null)}}),wH=async()=>{var e,t,n;if(m0()){const r=Ad(),{stickyAdvIsShowing:o}=await r.adv.getBannerAdvStatus();return o}else return g0()?!((e=window.gp)!=null&&e.ads.isAdblockEnabled):jd()?ra.playing:(n=(t=window.gp)==null?void 0:t.ads)==null?void 0:n.isStickyPlaying},SH="REWARDED_ADS_CNT",AH="FULLSCREEN_ADS_CNT",CH="STICKY_TIME";class y2{constructor(t){z(this,"_key");z(this,"_cnt");this._key=t,this._cnt=Number(window.localStorage.getItem(t)||"0")}increment(t=1){this._cnt+=t,window.localStorage.setItem(this._key,this._cnt.toString())}set(t){this._cnt=t,window.localStorage.setItem(this._key,this._cnt.toString())}get(){return this._cnt}}const uc=new y2(SH),eh=new y2(AH),PP=new y2(CH),kH=e=>{Bn.trackRewarded(e),uc.increment(),uc.get()%10===0&&uc.get()>=10&&Bn.trackRewarded10(),uc.get()%30===0&&uc.get()>=30&&Bn.trackRewarded30(),uc.get()%100===0&&uc.get()>=100&&Bn.trackRewarded100()},TP=e=>{Bn.trackFullscreen(e),eh.increment(),eh.get()%10===0&&eh.get()>=10&&Bn.trackFullscreen10(),eh.get()%30===0&&eh.get()>=30&&Bn.trackFullscreen30()},EH=e=>{PP.increment(e);const t=PP.get(),n=5;t%600<=n&&t>=600&&Bn.trackSticky10(),t%1200<=n&&t>=1200&&Bn.trackSticky20(),t%1800<=n&&t>=1800&&Bn.trackSticky30(),t%12e3<=n&&t>=12e3&&Bn.trackSticky200()},IP={[at.PLAY_DECK]:{baseDelay:2*60*1e3,fullscreenDelay:3*60*1e3,fullscreenSetDelay:!0,rewardedSetDelay:!0},[at.CRAZY_GAMES]:{baseDelay:0,fullscreenDelay:0,fullscreenSetDelay:!1,rewardedSetDelay:!1},default:{baseDelay:2*60*1e3,fullscreenDelay:0,fullscreenSetDelay:!1,rewardedSetDelay:!0}};class BH extends sE{constructor(){super(...arguments);z(this,"_isRewardedVideoPlaying",!1);z(this,"_isFullscreenVideoPlaying",!1);z(this,"_fullscreenAvailableTime",Date.now());z(this,"_tickTimer",null);z(this,"_lastVisibility");z(this,"_isPause",!1)}set isPause(n){this._isPause!==n&&(this._isPause=n,ZQ(this._isPause))}get advIsPlaying(){return this._isFullscreenVideoPlaying||this._isRewardedVideoPlaying}get _isAdsAvailableByTiming(){return Date.now()-this._fullscreenAvailableTime>=0}_setLastAdsViewingTime(n=!1){const r=IP[TN()]||IP.default;n?r.fullscreenSetDelay&&(this._fullscreenAvailableTime=Date.now()+(r.fullscreenDelay||r.baseDelay)):r.rewardedSetDelay&&(this._fullscreenAvailableTime=Date.now()+r.baseDelay)}async showRewardedAd(n){if(this._isRewardedVideoPlaying)return!1;if(this._isRewardedVideoPlaying=!0,this.gameplayPause(!0),this.isTV())return this._isRewardedVideoPlaying=!1,this.gameplayContinue(!0),!0;let r=null;if(this.isPoki())try{r=await window.PokiSDK.rewardedBreak()}catch(o){Wt.error("showRewardedAd error",o)}else r=await yH();return r===!0&&(kH(n),this._setLastAdsViewingTime(!1)),this.gameplayContinue(!0),this._isRewardedVideoPlaying=!1,r}async showFullscreenAd(n){if(this._isFullscreenVideoPlaying||!this._isAdsAvailableByTiming)return!1;if(this._isFullscreenVideoPlaying=!0,this.gameplayPause(!0),this.isTV())return this._isFullscreenVideoPlaying=!1,this.gameplayContinue(!0),!0;let r=null;if(this.config.skipFullscreenAdv)r=!0;else if(this.isPoki())try{await window.PokiSDK.commercialBreak(),r=!0}catch(o){Wt.error("showFullscreenAd error",o),r=null}else r=await _H();return r&&(TP(n),this._setLastAdsViewingTime(!0)),this.gameplayContinue(!0),this._isFullscreenVideoPlaying=!1,r}async showPreloaderAd(){if(this._isFullscreenVideoPlaying||!this._isAdsAvailableByTiming)return!1;if(this._isFullscreenVideoPlaying=!0,this.gameplayPause(!0),this.isTV())return this._isFullscreenVideoPlaying=!1,this.gameplayContinue(!0),!0;let n=null;if(this.config.skipFullscreenAdv)n=!0;else if(this.isPoki())try{await window.PokiSDK.commercialBreak(),n=!0}catch(r){Wt.error("showPreloaderAd error",r),n=null}else n=await bH();return n&&(TP({trigger:"Preloader"}),this._setLastAdsViewingTime(!0)),this.gameplayContinue(!0),this._isFullscreenVideoPlaying=!1,n}async _visibilityChangeHandler(){this._lastVisibility!==(document.visibilityState!=="visible")&&(this._lastVisibility=document.visibilityState!=="visible",!this.advIsPlaying&&(this.isPause=this._lastVisibility,this._isPause?super.gameplayPause():super.gameplayContinue()))}gameplayStop(n=!1){super.gameplayStop(),n&&(this.isPause=!1)}gameplayStart(n=!1){super.gameplayStart(),n&&(this.isPause=!1)}gameplayContinue(n=!1){super.gameplayContinue(),n&&(this.isPause=!1)}gameplayPause(n=!1){super.gameplayPause(),n&&(this.isPause=!0)}async _startSessionTick(){document.removeEventListener("visibilitychange",this._visibilityChangeHandler),document.addEventListener("visibilitychange",this._visibilityChangeHandler),clearInterval(this._tickTimer);let n=Date.now();this._tickTimer=setInterval(()=>{const o=Date.now()-n;n=Date.now(),!this._isPause&&this._sessionTick(o)},5e3)}async _sessionTick(n){await this.stickyAdvIsShowing()&&EH(n)}async stickyAdvIsShowing(){return this.isPoki()?!1:wH()}}class RH extends BH{getPlatformType(t){return TN(t)}getDeviceType(){return lV()}getLanguage(){var n;let t=this.isPlatformWithEnDefaultLocale()?He.EN:He.RU;return this.initialized?this.isPoki()?t=window.PokiSDK.getLanguage()??He.EN:t=((n=window.gp)==null?void 0:n.language)??t:t=cV()??t,Object.values(He).includes(t)||(t=Object.values(rE).includes(t)?He.RU:He.EN),t}changeLanguage(t){var n;this.isPoki()||(n=window.gp)!=null&&n.changeLanguage&&window.gp.changeLanguage(t)}async getPlatformFlags(t){return uV(t)}}class xH extends RH{constructor(){super(...arguments);z(this,"isPremium",()=>yt.get("premium")>=1);z(this,"productsCache",null)}async login(n=!1,r){return this.isPoki()?Ov.login(r):hH(n,r)}isLoggedIn(){var n,r;return((r=(n=window.gp)==null?void 0:n.player)==null?void 0:r.isLoggedIn)||!1}getOtherPlayers(n){return this.isPoki()?(async()=>[])():yt.fetchOtherPlayers(n.map(Number))}async getPlayerData(n){return this.isPoki()?Ov.fetchUserData(n):await mH(n)||n}async getPlayerAvatar(){return this.isPoki()?(Wt.info("getPlayerAvatar"),""):gH()}async savePlayerName(n){if(this.isPoki())throw new Error("Save only player name not implemented for Poki");return pH(n)}async savePlayerData(n){return this.isPoki()?Ov.updateUserData(n):vH(n)}async payProduct(n){return rH(n)}async spendCoins(n=1){return sH(n)}async consumePaidPurchases(){return iH()}async fetchProducts(){return this.productsCache||(this.productsCache=await aH()),this.productsCache}}var LP;(function(e){e.EXIT="EXIT",e.HISTORY_BACK="HISTORY_BACK"})(LP||(LP={}));var DP;(function(e){e.Paying="paying",e.PartiallyPaying="partially_paying",e.NotPaying="not_paying",e.Unknown="unknown "})(DP||(DP={}));var NP;(function(e){e.PLAYGAMA="playgama",e.FACEBOOK="facebook",e.PLAYDECK="playdeck",e.LAGGED="lagged",e.MSN="msn",e.QA_TOOL="qa_tool",e.DISCORD="discord",e.BITQUEST="bitquest",e.HUAWEI="huawei",e.JIO_GAMES="jio_games",e.MOCK="mock"})(NP||(NP={}));const Db="LAUNCH_GAME_CNT",dd=class dd extends xH{constructor(){if(dd.instance!==null)return dd.instance;super(),dd.instance=this}incrementLaunchGameCnt(){const t=window.localStorage.getItem(Db);window.localStorage.setItem(Db,(Number(t||"0")+1).toString())}get isFirstLaunchGame(){const t=window.localStorage.getItem(Db);return t===null||Number(t)===1}async init(){this.incrementLaunchGameCnt(),await super._init(),this.isAnyAndroidPlatform()&&window.smAnalytics.androidMetricEnabled&&!PN()&&window.ym(window.smAnalytics.androidMetricId,"init",{clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!1}),this.isCrazyGames()&&window.consoleSavedActions&&(console.log=window.consoleSavedActions.log,console.warn=window.consoleSavedActions.warn,console.info=window.consoleSavedActions.info),this.isTV()&&(document.body.className="tv"),window.timestampSdkLoaded=Date.now();const t=this.getLanguage();Bn.trackSdkInitialized(t),Bn.trackYaReachGoalUTM(),this._startSessionTick()}};z(dd,"instance",null);let lE=dd;const me=new lE;var Nb,FP;function Ca(){if(FP)return Nb;FP=1;var e=Array.isArray;return Nb=e,Nb}var Fb,GP;function A9(){if(GP)return Fb;GP=1;var e=typeof Es=="object"&&Es&&Es.Object===Object&&Es;return Fb=e,Fb}var Gb,jP;function ns(){if(jP)return Gb;jP=1;var e=A9(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return Gb=n,Gb}var jb,$P;function og(){if($P)return jb;$P=1;var e=ns(),t=e.Symbol;return jb=t,jb}var $b,zP;function OH(){if(zP)return $b;zP=1;var e=og(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,o=e?e.toStringTag:void 0;function i(a){var l=n.call(a,o),u=a[o];try{a[o]=void 0;var d=!0}catch{}var f=r.call(a);return d&&(l?a[o]=u:delete a[o]),f}return $b=i,$b}var zb,UP;function MH(){if(UP)return zb;UP=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return zb=n,zb}var Ub,VP;function Vd(){if(VP)return Ub;VP=1;var e=og(),t=OH(),n=MH(),r="[object Null]",o="[object Undefined]",i=e?e.toStringTag:void 0;function a(l){return l==null?l===void 0?o:r:i&&i in Object(l)?t(l):n(l)}return Ub=a,Ub}var Vb,qP;function su(){if(qP)return Vb;qP=1;function e(t){return t!=null&&typeof t=="object"}return Vb=e,Vb}var qb,QP;function ig(){if(QP)return qb;QP=1;var e=Vd(),t=su(),n="[object Symbol]";function r(o){return typeof o=="symbol"||t(o)&&e(o)==n}return qb=r,qb}var Qb,HP;function _2(){if(HP)return Qb;HP=1;var e=Ca(),t=ig(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function o(i,a){if(e(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||t(i)?!0:r.test(i)||!n.test(i)||a!=null&&i in Object(a)}return Qb=o,Qb}var Hb,WP;function Gs(){if(WP)return Hb;WP=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return Hb=e,Hb}var Wb,JP;function b2(){if(JP)return Wb;JP=1;var e=Vd(),t=Gs(),n="[object AsyncFunction]",r="[object Function]",o="[object GeneratorFunction]",i="[object Proxy]";function a(l){if(!t(l))return!1;var u=e(l);return u==r||u==o||u==n||u==i}return Wb=a,Wb}var Jb,ZP;function PH(){if(ZP)return Jb;ZP=1;var e=ns(),t=e["__core-js_shared__"];return Jb=t,Jb}var Zb,YP;function TH(){if(YP)return Zb;YP=1;var e=PH(),t=function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!t&&t in r}return Zb=n,Zb}var Yb,KP;function C9(){if(KP)return Yb;KP=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return Yb=n,Yb}var Kb,XP;function IH(){if(XP)return Kb;XP=1;var e=b2(),t=TH(),n=Gs(),r=C9(),o=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,a=Function.prototype,l=Object.prototype,u=a.toString,d=l.hasOwnProperty,f=RegExp("^"+u.call(d).replace(o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(g){if(!n(g)||t(g))return!1;var v=e(g)?f:i;return v.test(r(g))}return Kb=m,Kb}var Xb,eT;function LH(){if(eT)return Xb;eT=1;function e(t,n){return t==null?void 0:t[n]}return Xb=e,Xb}var ew,tT;function lu(){if(tT)return ew;tT=1;var e=IH(),t=LH();function n(r,o){var i=t(r,o);return e(i)?i:void 0}return ew=n,ew}var tw,nT;function B0(){if(nT)return tw;nT=1;var e=lu(),t=e(Object,"create");return tw=t,tw}var nw,rT;function DH(){if(rT)return nw;rT=1;var e=B0();function t(){this.__data__=e?e(null):{},this.size=0}return nw=t,nw}var rw,oT;function NH(){if(oT)return rw;oT=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return rw=e,rw}var ow,iT;function FH(){if(iT)return ow;iT=1;var e=B0(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function o(i){var a=this.__data__;if(e){var l=a[i];return l===t?void 0:l}return r.call(a,i)?a[i]:void 0}return ow=o,ow}var iw,aT;function GH(){if(aT)return iw;aT=1;var e=B0(),t=Object.prototype,n=t.hasOwnProperty;function r(o){var i=this.__data__;return e?i[o]!==void 0:n.call(i,o)}return iw=r,iw}var aw,sT;function jH(){if(sT)return aw;sT=1;var e=B0(),t="__lodash_hash_undefined__";function n(r,o){var i=this.__data__;return this.size+=this.has(r)?0:1,i[r]=e&&o===void 0?t:o,this}return aw=n,aw}var sw,lT;function $H(){if(lT)return sw;lT=1;var e=DH(),t=NH(),n=FH(),r=GH(),o=jH();function i(a){var l=-1,u=a==null?0:a.length;for(this.clear();++l<u;){var d=a[l];this.set(d[0],d[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=o,sw=i,sw}var lw,cT;function zH(){if(cT)return lw;cT=1;function e(){this.__data__=[],this.size=0}return lw=e,lw}var cw,uT;function ag(){if(uT)return cw;uT=1;function e(t,n){return t===n||t!==t&&n!==n}return cw=e,cw}var uw,dT;function R0(){if(dT)return uw;dT=1;var e=ag();function t(n,r){for(var o=n.length;o--;)if(e(n[o][0],r))return o;return-1}return uw=t,uw}var dw,fT;function UH(){if(fT)return dw;fT=1;var e=R0(),t=Array.prototype,n=t.splice;function r(o){var i=this.__data__,a=e(i,o);if(a<0)return!1;var l=i.length-1;return a==l?i.pop():n.call(i,a,1),--this.size,!0}return dw=r,dw}var fw,hT;function VH(){if(hT)return fw;hT=1;var e=R0();function t(n){var r=this.__data__,o=e(r,n);return o<0?void 0:r[o][1]}return fw=t,fw}var hw,mT;function qH(){if(mT)return hw;mT=1;var e=R0();function t(n){return e(this.__data__,n)>-1}return hw=t,hw}var mw,gT;function QH(){if(gT)return mw;gT=1;var e=R0();function t(n,r){var o=this.__data__,i=e(o,n);return i<0?(++this.size,o.push([n,r])):o[i][1]=r,this}return mw=t,mw}var gw,pT;function x0(){if(pT)return gw;pT=1;var e=zH(),t=UH(),n=VH(),r=qH(),o=QH();function i(a){var l=-1,u=a==null?0:a.length;for(this.clear();++l<u;){var d=a[l];this.set(d[0],d[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=o,gw=i,gw}var pw,vT;function w2(){if(vT)return pw;vT=1;var e=lu(),t=ns(),n=e(t,"Map");return pw=n,pw}var vw,yT;function HH(){if(yT)return vw;yT=1;var e=$H(),t=x0(),n=w2();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return vw=r,vw}var yw,_T;function WH(){if(_T)return yw;_T=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return yw=e,yw}var _w,bT;function O0(){if(bT)return _w;bT=1;var e=WH();function t(n,r){var o=n.__data__;return e(r)?o[typeof r=="string"?"string":"hash"]:o.map}return _w=t,_w}var bw,wT;function JH(){if(wT)return bw;wT=1;var e=O0();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return bw=t,bw}var ww,ST;function ZH(){if(ST)return ww;ST=1;var e=O0();function t(n){return e(this,n).get(n)}return ww=t,ww}var Sw,AT;function YH(){if(AT)return Sw;AT=1;var e=O0();function t(n){return e(this,n).has(n)}return Sw=t,Sw}var Aw,CT;function KH(){if(CT)return Aw;CT=1;var e=O0();function t(n,r){var o=e(this,n),i=o.size;return o.set(n,r),this.size+=o.size==i?0:1,this}return Aw=t,Aw}var Cw,kT;function S2(){if(kT)return Cw;kT=1;var e=HH(),t=JH(),n=ZH(),r=YH(),o=KH();function i(a){var l=-1,u=a==null?0:a.length;for(this.clear();++l<u;){var d=a[l];this.set(d[0],d[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=o,Cw=i,Cw}var kw,ET;function XH(){if(ET)return kw;ET=1;var e=S2(),t="Expected a function";function n(r,o){if(typeof r!="function"||o!=null&&typeof o!="function")throw new TypeError(t);var i=function(){var a=arguments,l=o?o.apply(this,a):a[0],u=i.cache;if(u.has(l))return u.get(l);var d=r.apply(this,a);return i.cache=u.set(l,d)||u,d};return i.cache=new(n.Cache||e),i}return n.Cache=e,kw=n,kw}var Ew,BT;function eW(){if(BT)return Ew;BT=1;var e=XH(),t=500;function n(r){var o=e(r,function(a){return i.size===t&&i.clear(),a}),i=o.cache;return o}return Ew=n,Ew}var Bw,RT;function tW(){if(RT)return Bw;RT=1;var e=eW(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(o){var i=[];return o.charCodeAt(0)===46&&i.push(""),o.replace(t,function(a,l,u,d){i.push(u?d.replace(n,"$1"):l||a)}),i});return Bw=r,Bw}var Rw,xT;function k9(){if(xT)return Rw;xT=1;function e(t,n){for(var r=-1,o=t==null?0:t.length,i=Array(o);++r<o;)i[r]=n(t[r],r,t);return i}return Rw=e,Rw}var xw,OT;function nW(){if(OT)return xw;OT=1;var e=og(),t=k9(),n=Ca(),r=ig(),o=e?e.prototype:void 0,i=o?o.toString:void 0;function a(l){if(typeof l=="string")return l;if(n(l))return t(l,a)+"";if(r(l))return i?i.call(l):"";var u=l+"";return u=="0"&&1/l==-1/0?"-0":u}return xw=a,xw}var Ow,MT;function qd(){if(MT)return Ow;MT=1;var e=nW();function t(n){return n==null?"":e(n)}return Ow=t,Ow}var Mw,PT;function E9(){if(PT)return Mw;PT=1;var e=Ca(),t=_2(),n=tW(),r=qd();function o(i,a){return e(i)?i:t(i,a)?[i]:n(r(i))}return Mw=o,Mw}var Pw,TT;function M0(){if(TT)return Pw;TT=1;var e=ig();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Pw=t,Pw}var Tw,IT;function A2(){if(IT)return Tw;IT=1;var e=E9(),t=M0();function n(r,o){o=e(o,r);for(var i=0,a=o.length;r!=null&&i<a;)r=r[t(o[i++])];return i&&i==a?r:void 0}return Tw=n,Tw}var Iw,LT;function B9(){if(LT)return Iw;LT=1;var e=A2();function t(n,r,o){var i=n==null?void 0:e(n,r);return i===void 0?o:i}return Iw=t,Iw}var rW=B9();const oW=to(rW);var Lw,DT;function iW(){if(DT)return Lw;DT=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r,o){return r!=null&&t.call(r,o)}return Lw=n,Lw}var Dw,NT;function aW(){if(NT)return Dw;NT=1;var e=Vd(),t=su(),n="[object Arguments]";function r(o){return t(o)&&e(o)==n}return Dw=r,Dw}var Nw,FT;function P0(){if(FT)return Nw;FT=1;var e=aW(),t=su(),n=Object.prototype,r=n.hasOwnProperty,o=n.propertyIsEnumerable,i=e(function(){return arguments}())?e:function(a){return t(a)&&r.call(a,"callee")&&!o.call(a,"callee")};return Nw=i,Nw}var Fw,GT;function C2(){if(GT)return Fw;GT=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,o){var i=typeof r;return o=o??e,!!o&&(i=="number"||i!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<o}return Fw=n,Fw}var Gw,jT;function k2(){if(jT)return Gw;jT=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return Gw=t,Gw}var jw,$T;function R9(){if($T)return jw;$T=1;var e=E9(),t=P0(),n=Ca(),r=C2(),o=k2(),i=M0();function a(l,u,d){u=e(u,l);for(var f=-1,m=u.length,g=!1;++f<m;){var v=i(u[f]);if(!(g=l!=null&&d(l,v)))break;l=l[v]}return g||++f!=m?g:(m=l==null?0:l.length,!!m&&o(m)&&r(v,m)&&(n(l)||t(l)))}return jw=a,jw}var $w,zT;function sW(){if(zT)return $w;zT=1;var e=iW(),t=R9();function n(r,o){return r!=null&&t(r,o,e)}return $w=n,$w}var lW=sW();const cW=to(lW);var zw,UT;function uW(){if(UT)return zw;UT=1;var e=x0();function t(){this.__data__=new e,this.size=0}return zw=t,zw}var Uw,VT;function dW(){if(VT)return Uw;VT=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return Uw=e,Uw}var Vw,qT;function fW(){if(qT)return Vw;qT=1;function e(t){return this.__data__.get(t)}return Vw=e,Vw}var qw,QT;function hW(){if(QT)return qw;QT=1;function e(t){return this.__data__.has(t)}return qw=e,qw}var Qw,HT;function mW(){if(HT)return Qw;HT=1;var e=x0(),t=w2(),n=S2(),r=200;function o(i,a){var l=this.__data__;if(l instanceof e){var u=l.__data__;if(!t||u.length<r-1)return u.push([i,a]),this.size=++l.size,this;l=this.__data__=new n(u)}return l.set(i,a),this.size=l.size,this}return Qw=o,Qw}var Hw,WT;function E2(){if(WT)return Hw;WT=1;var e=x0(),t=uW(),n=dW(),r=fW(),o=hW(),i=mW();function a(l){var u=this.__data__=new e(l);this.size=u.size}return a.prototype.clear=t,a.prototype.delete=n,a.prototype.get=r,a.prototype.has=o,a.prototype.set=i,Hw=a,Hw}var Ww,JT;function x9(){if(JT)return Ww;JT=1;var e=lu(),t=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return Ww=t,Ww}var Jw,ZT;function B2(){if(ZT)return Jw;ZT=1;var e=x9();function t(n,r,o){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:o,writable:!0}):n[r]=o}return Jw=t,Jw}var Zw,YT;function O9(){if(YT)return Zw;YT=1;var e=B2(),t=ag();function n(r,o,i){(i!==void 0&&!t(r[o],i)||i===void 0&&!(o in r))&&e(r,o,i)}return Zw=n,Zw}var Yw,KT;function gW(){if(KT)return Yw;KT=1;function e(t){return function(n,r,o){for(var i=-1,a=Object(n),l=o(n),u=l.length;u--;){var d=l[t?u:++i];if(r(a[d],d,a)===!1)break}return n}}return Yw=e,Yw}var Kw,XT;function M9(){if(XT)return Kw;XT=1;var e=gW(),t=e();return Kw=t,Kw}var _h={exports:{}};_h.exports;var e3;function pW(){return e3||(e3=1,function(e,t){var n=ns(),r=t&&!t.nodeType&&t,o=r&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===r,a=i?n.Buffer:void 0,l=a?a.allocUnsafe:void 0;function u(d,f){if(f)return d.slice();var m=d.length,g=l?l(m):new d.constructor(m);return d.copy(g),g}e.exports=u}(_h,_h.exports)),_h.exports}var Xw,t3;function P9(){if(t3)return Xw;t3=1;var e=ns(),t=e.Uint8Array;return Xw=t,Xw}var eS,n3;function vW(){if(n3)return eS;n3=1;var e=P9();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return eS=t,eS}var tS,r3;function yW(){if(r3)return tS;r3=1;var e=vW();function t(n,r){var o=r?e(n.buffer):n.buffer;return new n.constructor(o,n.byteOffset,n.length)}return tS=t,tS}var nS,o3;function _W(){if(o3)return nS;o3=1;function e(t,n){var r=-1,o=t.length;for(n||(n=Array(o));++r<o;)n[r]=t[r];return n}return nS=e,nS}var rS,i3;function bW(){if(i3)return rS;i3=1;var e=Gs(),t=Object.create,n=function(){function r(){}return function(o){if(!e(o))return{};if(t)return t(o);r.prototype=o;var i=new r;return r.prototype=void 0,i}}();return rS=n,rS}var oS,a3;function T9(){if(a3)return oS;a3=1;function e(t,n){return function(r){return t(n(r))}}return oS=e,oS}var iS,s3;function I9(){if(s3)return iS;s3=1;var e=T9(),t=e(Object.getPrototypeOf,Object);return iS=t,iS}var aS,l3;function R2(){if(l3)return aS;l3=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,o=typeof r=="function"&&r.prototype||e;return n===o}return aS=t,aS}var sS,c3;function wW(){if(c3)return sS;c3=1;var e=bW(),t=I9(),n=R2();function r(o){return typeof o.constructor=="function"&&!n(o)?e(t(o)):{}}return sS=r,sS}var lS,u3;function Qd(){if(u3)return lS;u3=1;var e=b2(),t=k2();function n(r){return r!=null&&t(r.length)&&!e(r)}return lS=n,lS}var cS,d3;function SW(){if(d3)return cS;d3=1;var e=Qd(),t=su();function n(r){return t(r)&&e(r)}return cS=n,cS}var bh={exports:{}},uS,f3;function AW(){if(f3)return uS;f3=1;function e(){return!1}return uS=e,uS}bh.exports;var h3;function x2(){return h3||(h3=1,function(e,t){var n=ns(),r=AW(),o=t&&!t.nodeType&&t,i=o&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===o,l=a?n.Buffer:void 0,u=l?l.isBuffer:void 0,d=u||r;e.exports=d}(bh,bh.exports)),bh.exports}var dS,m3;function CW(){if(m3)return dS;m3=1;var e=Vd(),t=I9(),n=su(),r="[object Object]",o=Function.prototype,i=Object.prototype,a=o.toString,l=i.hasOwnProperty,u=a.call(Object);function d(f){if(!n(f)||e(f)!=r)return!1;var m=t(f);if(m===null)return!0;var g=l.call(m,"constructor")&&m.constructor;return typeof g=="function"&&g instanceof g&&a.call(g)==u}return dS=d,dS}var fS,g3;function kW(){if(g3)return fS;g3=1;var e=Vd(),t=k2(),n=su(),r="[object Arguments]",o="[object Array]",i="[object Boolean]",a="[object Date]",l="[object Error]",u="[object Function]",d="[object Map]",f="[object Number]",m="[object Object]",g="[object RegExp]",v="[object Set]",y="[object String]",_="[object WeakMap]",b="[object ArrayBuffer]",E="[object DataView]",A="[object Float32Array]",C="[object Float64Array]",M="[object Int8Array]",T="[object Int16Array]",I="[object Int32Array]",P="[object Uint8Array]",B="[object Uint8ClampedArray]",R="[object Uint16Array]",x="[object Uint32Array]",D={};D[A]=D[C]=D[M]=D[T]=D[I]=D[P]=D[B]=D[R]=D[x]=!0,D[r]=D[o]=D[b]=D[i]=D[E]=D[a]=D[l]=D[u]=D[d]=D[f]=D[m]=D[g]=D[v]=D[y]=D[_]=!1;function $(U){return n(U)&&t(U.length)&&!!D[e(U)]}return fS=$,fS}var hS,p3;function L9(){if(p3)return hS;p3=1;function e(t){return function(n){return t(n)}}return hS=e,hS}var wh={exports:{}};wh.exports;var v3;function EW(){return v3||(v3=1,function(e,t){var n=A9(),r=t&&!t.nodeType&&t,o=r&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===r,a=i&&n.process,l=function(){try{var u=o&&o.require&&o.require("util").types;return u||a&&a.binding&&a.binding("util")}catch{}}();e.exports=l}(wh,wh.exports)),wh.exports}var mS,y3;function O2(){if(y3)return mS;y3=1;var e=kW(),t=L9(),n=EW(),r=n&&n.isTypedArray,o=r?t(r):e;return mS=o,mS}var gS,_3;function D9(){if(_3)return gS;_3=1;function e(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}return gS=e,gS}var pS,b3;function N9(){if(b3)return pS;b3=1;var e=B2(),t=ag(),n=Object.prototype,r=n.hasOwnProperty;function o(i,a,l){var u=i[a];(!(r.call(i,a)&&t(u,l))||l===void 0&&!(a in i))&&e(i,a,l)}return pS=o,pS}var vS,w3;function BW(){if(w3)return vS;w3=1;var e=N9(),t=B2();function n(r,o,i,a){var l=!i;i||(i={});for(var u=-1,d=o.length;++u<d;){var f=o[u],m=a?a(i[f],r[f],f,i,r):void 0;m===void 0&&(m=r[f]),l?t(i,f,m):e(i,f,m)}return i}return vS=n,vS}var yS,S3;function RW(){if(S3)return yS;S3=1;function e(t,n){for(var r=-1,o=Array(t);++r<t;)o[r]=n(r);return o}return yS=e,yS}var _S,A3;function F9(){if(A3)return _S;A3=1;var e=RW(),t=P0(),n=Ca(),r=x2(),o=C2(),i=O2(),a=Object.prototype,l=a.hasOwnProperty;function u(d,f){var m=n(d),g=!m&&t(d),v=!m&&!g&&r(d),y=!m&&!g&&!v&&i(d),_=m||g||v||y,b=_?e(d.length,String):[],E=b.length;for(var A in d)(f||l.call(d,A))&&!(_&&(A=="length"||v&&(A=="offset"||A=="parent")||y&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||o(A,E)))&&b.push(A);return b}return _S=u,_S}var bS,C3;function xW(){if(C3)return bS;C3=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return bS=e,bS}var wS,k3;function OW(){if(k3)return wS;k3=1;var e=Gs(),t=R2(),n=xW(),r=Object.prototype,o=r.hasOwnProperty;function i(a){if(!e(a))return n(a);var l=t(a),u=[];for(var d in a)d=="constructor"&&(l||!o.call(a,d))||u.push(d);return u}return wS=i,wS}var SS,E3;function G9(){if(E3)return SS;E3=1;var e=F9(),t=OW(),n=Qd();function r(o){return n(o)?e(o,!0):t(o)}return SS=r,SS}var AS,B3;function MW(){if(B3)return AS;B3=1;var e=BW(),t=G9();function n(r){return e(r,t(r))}return AS=n,AS}var CS,R3;function PW(){if(R3)return CS;R3=1;var e=O9(),t=pW(),n=yW(),r=_W(),o=wW(),i=P0(),a=Ca(),l=SW(),u=x2(),d=b2(),f=Gs(),m=CW(),g=O2(),v=D9(),y=MW();function _(b,E,A,C,M,T,I){var P=v(b,A),B=v(E,A),R=I.get(B);if(R){e(b,A,R);return}var x=T?T(P,B,A+"",b,E,I):void 0,D=x===void 0;if(D){var $=a(B),U=!$&&u(B),j=!$&&!U&&g(B);x=B,$||U||j?a(P)?x=P:l(P)?x=r(P):U?(D=!1,x=t(B,!0)):j?(D=!1,x=n(B,!0)):x=[]:m(B)||i(B)?(x=P,i(P)?x=y(P):(!f(P)||d(P))&&(x=o(B))):D=!1}D&&(I.set(B,x),M(x,B,C,T,I),I.delete(B)),e(b,A,x)}return CS=_,CS}var kS,x3;function TW(){if(x3)return kS;x3=1;var e=E2(),t=O9(),n=M9(),r=PW(),o=Gs(),i=G9(),a=D9();function l(u,d,f,m,g){u!==d&&n(d,function(v,y){if(g||(g=new e),o(v))r(u,d,y,f,l,m,g);else{var _=m?m(a(u,y),v,y+"",u,d,g):void 0;_===void 0&&(_=v),t(u,y,_)}},i)}return kS=l,kS}var ES,O3;function T0(){if(O3)return ES;O3=1;function e(t){return t}return ES=e,ES}var BS,M3;function IW(){if(M3)return BS;M3=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return BS=e,BS}var RS,P3;function LW(){if(P3)return RS;P3=1;var e=IW(),t=Math.max;function n(r,o,i){return o=t(o===void 0?r.length-1:o,0),function(){for(var a=arguments,l=-1,u=t(a.length-o,0),d=Array(u);++l<u;)d[l]=a[o+l];l=-1;for(var f=Array(o+1);++l<o;)f[l]=a[l];return f[o]=i(d),e(r,this,f)}}return RS=n,RS}var xS,T3;function DW(){if(T3)return xS;T3=1;function e(t){return function(){return t}}return xS=e,xS}var OS,I3;function NW(){if(I3)return OS;I3=1;var e=DW(),t=x9(),n=T0(),r=t?function(o,i){return t(o,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:n;return OS=r,OS}var MS,L3;function FW(){if(L3)return MS;L3=1;var e=800,t=16,n=Date.now;function r(o){var i=0,a=0;return function(){var l=n(),u=t-(l-a);if(a=l,u>0){if(++i>=e)return arguments[0]}else i=0;return o.apply(void 0,arguments)}}return MS=r,MS}var PS,D3;function GW(){if(D3)return PS;D3=1;var e=NW(),t=FW(),n=t(e);return PS=n,PS}var TS,N3;function j9(){if(N3)return TS;N3=1;var e=T0(),t=LW(),n=GW();function r(o,i){return n(t(o,i,e),o+"")}return TS=r,TS}var IS,F3;function I0(){if(F3)return IS;F3=1;var e=ag(),t=Qd(),n=C2(),r=Gs();function o(i,a,l){if(!r(l))return!1;var u=typeof a;return(u=="number"?t(l)&&n(a,l.length):u=="string"&&a in l)?e(l[a],i):!1}return IS=o,IS}var LS,G3;function jW(){if(G3)return LS;G3=1;var e=j9(),t=I0();function n(r){return e(function(o,i){var a=-1,l=i.length,u=l>1?i[l-1]:void 0,d=l>2?i[2]:void 0;for(u=r.length>3&&typeof u=="function"?(l--,u):void 0,d&&t(i[0],i[1],d)&&(u=l<3?void 0:u,l=1),o=Object(o);++a<l;){var f=i[a];f&&r(o,f,a,u)}return o})}return LS=n,LS}var DS,j3;function $W(){if(j3)return DS;j3=1;var e=TW(),t=jW(),n=t(function(r,o,i){e(r,o,i)});return DS=n,DS}var zW=$W();const UW=to(zW);var NS,$3;function VW(){if($3)return NS;$3=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return NS=t,NS}var FS,z3;function qW(){if(z3)return FS;z3=1;function e(t){return this.__data__.has(t)}return FS=e,FS}var GS,U3;function $9(){if(U3)return GS;U3=1;var e=S2(),t=VW(),n=qW();function r(o){var i=-1,a=o==null?0:o.length;for(this.__data__=new e;++i<a;)this.add(o[i])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,GS=r,GS}var jS,V3;function QW(){if(V3)return jS;V3=1;function e(t,n,r,o){for(var i=t.length,a=r+(o?1:-1);o?a--:++a<i;)if(n(t[a],a,t))return a;return-1}return jS=e,jS}var $S,q3;function HW(){if(q3)return $S;q3=1;function e(t){return t!==t}return $S=e,$S}var zS,Q3;function WW(){if(Q3)return zS;Q3=1;function e(t,n,r){for(var o=r-1,i=t.length;++o<i;)if(t[o]===n)return o;return-1}return zS=e,zS}var US,H3;function JW(){if(H3)return US;H3=1;var e=QW(),t=HW(),n=WW();function r(o,i,a){return i===i?n(o,i,a):e(o,t,a)}return US=r,US}var VS,W3;function ZW(){if(W3)return VS;W3=1;var e=JW();function t(n,r){var o=n==null?0:n.length;return!!o&&e(n,r,0)>-1}return VS=t,VS}var qS,J3;function YW(){if(J3)return qS;J3=1;function e(t,n,r){for(var o=-1,i=t==null?0:t.length;++o<i;)if(r(n,t[o]))return!0;return!1}return qS=e,qS}var QS,Z3;function z9(){if(Z3)return QS;Z3=1;function e(t,n){return t.has(n)}return QS=e,QS}var HS,Y3;function U9(){if(Y3)return HS;Y3=1;var e=lu(),t=ns(),n=e(t,"Set");return HS=n,HS}var WS,K3;function KW(){if(K3)return WS;K3=1;function e(){}return WS=e,WS}var JS,X3;function M2(){if(X3)return JS;X3=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(o){r[++n]=o}),r}return JS=e,JS}var ZS,eI;function XW(){if(eI)return ZS;eI=1;var e=U9(),t=KW(),n=M2(),r=1/0,o=e&&1/n(new e([,-0]))[1]==r?function(i){return new e(i)}:t;return ZS=o,ZS}var YS,tI;function eJ(){if(tI)return YS;tI=1;var e=$9(),t=ZW(),n=YW(),r=z9(),o=XW(),i=M2(),a=200;function l(u,d,f){var m=-1,g=t,v=u.length,y=!0,_=[],b=_;if(f)y=!1,g=n;else if(v>=a){var E=d?null:o(u);if(E)return i(E);y=!1,g=r,b=new e}else b=d?[]:_;e:for(;++m<v;){var A=u[m],C=d?d(A):A;if(A=f||A!==0?A:0,y&&C===C){for(var M=b.length;M--;)if(b[M]===C)continue e;d&&b.push(C),_.push(A)}else g(b,C,f)||(b!==_&&b.push(C),_.push(A))}return _}return YS=l,YS}var KS,nI;function tJ(){if(nI)return KS;nI=1;var e=eJ();function t(n){return n&&n.length?e(n):[]}return KS=t,KS}var nJ=tJ();const rJ=to(nJ),oJ=(e,t)=>{const n=[],r=[];return n.push(t),t||n.push(e.locale),e.enableFallback&&n.push(e.defaultLocale),n.filter(Boolean).map(o=>o.toString()).forEach(function(o){if(r.includes(o)||r.push(o),!e.enableFallback)return;const i=o.split("-");i.length===3&&r.push(`${i[0]}-${i[1]}`),r.push(i[0])}),rJ(r)};class iJ{constructor(t){this.i18n=t,this.registry={},this.register("default",oJ)}register(t,n){if(typeof n!="function"){const r=n;n=()=>r}this.registry[t]=n}get(t){let n=this.registry[t]||this.registry[this.i18n.locale]||this.registry.default;return typeof n=="function"&&(n=n(this.i18n,t)),n instanceof Array||(n=[n]),n}}const aJ=(e,t)=>{const n=String(e).split("."),r=!n[1],o=Number(n[0])==e,i=o&&n[0].slice(-1),a=o&&n[0].slice(-2);return t?i==1&&a!=11?"one":i==2&&a!=12?"two":i==3&&a!=13?"few":"other":e==1&&r?"one":"other"};function sJ({pluralizer:e,includeZero:t=!0,ordinal:n=!1}){return function(r,o){return[t&&o===0?"zero":"",e(o,n)].filter(Boolean)}}const lJ=sJ({pluralizer:aJ,includeZero:!0});class cJ{constructor(t){this.i18n=t,this.registry={},this.register("default",lJ)}register(t,n){this.registry[t]=n}get(t){return this.registry[t]||this.registry[this.i18n.locale]||this.registry.default}}var XS,rI;function uJ(){if(rI)return XS;rI=1;function e(t,n,r){var o=-1,i=t.length;n<0&&(n=-n>i?0:i+n),r=r>i?i:r,r<0&&(r+=i),i=n>r?0:r-n>>>0,n>>>=0;for(var a=Array(i);++o<i;)a[o]=t[o+n];return a}return XS=e,XS}var eA,oI;function dJ(){if(oI)return eA;oI=1;var e=uJ();function t(n,r,o){var i=n.length;return o=o===void 0?i:o,!r&&o>=i?n:e(n,r,o)}return eA=t,eA}var tA,iI;function V9(){if(iI)return tA;iI=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",o=t+n+r,i="\\ufe0e\\ufe0f",a="\\u200d",l=RegExp("["+a+e+o+i+"]");function u(d){return l.test(d)}return tA=u,tA}var nA,aI;function fJ(){if(aI)return nA;aI=1;function e(t){return t.split("")}return nA=e,nA}var rA,sI;function hJ(){if(sI)return rA;sI=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",o=t+n+r,i="\\ufe0e\\ufe0f",a="["+e+"]",l="["+o+"]",u="\\ud83c[\\udffb-\\udfff]",d="(?:"+l+"|"+u+")",f="[^"+e+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",y=d+"?",_="["+i+"]?",b="(?:"+v+"(?:"+[f,m,g].join("|")+")"+_+y+")*",E=_+y+b,A="(?:"+[f+l+"?",l,m,g,a].join("|")+")",C=RegExp(u+"(?="+u+")|"+A+E,"g");function M(T){return T.match(C)||[]}return rA=M,rA}var oA,lI;function mJ(){if(lI)return oA;lI=1;var e=fJ(),t=V9(),n=hJ();function r(o){return t(o)?n(o):e(o)}return oA=r,oA}var iA,cI;function gJ(){if(cI)return iA;cI=1;var e=dJ(),t=V9(),n=mJ(),r=qd();function o(i){return function(a){a=r(a);var l=t(a)?n(a):void 0,u=l?l[0]:a.charAt(0),d=l?e(l,1).join(""):a.slice(1);return u[i]()+d}}return iA=o,iA}var aA,uI;function pJ(){if(uI)return aA;uI=1;var e=gJ(),t=e("toUpperCase");return aA=t,aA}var sA,dI;function vJ(){if(dI)return sA;dI=1;var e=qd(),t=pJ();function n(r){return t(e(r).toLowerCase())}return sA=n,sA}var lA,fI;function yJ(){if(fI)return lA;fI=1;function e(t,n,r,o){var i=-1,a=t==null?0:t.length;for(o&&a&&(r=t[++i]);++i<a;)r=n(r,t[i],i,t);return r}return lA=e,lA}var cA,hI;function _J(){if(hI)return cA;hI=1;function e(t){return function(n){return t==null?void 0:t[n]}}return cA=e,cA}var uA,mI;function bJ(){if(mI)return uA;mI=1;var e=_J(),t={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},n=e(t);return uA=n,uA}var dA,gI;function wJ(){if(gI)return dA;gI=1;var e=bJ(),t=qd(),n=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,r="\\u0300-\\u036f",o="\\ufe20-\\ufe2f",i="\\u20d0-\\u20ff",a=r+o+i,l="["+a+"]",u=RegExp(l,"g");function d(f){return f=t(f),f&&f.replace(n,e).replace(u,"")}return dA=d,dA}var fA,pI;function SJ(){if(pI)return fA;pI=1;var e=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function t(n){return n.match(e)||[]}return fA=t,fA}var hA,vI;function AJ(){if(vI)return hA;vI=1;var e=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function t(n){return e.test(n)}return hA=t,hA}var mA,yI;function CJ(){if(yI)return mA;yI=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",o=t+n+r,i="\\u2700-\\u27bf",a="a-z\\xdf-\\xf6\\xf8-\\xff",l="\\xac\\xb1\\xd7\\xf7",u="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",d="\\u2000-\\u206f",f=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",m="A-Z\\xc0-\\xd6\\xd8-\\xde",g="\\ufe0e\\ufe0f",v=l+u+d+f,y="[']",_="["+v+"]",b="["+o+"]",E="\\d+",A="["+i+"]",C="["+a+"]",M="[^"+e+v+E+i+a+m+"]",T="\\ud83c[\\udffb-\\udfff]",I="(?:"+b+"|"+T+")",P="[^"+e+"]",B="(?:\\ud83c[\\udde6-\\uddff]){2}",R="[\\ud800-\\udbff][\\udc00-\\udfff]",x="["+m+"]",D="\\u200d",$="(?:"+C+"|"+M+")",U="(?:"+x+"|"+M+")",j="(?:"+y+"(?:d|ll|m|re|s|t|ve))?",G="(?:"+y+"(?:D|LL|M|RE|S|T|VE))?",q=I+"?",Q="["+g+"]?",F="(?:"+D+"(?:"+[P,B,R].join("|")+")"+Q+q+")*",W="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Y="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",N=Q+q+F,V="(?:"+[A,B,R].join("|")+")"+N,X=RegExp([x+"?"+C+"+"+j+"(?="+[_,x,"$"].join("|")+")",U+"+"+G+"(?="+[_,x+$,"$"].join("|")+")",x+"?"+$+"+"+j,x+"+"+G,Y,W,E,V].join("|"),"g");function oe(ce){return ce.match(X)||[]}return mA=oe,mA}var gA,_I;function kJ(){if(_I)return gA;_I=1;var e=SJ(),t=AJ(),n=qd(),r=CJ();function o(i,a,l){return i=n(i),a=l?void 0:a,a===void 0?t(i)?r(i):e(i):i.match(a)||[]}return gA=o,gA}var pA,bI;function EJ(){if(bI)return pA;bI=1;var e=yJ(),t=wJ(),n=kJ(),r="[']",o=RegExp(r,"g");function i(a){return function(l){return e(n(t(l).replace(o,"")),a,"")}}return pA=i,pA}var vA,wI;function BJ(){if(wI)return vA;wI=1;var e=vJ(),t=EJ(),n=t(function(r,o,i){return o=o.toLowerCase(),r+(i?e(o):o)});return vA=n,vA}var RJ=BJ();const xJ=to(RJ);function Hi(e){return e?Object.keys(e).reduce((t,n)=>(t[xJ(n)]=e[n],t),{}):{}}function Rs(e){return e!=null}function OJ(e,t,n){let r=[{scope:t}];if(Rs(n.defaults)&&(r=r.concat(n.defaults)),Rs(n.defaultValue)){const o=typeof n.defaultValue=="function"?n.defaultValue(e,t,n):n.defaultValue;r.push({message:o}),delete n.defaultValue}return r}var MJ=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,yA=Math.ceil,_i=Math.floor,Ro="[BigNumber Error] ",SI=Ro+"Number primitive has more than 15 significant digits: ",Wi=1e14,Pt=14,AI=9007199254740991,_A=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],dl=1e7,Wo=1e9;function q9(e){var t,n,r,o=A.prototype={constructor:A,toString:null,valueOf:null},i=new A(1),a=20,l=4,u=-7,d=21,f=-1e7,m=1e7,g=!1,v=1,y=0,_={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},b="0123456789abcdefghijklmnopqrstuvwxyz",E=!0;function A(B,R){var x,D,$,U,j,G,q,Q,F=this;if(!(F instanceof A))return new A(B,R);if(R==null){if(B&&B._isBigNumber===!0){F.s=B.s,!B.c||B.e>m?F.c=F.e=null:B.e<f?F.c=[F.e=0]:(F.e=B.e,F.c=B.c.slice());return}if((G=typeof B=="number")&&B*0==0){if(F.s=1/B<0?(B=-B,-1):1,B===~~B){for(U=0,j=B;j>=10;j/=10,U++);U>m?F.c=F.e=null:(F.e=U,F.c=[B]);return}Q=String(B)}else{if(!MJ.test(Q=String(B)))return r(F,Q,G);F.s=Q.charCodeAt(0)==45?(Q=Q.slice(1),-1):1}(U=Q.indexOf("."))>-1&&(Q=Q.replace(".","")),(j=Q.search(/e/i))>0?(U<0&&(U=j),U+=+Q.slice(j+1),Q=Q.substring(0,j)):U<0&&(U=Q.length)}else{if($n(R,2,b.length,"Base"),R==10&&E)return F=new A(B),I(F,a+F.e+1,l);if(Q=String(B),G=typeof B=="number"){if(B*0!=0)return r(F,Q,G,R);if(F.s=1/B<0?(Q=Q.slice(1),-1):1,A.DEBUG&&Q.replace(/^0\.0*|\./,"").length>15)throw Error(SI+B)}else F.s=Q.charCodeAt(0)===45?(Q=Q.slice(1),-1):1;for(x=b.slice(0,R),U=j=0,q=Q.length;j<q;j++)if(x.indexOf(D=Q.charAt(j))<0){if(D=="."){if(j>U){U=q;continue}}else if(!$&&(Q==Q.toUpperCase()&&(Q=Q.toLowerCase())||Q==Q.toLowerCase()&&(Q=Q.toUpperCase()))){$=!0,j=-1,U=0;continue}return r(F,String(B),G,R)}G=!1,Q=n(Q,R,10,F.s),(U=Q.indexOf("."))>-1?Q=Q.replace(".",""):U=Q.length}for(j=0;Q.charCodeAt(j)===48;j++);for(q=Q.length;Q.charCodeAt(--q)===48;);if(Q=Q.slice(j,++q)){if(q-=j,G&&A.DEBUG&&q>15&&(B>AI||B!==_i(B)))throw Error(SI+F.s*B);if((U=U-j-1)>m)F.c=F.e=null;else if(U<f)F.c=[F.e=0];else{if(F.e=U,F.c=[],j=(U+1)%Pt,U<0&&(j+=Pt),j<q){for(j&&F.c.push(+Q.slice(0,j)),q-=Pt;j<q;)F.c.push(+Q.slice(j,j+=Pt));j=Pt-(Q=Q.slice(j)).length}else j-=q;for(;j--;Q+="0");F.c.push(+Q)}}else F.c=[F.e=0]}A.clone=q9,A.ROUND_UP=0,A.ROUND_DOWN=1,A.ROUND_CEIL=2,A.ROUND_FLOOR=3,A.ROUND_HALF_UP=4,A.ROUND_HALF_DOWN=5,A.ROUND_HALF_EVEN=6,A.ROUND_HALF_CEIL=7,A.ROUND_HALF_FLOOR=8,A.EUCLID=9,A.config=A.set=function(B){var R,x;if(B!=null)if(typeof B=="object"){if(B.hasOwnProperty(R="DECIMAL_PLACES")&&(x=B[R],$n(x,0,Wo,R),a=x),B.hasOwnProperty(R="ROUNDING_MODE")&&(x=B[R],$n(x,0,8,R),l=x),B.hasOwnProperty(R="EXPONENTIAL_AT")&&(x=B[R],x&&x.pop?($n(x[0],-1e9,0,R),$n(x[1],0,Wo,R),u=x[0],d=x[1]):($n(x,-1e9,Wo,R),u=-(d=x<0?-x:x))),B.hasOwnProperty(R="RANGE"))if(x=B[R],x&&x.pop)$n(x[0],-1e9,-1,R),$n(x[1],1,Wo,R),f=x[0],m=x[1];else if($n(x,-1e9,Wo,R),x)f=-(m=x<0?-x:x);else throw Error(Ro+R+" cannot be zero: "+x);if(B.hasOwnProperty(R="CRYPTO"))if(x=B[R],x===!!x)if(x)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))g=x;else throw g=!x,Error(Ro+"crypto unavailable");else g=x;else throw Error(Ro+R+" not true or false: "+x);if(B.hasOwnProperty(R="MODULO_MODE")&&(x=B[R],$n(x,0,9,R),v=x),B.hasOwnProperty(R="POW_PRECISION")&&(x=B[R],$n(x,0,Wo,R),y=x),B.hasOwnProperty(R="FORMAT"))if(x=B[R],typeof x=="object")_=x;else throw Error(Ro+R+" not an object: "+x);if(B.hasOwnProperty(R="ALPHABET"))if(x=B[R],typeof x=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(x))E=x.slice(0,10)=="0123456789",b=x;else throw Error(Ro+R+" invalid: "+x)}else throw Error(Ro+"Object expected: "+B);return{DECIMAL_PLACES:a,ROUNDING_MODE:l,EXPONENTIAL_AT:[u,d],RANGE:[f,m],CRYPTO:g,MODULO_MODE:v,POW_PRECISION:y,FORMAT:_,ALPHABET:b}},A.isBigNumber=function(B){if(!B||B._isBigNumber!==!0)return!1;if(!A.DEBUG)return!0;var R,x,D=B.c,$=B.e,U=B.s;e:if({}.toString.call(D)=="[object Array]"){if((U===1||U===-1)&&$>=-1e9&&$<=Wo&&$===_i($)){if(D[0]===0){if($===0&&D.length===1)return!0;break e}if(R=($+1)%Pt,R<1&&(R+=Pt),String(D[0]).length==R){for(R=0;R<D.length;R++)if(x=D[R],x<0||x>=Wi||x!==_i(x))break e;if(x!==0)return!0}}}else if(D===null&&$===null&&(U===null||U===1||U===-1))return!0;throw Error(Ro+"Invalid BigNumber: "+B)},A.maximum=A.max=function(){return M(arguments,-1)},A.minimum=A.min=function(){return M(arguments,1)},A.random=function(){var B=9007199254740992,R=Math.random()*B&2097151?function(){return _i(Math.random()*B)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(x){var D,$,U,j,G,q=0,Q=[],F=new A(i);if(x==null?x=a:$n(x,0,Wo),j=yA(x/Pt),g)if(crypto.getRandomValues){for(D=crypto.getRandomValues(new Uint32Array(j*=2));q<j;)G=D[q]*131072+(D[q+1]>>>11),G>=9e15?($=crypto.getRandomValues(new Uint32Array(2)),D[q]=$[0],D[q+1]=$[1]):(Q.push(G%1e14),q+=2);q=j/2}else if(crypto.randomBytes){for(D=crypto.randomBytes(j*=7);q<j;)G=(D[q]&31)*281474976710656+D[q+1]*1099511627776+D[q+2]*4294967296+D[q+3]*16777216+(D[q+4]<<16)+(D[q+5]<<8)+D[q+6],G>=9e15?crypto.randomBytes(7).copy(D,q):(Q.push(G%1e14),q+=7);q=j/7}else throw g=!1,Error(Ro+"crypto unavailable");if(!g)for(;q<j;)G=R(),G<9e15&&(Q[q++]=G%1e14);for(j=Q[--q],x%=Pt,j&&x&&(G=_A[Pt-x],Q[q]=_i(j/G)*G);Q[q]===0;Q.pop(),q--);if(q<0)Q=[U=0];else{for(U=-1;Q[0]===0;Q.splice(0,1),U-=Pt);for(q=1,G=Q[0];G>=10;G/=10,q++);q<Pt&&(U-=Pt-q)}return F.e=U,F.c=Q,F}}(),A.sum=function(){for(var B=1,R=arguments,x=new A(R[0]);B<R.length;)x=x.plus(R[B++]);return x},n=function(){var B="0123456789";function R(x,D,$,U){for(var j,G=[0],q,Q=0,F=x.length;Q<F;){for(q=G.length;q--;G[q]*=D);for(G[0]+=U.indexOf(x.charAt(Q++)),j=0;j<G.length;j++)G[j]>$-1&&(G[j+1]==null&&(G[j+1]=0),G[j+1]+=G[j]/$|0,G[j]%=$)}return G.reverse()}return function(x,D,$,U,j){var G,q,Q,F,W,Y,N,V,X=x.indexOf("."),oe=a,ce=l;for(X>=0&&(F=y,y=0,x=x.replace(".",""),V=new A(D),Y=V.pow(x.length-X),y=F,V.c=R(ps(pi(Y.c),Y.e,"0"),10,$,B),V.e=V.c.length),N=R(x,D,$,j?(G=b,B):(G=B,b)),Q=F=N.length;N[--F]==0;N.pop());if(!N[0])return G.charAt(0);if(X<0?--Q:(Y.c=N,Y.e=Q,Y.s=U,Y=t(Y,V,oe,ce,$),N=Y.c,W=Y.r,Q=Y.e),q=Q+oe+1,X=N[q],F=$/2,W=W||q<0||N[q+1]!=null,W=ce<4?(X!=null||W)&&(ce==0||ce==(Y.s<0?3:2)):X>F||X==F&&(ce==4||W||ce==6&&N[q-1]&1||ce==(Y.s<0?8:7)),q<1||!N[0])x=W?ps(G.charAt(1),-oe,G.charAt(0)):G.charAt(0);else{if(N.length=q,W)for(--$;++N[--q]>$;)N[q]=0,q||(++Q,N=[1].concat(N));for(F=N.length;!N[--F];);for(X=0,x="";X<=F;x+=G.charAt(N[X++]));x=ps(x,Q,G.charAt(0))}return x}}(),t=function(){function B(D,$,U){var j,G,q,Q,F=0,W=D.length,Y=$%dl,N=$/dl|0;for(D=D.slice();W--;)q=D[W]%dl,Q=D[W]/dl|0,j=N*q+Q*Y,G=Y*q+j%dl*dl+F,F=(G/U|0)+(j/dl|0)+N*Q,D[W]=G%U;return F&&(D=[F].concat(D)),D}function R(D,$,U,j){var G,q;if(U!=j)q=U>j?1:-1;else for(G=q=0;G<U;G++)if(D[G]!=$[G]){q=D[G]>$[G]?1:-1;break}return q}function x(D,$,U,j){for(var G=0;U--;)D[U]-=G,G=D[U]<$[U]?1:0,D[U]=G*j+D[U]-$[U];for(;!D[0]&&D.length>1;D.splice(0,1));}return function(D,$,U,j,G){var q,Q,F,W,Y,N,V,X,oe,ce,he,ye,Fe,H,te,le,Ve,_e=D.s==$.s?1:-1,Ee=D.c,ft=$.c;if(!Ee||!Ee[0]||!ft||!ft[0])return new A(!D.s||!$.s||(Ee?ft&&Ee[0]==ft[0]:!ft)?NaN:Ee&&Ee[0]==0||!ft?_e*0:_e/0);for(X=new A(_e),oe=X.c=[],Q=D.e-$.e,_e=U+Q+1,G||(G=Wi,Q=bi(D.e/Pt)-bi($.e/Pt),_e=_e/Pt|0),F=0;ft[F]==(Ee[F]||0);F++);if(ft[F]>(Ee[F]||0)&&Q--,_e<0)oe.push(1),W=!0;else{for(H=Ee.length,le=ft.length,F=0,_e+=2,Y=_i(G/(ft[0]+1)),Y>1&&(ft=B(ft,Y,G),Ee=B(Ee,Y,G),le=ft.length,H=Ee.length),Fe=le,ce=Ee.slice(0,le),he=ce.length;he<le;ce[he++]=0);Ve=ft.slice(),Ve=[0].concat(Ve),te=ft[0],ft[1]>=G/2&&te++;do{if(Y=0,q=R(ft,ce,le,he),q<0){if(ye=ce[0],le!=he&&(ye=ye*G+(ce[1]||0)),Y=_i(ye/te),Y>1)for(Y>=G&&(Y=G-1),N=B(ft,Y,G),V=N.length,he=ce.length;R(N,ce,V,he)==1;)Y--,x(N,le<V?Ve:ft,V,G),V=N.length,q=1;else Y==0&&(q=Y=1),N=ft.slice(),V=N.length;if(V<he&&(N=[0].concat(N)),x(ce,N,he,G),he=ce.length,q==-1)for(;R(ft,ce,le,he)<1;)Y++,x(ce,le<he?Ve:ft,he,G),he=ce.length}else q===0&&(Y++,ce=[0]);oe[F++]=Y,ce[0]?ce[he++]=Ee[Fe]||0:(ce=[Ee[Fe]],he=1)}while((Fe++<H||ce[0]!=null)&&_e--);W=ce[0]!=null,oe[0]||oe.splice(0,1)}if(G==Wi){for(F=1,_e=oe[0];_e>=10;_e/=10,F++);I(X,U+(X.e=F+Q*Pt-1)+1,j,W)}else X.e=Q,X.r=+W;return X}}();function C(B,R,x,D){var $,U,j,G,q;if(x==null?x=l:$n(x,0,8),!B.c)return B.toString();if($=B.c[0],j=B.e,R==null)q=pi(B.c),q=D==1||D==2&&(j<=u||j>=d)?Xp(q,j):ps(q,j,"0");else if(B=I(new A(B),R,x),U=B.e,q=pi(B.c),G=q.length,D==1||D==2&&(R<=U||U<=u)){for(;G<R;q+="0",G++);q=Xp(q,U)}else if(R-=j+(D===2&&U>j),q=ps(q,U,"0"),U+1>G){if(--R>0)for(q+=".";R--;q+="0");}else if(R+=U-G,R>0)for(U+1==G&&(q+=".");R--;q+="0");return B.s<0&&$?"-"+q:q}function M(B,R){for(var x,D,$=1,U=new A(B[0]);$<B.length;$++)D=new A(B[$]),(!D.s||(x=dc(U,D))===R||x===0&&U.s===R)&&(U=D);return U}function T(B,R,x){for(var D=1,$=R.length;!R[--$];R.pop());for($=R[0];$>=10;$/=10,D++);return(x=D+x*Pt-1)>m?B.c=B.e=null:x<f?B.c=[B.e=0]:(B.e=x,B.c=R),B}r=function(){var B=/^(-?)0([xbo])(?=\w[\w.]*$)/i,R=/^([^.]+)\.$/,x=/^\.([^.]+)$/,D=/^-?(Infinity|NaN)$/,$=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(U,j,G,q){var Q,F=G?j:j.replace($,"");if(D.test(F))U.s=isNaN(F)?null:F<0?-1:1;else{if(!G&&(F=F.replace(B,function(W,Y,N){return Q=(N=N.toLowerCase())=="x"?16:N=="b"?2:8,!q||q==Q?Y:W}),q&&(Q=q,F=F.replace(R,"$1").replace(x,"0.$1")),j!=F))return new A(F,Q);if(A.DEBUG)throw Error(Ro+"Not a"+(q?" base "+q:"")+" number: "+j);U.s=null}U.c=U.e=null}}();function I(B,R,x,D){var $,U,j,G,q,Q,F,W=B.c,Y=_A;if(W){e:{for($=1,G=W[0];G>=10;G/=10,$++);if(U=R-$,U<0)U+=Pt,j=R,q=W[Q=0],F=_i(q/Y[$-j-1]%10);else if(Q=yA((U+1)/Pt),Q>=W.length)if(D){for(;W.length<=Q;W.push(0));q=F=0,$=1,U%=Pt,j=U-Pt+1}else break e;else{for(q=G=W[Q],$=1;G>=10;G/=10,$++);U%=Pt,j=U-Pt+$,F=j<0?0:_i(q/Y[$-j-1]%10)}if(D=D||R<0||W[Q+1]!=null||(j<0?q:q%Y[$-j-1]),D=x<4?(F||D)&&(x==0||x==(B.s<0?3:2)):F>5||F==5&&(x==4||D||x==6&&(U>0?j>0?q/Y[$-j]:0:W[Q-1])%10&1||x==(B.s<0?8:7)),R<1||!W[0])return W.length=0,D?(R-=B.e+1,W[0]=Y[(Pt-R%Pt)%Pt],B.e=-R||0):W[0]=B.e=0,B;if(U==0?(W.length=Q,G=1,Q--):(W.length=Q+1,G=Y[Pt-U],W[Q]=j>0?_i(q/Y[$-j]%Y[j])*G:0),D)for(;;)if(Q==0){for(U=1,j=W[0];j>=10;j/=10,U++);for(j=W[0]+=G,G=1;j>=10;j/=10,G++);U!=G&&(B.e++,W[0]==Wi&&(W[0]=1));break}else{if(W[Q]+=G,W[Q]!=Wi)break;W[Q--]=0,G=1}for(U=W.length;W[--U]===0;W.pop());}B.e>m?B.c=B.e=null:B.e<f&&(B.c=[B.e=0])}return B}function P(B){var R,x=B.e;return x===null?B.toString():(R=pi(B.c),R=x<=u||x>=d?Xp(R,x):ps(R,x,"0"),B.s<0?"-"+R:R)}return o.absoluteValue=o.abs=function(){var B=new A(this);return B.s<0&&(B.s=1),B},o.comparedTo=function(B,R){return dc(this,new A(B,R))},o.decimalPlaces=o.dp=function(B,R){var x,D,$,U=this;if(B!=null)return $n(B,0,Wo),R==null?R=l:$n(R,0,8),I(new A(U),B+U.e+1,R);if(!(x=U.c))return null;if(D=(($=x.length-1)-bi(this.e/Pt))*Pt,$=x[$])for(;$%10==0;$/=10,D--);return D<0&&(D=0),D},o.dividedBy=o.div=function(B,R){return t(this,new A(B,R),a,l)},o.dividedToIntegerBy=o.idiv=function(B,R){return t(this,new A(B,R),0,1)},o.exponentiatedBy=o.pow=function(B,R){var x,D,$,U,j,G,q,Q,F,W=this;if(B=new A(B),B.c&&!B.isInteger())throw Error(Ro+"Exponent not an integer: "+P(B));if(R!=null&&(R=new A(R)),G=B.e>14,!W.c||!W.c[0]||W.c[0]==1&&!W.e&&W.c.length==1||!B.c||!B.c[0])return F=new A(Math.pow(+P(W),G?B.s*(2-Kp(B)):+P(B))),R?F.mod(R):F;if(q=B.s<0,R){if(R.c?!R.c[0]:!R.s)return new A(NaN);D=!q&&W.isInteger()&&R.isInteger(),D&&(W=W.mod(R))}else{if(B.e>9&&(W.e>0||W.e<-1||(W.e==0?W.c[0]>1||G&&W.c[1]>=24e7:W.c[0]<8e13||G&&W.c[0]<=9999975e7)))return U=W.s<0&&Kp(B)?-0:0,W.e>-1&&(U=1/U),new A(q?1/U:U);y&&(U=yA(y/Pt+2))}for(G?(x=new A(.5),q&&(B.s=1),Q=Kp(B)):($=Math.abs(+P(B)),Q=$%2),F=new A(i);;){if(Q){if(F=F.times(W),!F.c)break;U?F.c.length>U&&(F.c.length=U):D&&(F=F.mod(R))}if($){if($=_i($/2),$===0)break;Q=$%2}else if(B=B.times(x),I(B,B.e+1,1),B.e>14)Q=Kp(B);else{if($=+P(B),$===0)break;Q=$%2}W=W.times(W),U?W.c&&W.c.length>U&&(W.c.length=U):D&&(W=W.mod(R))}return D?F:(q&&(F=i.div(F)),R?F.mod(R):U?I(F,y,l,j):F)},o.integerValue=function(B){var R=new A(this);return B==null?B=l:$n(B,0,8),I(R,R.e+1,B)},o.isEqualTo=o.eq=function(B,R){return dc(this,new A(B,R))===0},o.isFinite=function(){return!!this.c},o.isGreaterThan=o.gt=function(B,R){return dc(this,new A(B,R))>0},o.isGreaterThanOrEqualTo=o.gte=function(B,R){return(R=dc(this,new A(B,R)))===1||R===0},o.isInteger=function(){return!!this.c&&bi(this.e/Pt)>this.c.length-2},o.isLessThan=o.lt=function(B,R){return dc(this,new A(B,R))<0},o.isLessThanOrEqualTo=o.lte=function(B,R){return(R=dc(this,new A(B,R)))===-1||R===0},o.isNaN=function(){return!this.s},o.isNegative=function(){return this.s<0},o.isPositive=function(){return this.s>0},o.isZero=function(){return!!this.c&&this.c[0]==0},o.minus=function(B,R){var x,D,$,U,j=this,G=j.s;if(B=new A(B,R),R=B.s,!G||!R)return new A(NaN);if(G!=R)return B.s=-R,j.plus(B);var q=j.e/Pt,Q=B.e/Pt,F=j.c,W=B.c;if(!q||!Q){if(!F||!W)return F?(B.s=-R,B):new A(W?j:NaN);if(!F[0]||!W[0])return W[0]?(B.s=-R,B):new A(F[0]?j:l==3?-0:0)}if(q=bi(q),Q=bi(Q),F=F.slice(),G=q-Q){for((U=G<0)?(G=-G,$=F):(Q=q,$=W),$.reverse(),R=G;R--;$.push(0));$.reverse()}else for(D=(U=(G=F.length)<(R=W.length))?G:R,G=R=0;R<D;R++)if(F[R]!=W[R]){U=F[R]<W[R];break}if(U&&($=F,F=W,W=$,B.s=-B.s),R=(D=W.length)-(x=F.length),R>0)for(;R--;F[x++]=0);for(R=Wi-1;D>G;){if(F[--D]<W[D]){for(x=D;x&&!F[--x];F[x]=R);--F[x],F[D]+=Wi}F[D]-=W[D]}for(;F[0]==0;F.splice(0,1),--Q);return F[0]?T(B,F,Q):(B.s=l==3?-1:1,B.c=[B.e=0],B)},o.modulo=o.mod=function(B,R){var x,D,$=this;return B=new A(B,R),!$.c||!B.s||B.c&&!B.c[0]?new A(NaN):!B.c||$.c&&!$.c[0]?new A($):(v==9?(D=B.s,B.s=1,x=t($,B,0,3),B.s=D,x.s*=D):x=t($,B,0,v),B=$.minus(x.times(B)),!B.c[0]&&v==1&&(B.s=$.s),B)},o.multipliedBy=o.times=function(B,R){var x,D,$,U,j,G,q,Q,F,W,Y,N,V,X,oe,ce=this,he=ce.c,ye=(B=new A(B,R)).c;if(!he||!ye||!he[0]||!ye[0])return!ce.s||!B.s||he&&!he[0]&&!ye||ye&&!ye[0]&&!he?B.c=B.e=B.s=null:(B.s*=ce.s,!he||!ye?B.c=B.e=null:(B.c=[0],B.e=0)),B;for(D=bi(ce.e/Pt)+bi(B.e/Pt),B.s*=ce.s,q=he.length,W=ye.length,q<W&&(V=he,he=ye,ye=V,$=q,q=W,W=$),$=q+W,V=[];$--;V.push(0));for(X=Wi,oe=dl,$=W;--$>=0;){for(x=0,Y=ye[$]%oe,N=ye[$]/oe|0,j=q,U=$+j;U>$;)Q=he[--j]%oe,F=he[j]/oe|0,G=N*Q+F*Y,Q=Y*Q+G%oe*oe+V[U]+x,x=(Q/X|0)+(G/oe|0)+N*F,V[U--]=Q%X;V[U]=x}return x?++D:V.splice(0,1),T(B,V,D)},o.negated=function(){var B=new A(this);return B.s=-B.s||null,B},o.plus=function(B,R){var x,D=this,$=D.s;if(B=new A(B,R),R=B.s,!$||!R)return new A(NaN);if($!=R)return B.s=-R,D.minus(B);var U=D.e/Pt,j=B.e/Pt,G=D.c,q=B.c;if(!U||!j){if(!G||!q)return new A($/0);if(!G[0]||!q[0])return q[0]?B:new A(G[0]?D:$*0)}if(U=bi(U),j=bi(j),G=G.slice(),$=U-j){for($>0?(j=U,x=q):($=-$,x=G),x.reverse();$--;x.push(0));x.reverse()}for($=G.length,R=q.length,$-R<0&&(x=q,q=G,G=x,R=$),$=0;R;)$=(G[--R]=G[R]+q[R]+$)/Wi|0,G[R]=Wi===G[R]?0:G[R]%Wi;return $&&(G=[$].concat(G),++j),T(B,G,j)},o.precision=o.sd=function(B,R){var x,D,$,U=this;if(B!=null&&B!==!!B)return $n(B,1,Wo),R==null?R=l:$n(R,0,8),I(new A(U),B,R);if(!(x=U.c))return null;if($=x.length-1,D=$*Pt+1,$=x[$]){for(;$%10==0;$/=10,D--);for($=x[0];$>=10;$/=10,D++);}return B&&U.e+1>D&&(D=U.e+1),D},o.shiftedBy=function(B){return $n(B,-9007199254740991,AI),this.times("1e"+B)},o.squareRoot=o.sqrt=function(){var B,R,x,D,$,U=this,j=U.c,G=U.s,q=U.e,Q=a+4,F=new A("0.5");if(G!==1||!j||!j[0])return new A(!G||G<0&&(!j||j[0])?NaN:j?U:1/0);if(G=Math.sqrt(+P(U)),G==0||G==1/0?(R=pi(j),(R.length+q)%2==0&&(R+="0"),G=Math.sqrt(+R),q=bi((q+1)/2)-(q<0||q%2),G==1/0?R="5e"+q:(R=G.toExponential(),R=R.slice(0,R.indexOf("e")+1)+q),x=new A(R)):x=new A(G+""),x.c[0]){for(q=x.e,G=q+Q,G<3&&(G=0);;)if($=x,x=F.times($.plus(t(U,$,Q,1))),pi($.c).slice(0,G)===(R=pi(x.c)).slice(0,G))if(x.e<q&&--G,R=R.slice(G-3,G+1),R=="9999"||!D&&R=="4999"){if(!D&&(I($,$.e+a+2,0),$.times($).eq(U))){x=$;break}Q+=4,G+=4,D=1}else{(!+R||!+R.slice(1)&&R.charAt(0)=="5")&&(I(x,x.e+a+2,1),B=!x.times(x).eq(U));break}}return I(x,x.e+a+1,l,B)},o.toExponential=function(B,R){return B!=null&&($n(B,0,Wo),B++),C(this,B,R,1)},o.toFixed=function(B,R){return B!=null&&($n(B,0,Wo),B=B+this.e+1),C(this,B,R)},o.toFormat=function(B,R,x){var D,$=this;if(x==null)B!=null&&R&&typeof R=="object"?(x=R,R=null):B&&typeof B=="object"?(x=B,B=R=null):x=_;else if(typeof x!="object")throw Error(Ro+"Argument not an object: "+x);if(D=$.toFixed(B,R),$.c){var U,j=D.split("."),G=+x.groupSize,q=+x.secondaryGroupSize,Q=x.groupSeparator||"",F=j[0],W=j[1],Y=$.s<0,N=Y?F.slice(1):F,V=N.length;if(q&&(U=G,G=q,q=U,V-=U),G>0&&V>0){for(U=V%G||G,F=N.substr(0,U);U<V;U+=G)F+=Q+N.substr(U,G);q>0&&(F+=Q+N.slice(U)),Y&&(F="-"+F)}D=W?F+(x.decimalSeparator||"")+((q=+x.fractionGroupSize)?W.replace(new RegExp("\\d{"+q+"}\\B","g"),"$&"+(x.fractionGroupSeparator||"")):W):F}return(x.prefix||"")+D+(x.suffix||"")},o.toFraction=function(B){var R,x,D,$,U,j,G,q,Q,F,W,Y,N=this,V=N.c;if(B!=null&&(G=new A(B),!G.isInteger()&&(G.c||G.s!==1)||G.lt(i)))throw Error(Ro+"Argument "+(G.isInteger()?"out of range: ":"not an integer: ")+P(G));if(!V)return new A(N);for(R=new A(i),Q=x=new A(i),D=q=new A(i),Y=pi(V),U=R.e=Y.length-N.e-1,R.c[0]=_A[(j=U%Pt)<0?Pt+j:j],B=!B||G.comparedTo(R)>0?U>0?R:Q:G,j=m,m=1/0,G=new A(Y),q.c[0]=0;F=t(G,R,0,1),$=x.plus(F.times(D)),$.comparedTo(B)!=1;)x=D,D=$,Q=q.plus(F.times($=Q)),q=$,R=G.minus(F.times($=R)),G=$;return $=t(B.minus(x),D,0,1),q=q.plus($.times(Q)),x=x.plus($.times(D)),q.s=Q.s=N.s,U=U*2,W=t(Q,D,U,l).minus(N).abs().comparedTo(t(q,x,U,l).minus(N).abs())<1?[Q,D]:[q,x],m=j,W},o.toNumber=function(){return+P(this)},o.toPrecision=function(B,R){return B!=null&&$n(B,1,Wo),C(this,B,R,2)},o.toString=function(B){var R,x=this,D=x.s,$=x.e;return $===null?D?(R="Infinity",D<0&&(R="-"+R)):R="NaN":(B==null?R=$<=u||$>=d?Xp(pi(x.c),$):ps(pi(x.c),$,"0"):B===10&&E?(x=I(new A(x),a+$+1,l),R=ps(pi(x.c),x.e,"0")):($n(B,2,b.length,"Base"),R=n(ps(pi(x.c),$,"0"),10,B,D,!0)),D<0&&x.c[0]&&(R="-"+R)),R},o.valueOf=o.toJSON=function(){return P(this)},o._isBigNumber=!0,o[Symbol.toStringTag]="BigNumber",o[Symbol.for("nodejs.util.inspect.custom")]=o.valueOf,e!=null&&A.set(e),A}function bi(e){var t=e|0;return e>0||e===t?t:t-1}function pi(e){for(var t,n,r=1,o=e.length,i=e[0]+"";r<o;){for(t=e[r++]+"",n=Pt-t.length;n--;t="0"+t);i+=t}for(o=i.length;i.charCodeAt(--o)===48;);return i.slice(0,o+1||1)}function dc(e,t){var n,r,o=e.c,i=t.c,a=e.s,l=t.s,u=e.e,d=t.e;if(!a||!l)return null;if(n=o&&!o[0],r=i&&!i[0],n||r)return n?r?0:-l:a;if(a!=l)return a;if(n=a<0,r=u==d,!o||!i)return r?0:!o^n?1:-1;if(!r)return u>d^n?1:-1;for(l=(u=o.length)<(d=i.length)?u:d,a=0;a<l;a++)if(o[a]!=i[a])return o[a]>i[a]^n?1:-1;return u==d?0:u>d^n?1:-1}function $n(e,t,n,r){if(e<t||e>n||e!==_i(e))throw Error(Ro+(r||"Argument")+(typeof e=="number"?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function Kp(e){var t=e.c.length-1;return bi(e.e/Pt)==t&&e.c[t]%2!=0}function Xp(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function ps(e,t,n){var r,o;if(t<0){for(o=n+".";++t;o+=n);e=o+e}else if(r=e.length,++t>r){for(o=n,t-=r;--t;o+=n);e+=o}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}var Xn=q9(),ny;(function(e){e[e.up=Xn.ROUND_UP]="up",e[e.down=Xn.ROUND_DOWN]="down",e[e.truncate=Xn.ROUND_DOWN]="truncate",e[e.halfUp=Xn.ROUND_HALF_UP]="halfUp",e[e.default=Xn.ROUND_HALF_UP]="default",e[e.halfDown=Xn.ROUND_HALF_DOWN]="halfDown",e[e.halfEven=Xn.ROUND_HALF_EVEN]="halfEven",e[e.banker=Xn.ROUND_HALF_EVEN]="banker",e[e.ceiling=Xn.ROUND_CEIL]="ceiling",e[e.ceil=Xn.ROUND_CEIL]="ceil",e[e.floor=Xn.ROUND_FLOOR]="floor"})(ny||(ny={}));function Q9(e){var t;return(t=ny[e])!==null&&t!==void 0?t:ny.default}var bA,CI;function PJ(){if(CI)return bA;CI=1;var e=9007199254740991,t=Math.floor;function n(r,o){var i="";if(!r||o<1||o>e)return i;do o%2&&(i+=r),o=t(o/2),o&&(r+=r);while(o);return i}return bA=n,bA}var wA,kI;function TJ(){if(kI)return wA;kI=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return wA=t,wA}var SA,EI;function IJ(){if(EI)return SA;EI=1;var e=TJ(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return SA=n,SA}var AA,BI;function LJ(){if(BI)return AA;BI=1;var e=IJ(),t=Gs(),n=ig(),r=NaN,o=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,a=/^0o[0-7]+$/i,l=parseInt;function u(d){if(typeof d=="number")return d;if(n(d))return r;if(t(d)){var f=typeof d.valueOf=="function"?d.valueOf():d;d=t(f)?f+"":f}if(typeof d!="string")return d===0?d:+d;d=e(d);var m=i.test(d);return m||a.test(d)?l(d.slice(2),m?2:8):o.test(d)?r:+d}return AA=u,AA}var CA,RI;function H9(){if(RI)return CA;RI=1;var e=LJ(),t=1/0,n=17976931348623157e292;function r(o){if(!o)return o===0?o:0;if(o=e(o),o===t||o===-1/0){var i=o<0?-1:1;return i*n}return o===o?o:0}return CA=r,CA}var kA,xI;function DJ(){if(xI)return kA;xI=1;var e=H9();function t(n){var r=e(n),o=r%1;return r===r?o?r-o:r:0}return kA=t,kA}var EA,OI;function NJ(){if(OI)return EA;OI=1;var e=PJ(),t=I0(),n=DJ(),r=qd();function o(i,a,l){return(l?t(i,a,l):a===void 0)?a=1:a=n(a),e(r(i),a)}return EA=o,EA}var FJ=NJ();const GJ=to(FJ);function jJ(e){return e.isZero()?1:Math.floor(Math.log10(e.abs().toNumber())+1)}function $J(e,{precision:t,significant:n}){return n&&t!==null&&t>0?t-jJ(e):t}function ry(e,t){const n=$J(e,t);if(n===null)return e.toString();const r=Q9(t.roundMode);if(n>=0)return e.toFixed(n,r);const o=Math.pow(10,Math.abs(n));return e=new Xn(e.div(o).toFixed(0,r)).times(o),e.toString()}function zJ(e,{formattedNumber:t,unit:n}){return e.replace("%n",t).replace("%u",n)}function UJ({significand:e,whole:t,precision:n}){if(t==="0"||n===null)return e;const r=Math.max(0,n-t.length);return(e??"").substr(0,r)}function th(e,t){var n,r,o;const i=new Xn(e);if(t.raise&&!i.isFinite())throw new Error(`"${e}" is not a valid numeric value`);const a=ry(i,t),l=new Xn(a),u=l.lt(0),d=l.isZero();let[f,m]=a.split(".");const g=[];let v;const y=(n=t.format)!==null&&n!==void 0?n:"%n",_=(r=t.negativeFormat)!==null&&r!==void 0?r:`-${y}`,b=u&&!d?_:y;for(f=f.replace("-","");f.length>0;)g.unshift(f.substr(Math.max(0,f.length-3),3)),f=f.substr(0,f.length-3);return f=g.join(""),v=g.join(t.delimiter),t.significant?m=UJ({whole:f,significand:m,precision:t.precision}):m=m??GJ("0",(o=t.precision)!==null&&o!==void 0?o:0),t.stripInsignificantZeros&&m&&(m=m.replace(/0+$/,"")),i.isNaN()&&(v=e.toString()),m&&i.isFinite()&&(v+=(t.separator||".")+m),zJ(b,{formattedNumber:v,unit:t.unit})}function Ed(e,t,n){let r="";return(t instanceof String||typeof t=="string")&&(r=t),t instanceof Array&&(r=t.join(e.defaultSeparator)),n.scope&&(r=[n.scope,r].join(e.defaultSeparator)),r}function Rc(e){var t,n;if(e===null)return"null";const r=typeof e;return r!=="object"?r:((n=(t=e==null?void 0:e.constructor)===null||t===void 0?void 0:t.name)===null||n===void 0?void 0:n.toLowerCase())||"object"}function BA(e,t,n){n=Object.keys(n).reduce((o,i)=>(o[e.transformKey(i)]=n[i],o),{});const r=t.match(e.placeholder);if(!r)return t;for(;r.length;){let o;const i=r.shift(),a=i.replace(e.placeholder,"$1");Rs(n[a])?o=n[a].toString().replace(/\$/gm,"_#$#_"):a in n?o=e.nullPlaceholder(e,i,t,n):o=e.missingPlaceholder(e,i,t,n);const l=new RegExp(i.replace(/\{/gm,"\\{").replace(/\}/gm,"\\}"),"g");t=t.replace(l,o)}return t.replace(/_#\$#_/g,"$")}function Fa(e,t,n={}){n=Object.assign({},n);const r="locale"in n?n.locale:e.locale,o=Rc(r),i=e.locales.get(o==="string"?r:typeof r).slice(),a=Ed(e,t,n).split(e.defaultSeparator).map(u=>e.transformKey(u)),l=i.map(u=>a.reduce((d,f)=>d&&d[f],e.translations[u]));return l.push(n.defaultValue),l.find(u=>Rs(u))}function VJ(e,t){const n=new Xn(e);if(!n.isFinite())return e.toString();if(!t.delimiterPattern.global)throw new Error(`options.delimiterPattern must be a global regular expression; received ${t.delimiterPattern}`);let[r,o]=n.toString().split(".");return r=r.replace(t.delimiterPattern,i=>`${i}${t.delimiter}`),[r,o].filter(Boolean).join(t.separator)}var RA,MI;function W9(){if(MI)return RA;MI=1;function e(t,n){for(var r=-1,o=n.length,i=t.length;++r<o;)t[i+r]=n[r];return t}return RA=e,RA}var xA,PI;function qJ(){if(PI)return xA;PI=1;var e=og(),t=P0(),n=Ca(),r=e?e.isConcatSpreadable:void 0;function o(i){return n(i)||t(i)||!!(r&&i&&i[r])}return xA=o,xA}var OA,TI;function QJ(){if(TI)return OA;TI=1;var e=W9(),t=qJ();function n(r,o,i,a,l){var u=-1,d=r.length;for(i||(i=t),l||(l=[]);++u<d;){var f=r[u];o>0&&i(f)?o>1?n(f,o-1,i,a,l):e(l,f):a||(l[l.length]=f)}return l}return OA=n,OA}var MA,II;function HJ(){if(II)return MA;II=1;function e(t,n){for(var r=-1,o=t==null?0:t.length;++r<o;)if(n(t[r],r,t))return!0;return!1}return MA=e,MA}var PA,LI;function J9(){if(LI)return PA;LI=1;var e=$9(),t=HJ(),n=z9(),r=1,o=2;function i(a,l,u,d,f,m){var g=u&r,v=a.length,y=l.length;if(v!=y&&!(g&&y>v))return!1;var _=m.get(a),b=m.get(l);if(_&&b)return _==l&&b==a;var E=-1,A=!0,C=u&o?new e:void 0;for(m.set(a,l),m.set(l,a);++E<v;){var M=a[E],T=l[E];if(d)var I=g?d(T,M,E,l,a,m):d(M,T,E,a,l,m);if(I!==void 0){if(I)continue;A=!1;break}if(C){if(!t(l,function(P,B){if(!n(C,B)&&(M===P||f(M,P,u,d,m)))return C.push(B)})){A=!1;break}}else if(!(M===T||f(M,T,u,d,m))){A=!1;break}}return m.delete(a),m.delete(l),A}return PA=i,PA}var TA,DI;function WJ(){if(DI)return TA;DI=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(o,i){r[++n]=[i,o]}),r}return TA=e,TA}var IA,NI;function JJ(){if(NI)return IA;NI=1;var e=og(),t=P9(),n=ag(),r=J9(),o=WJ(),i=M2(),a=1,l=2,u="[object Boolean]",d="[object Date]",f="[object Error]",m="[object Map]",g="[object Number]",v="[object RegExp]",y="[object Set]",_="[object String]",b="[object Symbol]",E="[object ArrayBuffer]",A="[object DataView]",C=e?e.prototype:void 0,M=C?C.valueOf:void 0;function T(I,P,B,R,x,D,$){switch(B){case A:if(I.byteLength!=P.byteLength||I.byteOffset!=P.byteOffset)return!1;I=I.buffer,P=P.buffer;case E:return!(I.byteLength!=P.byteLength||!D(new t(I),new t(P)));case u:case d:case g:return n(+I,+P);case f:return I.name==P.name&&I.message==P.message;case v:case _:return I==P+"";case m:var U=o;case y:var j=R&a;if(U||(U=i),I.size!=P.size&&!j)return!1;var G=$.get(I);if(G)return G==P;R|=l,$.set(I,P);var q=r(U(I),U(P),R,x,D,$);return $.delete(I),q;case b:if(M)return M.call(I)==M.call(P)}return!1}return IA=T,IA}var LA,FI;function ZJ(){if(FI)return LA;FI=1;var e=W9(),t=Ca();function n(r,o,i){var a=o(r);return t(r)?a:e(a,i(r))}return LA=n,LA}var DA,GI;function YJ(){if(GI)return DA;GI=1;function e(t,n){for(var r=-1,o=t==null?0:t.length,i=0,a=[];++r<o;){var l=t[r];n(l,r,t)&&(a[i++]=l)}return a}return DA=e,DA}var NA,jI;function KJ(){if(jI)return NA;jI=1;function e(){return[]}return NA=e,NA}var FA,$I;function XJ(){if($I)return FA;$I=1;var e=YJ(),t=KJ(),n=Object.prototype,r=n.propertyIsEnumerable,o=Object.getOwnPropertySymbols,i=o?function(a){return a==null?[]:(a=Object(a),e(o(a),function(l){return r.call(a,l)}))}:t;return FA=i,FA}var GA,zI;function eZ(){if(zI)return GA;zI=1;var e=T9(),t=e(Object.keys,Object);return GA=t,GA}var jA,UI;function tZ(){if(UI)return jA;UI=1;var e=R2(),t=eZ(),n=Object.prototype,r=n.hasOwnProperty;function o(i){if(!e(i))return t(i);var a=[];for(var l in Object(i))r.call(i,l)&&l!="constructor"&&a.push(l);return a}return jA=o,jA}var $A,VI;function P2(){if(VI)return $A;VI=1;var e=F9(),t=tZ(),n=Qd();function r(o){return n(o)?e(o):t(o)}return $A=r,$A}var zA,qI;function nZ(){if(qI)return zA;qI=1;var e=ZJ(),t=XJ(),n=P2();function r(o){return e(o,n,t)}return zA=r,zA}var UA,QI;function rZ(){if(QI)return UA;QI=1;var e=nZ(),t=1,n=Object.prototype,r=n.hasOwnProperty;function o(i,a,l,u,d,f){var m=l&t,g=e(i),v=g.length,y=e(a),_=y.length;if(v!=_&&!m)return!1;for(var b=v;b--;){var E=g[b];if(!(m?E in a:r.call(a,E)))return!1}var A=f.get(i),C=f.get(a);if(A&&C)return A==a&&C==i;var M=!0;f.set(i,a),f.set(a,i);for(var T=m;++b<v;){E=g[b];var I=i[E],P=a[E];if(u)var B=m?u(P,I,E,a,i,f):u(I,P,E,i,a,f);if(!(B===void 0?I===P||d(I,P,l,u,f):B)){M=!1;break}T||(T=E=="constructor")}if(M&&!T){var R=i.constructor,x=a.constructor;R!=x&&"constructor"in i&&"constructor"in a&&!(typeof R=="function"&&R instanceof R&&typeof x=="function"&&x instanceof x)&&(M=!1)}return f.delete(i),f.delete(a),M}return UA=o,UA}var VA,HI;function oZ(){if(HI)return VA;HI=1;var e=lu(),t=ns(),n=e(t,"DataView");return VA=n,VA}var qA,WI;function iZ(){if(WI)return qA;WI=1;var e=lu(),t=ns(),n=e(t,"Promise");return qA=n,qA}var QA,JI;function aZ(){if(JI)return QA;JI=1;var e=lu(),t=ns(),n=e(t,"WeakMap");return QA=n,QA}var HA,ZI;function sZ(){if(ZI)return HA;ZI=1;var e=oZ(),t=w2(),n=iZ(),r=U9(),o=aZ(),i=Vd(),a=C9(),l="[object Map]",u="[object Object]",d="[object Promise]",f="[object Set]",m="[object WeakMap]",g="[object DataView]",v=a(e),y=a(t),_=a(n),b=a(r),E=a(o),A=i;return(e&&A(new e(new ArrayBuffer(1)))!=g||t&&A(new t)!=l||n&&A(n.resolve())!=d||r&&A(new r)!=f||o&&A(new o)!=m)&&(A=function(C){var M=i(C),T=M==u?C.constructor:void 0,I=T?a(T):"";if(I)switch(I){case v:return g;case y:return l;case _:return d;case b:return f;case E:return m}return M}),HA=A,HA}var WA,YI;function lZ(){if(YI)return WA;YI=1;var e=E2(),t=J9(),n=JJ(),r=rZ(),o=sZ(),i=Ca(),a=x2(),l=O2(),u=1,d="[object Arguments]",f="[object Array]",m="[object Object]",g=Object.prototype,v=g.hasOwnProperty;function y(_,b,E,A,C,M){var T=i(_),I=i(b),P=T?f:o(_),B=I?f:o(b);P=P==d?m:P,B=B==d?m:B;var R=P==m,x=B==m,D=P==B;if(D&&a(_)){if(!a(b))return!1;T=!0,R=!1}if(D&&!R)return M||(M=new e),T||l(_)?t(_,b,E,A,C,M):n(_,b,P,E,A,C,M);if(!(E&u)){var $=R&&v.call(_,"__wrapped__"),U=x&&v.call(b,"__wrapped__");if($||U){var j=$?_.value():_,G=U?b.value():b;return M||(M=new e),C(j,G,E,A,M)}}return D?(M||(M=new e),r(_,b,E,A,C,M)):!1}return WA=y,WA}var JA,KI;function Z9(){if(KI)return JA;KI=1;var e=lZ(),t=su();function n(r,o,i,a,l){return r===o?!0:r==null||o==null||!t(r)&&!t(o)?r!==r&&o!==o:e(r,o,i,a,n,l)}return JA=n,JA}var ZA,XI;function cZ(){if(XI)return ZA;XI=1;var e=E2(),t=Z9(),n=1,r=2;function o(i,a,l,u){var d=l.length,f=d,m=!u;if(i==null)return!f;for(i=Object(i);d--;){var g=l[d];if(m&&g[2]?g[1]!==i[g[0]]:!(g[0]in i))return!1}for(;++d<f;){g=l[d];var v=g[0],y=i[v],_=g[1];if(m&&g[2]){if(y===void 0&&!(v in i))return!1}else{var b=new e;if(u)var E=u(y,_,v,i,a,b);if(!(E===void 0?t(_,y,n|r,u,b):E))return!1}}return!0}return ZA=o,ZA}var YA,eL;function Y9(){if(eL)return YA;eL=1;var e=Gs();function t(n){return n===n&&!e(n)}return YA=t,YA}var KA,tL;function uZ(){if(tL)return KA;tL=1;var e=Y9(),t=P2();function n(r){for(var o=t(r),i=o.length;i--;){var a=o[i],l=r[a];o[i]=[a,l,e(l)]}return o}return KA=n,KA}var XA,nL;function K9(){if(nL)return XA;nL=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return XA=e,XA}var eC,rL;function dZ(){if(rL)return eC;rL=1;var e=cZ(),t=uZ(),n=K9();function r(o){var i=t(o);return i.length==1&&i[0][2]?n(i[0][0],i[0][1]):function(a){return a===o||e(a,o,i)}}return eC=r,eC}var tC,oL;function fZ(){if(oL)return tC;oL=1;function e(t,n){return t!=null&&n in Object(t)}return tC=e,tC}var nC,iL;function hZ(){if(iL)return nC;iL=1;var e=fZ(),t=R9();function n(r,o){return r!=null&&t(r,o,e)}return nC=n,nC}var rC,aL;function mZ(){if(aL)return rC;aL=1;var e=Z9(),t=B9(),n=hZ(),r=_2(),o=Y9(),i=K9(),a=M0(),l=1,u=2;function d(f,m){return r(f)&&o(m)?i(a(f),m):function(g){var v=t(g,f);return v===void 0&&v===m?n(g,f):e(m,v,l|u)}}return rC=d,rC}var oC,sL;function gZ(){if(sL)return oC;sL=1;function e(t){return function(n){return n==null?void 0:n[t]}}return oC=e,oC}var iC,lL;function pZ(){if(lL)return iC;lL=1;var e=A2();function t(n){return function(r){return e(r,n)}}return iC=t,iC}var aC,cL;function vZ(){if(cL)return aC;cL=1;var e=gZ(),t=pZ(),n=_2(),r=M0();function o(i){return n(i)?e(r(i)):t(i)}return aC=o,aC}var sC,uL;function yZ(){if(uL)return sC;uL=1;var e=dZ(),t=mZ(),n=T0(),r=Ca(),o=vZ();function i(a){return typeof a=="function"?a:a==null?n:typeof a=="object"?r(a)?t(a[0],a[1]):e(a):o(a)}return sC=i,sC}var lC,dL;function _Z(){if(dL)return lC;dL=1;var e=M9(),t=P2();function n(r,o){return r&&e(r,o,t)}return lC=n,lC}var cC,fL;function bZ(){if(fL)return cC;fL=1;var e=Qd();function t(n,r){return function(o,i){if(o==null)return o;if(!e(o))return n(o,i);for(var a=o.length,l=r?a:-1,u=Object(o);(r?l--:++l<a)&&i(u[l],l,u)!==!1;);return o}}return cC=t,cC}var uC,hL;function wZ(){if(hL)return uC;hL=1;var e=_Z(),t=bZ(),n=t(e);return uC=n,uC}var dC,mL;function SZ(){if(mL)return dC;mL=1;var e=wZ(),t=Qd();function n(r,o){var i=-1,a=t(r)?Array(r.length):[];return e(r,function(l,u,d){a[++i]=o(l,u,d)}),a}return dC=n,dC}var fC,gL;function AZ(){if(gL)return fC;gL=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return fC=e,fC}var hC,pL;function CZ(){if(pL)return hC;pL=1;var e=ig();function t(n,r){if(n!==r){var o=n!==void 0,i=n===null,a=n===n,l=e(n),u=r!==void 0,d=r===null,f=r===r,m=e(r);if(!d&&!m&&!l&&n>r||l&&u&&f&&!d&&!m||i&&u&&f||!o&&f||!a)return 1;if(!i&&!l&&!m&&n<r||m&&o&&a&&!i&&!l||d&&o&&a||!u&&a||!f)return-1}return 0}return hC=t,hC}var mC,vL;function kZ(){if(vL)return mC;vL=1;var e=CZ();function t(n,r,o){for(var i=-1,a=n.criteria,l=r.criteria,u=a.length,d=o.length;++i<u;){var f=e(a[i],l[i]);if(f){if(i>=d)return f;var m=o[i];return f*(m=="desc"?-1:1)}}return n.index-r.index}return mC=t,mC}var gC,yL;function EZ(){if(yL)return gC;yL=1;var e=k9(),t=A2(),n=yZ(),r=SZ(),o=AZ(),i=L9(),a=kZ(),l=T0(),u=Ca();function d(f,m,g){m.length?m=e(m,function(_){return u(_)?function(b){return t(b,_.length===1?_[0]:_)}:_}):m=[l];var v=-1;m=e(m,i(n));var y=r(f,function(_,b,E){var A=e(m,function(C){return C(_)});return{criteria:A,index:++v,value:_}});return o(y,function(_,b){return a(_,b,g)})}return gC=d,gC}var pC,_L;function BZ(){if(_L)return pC;_L=1;var e=QJ(),t=EZ(),n=j9(),r=I0(),o=n(function(i,a){if(i==null)return[];var l=a.length;return l>1&&r(i,a[0],a[1])?a=[]:l>2&&r(a[0],a[1],a[2])&&(a=[a[0]]),t(i,e(a,1),[])});return pC=o,pC}var RZ=BZ();const xZ=to(RZ);var vC,bL;function OZ(){if(bL)return vC;bL=1;function e(t,n,r){for(var o=-1,i=t.length,a=n.length,l={};++o<i;){var u=o<a?n[o]:void 0;r(l,t[o],u)}return l}return vC=e,vC}var yC,wL;function MZ(){if(wL)return yC;wL=1;var e=N9(),t=OZ();function n(r,o){return t(r||[],o||[],e)}return yC=n,yC}var PZ=MZ();const TZ=to(PZ),cE={0:"unit",1:"ten",2:"hundred",3:"thousand",6:"million",9:"billion",12:"trillion",15:"quadrillion","-1":"deci","-2":"centi","-3":"mili","-6":"micro","-9":"nano","-12":"pico","-15":"femto"},IZ=TZ(Object.values(cE),Object.keys(cE).map(e=>parseInt(e,10)));function LZ(e,t,n){const r={roundMode:n.roundMode,precision:n.precision,significant:n.significant};let o;if(Rc(n.units)==="string"){const m=n.units;if(o=Fa(e,m),!o)throw new Error(`The scope "${e.locale}${e.defaultSeparator}${Ed(e,m,{})}" couldn't be found`)}else o=n.units;let i=ry(new Xn(t),r);const a=m=>xZ(Object.keys(m).map(g=>IZ[g]),g=>g*-1),l=(m,g)=>{const v=m.isZero()?0:Math.floor(Math.log10(m.abs().toNumber()));return a(g).find(y=>v>=y)||0},u=(m,g)=>{const v=cE[g.toString()];return m[v]||""},d=l(new Xn(i),o),f=u(o,d);if(i=ry(new Xn(i).div(Math.pow(10,d)),r),n.stripInsignificantZeros){let[m,g]=i.split(".");g=(g||"").replace(/0+$/,""),i=m,g&&(i+=`${n.separator}${g}`)}return n.format.replace("%n",i||"0").replace("%u",f).trim()}const SL=["byte","kb","mb","gb","tb","pb","eb"];function DZ(e,t,n){const r=Q9(n.roundMode),o=1024,i=new Xn(t).abs(),a=i.lt(o);let l;const u=(y,_)=>{const b=_.length-1,E=new Xn(Math.log(y.toNumber())).div(Math.log(o)).integerValue(Xn.ROUND_DOWN).toNumber();return Math.min(b,E)},d=y=>`number.human.storage_units.units.${a?"byte":y[f]}`,f=u(i,SL);a?l=i.integerValue():l=new Xn(ry(i.div(Math.pow(o,f)),{significant:n.significant,precision:n.precision,roundMode:n.roundMode}));const m=e.translate("number.human.storage_units.format",{defaultValue:"%n %u"}),g=e.translate(d(SL),{count:i.integerValue().toNumber()});let v=l.toFixed(n.precision,r);return n.stripInsignificantZeros&&(v=v.replace(/(\..*?)0+$/,"$1").replace(/\.$/,"")),m.replace("%n",v).replace("%u",g)}function uE(e){if(e instanceof Date)return e;if(typeof e=="number"){const r=new Date;return r.setTime(e),r}const t=new String(e).match(/(\d{4})-(\d{2})-(\d{2})(?:[ T](\d{2}):(\d{2}):(\d{2})(?:[.,](\d{1,3}))?)?(Z|\+00:?00)?/);if(t){const r=t.slice(1,8).map(g=>parseInt(g,10)||0);r[1]-=1;const[o,i,a,l,u,d,f]=r;return t[8]?new Date(Date.UTC(o,i,a,l,u,d,f)):new Date(o,i,a,l,u,d,f)}e.match(/([A-Z][a-z]{2}) ([A-Z][a-z]{2}) (\d+) (\d+:\d+:\d+) ([+-]\d+) (\d+)/)&&new Date().setTime(Date.parse([RegExp.$1,RegExp.$2,RegExp.$3,RegExp.$6,RegExp.$4,RegExp.$5].join(" ")));const n=new Date;return n.setTime(Date.parse(e)),n}function AL({i18n:e,count:t,scope:n,options:r,baseScope:o}){r=Object.assign({},r);let i,a;if(typeof n=="object"&&n?i=n:i=Fa(e,n,r),!i)return e.missingTranslation.get(n,r);const u=e.pluralization.get(r.locale)(e,t),d=[];for(;u.length;){const f=u.shift();if(Rs(i[f])){a=i[f];break}d.push(f)}return Rs(a)?(r.count=t,e.interpolate(e,a,r)):e.missingTranslation.get(o.split(e.defaultSeparator).concat([d[0]]),r)}const NZ={meridian:{am:"AM",pm:"PM"},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbrDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthNames:[null,"January","February","March","April","May","June","July","August","September","October","November","December"],abbrMonthNames:[null,"Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};function FZ(e,t,n={}){const{abbrDayNames:r,dayNames:o,abbrMonthNames:i,monthNames:a,meridian:l,utc:u}=Object.assign(Object.assign({},NZ),n);if(isNaN(e.getTime()))throw new Error("strftime() requires a valid date object, but received an invalid date.");const d=u?e.getUTCDay():e.getDay(),f=u?e.getUTCDate():e.getDate(),m=u?e.getUTCFullYear():e.getFullYear(),g=(u?e.getUTCMonth():e.getMonth())+1,v=u?e.getUTCHours():e.getHours();let y=v;const _=v>11?"pm":"am",b=u?e.getUTCSeconds():e.getSeconds(),E=u?e.getUTCMinutes():e.getMinutes(),A=u?0:e.getTimezoneOffset(),C=Math.floor(Math.abs(A/60)),M=Math.abs(A)-C*60,T=(A>0?"-":"+")+(C.toString().length<2?"0"+C:C)+(M.toString().length<2?"0"+M:M);return y>12?y=y-12:y===0&&(y=12),t=t.replace("%a",r[d]),t=t.replace("%A",o[d]),t=t.replace("%b",i[g]),t=t.replace("%B",a[g]),t=t.replace("%d",f.toString().padStart(2,"0")),t=t.replace("%e",f.toString()),t=t.replace("%-d",f.toString()),t=t.replace("%H",v.toString().padStart(2,"0")),t=t.replace("%-H",v.toString()),t=t.replace("%k",v.toString()),t=t.replace("%I",y.toString().padStart(2,"0")),t=t.replace("%-I",y.toString()),t=t.replace("%l",y.toString()),t=t.replace("%m",g.toString().padStart(2,"0")),t=t.replace("%-m",g.toString()),t=t.replace("%M",E.toString().padStart(2,"0")),t=t.replace("%-M",E.toString()),t=t.replace("%p",l[_]),t=t.replace("%P",l[_].toLowerCase()),t=t.replace("%S",b.toString().padStart(2,"0")),t=t.replace("%-S",b.toString()),t=t.replace("%w",d.toString()),t=t.replace("%y",m.toString().padStart(2,"0").substr(-2)),t=t.replace("%-y",m.toString().padStart(2,"0").substr(-2).replace(/^0+/,"")),t=t.replace("%Y",m.toString()),t=t.replace(/%z/i,T),t}var _C,CL;function GZ(){if(CL)return _C;CL=1;var e=Math.ceil,t=Math.max;function n(r,o,i,a){for(var l=-1,u=t(e((o-r)/(i||1)),0),d=Array(u);u--;)d[a?u:++l]=r,r+=i;return d}return _C=n,_C}var bC,kL;function jZ(){if(kL)return bC;kL=1;var e=GZ(),t=I0(),n=H9();function r(o){return function(i,a,l){return l&&typeof l!="number"&&t(i,a,l)&&(a=l=void 0),i=n(i),a===void 0?(a=i,i=0):a=n(a),l=l===void 0?i<a?1:-1:n(l),e(i,a,l,o)}}return bC=r,bC}var wC,EL;function $Z(){if(EL)return wC;EL=1;var e=jZ(),t=e();return wC=t,wC}var zZ=$Z();const UZ=to(zZ),Jo=(e,t,n)=>n>=e&&n<=t;function VZ(e,t,n,r={}){const o=r.scope||"datetime.distance_in_words",i=(P,B=0)=>e.t(P,{count:B,scope:o});t=uE(t),n=uE(n);let a=t.getTime()/1e3,l=n.getTime()/1e3;a>l&&([t,n,a,l]=[n,t,l,a]);const u=Math.round(l-a),d=Math.round((l-a)/60),m=d/60/24,g=Math.round(d/60),v=Math.round(m),y=Math.round(v/30);if(Jo(0,1,d))return r.includeSeconds?Jo(0,4,u)?i("less_than_x_seconds",5):Jo(5,9,u)?i("less_than_x_seconds",10):Jo(10,19,u)?i("less_than_x_seconds",20):Jo(20,39,u)?i("half_a_minute"):Jo(40,59,u)?i("less_than_x_minutes",1):i("x_minutes",1):d===0?i("less_than_x_minutes",1):i("x_minutes",d);if(Jo(2,44,d))return i("x_minutes",d);if(Jo(45,89,d))return i("about_x_hours",1);if(Jo(90,1439,d))return i("about_x_hours",g);if(Jo(1440,2519,d))return i("x_days",1);if(Jo(2520,43199,d))return i("x_days",v);if(Jo(43200,86399,d))return i("about_x_months",Math.round(d/43200));if(Jo(86400,525599,d))return i("x_months",y);let _=t.getFullYear();t.getMonth()+1>=3&&(_+=1);let b=n.getFullYear();n.getMonth()+1<3&&(b-=1);const E=_>b?0:UZ(_,b).filter(P=>new Date(P,1,29).getMonth()==1).length,A=525600,C=E*1440,M=d-C,T=Math.trunc(M/A),I=parseFloat((M/A-T).toPrecision(3));return I<.25?i("about_x_years",T):I<.75?i("over_x_years",T):i("almost_x_years",T+1)}const qZ=function(e,t){t instanceof Array&&(t=t.join(e.defaultSeparator));const n=t.split(e.defaultSeparator).slice(-1)[0];return e.missingTranslationPrefix+n.replace("_"," ").replace(/([a-z])([A-Z])/g,(r,o,i)=>`${o} ${i.toLowerCase()}`)},QZ=(e,t,n)=>{const r=Ed(e,t,n),o="locale"in n?n.locale:e.locale,i=Rc(o);return`[missing "${[i=="string"?o:i,r].join(e.defaultSeparator)}" translation]`},HZ=(e,t,n)=>{const r=Ed(e,t,n),o=[e.locale,r].join(e.defaultSeparator);throw new Error(`Missing translation: ${o}`)};class WZ{constructor(t){this.i18n=t,this.registry={},this.register("guess",qZ),this.register("message",QZ),this.register("error",HZ)}register(t,n){this.registry[t]=n}get(t,n){var r;return this.registry[(r=n.missingBehavior)!==null&&r!==void 0?r:this.i18n.missingBehavior](this.i18n,t,n)}}var JZ=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(f){try{d(r.next(f))}catch(m){a(m)}}function u(f){try{d(r.throw(f))}catch(m){a(m)}}function d(f){f.done?i(f.value):o(f.value).then(l,u)}d((r=r.apply(e,t||[])).next())})};const SC={defaultLocale:"en",locale:"en",defaultSeparator:".",placeholder:/(?:\{\{|%\{)(.*?)(?:\}\}?)/gm,enableFallback:!1,missingBehavior:"message",missingTranslationPrefix:"",missingPlaceholder:(e,t)=>`[missing "${t}" value]`,nullPlaceholder:(e,t,n,r)=>e.missingPlaceholder(e,t,n,r),transformKey:e=>e};class ZZ{constructor(t={},n={}){this._locale=SC.locale,this._defaultLocale=SC.defaultLocale,this._version=0,this.onChangeHandlers=[],this.translations={},this.t=this.translate,this.p=this.pluralize,this.l=this.localize,this.distanceOfTimeInWords=this.timeAgoInWords;const{locale:r,enableFallback:o,missingBehavior:i,missingTranslationPrefix:a,missingPlaceholder:l,nullPlaceholder:u,defaultLocale:d,defaultSeparator:f,placeholder:m,transformKey:g}=Object.assign(Object.assign({},SC),n);this.locale=r,this.defaultLocale=d,this.defaultSeparator=f,this.enableFallback=o,this.locale=r,this.missingBehavior=i,this.missingTranslationPrefix=a,this.missingPlaceholder=l,this.nullPlaceholder=u,this.placeholder=m,this.pluralization=new cJ(this),this.locales=new iJ(this),this.missingTranslation=new WZ(this),this.transformKey=g,this.interpolate=BA,this.store(t)}store(t){UW(this.translations,t),this.hasChanged()}get locale(){return this._locale||this.defaultLocale||"en"}set locale(t){if(typeof t!="string")throw new Error(`Expected newLocale to be a string; got ${Rc(t)}`);const n=this._locale!==t;this._locale=t,n&&this.hasChanged()}get defaultLocale(){return this._defaultLocale||"en"}set defaultLocale(t){if(typeof t!="string")throw new Error(`Expected newLocale to be a string; got ${Rc(t)}`);const n=this._defaultLocale!==t;this._defaultLocale=t,n&&this.hasChanged()}translate(t,n){n=Object.assign({},n);const r=OJ(this,t,n);let o;return r.some(a=>(Rs(a.scope)?o=Fa(this,a.scope,n):Rs(a.message)&&(o=a.message),o!=null))?(typeof o=="string"?o=this.interpolate(this,o,n):typeof o=="object"&&o&&Rs(n.count)&&(o=AL({i18n:this,count:n.count||0,scope:o,options:n,baseScope:Ed(this,t,n)})),n&&o instanceof Array&&(o=o.map(a=>typeof a=="string"?BA(this,a,n):a)),o):this.missingTranslation.get(t,n)}pluralize(t,n,r){return AL({i18n:this,count:t,scope:n,options:Object.assign({},r),baseScope:Ed(this,n,r??{})})}localize(t,n,r){if(r=Object.assign({},r),n==null)return"";switch(t){case"currency":return this.numberToCurrency(n);case"number":return th(n,Object.assign({delimiter:",",precision:3,separator:".",significant:!1,stripInsignificantZeros:!1},Fa(this,"number.format")));case"percentage":return this.numberToPercentage(n);default:{let o;return t.match(/^(date|time)/)?o=this.toTime(t,n):o=n.toString(),BA(this,o,r)}}}toTime(t,n){const r=uE(n),o=Fa(this,t);return r.toString().match(/invalid/i)||!o?r.toString():this.strftime(r,o)}numberToCurrency(t,n={}){return th(t,Object.assign(Object.assign(Object.assign({delimiter:",",format:"%u%n",precision:2,separator:".",significant:!1,stripInsignificantZeros:!1,unit:"$"},Hi(this.get("number.format"))),Hi(this.get("number.currency.format"))),n))}numberToPercentage(t,n={}){return th(t,Object.assign(Object.assign(Object.assign({delimiter:"",format:"%n%",precision:3,stripInsignificantZeros:!1,separator:".",significant:!1},Hi(this.get("number.format"))),Hi(this.get("number.percentage.format"))),n))}numberToHumanSize(t,n={}){return DZ(this,t,Object.assign(Object.assign(Object.assign({delimiter:"",precision:3,significant:!0,stripInsignificantZeros:!0,units:{billion:"Billion",million:"Million",quadrillion:"Quadrillion",thousand:"Thousand",trillion:"Trillion",unit:""}},Hi(this.get("number.human.format"))),Hi(this.get("number.human.storage_units"))),n))}numberToHuman(t,n={}){return LZ(this,t,Object.assign(Object.assign(Object.assign({delimiter:"",separator:".",precision:3,significant:!0,stripInsignificantZeros:!0,format:"%n %u",roundMode:"default",units:{billion:"Billion",million:"Million",quadrillion:"Quadrillion",thousand:"Thousand",trillion:"Trillion",unit:""}},Hi(this.get("number.human.format"))),Hi(this.get("number.human.decimal_units"))),n))}numberToRounded(t,n){return th(t,Object.assign({unit:"",precision:3,significant:!1,separator:".",delimiter:"",stripInsignificantZeros:!1},n))}numberToDelimited(t,n={}){return VJ(t,Object.assign({delimiterPattern:/(\d)(?=(\d\d\d)+(?!\d))/g,delimiter:",",separator:"."},n))}withLocale(t,n){return JZ(this,void 0,void 0,function*(){const r=this.locale;try{this.locale=t,yield n()}finally{this.locale=r}})}strftime(t,n,r={}){return FZ(t,n,Object.assign(Object.assign(Object.assign({},Hi(Fa(this,"date"))),{meridian:{am:Fa(this,"time.am")||"AM",pm:Fa(this,"time.pm")||"PM"}}),r))}update(t,n,r={strict:!1}){if(r.strict&&!cW(this.translations,t))throw new Error(`The path "${t}" is not currently defined`);const o=oW(this.translations,t),i=Rc(o),a=Rc(n);if(r.strict&&i!==a)throw new Error(`The current type for "${t}" is "${i}", but you're trying to override it with "${a}"`);let l;a==="object"?l=Object.assign(Object.assign({},o),n):l=n;const u=t.split(this.defaultSeparator),d=u.pop();let f=this.translations;for(const m of u)f[m]||(f[m]={}),f=f[m];f[d]=l,this.hasChanged()}toSentence(t,n={}){const{wordsConnector:r,twoWordsConnector:o,lastWordConnector:i}=Object.assign(Object.assign({wordsConnector:", ",twoWordsConnector:" and ",lastWordConnector:", and "},Hi(Fa(this,"support.array"))),n),a=t.length;switch(a){case 0:return"";case 1:return`${t[0]}`;case 2:return t.join(o);default:return[t.slice(0,a-1).join(r),i,t[a-1]].join("")}}timeAgoInWords(t,n,r={}){return VZ(this,t,n,r)}onChange(t){return this.onChangeHandlers.push(t),()=>{this.onChangeHandlers.splice(this.onChangeHandlers.indexOf(t),1)}}get version(){return this._version}formatNumber(t,n={}){return n=Object.assign(Object.assign({delimiter:",",precision:3,separator:".",unit:"",format:"%u%n",significant:!1,stripInsignificantZeros:!1},Hi(this.get("number.format"))),n),th(t,n)}get(t){return Fa(this,t)}runCallbacks(){this.onChangeHandlers.forEach(t=>t(this))}hasChanged(){this._version+=1,this.runCallbacks()}}class Hd{constructor(t){z(this,"_localeLoader",()=>{throw`
			   localeLoader     
			
			SmTranslation.localeLoader = locale => import(\`./translations/LanguageModule/app.\${locale}.translations\`);
		`});z(this,"LocaleInstance");this.LocaleInstance=new ZZ(t,{enableFallback:!0,defaultLocale:me.isPlatformWithEnDefaultLocale()?He.EN:He.RU,locale:me.isPlatformWithEnDefaultLocale()?He.EN:He.RU})}set localeLoader(t){this._localeLoader=t}static combineTranslations(t){const n={};return t.forEach(r=>{Object.entries(r).forEach(([o,i])=>{n[o]={...n[o],...i}})}),n}async setLocaleInstance(t=me.isPlatformWithEnDefaultLocale()?He.EN:He.RU){const r=[(await this._localeLoader(t)).default];this.LocaleInstance.translations=Hd.combineTranslations(r),this.LocaleInstance.locale=t,me.changeLanguage(t)}getT(){return(t,n)=>this.LocaleInstance.translate(t,n)}getTn(){return t=>t.toLocaleString(nE[this.LocaleInstance.locale])}}const YZ={[He.AR]:"",[He.DE]:"Deutsch",[He.EN]:"English",[He.ES]:"Espaol",[He.FR]:"Franais",[He.HI]:"",[He.ID]:"Indonesia",[He.IT]:"Italiano",[He.JA]:"",[He.KK]:"",[He.KO]:"",[He.PL]:"Polski",[He.PT]:"Portugus",[He.RU]:"",[He.TR]:"Trke",[He.UZ]:"",[He.VI]:"Ting Vit",[He.ZH]:""};var lt=(e=>(e.White="w",e.Black="b",e))(lt||{});const KZ={w:"white",b:"black"},Vc="r",Wa=["a","b","c","d","e","f","g","h"],XZ=[1,2,3,4,5,6,7,8];var Oo=(e=>(e.King="k",e.Queen="q",e.Rook="r",e.Bishop="b",e.Knight="n",e.Pawn="p",e))(Oo||{}),eY=(e=>(e[e.Null=0]="Null",e.Leaving="leaving",e.Promotion="promotion",e.Taking="taking",e))(eY||{});const tY="O-O-O",nY="O-O",rY=e=>(e&&e.preventDefault&&e.preventDefault(),e&&e.stopPropagation&&e.stopPropagation(),!1),oY=e=>e.length>=2,ma=e=>e===lt.White?lt.Black:lt.White,iY=typeof WebAssembly=="object"&&WebAssembly.validate(Uint8Array.of(0,97,115,109,1,0,0,0)),iRe=(e,t,n)=>{if(!e)return!1;const r=e===lt.Black,o=r?"g8":"g1",i=r?"c8":"c1";for(const a of t)if(a.includes(nY)&&o===n||a.includes(tY)&&i===n||a.includes(n))return!0;return!1},aRe=[],X9=()=>[lt.White,lt.Black][Math.floor(Math.random()*2)],BL=(e,t)=>e.filter(n=>!t.includes(n));let aY=class _c{constructor(t=""){z(this,"prefix");this.prefix=t}static assembleMessage(t,n,r,...o){return[`${n?n+"/":""}${r||""}`,...o]}static consoleLog(t,n,r,...o){if(h0()||eg()){const i=_c.assembleMessage(t,n,r,...o);console.log(...i)}}static consoleErrorLog(t,n,r,...o){const i=_c.assembleMessage(t,n,r,...o);console.warn(...i)}error(t="",n,...r){let o=n;if(n instanceof Error)o={message:n.message,stack:n.stack,name:n.name};else if(typeof n=="object"&&n!==null&&"response"in n&&n.response){const i=n;o={message:i.response.data.message,code:i.response.data.code,status:i.response.status}}_c.consoleErrorLog("-ERROR-",this.prefix,t,o,...r)}info(t,...n){_c.consoleLog("-INFO--",this.prefix,t,...n)}success(t,...n){_c.consoleLog("SUCCESS",this.prefix,t,...n)}warn(t,...n){_c.consoleLog("-WARN--",this.prefix,t,...n)}debug(t,...n){}},cu=class{static getLogger(t){return new aY(t)}};var Bd=(e=>(e.Game="one-game-limit",e.Move="one-move-limit",e.Time="any-time-limit",e))(Bd||{});const sY=e=>({"one-move-limit":e}),lY=e=>({"one-game-limit":e}),cY=e=>({"any-time-limit":e}),An={moveLimit:sY,gameLimit:lY,timeLimit:cY};class uY{constructor(t={}){z(this,"logger",cu.getLogger("EventLimiter"));z(this,"initialLimits");z(this,"currentLimits");z(this,"lastEventTime",{});this.initialLimits=t,this.currentLimits=JSON.parse(JSON.stringify(this.initialLimits))}resetLimits(t){Object.keys(this.currentLimits).forEach(n=>{var o;const r=n;((o=this.currentLimits[r])==null?void 0:o[t])!==void 0&&(this.currentLimits[r][t]=this.initialLimits[r][t])}),t==="one-game-limit"&&(this.lastEventTime={},this.resetLimits("one-move-limit"))}resetAllLimits(){this.resetLimits("one-game-limit"),this.resetLimits("one-move-limit"),this.resetLimits("any-time-limit")}isWithinTimeLimit(t){var i;const n=(i=this.currentLimits[t])==null?void 0:i["any-time-limit"];if(!n)return!0;const r=Date.now(),o=this.lastEventTime[t];if(o){const a=(r-o)/1e3;if(a<n)return this.logger.warn(` ${t} :    ( ${a.toFixed(2)} < ${n})`),!1}return this.lastEventTime[t]=r,!0}decrementLimit(t,n){var r;((r=this.currentLimits[t])==null?void 0:r[n])!==void 0&&this.currentLimits[t][n]--}isEventAllowed(t){if(!this.currentLimits[t])return this.logger.warn(` ${t}    `),!0;this.decrementLimit(t,"one-game-limit"),this.decrementLimit(t,"one-move-limit");const n=Object.values(Bd).every(i=>{const a=this.currentLimits[t][i];return a===void 0||a>=0}),r=this.isWithinTimeLimit(t),o=n&&r;return o||this.logger.warn(` ${t}  -  `),o}}var cn;(function(e){e.assertEqual=o=>{};function t(o){}e.assertIs=t;function n(o){throw new Error}e.assertNever=n,e.arrayToEnum=o=>{const i={};for(const a of o)i[a]=a;return i},e.getValidEnumValues=o=>{const i=e.objectKeys(o).filter(l=>typeof o[o[l]]!="number"),a={};for(const l of i)a[l]=o[l];return e.objectValues(a)},e.objectValues=o=>e.objectKeys(o).map(function(i){return o[i]}),e.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const i=[];for(const a in o)Object.prototype.hasOwnProperty.call(o,a)&&i.push(a);return i},e.find=(o,i)=>{for(const a of o)if(i(a))return a},e.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&Number.isFinite(o)&&Math.floor(o)===o;function r(o,i=" | "){return o.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}e.joinValues=r,e.jsonStringifyReplacer=(o,i)=>typeof i=="bigint"?i.toString():i})(cn||(cn={}));var RL;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(RL||(RL={}));const st=cn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),_l=e=>{switch(typeof e){case"undefined":return st.undefined;case"string":return st.string;case"number":return Number.isNaN(e)?st.nan:st.number;case"boolean":return st.boolean;case"function":return st.function;case"bigint":return st.bigint;case"symbol":return st.symbol;case"object":return Array.isArray(e)?st.array:e===null?st.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?st.promise:typeof Map<"u"&&e instanceof Map?st.map:typeof Set<"u"&&e instanceof Set?st.set:typeof Date<"u"&&e instanceof Date?st.date:st.object;default:return st.unknown}},Pe=cn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);let qc=class e8 extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(i){return i.message},r={_errors:[]},o=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(o);else if(a.code==="invalid_return_type")o(a.returnTypeError);else if(a.code==="invalid_arguments")o(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let l=r,u=0;for(;u<a.path.length;){const d=a.path[u];u===a.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(a))):l[d]=l[d]||{_errors:[]},l=l[d],u++}}};return o(this),r}static assert(t){if(!(t instanceof e8))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,cn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const o of this.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(t(o))):r.push(t(o));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}};qc.create=e=>new qc(e);const dE=(e,t)=>{let n;switch(e.code){case Pe.invalid_type:e.received===st.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case Pe.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,cn.jsonStringifyReplacer)}`;break;case Pe.unrecognized_keys:n=`Unrecognized key(s) in object: ${cn.joinValues(e.keys,", ")}`;break;case Pe.invalid_union:n="Invalid input";break;case Pe.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${cn.joinValues(e.options)}`;break;case Pe.invalid_enum_value:n=`Invalid enum value. Expected ${cn.joinValues(e.options)}, received '${e.received}'`;break;case Pe.invalid_arguments:n="Invalid function arguments";break;case Pe.invalid_return_type:n="Invalid function return type";break;case Pe.invalid_date:n="Invalid date";break;case Pe.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:cn.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case Pe.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case Pe.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case Pe.custom:n="Invalid input";break;case Pe.invalid_intersection_types:n="Intersection results could not be merged";break;case Pe.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case Pe.not_finite:n="Number must be finite";break;default:n=t.defaultError,cn.assertNever(e)}return{message:n}};let dY=dE;function fY(){return dY}const hY=e=>{const{data:t,path:n,errorMaps:r,issueData:o}=e,i=[...n,...o.path||[]],a={...o,path:i};if(o.message!==void 0)return{...o,path:i,message:o.message};let l="";const u=r.filter(d=>!!d).slice().reverse();for(const d of u)l=d(a,{data:t,defaultError:l}).message;return{...o,path:i,message:l}};function Ze(e,t){const n=fY(),r=hY({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===dE?void 0:dE].filter(o=>!!o)});e.common.issues.push(r)}let ga=class t8{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const o of n){if(o.status==="aborted")return jt;o.status==="dirty"&&t.dirty(),r.push(o.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const o of n){const i=await o.key,a=await o.value;r.push({key:i,value:a})}return t8.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const o of n){const{key:i,value:a}=o;if(i.status==="aborted"||a.status==="aborted")return jt;i.status==="dirty"&&t.dirty(),a.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||o.alwaysSet)&&(r[i.value]=a.value)}return{status:t.value,value:r}}};const jt=Object.freeze({status:"aborted"}),Sh=e=>({status:"dirty",value:e}),Ii=e=>({status:"valid",value:e}),xL=e=>e.status==="aborted",OL=e=>e.status==="dirty",Rd=e=>e.status==="valid",oy=e=>typeof Promise<"u"&&e instanceof Promise;var ut;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(ut||(ut={}));var iy=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},n8=function(e,t,n,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(e,n):o?o.value=n:t.set(e,n),n},Ah,Ch;let Pl=class{constructor(t,n,r,o){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=o}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}};const ML=(e,t)=>{if(Rd(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new qc(e.common.issues);return this._error=n,this._error}}};function Jt(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:o}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:o}:{errorMap:(a,l)=>{const{message:u}=e;return a.code==="invalid_enum_value"?{message:u??l.defaultError}:typeof l.data>"u"?{message:u??r??l.defaultError}:a.code!=="invalid_type"?{message:l.defaultError}:{message:u??n??l.defaultError}},description:o}}let an=class{get description(){return this._def.description}_getType(t){return _l(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:_l(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ga,ctx:{common:t.parent.common,data:t.data,parsedType:_l(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(oy(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:_l(t)},o=this._parseSync({data:t,path:r.path,parent:r});return ML(r,o)}"~validate"(t){var r,o;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:_l(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:n});return Rd(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(o=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&o.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(i=>Rd(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:_l(t)},o=this._parse({data:t,path:r.path,parent:r}),i=await(oy(o)?o:Promise.resolve(o));return ML(r,i)}refine(t,n){const r=o=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(o):n;return this._refinement((o,i)=>{const a=t(o),l=()=>i.addIssue({code:Pe.custom,...r(o)});return typeof Promise<"u"&&a instanceof Promise?a.then(u=>u?!0:(l(),!1)):a?!0:(l(),!1)})}refinement(t,n){return this._refinement((r,o)=>t(r)?!0:(o.addIssue(typeof n=="function"?n(r,o):n),!1))}_refinement(t){return new Od({schema:this,typeName:Ot.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return xl.create(this,this._def)}nullable(){return Md.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return xd.create(this)}promise(){return ly.create(this,this._def)}or(t){return ay.create([this,t],this._def)}and(t){return sy.create(this,t,this._def)}transform(t){return new Od({...Jt(this._def),schema:this,typeName:Ot.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new wE({...Jt(this._def),innerType:this,defaultValue:n,typeName:Ot.ZodDefault})}brand(){return new DY({typeName:Ot.ZodBranded,type:this,...Jt(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new SE({...Jt(this._def),innerType:this,catchValue:n,typeName:Ot.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return NY.create(this,t)}readonly(){return AE.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}};const mY=/^c[^\s-]{8,}$/i,gY=/^[0-9a-z]+$/,pY=/^[0-9A-HJKMNP-TV-Z]{26}$/i,vY=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,yY=/^[a-z0-9_-]{21}$/i,_Y=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,bY=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,wY=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,SY="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let AC;const AY=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,CY=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,kY=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,EY=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,BY=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,RY=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,r8="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",xY=new RegExp(`^${r8}$`);function o8(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function OY(e){return new RegExp(`^${o8(e)}$`)}function MY(e){let t=`${r8}T${o8(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function PY(e,t){return!!((t==="v4"||!t)&&AY.test(e)||(t==="v6"||!t)&&kY.test(e))}function TY(e,t){if(!_Y.test(e))return!1;try{const[n]=e.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),o=JSON.parse(atob(r));return!(typeof o!="object"||o===null||"typ"in o&&(o==null?void 0:o.typ)!=="JWT"||!o.alg||t&&o.alg!==t)}catch{return!1}}function IY(e,t){return!!((t==="v4"||!t)&&CY.test(e)||(t==="v6"||!t)&&EY.test(e))}let fE=class kh extends an{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==st.string){const i=this._getOrReturnCtx(t);return Ze(i,{code:Pe.invalid_type,expected:st.string,received:i.parsedType}),jt}const r=new ga;let o;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(o=this._getOrReturnCtx(t,o),Ze(o,{code:Pe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")t.data.length>i.value&&(o=this._getOrReturnCtx(t,o),Ze(o,{code:Pe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const a=t.data.length>i.value,l=t.data.length<i.value;(a||l)&&(o=this._getOrReturnCtx(t,o),a?Ze(o,{code:Pe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Ze(o,{code:Pe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")wY.test(t.data)||(o=this._getOrReturnCtx(t,o),Ze(o,{validation:"email",code:Pe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")AC||(AC=new RegExp(SY,"u")),AC.test(t.data)||(o=this._getOrReturnCtx(t,o),Ze(o,{validation:"emoji",code:Pe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")vY.test(t.data)||(o=this._getOrReturnCtx(t,o),Ze(o,{validation:"uuid",code:Pe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")yY.test(t.data)||(o=this._getOrReturnCtx(t,o),Ze(o,{validation:"nanoid",code:Pe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")mY.test(t.data)||(o=this._getOrReturnCtx(t,o),Ze(o,{validation:"cuid",code:Pe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")gY.test(t.data)||(o=this._getOrReturnCtx(t,o),Ze(o,{validation:"cuid2",code:Pe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")pY.test(t.data)||(o=this._getOrReturnCtx(t,o),Ze(o,{validation:"ulid",code:Pe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{o=this._getOrReturnCtx(t,o),Ze(o,{validation:"url",code:Pe.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(o=this._getOrReturnCtx(t,o),Ze(o,{validation:"regex",code:Pe.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(o=this._getOrReturnCtx(t,o),Ze(o,{code:Pe.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(o=this._getOrReturnCtx(t,o),Ze(o,{code:Pe.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(o=this._getOrReturnCtx(t,o),Ze(o,{code:Pe.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?MY(i).test(t.data)||(o=this._getOrReturnCtx(t,o),Ze(o,{code:Pe.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?xY.test(t.data)||(o=this._getOrReturnCtx(t,o),Ze(o,{code:Pe.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?OY(i).test(t.data)||(o=this._getOrReturnCtx(t,o),Ze(o,{code:Pe.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?bY.test(t.data)||(o=this._getOrReturnCtx(t,o),Ze(o,{validation:"duration",code:Pe.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?PY(t.data,i.version)||(o=this._getOrReturnCtx(t,o),Ze(o,{validation:"ip",code:Pe.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?TY(t.data,i.alg)||(o=this._getOrReturnCtx(t,o),Ze(o,{validation:"jwt",code:Pe.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?IY(t.data,i.version)||(o=this._getOrReturnCtx(t,o),Ze(o,{validation:"cidr",code:Pe.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?BY.test(t.data)||(o=this._getOrReturnCtx(t,o),Ze(o,{validation:"base64",code:Pe.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?RY.test(t.data)||(o=this._getOrReturnCtx(t,o),Ze(o,{validation:"base64url",code:Pe.invalid_string,message:i.message}),r.dirty()):cn.assertNever(i);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(o=>t.test(o),{validation:n,code:Pe.invalid_string,...ut.errToObj(r)})}_addCheck(t){return new kh({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ut.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ut.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ut.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ut.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ut.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ut.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ut.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ut.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ut.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...ut.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...ut.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ut.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...ut.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...ut.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...ut.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...ut.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...ut.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...ut.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...ut.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...ut.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...ut.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...ut.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...ut.errToObj(n)})}nonempty(t){return this.min(1,ut.errToObj(t))}trim(){return new kh({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new kh({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new kh({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}};fE.create=e=>new fE({checks:[],typeName:Ot.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...Jt(e)});function LY(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,o=n>r?n:r,i=Number.parseInt(e.toFixed(o).replace(".","")),a=Number.parseInt(t.toFixed(o).replace(".",""));return i%a/10**o}let hE=class mE extends an{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==st.number){const i=this._getOrReturnCtx(t);return Ze(i,{code:Pe.invalid_type,expected:st.number,received:i.parsedType}),jt}let r;const o=new ga;for(const i of this._def.checks)i.kind==="int"?cn.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),Ze(r,{code:Pe.invalid_type,expected:"integer",received:"float",message:i.message}),o.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),Ze(r,{code:Pe.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),o.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),Ze(r,{code:Pe.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),o.dirty()):i.kind==="multipleOf"?LY(t.data,i.value)!==0&&(r=this._getOrReturnCtx(t,r),Ze(r,{code:Pe.not_multiple_of,multipleOf:i.value,message:i.message}),o.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),Ze(r,{code:Pe.not_finite,message:i.message}),o.dirty()):cn.assertNever(i);return{status:o.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,ut.toString(n))}gt(t,n){return this.setLimit("min",t,!1,ut.toString(n))}lte(t,n){return this.setLimit("max",t,!0,ut.toString(n))}lt(t,n){return this.setLimit("max",t,!1,ut.toString(n))}setLimit(t,n,r,o){return new mE({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:ut.toString(o)}]})}_addCheck(t){return new mE({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ut.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ut.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ut.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ut.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ut.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:ut.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:ut.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ut.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ut.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&cn.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}};hE.create=e=>new hE({checks:[],typeName:Ot.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Jt(e)});let PL=class gE extends an{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==st.bigint)return this._getInvalidInput(t);let r;const o=new ga;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),Ze(r,{code:Pe.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),o.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),Ze(r,{code:Pe.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),o.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),Ze(r,{code:Pe.not_multiple_of,multipleOf:i.value,message:i.message}),o.dirty()):cn.assertNever(i);return{status:o.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return Ze(n,{code:Pe.invalid_type,expected:st.bigint,received:n.parsedType}),jt}gte(t,n){return this.setLimit("min",t,!0,ut.toString(n))}gt(t,n){return this.setLimit("min",t,!1,ut.toString(n))}lte(t,n){return this.setLimit("max",t,!0,ut.toString(n))}lt(t,n){return this.setLimit("max",t,!1,ut.toString(n))}setLimit(t,n,r,o){return new gE({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:ut.toString(o)}]})}_addCheck(t){return new gE({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ut.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ut.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ut.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ut.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:ut.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}};PL.create=e=>new PL({checks:[],typeName:Ot.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...Jt(e)});let pE=class extends an{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==st.boolean){const r=this._getOrReturnCtx(t);return Ze(r,{code:Pe.invalid_type,expected:st.boolean,received:r.parsedType}),jt}return Ii(t.data)}};pE.create=e=>new pE({typeName:Ot.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Jt(e)});let TL=class i8 extends an{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==st.date){const i=this._getOrReturnCtx(t);return Ze(i,{code:Pe.invalid_type,expected:st.date,received:i.parsedType}),jt}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Ze(i,{code:Pe.invalid_date}),jt}const r=new ga;let o;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(o=this._getOrReturnCtx(t,o),Ze(o,{code:Pe.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(o=this._getOrReturnCtx(t,o),Ze(o,{code:Pe.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):cn.assertNever(i);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new i8({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:ut.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:ut.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}};TL.create=e=>new TL({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Ot.ZodDate,...Jt(e)});let IL=class extends an{_parse(t){if(this._getType(t)!==st.symbol){const r=this._getOrReturnCtx(t);return Ze(r,{code:Pe.invalid_type,expected:st.symbol,received:r.parsedType}),jt}return Ii(t.data)}};IL.create=e=>new IL({typeName:Ot.ZodSymbol,...Jt(e)});let LL=class extends an{_parse(t){if(this._getType(t)!==st.undefined){const r=this._getOrReturnCtx(t);return Ze(r,{code:Pe.invalid_type,expected:st.undefined,received:r.parsedType}),jt}return Ii(t.data)}};LL.create=e=>new LL({typeName:Ot.ZodUndefined,...Jt(e)});let DL=class extends an{_parse(t){if(this._getType(t)!==st.null){const r=this._getOrReturnCtx(t);return Ze(r,{code:Pe.invalid_type,expected:st.null,received:r.parsedType}),jt}return Ii(t.data)}};DL.create=e=>new DL({typeName:Ot.ZodNull,...Jt(e)});let NL=class extends an{constructor(){super(...arguments),this._any=!0}_parse(t){return Ii(t.data)}};NL.create=e=>new NL({typeName:Ot.ZodAny,...Jt(e)});let vE=class extends an{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Ii(t.data)}};vE.create=e=>new vE({typeName:Ot.ZodUnknown,...Jt(e)});let Tl=class extends an{_parse(t){const n=this._getOrReturnCtx(t);return Ze(n,{code:Pe.invalid_type,expected:st.never,received:n.parsedType}),jt}};Tl.create=e=>new Tl({typeName:Ot.ZodNever,...Jt(e)});let FL=class extends an{_parse(t){if(this._getType(t)!==st.undefined){const r=this._getOrReturnCtx(t);return Ze(r,{code:Pe.invalid_type,expected:st.void,received:r.parsedType}),jt}return Ii(t.data)}};FL.create=e=>new FL({typeName:Ot.ZodVoid,...Jt(e)});let xd=class Mv extends an{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),o=this._def;if(n.parsedType!==st.array)return Ze(n,{code:Pe.invalid_type,expected:st.array,received:n.parsedType}),jt;if(o.exactLength!==null){const a=n.data.length>o.exactLength.value,l=n.data.length<o.exactLength.value;(a||l)&&(Ze(n,{code:a?Pe.too_big:Pe.too_small,minimum:l?o.exactLength.value:void 0,maximum:a?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),r.dirty())}if(o.minLength!==null&&n.data.length<o.minLength.value&&(Ze(n,{code:Pe.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),r.dirty()),o.maxLength!==null&&n.data.length>o.maxLength.value&&(Ze(n,{code:Pe.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,l)=>o.type._parseAsync(new Pl(n,a,n.path,l)))).then(a=>ga.mergeArray(r,a));const i=[...n.data].map((a,l)=>o.type._parseSync(new Pl(n,a,n.path,l)));return ga.mergeArray(r,i)}get element(){return this._def.type}min(t,n){return new Mv({...this._def,minLength:{value:t,message:ut.toString(n)}})}max(t,n){return new Mv({...this._def,maxLength:{value:t,message:ut.toString(n)}})}length(t,n){return new Mv({...this._def,exactLength:{value:t,message:ut.toString(n)}})}nonempty(t){return this.min(1,t)}};xd.create=(e,t)=>new xd({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ot.ZodArray,...Jt(t)});function td(e){if(e instanceof Ps){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=xl.create(td(r))}return new Ps({...e._def,shape:()=>t})}else return e instanceof xd?new xd({...e._def,type:td(e.element)}):e instanceof xl?xl.create(td(e.unwrap())):e instanceof Md?Md.create(td(e.unwrap())):e instanceof cm?cm.create(e.items.map(t=>td(t))):e}let Ps=class Ji extends an{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=cn.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==st.object){const d=this._getOrReturnCtx(t);return Ze(d,{code:Pe.invalid_type,expected:st.object,received:d.parsedType}),jt}const{status:r,ctx:o}=this._processInputParams(t),{shape:i,keys:a}=this._getCached(),l=[];if(!(this._def.catchall instanceof Tl&&this._def.unknownKeys==="strip"))for(const d in o.data)a.includes(d)||l.push(d);const u=[];for(const d of a){const f=i[d],m=o.data[d];u.push({key:{status:"valid",value:d},value:f._parse(new Pl(o,m,o.path,d)),alwaysSet:d in o.data})}if(this._def.catchall instanceof Tl){const d=this._def.unknownKeys;if(d==="passthrough")for(const f of l)u.push({key:{status:"valid",value:f},value:{status:"valid",value:o.data[f]}});else if(d==="strict")l.length>0&&(Ze(o,{code:Pe.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const f of l){const m=o.data[f];u.push({key:{status:"valid",value:f},value:d._parse(new Pl(o,m,o.path,f)),alwaysSet:f in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const d=[];for(const f of u){const m=await f.key,g=await f.value;d.push({key:m,value:g,alwaysSet:f.alwaysSet})}return d}).then(d=>ga.mergeObjectSync(r,d)):ga.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(t){return ut.errToObj,new Ji({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var i,a;const o=((a=(i=this._def).errorMap)==null?void 0:a.call(i,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:ut.errToObj(t).message??o}:{message:o}}}:{}})}strip(){return new Ji({...this._def,unknownKeys:"strip"})}passthrough(){return new Ji({...this._def,unknownKeys:"passthrough"})}extend(t){return new Ji({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Ji({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ot.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new Ji({...this._def,catchall:t})}pick(t){const n={};for(const r of cn.objectKeys(t))t[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new Ji({...this._def,shape:()=>n})}omit(t){const n={};for(const r of cn.objectKeys(this.shape))t[r]||(n[r]=this.shape[r]);return new Ji({...this._def,shape:()=>n})}deepPartial(){return td(this)}partial(t){const n={};for(const r of cn.objectKeys(this.shape)){const o=this.shape[r];t&&!t[r]?n[r]=o:n[r]=o.optional()}return new Ji({...this._def,shape:()=>n})}required(t){const n={};for(const r of cn.objectKeys(this.shape))if(t&&!t[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof xl;)i=i._def.innerType;n[r]=i}return new Ji({...this._def,shape:()=>n})}keyof(){return s8(cn.objectKeys(this.shape))}};Ps.create=(e,t)=>new Ps({shape:()=>e,unknownKeys:"strip",catchall:Tl.create(),typeName:Ot.ZodObject,...Jt(t)});Ps.strictCreate=(e,t)=>new Ps({shape:()=>e,unknownKeys:"strict",catchall:Tl.create(),typeName:Ot.ZodObject,...Jt(t)});Ps.lazycreate=(e,t)=>new Ps({shape:e,unknownKeys:"strip",catchall:Tl.create(),typeName:Ot.ZodObject,...Jt(t)});let ay=class extends an{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function o(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const a=i.map(l=>new qc(l.ctx.common.issues));return Ze(n,{code:Pe.invalid_union,unionErrors:a}),jt}if(n.common.async)return Promise.all(r.map(async i=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(o);{let i;const a=[];for(const u of r){const d={...n,common:{...n.common,issues:[]},parent:null},f=u._parseSync({data:n.data,path:n.path,parent:d});if(f.status==="valid")return f;f.status==="dirty"&&!i&&(i={result:f,ctx:d}),d.common.issues.length&&a.push(d.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const l=a.map(u=>new qc(u));return Ze(n,{code:Pe.invalid_union,unionErrors:l}),jt}}get options(){return this._def.options}};ay.create=(e,t)=>new ay({options:e,typeName:Ot.ZodUnion,...Jt(t)});function yE(e,t){const n=_l(e),r=_l(t);if(e===t)return{valid:!0,data:e};if(n===st.object&&r===st.object){const o=cn.objectKeys(t),i=cn.objectKeys(e).filter(l=>o.indexOf(l)!==-1),a={...e,...t};for(const l of i){const u=yE(e[l],t[l]);if(!u.valid)return{valid:!1};a[l]=u.data}return{valid:!0,data:a}}else if(n===st.array&&r===st.array){if(e.length!==t.length)return{valid:!1};const o=[];for(let i=0;i<e.length;i++){const a=e[i],l=t[i],u=yE(a,l);if(!u.valid)return{valid:!1};o.push(u.data)}return{valid:!0,data:o}}else return n===st.date&&r===st.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}let sy=class extends an{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),o=(i,a)=>{if(xL(i)||xL(a))return jt;const l=yE(i.value,a.value);return l.valid?((OL(i)||OL(a))&&n.dirty(),{status:n.value,value:l.data}):(Ze(r,{code:Pe.invalid_intersection_types}),jt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,a])=>o(i,a)):o(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}};sy.create=(e,t,n)=>new sy({left:e,right:t,typeName:Ot.ZodIntersection,...Jt(n)});let cm=class a8 extends an{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==st.array)return Ze(r,{code:Pe.invalid_type,expected:st.array,received:r.parsedType}),jt;if(r.data.length<this._def.items.length)return Ze(r,{code:Pe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),jt;!this._def.rest&&r.data.length>this._def.items.length&&(Ze(r,{code:Pe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((a,l)=>{const u=this._def.items[l]||this._def.rest;return u?u._parse(new Pl(r,a,r.path,l)):null}).filter(a=>!!a);return r.common.async?Promise.all(i).then(a=>ga.mergeArray(n,a)):ga.mergeArray(n,i)}get items(){return this._def.items}rest(t){return new a8({...this._def,rest:t})}};cm.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new cm({items:e,typeName:Ot.ZodTuple,rest:null,...Jt(t)})};let GL=class extends an{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==st.map)return Ze(r,{code:Pe.invalid_type,expected:st.map,received:r.parsedType}),jt;const o=this._def.keyType,i=this._def.valueType,a=[...r.data.entries()].map(([l,u],d)=>({key:o._parse(new Pl(r,l,r.path,[d,"key"])),value:i._parse(new Pl(r,u,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const u of a){const d=await u.key,f=await u.value;if(d.status==="aborted"||f.status==="aborted")return jt;(d.status==="dirty"||f.status==="dirty")&&n.dirty(),l.set(d.value,f.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const u of a){const d=u.key,f=u.value;if(d.status==="aborted"||f.status==="aborted")return jt;(d.status==="dirty"||f.status==="dirty")&&n.dirty(),l.set(d.value,f.value)}return{status:n.value,value:l}}}};GL.create=(e,t,n)=>new GL({valueType:t,keyType:e,typeName:Ot.ZodMap,...Jt(n)});let jL=class _E extends an{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==st.set)return Ze(r,{code:Pe.invalid_type,expected:st.set,received:r.parsedType}),jt;const o=this._def;o.minSize!==null&&r.data.size<o.minSize.value&&(Ze(r,{code:Pe.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),n.dirty()),o.maxSize!==null&&r.data.size>o.maxSize.value&&(Ze(r,{code:Pe.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),n.dirty());const i=this._def.valueType;function a(u){const d=new Set;for(const f of u){if(f.status==="aborted")return jt;f.status==="dirty"&&n.dirty(),d.add(f.value)}return{status:n.value,value:d}}const l=[...r.data.values()].map((u,d)=>i._parse(new Pl(r,u,r.path,d)));return r.common.async?Promise.all(l).then(u=>a(u)):a(l)}min(t,n){return new _E({...this._def,minSize:{value:t,message:ut.toString(n)}})}max(t,n){return new _E({...this._def,maxSize:{value:t,message:ut.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}};jL.create=(e,t)=>new jL({valueType:e,minSize:null,maxSize:null,typeName:Ot.ZodSet,...Jt(t)});let $L=class extends an{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}};$L.create=(e,t)=>new $L({getter:e,typeName:Ot.ZodLazy,...Jt(t)});let zL=class extends an{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return Ze(n,{received:n.data,code:Pe.invalid_literal,expected:this._def.value}),jt}return{status:"valid",value:t.data}}get value(){return this._def.value}};zL.create=(e,t)=>new zL({value:e,typeName:Ot.ZodLiteral,...Jt(t)});function s8(e,t){return new T2({values:e,typeName:Ot.ZodEnum,...Jt(t)})}let T2=class bE extends an{constructor(){super(...arguments),Ah.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return Ze(n,{expected:cn.joinValues(r),received:n.parsedType,code:Pe.invalid_type}),jt}if(iy(this,Ah,"f")||n8(this,Ah,new Set(this._def.values),"f"),!iy(this,Ah,"f").has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return Ze(n,{received:n.data,code:Pe.invalid_enum_value,options:r}),jt}return Ii(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return bE.create(t,{...this._def,...n})}exclude(t,n=this._def){return bE.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}};Ah=new WeakMap;T2.create=s8;let UL=class extends an{constructor(){super(...arguments),Ch.set(this,void 0)}_parse(t){const n=cn.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==st.string&&r.parsedType!==st.number){const o=cn.objectValues(n);return Ze(r,{expected:cn.joinValues(o),received:r.parsedType,code:Pe.invalid_type}),jt}if(iy(this,Ch,"f")||n8(this,Ch,new Set(cn.getValidEnumValues(this._def.values)),"f"),!iy(this,Ch,"f").has(t.data)){const o=cn.objectValues(n);return Ze(r,{received:r.data,code:Pe.invalid_enum_value,options:o}),jt}return Ii(t.data)}get enum(){return this._def.values}};Ch=new WeakMap;UL.create=(e,t)=>new UL({values:e,typeName:Ot.ZodNativeEnum,...Jt(t)});let ly=class extends an{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==st.promise&&n.common.async===!1)return Ze(n,{code:Pe.invalid_type,expected:st.promise,received:n.parsedType}),jt;const r=n.parsedType===st.promise?n.data:Promise.resolve(n.data);return Ii(r.then(o=>this._def.type.parseAsync(o,{path:n.path,errorMap:n.common.contextualErrorMap})))}};ly.create=(e,t)=>new ly({type:e,typeName:Ot.ZodPromise,...Jt(t)});let Od=class extends an{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ot.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),o=this._def.effect||null,i={addIssue:a=>{Ze(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),o.type==="preprocess"){const a=o.transform(r.data,i);if(r.common.async)return Promise.resolve(a).then(async l=>{if(n.value==="aborted")return jt;const u=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return u.status==="aborted"?jt:u.status==="dirty"||n.value==="dirty"?Sh(u.value):u});{if(n.value==="aborted")return jt;const l=this._def.schema._parseSync({data:a,path:r.path,parent:r});return l.status==="aborted"?jt:l.status==="dirty"||n.value==="dirty"?Sh(l.value):l}}if(o.type==="refinement"){const a=l=>{const u=o.refinement(l,i);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?jt:(l.status==="dirty"&&n.dirty(),a(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?jt:(l.status==="dirty"&&n.dirty(),a(l.value).then(()=>({status:n.value,value:l.value}))))}if(o.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Rd(a))return a;const l=o.transform(a.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>Rd(a)?Promise.resolve(o.transform(a.value,i)).then(l=>({status:n.value,value:l})):a);cn.assertNever(o)}};Od.create=(e,t,n)=>new Od({schema:e,typeName:Ot.ZodEffects,effect:t,...Jt(n)});Od.createWithPreprocess=(e,t,n)=>new Od({schema:t,effect:{type:"preprocess",transform:e},typeName:Ot.ZodEffects,...Jt(n)});let xl=class extends an{_parse(t){return this._getType(t)===st.undefined?Ii(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};xl.create=(e,t)=>new xl({innerType:e,typeName:Ot.ZodOptional,...Jt(t)});let Md=class extends an{_parse(t){return this._getType(t)===st.null?Ii(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};Md.create=(e,t)=>new Md({innerType:e,typeName:Ot.ZodNullable,...Jt(t)});let wE=class extends an{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===st.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}};wE.create=(e,t)=>new wE({innerType:e,typeName:Ot.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Jt(t)});let SE=class extends an{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},o=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return oy(o)?o.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new qc(r.common.issues)},input:r.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new qc(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}};SE.create=(e,t)=>new SE({innerType:e,typeName:Ot.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Jt(t)});let VL=class extends an{_parse(t){if(this._getType(t)!==st.nan){const r=this._getOrReturnCtx(t);return Ze(r,{code:Pe.invalid_type,expected:st.nan,received:r.parsedType}),jt}return{status:"valid",value:t.data}}};VL.create=e=>new VL({typeName:Ot.ZodNaN,...Jt(e)});let DY=class extends an{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}},NY=class l8 extends an{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?jt:i.status==="dirty"?(n.dirty(),Sh(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const o=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?jt:o.status==="dirty"?(n.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:r.path,parent:r})}}static create(t,n){return new l8({in:t,out:n,typeName:Ot.ZodPipeline})}},AE=class extends an{_parse(t){const n=this._def.innerType._parse(t),r=o=>(Rd(o)&&(o.value=Object.freeze(o.value)),o);return oy(n)?n.then(o=>r(o)):r(n)}unwrap(){return this._def.innerType}};AE.create=(e,t)=>new AE({innerType:e,typeName:Ot.ZodReadonly,...Jt(t)});var Ot;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ot||(Ot={}));const FY=fE.create,GY=hE.create,jY=pE.create,$Y=vE.create;Tl.create;xd.create;const zY=Ps.create;ay.create;sy.create;cm.create;T2.create;ly.create;xl.create;Md.create;const UY=cu.getLogger("Validation"),em=class em{constructor(t){this.schema=t}validate(t,n){const r=this.schema[t];if(!r){const o=`    ${t}  `;return em.logger.error(o,new Error(o)),{valid:!1,error:o}}try{return r.parse(n),{valid:!0}}catch(o){const i=o instanceof Error?o.message:String(o);return em.logger.error(`    ${t}`,o),{valid:!1,error:i}}}};z(em,"logger",cu.getLogger("Validator"));let CE=em;function VY(e){const t=zY({eventType:FY().min(1),payload:$Y(),timestamp:GY().int().positive(),compressed:jY().optional()});try{return t.parse(e),{valid:!0}}catch(n){const r=n instanceof Error?n.message:String(n);return UY.error("   ",n),{valid:!1,error:r}}}var kE=(e=>(e.TCP="reliable",e.UDP="unreliable",e))(kE||{}),cy=(e=>(e.Limit="limit",e.Structure="structure",e.Validation="validation",e))(cy||{});const f0=class f0{constructor(){z(this,"logger");z(this,"messageReceived$");z(this,"message$");z(this,"validation$");z(this,"network",null);z(this,"initialized",!1);z(this,"onMessage",(t,n,r)=>{this.messageReceived$.next({data:r.toString(),channel:n})});this.logger=cu.getLogger("PeerMessageCore"),this.messageReceived$=new xi,this.validation$=new xi,this.message$=this.messageReceived$.pipe(uo(({data:t,channel:n})=>{try{const r=JSON.parse(t);return this.validatePacketStructure(r)?(this.logger.debug(" ",r.eventType,r.payload),{channel:n,packet:r}):null}catch(r){return this.logger.error("   ",r),null}}),ta(t=>t!==null),sm())}static getInstance(){return this._instance||(this._instance=new f0),this._instance}initialize(t){this.initialized||(this.network=t,this.network.on("message",this.onMessage),this.initialized=!0)}dispose(){var t;this.initialized&&((t=this.network)==null||t.off("message",this.onMessage),this.network=null,this.initialized=!1)}validatePacketStructure(t){const n=VY(t);return n.valid?!0:(this.logger.error("    ",new Error(n.error)),this.validation$.next({eventType:t.eventType,payload:t.payload,type:cy.Structure,error:n.error}),!1)}async preparePacket(t,n){return{eventType:t,payload:n,timestamp:Date.now()}}async send(t,n){return this.network?(this.logger.debug("send",t,n.eventType,n.payload),await this.network.broadcast(t,JSON.stringify(n)),!0):(this.logger.error("Network  ",new Error("Network  "),n),!1)}async sendTCP(t,n){const r=await this.preparePacket(t,n);return this.send(kE.TCP,r)}async sendUDP(t,n){const r=await this.preparePacket(t,n);return this.send(kE.UDP,r)}};z(f0,"_instance",null);let uy=f0;var CC={exports:{}},kC={exports:{}},qL;function c8(){return qL||(qL=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function o(u,d,f){this.fn=u,this.context=d,this.once=f||!1}function i(u,d,f,m,g){if(typeof f!="function")throw new TypeError("The listener must be a function");var v=new o(f,m||u,g),y=n?n+d:d;return u._events[y]?u._events[y].fn?u._events[y]=[u._events[y],v]:u._events[y].push(v):(u._events[y]=v,u._eventsCount++),u}function a(u,d){--u._eventsCount===0?u._events=new r:delete u._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],f,m;if(this._eventsCount===0)return d;for(m in f=this._events)t.call(f,m)&&d.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},l.prototype.listeners=function(d){var f=n?n+d:d,m=this._events[f];if(!m)return[];if(m.fn)return[m.fn];for(var g=0,v=m.length,y=new Array(v);g<v;g++)y[g]=m[g].fn;return y},l.prototype.listenerCount=function(d){var f=n?n+d:d,m=this._events[f];return m?m.fn?1:m.length:0},l.prototype.emit=function(d,f,m,g,v,y){var _=n?n+d:d;if(!this._events[_])return!1;var b=this._events[_],E=arguments.length,A,C;if(b.fn){switch(b.once&&this.removeListener(d,b.fn,void 0,!0),E){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,f),!0;case 3:return b.fn.call(b.context,f,m),!0;case 4:return b.fn.call(b.context,f,m,g),!0;case 5:return b.fn.call(b.context,f,m,g,v),!0;case 6:return b.fn.call(b.context,f,m,g,v,y),!0}for(C=1,A=new Array(E-1);C<E;C++)A[C-1]=arguments[C];b.fn.apply(b.context,A)}else{var M=b.length,T;for(C=0;C<M;C++)switch(b[C].once&&this.removeListener(d,b[C].fn,void 0,!0),E){case 1:b[C].fn.call(b[C].context);break;case 2:b[C].fn.call(b[C].context,f);break;case 3:b[C].fn.call(b[C].context,f,m);break;case 4:b[C].fn.call(b[C].context,f,m,g);break;default:if(!A)for(T=1,A=new Array(E-1);T<E;T++)A[T-1]=arguments[T];b[C].fn.apply(b[C].context,A)}}return!0},l.prototype.on=function(d,f,m){return i(this,d,f,m,!1)},l.prototype.once=function(d,f,m){return i(this,d,f,m,!0)},l.prototype.removeListener=function(d,f,m,g){var v=n?n+d:d;if(!this._events[v])return this;if(!f)return a(this,v),this;var y=this._events[v];if(y.fn)y.fn===f&&(!g||y.once)&&(!m||y.context===m)&&a(this,v);else{for(var _=0,b=[],E=y.length;_<E;_++)(y[_].fn!==f||g&&!y[_].once||m&&y[_].context!==m)&&b.push(y[_]);b.length?this._events[v]=b.length===1?b[0]:b:a(this,v)}return this},l.prototype.removeAllListeners=function(d){var f;return d?(f=n?n+d:d,this._events[f]&&a(this,f)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l}(kC)),kC.exports}var QL;function qY(){return QL||(QL=1,function(e){var t=c8();function n(T,I,P,B){Object.defineProperty(T,I,{get:P,set:B,enumerable:!0,configurable:!0})}n(e.exports,"DefaultSignalingURL",function(){return A}),n(e.exports,"DefaultRTCConfiguration",function(){return C}),n(e.exports,"DefaultDataChannels",function(){return M}),n(e.exports,"Network",function(){return E});const r=5e3,o="turn:turn.rtc.poki.com";class i{constructor(I){z(this,"signaling");z(this,"cachedCredentials");z(this,"cachedCredentialsExpireAt");z(this,"runningPromise");this.signaling=I,this.cachedCredentialsExpireAt=0}async fillCredentials(I){var x;const P=JSON.parse(JSON.stringify(I));if(I.testproxyURL!==void 0||!(((x=P.iceServers)==null?void 0:x.some(D=>D.urls===o||D.urls.includes(o)))??!1)||P.iceServers===void 0)return P;this.runningPromise===void 0&&(this.runningPromise=new Promise(D=>{if(this.cachedCredentials!=null&&this.cachedCredentialsExpireAt>performance.now()){D(this.cachedCredentials);return}const $=setTimeout(()=>{D({type:"credentials"}),this.cachedCredentials={type:"credentials"},this.cachedCredentialsExpireAt=performance.now()+r},r);this.signaling.request({type:"credentials"}).then(U=>{U.type==="credentials"&&(this.cachedCredentials=U,this.cachedCredentialsExpireAt=performance.now()+((U.lifetime??0)-60)*1e3,clearTimeout($),D(U))}).catch(()=>{clearTimeout($),D({type:"credentials"}),this.cachedCredentials={type:"credentials"},this.cachedCredentialsExpireAt=performance.now()+r})}));const R=await this.runningPromise;return this.runningPromise=void 0,R.url===void 0||P.iceServers.forEach(D=>{(D.urls===o||D.urls.includes(o))&&(D.urls=R.url??"",D.username=R.username,D.credential=R.credential)}),P}}class a extends t.EventEmitter{constructor(P,B,R){super();z(this,"network");z(this,"url");z(this,"ws");z(this,"reconnectAttempt");z(this,"reconnecting");z(this,"receivedID");z(this,"receivedSecret");z(this,"currentLobby");z(this,"currentLobbyInfo");z(this,"currentLeader");z(this,"currentTerm");z(this,"connections");z(this,"replayQueue");z(this,"requests");this.network=P,this.reconnectAttempt=0,this.reconnecting=!1,this.currentTerm=0,this.requests=new Map,this.url=R,this.connections=B,this.replayQueue=new Map,this.ws=this.connect(),setInterval(()=>{this.ping()},5e3)}connect(){const P=new WebSocket(this.url),B=()=>{this.reconnectAttempt=0,this.reconnecting=!1,this.send({type:"hello",game:this.network.gameID,id:this.receivedID,secret:this.receivedSecret})},R=$=>{const U=new l("socket-error","unexpected websocket error",$);this.network._onSignalingError(U),P.readyState===WebSocket.CLOSED&&(this.reconnecting=!1,P.removeEventListener("open",B),P.removeEventListener("error",R),P.removeEventListener("message",x),P.removeEventListener("close",D),setTimeout(()=>{this.reconnect()},100))},x=$=>{this.handleSignalingMessage($.data).catch(U=>{})},D=()=>{if(!this.network.closing){const $=new l("socket-error","signaling socket closed");this.network._onSignalingError($)}P.removeEventListener("open",B),P.removeEventListener("error",R),P.removeEventListener("message",x),P.removeEventListener("close",D),setTimeout(()=>{this.reconnect()},100)};return P.addEventListener("open",B),P.addEventListener("error",R),P.addEventListener("message",x),P.addEventListener("close",D),P}reconnect(){if(!(this.reconnecting||this.network.closing)){if(this.close(),this.requests.forEach(P=>P.reject(new l("socket-error","signaling socket closed"))),this.requests.clear(),this.reconnectAttempt>42){this.network.emit("failed"),this.network._onSignalingError(new l("socket-error","giving up on reconnecting to signaling server"));return}this.event("signaling","attempt-reconnect"),this.reconnecting=!0,setTimeout(()=>{this.ws=this.connect()},Math.random()*100*this.reconnectAttempt),this.reconnectAttempt+=1}}close(){this.ws.close()}async request(P){return await new Promise((B,R)=>{if(this.ws.readyState!==WebSocket.OPEN){R(new l("socket-error","signaling socket not open"));return}const x=Math.random().toString(36).slice(2);P.rid=x,this.network.log("requesting signaling packet:",P.type);const D=JSON.stringify(P);this.ws.send(D),this.requests.set(x,{resolve:B,reject:R})})}send(P){if(this.ws.readyState===WebSocket.OPEN){this.network.log("sending signaling packet:",P.type);const B=JSON.stringify(P);this.ws.send(B)}}ping(){if(this.ws.readyState===WebSocket.OPEN){const P=JSON.stringify({type:"ping"});this.ws.send(P)}}async handleSignalingMessage(P){var B,R,x,D,$,U;try{const j=JSON.parse(P);if(this.network.log("signaling packet received:",j.type),j.rid!==void 0){const G=this.requests.get(j.rid);G!=null&&(this.requests.delete(j.rid),j.type==="error"?G.reject(new l("server-error",j.message,void 0,j.code)):G.resolve(j))}switch(j.type){case"error":{const G=new l("server-error",j.message,void 0,j.code);if(this.network._onSignalingError(G),j.code==="missing-recipient"&&((B=j.error)==null?void 0:B.recipient)!==void 0){const q=(R=j.error)==null?void 0:R.recipient;this.connections.has(q)&&(this.network.log("cleaning up missing recipient",q),(x=this.connections.get(q))==null||x.close("missing-recipient"))}else j.code==="reconnect-failed"&&this.network.close("reconnect failed")}break;case"welcome":if(this.receivedID!==void 0){this.network.log("signaling reconnected"),this.network.emit("signalingreconnected");return}if(j.id==="")throw new Error("missing id on received welcome packet");this.receivedID=j.id,this.receivedSecret=j.secret,this.network.emit("ready"),this.network._prefetchTURNCredentials();break;case"joined":{const G=j.lobbyInfo.code;if(G==="")throw new Error("missing lobby on received connect packet");this.currentLobby=G,this.currentLeader=j.lobbyInfo.leader,this.currentTerm=j.lobbyInfo.term,this.network.emit("lobby",G,j.lobbyInfo),this.currentLeader!==void 0&&this.network.emit("leader",this.currentLeader)}break;case"leader":if(this.currentLobby===void 0)return;j.term>this.currentTerm&&(this.currentLeader=j.leader,this.currentTerm=j.term,this.network.emit("leader",j.leader));break;case"lobbyUpdated":if(this.currentLobby===void 0)return;this.currentLobbyInfo=j.lobbyInfo,this.network.emit("lobbyUpdated",j.lobbyInfo.code,j.lobbyInfo);break;case"connect":if(this.receivedID===j.id)return;await this.network._addPeer(j.id,j.polite);for(const G of this.replayQueue.get(j.id)??[])await((D=this.connections.get(j.id))==null?void 0:D._onSignalingMessage(G));this.replayQueue.delete(j.id);break;case"disconnect":this.connections.has(j.id)&&(($=this.connections.get(j.id))==null||$.close());break;case"candidate":case"description":if(this.connections.has(j.source))await((U=this.connections.get(j.source))==null?void 0:U._onSignalingMessage(j));else{const G=this.replayQueue.get(j.source)??[];G.push(j),this.replayQueue.set(j.source,G)}break;case"credentials":this.emit("credentials",j);break;case"ping":break}}catch(j){const G=new l("unknown-error",j);this.network._onSignalingError(G)}}async event(P,B,R){return await new Promise(x=>{setTimeout(()=>{this.send({type:"event",game:this.network.gameID,lobby:this.currentLobby,peer:this.network.id,category:P,action:B,data:R}),x()},0)})}}class l{constructor(I,P,B,R){z(this,"type");z(this,"message");z(this,"event");z(this,"code");this.type=I,this.message=P,this.event=B,this.code=R}toString(){return`[${this.type}: ${this.message}]`}}const u=500,d=50,f="ping",m="pong";class g{constructor(I,P){z(this,"peer");z(this,"control");z(this,"window");z(this,"lastPingSentAt");z(this,"last");z(this,"average");z(this,"jitter");z(this,"max");z(this,"min");this.peer=I,this.control=P,this.window=[],this.lastPingSentAt=0,this.last=0,this.average=0,this.jitter=0,this.max=0,this.min=0,P!==void 0&&(this.ping(),P.addEventListener("message",B=>this.onMessage(B.data)))}ping(){var I,P;this.lastPingSentAt=performance.now(),((I=this.control)==null?void 0:I.readyState)==="open"&&((P=this.control)==null||P.send(f))}onMessage(I){var R,x;if(I===f){((R=this.control)==null?void 0:R.readyState)==="open"&&((x=this.control)==null||x.send(m));return}if(I!==m)return;const B=performance.now()-this.lastPingSentAt;this.window.unshift(B),this.window.length>d&&this.window.pop(),this.last=B,this.max=Math.max(...this.window),this.min=Math.min(...this.window),this.average=this.window.reduce((D,$)=>D+$,0)/this.window.length,this.window.length>1&&(this.jitter=this.window.slice(1).map((D,$)=>Math.abs(D-this.window[$])).reduce((D,$)=>D+$,0)/(this.window.length-1)),setTimeout(()=>this.ping(),Math.max(u-B,0))}}const v=1e3,y=8e3;class _{constructor(I,P,B,R,x){z(this,"network");z(this,"signaling");z(this,"id");z(this,"config");z(this,"polite");z(this,"conn");z(this,"makingOffer");z(this,"ignoreOffer");z(this,"isSettingRemoteAnswerPending");z(this,"opened");z(this,"closing");z(this,"reconnecting");z(this,"abortReconnectionAt");z(this,"allowNextManualRestartIceAt");z(this,"latency");z(this,"lastMessageReceivedAt");z(this,"politenessTimeout");z(this,"reportLatencyEventTimeout");z(this,"checkStateInterval");z(this,"channels");z(this,"testSessionWrapper");this.network=I,this.signaling=P,this.id=B,this.config=R,this.polite=x,this.makingOffer=!1,this.ignoreOffer=!1,this.isSettingRemoteAnswerPending=!1,this.opened=!1,this.closing=!1,this.reconnecting=!1,this.abortReconnectionAt=0,this.allowNextManualRestartIceAt=0,this.latency=new g(this),this.lastMessageReceivedAt=0,this.channels={},this.network.log("creating peer"),this.testSessionWrapper=void 0,this.conn=new RTCPeerConnection(R),R.testproxyURL===void 0?this.conn.addEventListener("icecandidate",$=>{const U=$.candidate;U!==null&&P.send({type:"candidate",source:this.network.id,recipient:this.id,candidate:U})}):this.testSessionWrapper=b,this.conn.addEventListener("negotiationneeded",()=>{this.politenessTimeout=setTimeout(()=>{(async()=>{var $;try{if(this.closing)return;this.makingOffer=!0,await this.conn.setLocalDescription();const U=this.conn.localDescription;U!=null&&(await(($=this.testSessionWrapper)==null?void 0:$.call(this,U,this.config,this.network.id,this.id)),this.signaling.send({type:"description",source:this.network.id,recipient:this.id,description:U}))}catch(U){const j=new l("unknown-error",U);this.network._onSignalingError(j)}finally{this.makingOffer=!1}})().catch($=>{})},this.polite?100:0)}),this.checkStateInterval=setInterval(()=>{this.checkState()},500),this.conn.addEventListener("signalingstatechange",()=>this.checkState()),this.conn.addEventListener("connectionstatechange",()=>this.checkState()),this.conn.addEventListener("iceconnectionstatechange",()=>this.checkState()),this.network.emit("connecting",this);let D=0;for(const $ in this.network.dataChannels){const U=this.conn.createDataChannel($,{...this.network.dataChannels[$],id:D++,negotiated:!0});U.binaryType="arraybuffer",U.addEventListener("error",j=>this.onError(j)),U.addEventListener("closing",()=>this.checkState()),U.addEventListener("close",()=>this.checkState()),U.addEventListener("open",()=>{!this.opened&&!Object.values(this.channels).some(j=>j.readyState!=="open")&&("control"in this.channels&&(this.latency=new g(this,this.channels.control)),this.politenessTimeout!==void 0&&clearTimeout(this.politenessTimeout),this.signaling.send({type:"connected",id:this.id}),this.opened=!0,this.network.emit("connected",this),this.signaling.event("rtc","connected",{target:this.id}),this.reportLatencyEventTimeout=setTimeout(()=>{this.signaling.event("rtc","avg-latency-at-10s",{target:this.id,latency:`${this.latency.average}`})},1e4))}),U.addEventListener("message",j=>{this.lastMessageReceivedAt=performance.now(),$!=="control"&&this.network.emit("message",this,$,j.data)}),this.channels[$]=U}}close(I){this.closing||(this.closing=!0,this.signaling.send({type:"disconnected",id:this.id,reason:I??"normal closure"}),Object.values(this.channels).forEach(P=>P.close()),this.conn.close(),this.network._removePeer(this),this.checkStateInterval!=null&&clearInterval(this.checkStateInterval),this.reportLatencyEventTimeout!=null&&clearTimeout(this.reportLatencyEventTimeout),this.opened&&(this.network.emit("disconnected",this),this.signaling.event("rtc","disconnected",{target:this.id,reason:I??"",reconnecting:this.reconnecting?"true":"false"})))}checkState(){const I=performance.now(),P=this.conn.connectionState??this.conn.iceConnectionState;if(!this.closing){if(!this.opened){P==="failed"&&this.close("connecting failed");return}if(Object.values(this.channels).some(B=>B.readyState!=="open")&&this.close("data channel closed"),!this.reconnecting&&(P==="disconnected"||P==="failed")?(this.reconnecting=!0,this.abortReconnectionAt=I+y,this.network.emit("reconnecting",this),this.signaling.event("rtc","attempt-reconnect",{target:this.id})):this.reconnecting&&P==="connected"?(this.reconnecting=!1,this.network.emit("reconnected",this),this.signaling.event("rtc","attempt-reconnected",{target:this.id})):this.reconnecting&&I>this.abortReconnectionAt&&this.close("reconnection timed out"),!this.reconnecting&&"control"in this.channels){const B=this.lastMessageReceivedAt;B!==0&&I-B>v&&I>this.allowNextManualRestartIceAt&&(this.allowNextManualRestartIceAt=I+1e4,this.conn.restartIce())}}}onError(I){this.network.emit("rtcerror",I),this.network.listenerCount("rtcerror")===0&&console.error("rtcerror not handled:",I),this.checkState(),this.signaling.event("rtc","error",{target:this.id,error:JSON.stringify(I)})}async _onSignalingMessage(I){var P;switch(I.type){case"candidate":if(I.candidate!=null)try{await this.conn.addIceCandidate(I.candidate)}catch(B){if(!this.ignoreOffer)throw B}break;case"description":{const{description:B}=I,R=!this.makingOffer&&(this.conn.signalingState==="stable"||this.isSettingRemoteAnswerPending),x=B.type==="offer"&&!R;if(this.ignoreOffer=!this.polite&&x,this.ignoreOffer)return;if(this.isSettingRemoteAnswerPending=B.type==="answer",await this.conn.setRemoteDescription(B),this.isSettingRemoteAnswerPending=!1,B.type==="offer"){await this.conn.setLocalDescription();const D=this.conn.localDescription;D!=null&&(await((P=this.testSessionWrapper)==null?void 0:P.call(this,D,this.config,this.network.id,this.id)),this.signaling.send({type:"description",source:this.network.id,recipient:this.id,description:D}))}}break}}send(I,P){if(!(I in this.channels))throw new Error("unknown channel "+I);const B=this.channels[I];B.readyState==="open"&&B.send(P)}toString(){return`[Peer: ${this.id}]`}}async function b(T,I,P,B){var x;if(I.testproxyURL===void 0)return;let R=T.sdp.split(`\r
`);R=R.filter(D=>!D.startsWith("a=candidate")||D.includes("127.0.0.1")&&D.includes("udp"));for(let D=0;D<R.length;D++){const $=R[D];if($.startsWith("a=candidate")&&$.includes("127.0.0.1")){const U=(x=$.split("127.0.0.1 ").pop())==null?void 0:x.split(" ")[0];if(U!=null){const G=await(await fetch(`${I.testproxyURL}/create?id=${P+B}&port=${U}`)).text();R[D]=$.replaceAll(` ${U} `,` ${G} `)}}}T.sdp=R.join(`\r
`)}class E extends t.EventEmitter{constructor(P,B=C,R=A){super();z(this,"gameID");z(this,"rtcConfig");z(this,"_closing");z(this,"peers");z(this,"signaling");z(this,"credentials");z(this,"dataChannels");z(this,"log");z(this,"unloadListener");this.gameID=P,this.rtcConfig=B,this._closing=!1,this.dataChannels=M,this.log=(...x)=>{},this.peers=new Map,this.signaling=new a(this,this.peers,R),this.credentials=new i(this.signaling),this.unloadListener=()=>this.close(),typeof window<"u"&&window.addEventListener("unload",this.unloadListener)}async list(P){if(this._closing||this.signaling.receivedID===void 0)return[];const B=P!=null?JSON.stringify(P):void 0,R=await this.signaling.request({type:"list",filter:B});return R.type==="lobbies"?R.lobbies:[]}async create(P){if(this._closing||this.signaling.receivedID===void 0)return"";const B=await this.signaling.request({type:"create",...P});return B.type==="joined"?B.lobbyInfo.code:""}async join(P,B){if(this._closing||this.signaling.receivedID===void 0)return;const R=await this.signaling.request({type:"join",lobby:P,password:B});if(R.type==="joined")return R.lobbyInfo}async setLobbySettings(P){return this._closing||this.signaling.receivedID===void 0?new Error("network is closing or not connected"):(await this.signaling.request({type:"lobbyUpdate",...P}),!0)}close(P){this._closing||this.signaling.receivedID===void 0||(this._closing=!0,this.emit("close",P),this.id!==""&&this.signaling.send({type:"close",id:this.id,reason:P??"normal closure"}),this.peers.forEach(B=>B.close(P)),this.signaling.close(),typeof window<"u"&&window.removeEventListener("unload",this.unloadListener))}send(P,B,R){var x;if(!(P in this.dataChannels))throw new Error("unknown channel "+P);this.peers.has(B)&&((x=this.peers.get(B))==null||x.send(P,R))}broadcast(P,B){if(!(P in this.dataChannels))throw new Error("unknown channel "+P);this.peers.forEach(R=>R.send(P,B))}async _addPeer(P,B){var D;const R=await this.credentials.fillCredentials(this.rtcConfig);R.iceServers=(D=R.iceServers)==null?void 0:D.filter($=>!($.urls.includes("turn:")&&$.username===void 0));const x=new _(this,this.signaling,P,R,B);this.peers.set(P,x)}_removePeer(P){return this.peers.delete(P.id)}_prefetchTURNCredentials(){this.credentials.fillCredentials(this.rtcConfig).catch(()=>{})}_onSignalingError(P){this.emit("signalingerror",P),this.listenerCount("signalingerror")===0&&console.error("signallingerror not handled:",P),this.signaling.event("signaling","error",{error:JSON.stringify(P)})}_forceReconnectSignaling(){this.signaling.close()}get id(){return this.signaling.receivedID??""}get closing(){return this._closing}get size(){return this.peers.size}get currentLobby(){return this.signaling.currentLobby}get currentLobbyInfo(){return this.signaling.currentLobbyInfo}get currentLeader(){return this.signaling.currentLeader}}const A="wss://netlib.poki.io/v0/signaling",C={iceServers:[{urls:["stun:stun.l.google.com:19302"]},{urls:o}]},M={reliable:{ordered:!0},unreliable:{ordered:!0,maxRetransmits:0},control:{ordered:!1}}}(CC)),CC.exports}var QY=qY(),HY=c8();const WY=to(HY);var Un=(e=>(e.Disconnected="disconnected",e.Connecting="connecting",e.Connected="connected",e.Reconnecting="reconnecting",e.Reconnected="reconnected",e.Error="error",e.Failed="failed",e.Closed="closed",e))(Un||{});const EC=cu.getLogger("PEER-FOCUS-CONTROLLER");class JY{constructor(){z(this,"pauseReceived$",new Po(!1));z(this,"pause$",this.pauseReceived$.pipe(Oi(),sm()));z(this,"lastVisibility",!0);z(this,"visibilityChangeHandler",()=>{this.lastVisibility!==(document.visibilityState!=="visible")&&(EC.info("visibilityChangeHandler",document.visibilityState),this.lastVisibility=document.visibilityState!=="visible",this.pauseReceived$.next(this.lastVisibility))});z(this,"blurTimeout",null);z(this,"onBlur",()=>{EC.info("onBlur"),this.blurTimeout&&clearTimeout(this.blurTimeout),this.blurTimeout=setTimeout(()=>{var t;((t=document.activeElement)==null?void 0:t.tagName)!=="IFRAME"&&(this.lastVisibility=!0,this.pauseReceived$.next(this.lastVisibility))},100)});z(this,"onFocus",()=>{EC.info("onFocus"),this.lastVisibility=!1,this.pauseReceived$.next(this.lastVisibility)});document.addEventListener("visibilitychange",this.visibilityChangeHandler),/Android|iPhone/i.test(navigator.userAgent)&&(window.addEventListener("focus",this.onFocus),window.addEventListener("blur",this.onBlur))}get isPaused(){return this.pauseReceived$.value}async waitForFocus(){if(this.isPaused)return new Promise(t=>{const n=this.pause$.subscribe(r=>{r||(t(),n.unsubscribe())})})}}const tm=class tm extends QY.Network{static set host(t){tm._host=t}constructor(t){super(t,void 0,tm._host)}async asyncClose(t){await new Promise(n=>{this.once("close",n),this.close(t)})}};z(tm,"_host","wss://netlib.poki.io/v0/signaling");let dy=tm;var ZY=(e=>(e.SignalingError="signalingerror",e.RtcError="rtcerror",e.Failed="failed",e.LobbyExpired="lobbyexpired",e.LobbyFull="lobbyfull",e))(ZY||{});const YY={"lobby-not-found":"lobbyexpired","lobby-is-full":"lobbyfull"},KY=e=>e.type==="signalingerror"&&e.error.code?YY[e.error.code]:e.type;var ea=(e=>(e.Connected="connected",e.Disconnected="disconnected",e.Ready="ready",e.Close="close",e.PassiveAnswerDisabled="passive-answer-disabled",e))(ea||{});const XY=cu.getLogger("PEER-MANAGER");class eK{constructor(t){z(this,"logger",XY);z(this,"network",null);z(this,"events");z(this,"nodes");z(this,"initialize$");z(this,"lobby$");z(this,"ping$");z(this,"focusController",new JY);z(this,"openLobbies$");z(this,"lobbyCreate$");z(this,"error$");z(this,"statusReceiver$");z(this,"status$");z(this,"_lobbiesFilter",{$and:[{playerCount:{$eq:"1"}},{activeSearch:{$eq:"true"}}]});z(this,"options");z(this,"initializePromise",null);this.options=t,this.events=new WY,this.nodes=[...t.nodes??[]],this.ping$=new Po(0),this.initialize$=new Po(!1),this.lobby$=new Po(null),this.statusReceiver$=new Po(Un.Closed),this.error$=new xi,this.lobbyCreate$=new xi,this.openLobbies$=zQ(()=>UQ(2e3).pipe(ta(()=>!this.focusController.isPaused),qQ(()=>{try{return this.getLobbies(this.lobbiesFilter)}catch(n){return this.logger.error("openLobbies$ switchMap",n),Promise.resolve([])}}),uo(n=>n.filter(r=>r.leader===r.creator)),md(n=>{this.logger.info("openLobbies$",n)}))).pipe(sm()),this.lobbyCreate$.pipe(_9(300),Oi(),ey(n=>this.createLobby(n.payload,n.public))).subscribe(),this.lobby$.pipe(md(n=>{this.logger.info("  ",n)}),Oi(),ta(n=>n!==null),uo(n=>(n.leader!==n.creator&&n.playerCount===1&&this.leaveLobby("empty-lobby"),n))).subscribe(),this.status$=this.statusReceiver$.pipe(Oi(),md(n=>{this.logger.info("  ",n),this.nodes.forEach(r=>r.status$.next(n))}),sm()),this.status$.subscribe()}get status(){return this.statusReceiver$.value}get ping(){return this.ping$.value}get lobbyId(){var t;return((t=this.lobby$.value)==null?void 0:t.code)??null}get lobbiesFilter(){return this._lobbiesFilter}set lobbiesFilter(t){this._lobbiesFilter=t}get initialized(){return this.network!==null}get isLobbyCreator(){var t,n;return((t=this.lobby$.value)==null?void 0:t.creator)===((n=this.network)==null?void 0:n.id)}async initialize(){if(this.initializePromise)return this.initializePromise;if(this.network!==null)return;this.logger.info("initialize"),this.initialize$.next(!0),this.resetAllEventLimits();const t=new dy(this.options.gameId);this.network=t,this.nodes.forEach(o=>o.initialize(t));const n=o=>i=>{this.logger.error(o,i),this.error$.next({type:o,error:i}),o==="failed"?this.statusReceiver$.next(Un.Failed):this.statusReceiver$.next(Un.Error)};this.network.on("signalingerror",n("signalingerror")),this.network.on("rtcerror",n("rtcerror")),this.network.on("failed",n("failed")),this.network.on("connecting",o=>{this.statusReceiver$.next(Un.Connecting)}),this.network.on("reconnecting",o=>{this.statusReceiver$.next(Un.Reconnecting)}),this.network.on("reconnected",o=>{this.statusReceiver$.next(Un.Reconnected)}),this.network.on("signalingreconnected",()=>{this.logger.info("Signaling reconnected")}),this.network.on("lobbyUpdated",(o,i)=>{this.logger.info("Lobby updated",i)}),this.network.on("lobby",(o,i)=>this.lobby$.next(i)),this.network.on("message",(o,i)=>{i==="reliable"&&this.ping$.next(o.latency.average)}),this.network.on("connected",o=>{this.logger.info("Connected to the network",o.id),this.events.emit("connected",o.id),this.resetAllEventLimits(),this.ping$.next(o.latency.average),this.statusReceiver$.next(Un.Connected)}),this.network.on("disconnected",o=>{this.logger.info("Disconnected from the network",o.id,this.lobbyId);const i=o&&typeof o=="object"&&"id"in o?o.id:"unknown";this.events.emit("disconnected",i),this.statusReceiver$.next(Un.Disconnected)}),this.network.on("close",o=>{this.logger.info("Network closed",o||"unknown reason"),o!=="change-lobby"&&this.events.emit("close",o),o==="empty-lobby"&&this.error$.next({type:"lobbyexpired"}),this.lobby$.next(null),this.statusReceiver$.next(Un.Closed)}),this.initializePromise=new Promise(o=>{this.network.on("ready",()=>{this.logger.info("Network ready"),o()})});const r=await this.initializePromise;return this.initializePromise=null,this.initialize$.next(!1),r}async reinitialize(t){this.network!==null&&(await this.dispose({eventsClear:!1,reason:t,waitClear:!0}),await this.initialize())}async dispose(t){if(this.network===null)return;this.logger.info("dispose");const n=this.network.asyncClose(t==null?void 0:t.reason);return t!=null&&t.waitClear&&await n,this.network.removeAllListeners(),t!=null&&t.eventsClear&&this.events.removeAllListeners(),this.lobby$.next(null),this.initialize$.next(!1),this.initializePromise=null,this.nodes.forEach(r=>r.dispose()),this.network=null,n}async createLobby(t,n=!1){if(!this.network)throw new Error("Network  ");if(this.logger.info("createLobby",n),this.lobbyId!==null)if(this.network.currentLeader===this.network.id){this.logger.info("createLobby","  , ");const r=await this.network.setLobbySettings({...this.network.currentLobbyInfo??{},public:n,maxPlayers:2,customData:t});r?this.logger.info("createLobby"," ",r):this.logger.error("createLobby",new Error("   "),r);return}else this.logger.info("createLobby","  ,    , ",this.lobbyId),this.leaveLobby();await this.network.create({public:n,canUpdateBy:"leader",maxPlayers:2,customData:t})}async joinLobby(t){try{if(!this.network)throw new Error("Network  ");if(this.logger.info("joinLobby",t),this.lobbyId===t)return!1;if(this.lobbyId!==null&&await this.leaveLobby("change-lobby"),await this.focusController.waitForFocus(),!this.network)throw new Error("Network  ");return this.network.join(t),!0}catch(n){return this.logger.error("joinLobby",n),!1}}async leaveLobby(t="leave"){this.network&&this.lobbyId!==null&&(this.logger.info("leaveLobby",t),await this.reinitialize(t),this.logger.info("leaveLobby"," ",t))}async getLobbies(t={}){if(!this.network)throw new Error("Network  ");return this.network.list(t)}on(t,n){return this.events.on(t,n),this}off(t,n){return this.events.off(t,n),this}resetEventLimiter(t){this.nodes.forEach(n=>n.resetLimits(t))}resetAllEventLimits(){this.nodes.forEach(t=>t.resetAllLimits())}}class u8 extends eK{constructor(){super(...arguments);z(this,"eventListenersActive",!1);z(this,"validation$",uy.getInstance().validation$)}}Al.HOST="https://user-service.myhd.info";window.PeerClient=u8;class tK{constructor(){z(this,"length",0);z(this,"store");this.store={}}clear(){this.store={}}getItem(t){return this.store[t]||null}key(t){return this.store[Object.keys(this.store)[t]]||null}setItem(t,n){this.store[t]=String(n)}removeItem(t){delete this.store[t]}}window.localStorage||(window.localStorage=new tK);const d8=document.getElementById("root");d8.oncontextmenu=rY;const nK=AV.createRoot(d8);var BC={exports:{}},RC={},xC={exports:{}},OC={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HL;function rK(){if(HL)return OC;HL=1;var e=$d();function t(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,o=e.useEffect,i=e.useLayoutEffect,a=e.useDebugValue;function l(m,g){var v=g(),y=r({inst:{value:v,getSnapshot:g}}),_=y[0].inst,b=y[1];return i(function(){_.value=v,_.getSnapshot=g,u(_)&&b({inst:_})},[m,v,g]),o(function(){return u(_)&&b({inst:_}),m(function(){u(_)&&b({inst:_})})},[m]),a(v),v}function u(m){var g=m.getSnapshot;m=m.value;try{var v=g();return!n(m,v)}catch{return!0}}function d(m,g){return g()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return OC.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,OC}var WL;function oK(){return WL||(WL=1,xC.exports=rK()),xC.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JL;function iK(){if(JL)return RC;JL=1;var e=$d(),t=oK();function n(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:n,o=t.useSyncExternalStore,i=e.useRef,a=e.useEffect,l=e.useMemo,u=e.useDebugValue;return RC.useSyncExternalStoreWithSelector=function(d,f,m,g,v){var y=i(null);if(y.current===null){var _={hasValue:!1,value:null};y.current=_}else _=y.current;y=l(function(){function E(I){if(!A){if(A=!0,C=I,I=g(I),v!==void 0&&_.hasValue){var P=_.value;if(v(P,I))return M=P}return M=I}if(P=M,r(C,I))return P;var B=g(I);return v!==void 0&&v(P,B)?(C=I,P):(C=I,M=B)}var A=!1,C,M,T=m===void 0?null:m;return[function(){return E(f())},T===null?void 0:function(){return E(T())}]},[f,m,g,v]);var b=o(d,y[0],y[1]);return a(function(){_.hasValue=!0,_.value=b},[b]),u(b),b},RC}var ZL;function aK(){return ZL||(ZL=1,BC.exports=iK()),BC.exports}var sK=aK(),O=$d();const fe=to(O),f8=gV({__proto__:null,default:fe},[O]);function um(e){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},um(e)}function lK(e,t){if(um(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(um(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cK(e){var t=lK(e,"string");return um(t)=="symbol"?t:t+""}function uK(e,t,n){return(t=cK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Ko(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YL(Object(n),!0).forEach(function(r){uK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bo(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var dK=typeof Symbol=="function"&&Symbol.observable||"@@observable",KL=dK,XL=()=>Math.random().toString(36).substring(7).split("").join("."),fK={INIT:`@@redux/INIT${XL()}`,REPLACE:`@@redux/REPLACE${XL()}`},e5=fK;function hK(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function h8(e,t,n){if(typeof e!="function")throw new Error(Bo(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Bo(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Bo(1));return n(h8)(e,t)}let r=e,o=t,i=new Map,a=i,l=0,u=!1;function d(){a===i&&(a=new Map,i.forEach((b,E)=>{a.set(E,b)}))}function f(){if(u)throw new Error(Bo(3));return o}function m(b){if(typeof b!="function")throw new Error(Bo(4));if(u)throw new Error(Bo(5));let E=!0;d();const A=l++;return a.set(A,b),function(){if(E){if(u)throw new Error(Bo(6));E=!1,d(),a.delete(A),i=null}}}function g(b){if(!hK(b))throw new Error(Bo(7));if(typeof b.type>"u")throw new Error(Bo(8));if(typeof b.type!="string")throw new Error(Bo(17));if(u)throw new Error(Bo(9));try{u=!0,o=r(o,b)}finally{u=!1}return(i=a).forEach(A=>{A()}),b}function v(b){if(typeof b!="function")throw new Error(Bo(10));r=b,g({type:e5.REPLACE})}function y(){const b=m;return{subscribe(E){if(typeof E!="object"||E===null)throw new Error(Bo(11));function A(){const M=E;M.next&&M.next(f())}return A(),{unsubscribe:b(A)}},[KL](){return this}}}return g({type:e5.INIT}),{dispatch:g,subscribe:m,getState:f,replaceReducer:v,[KL]:y}}function mK(e,t,n){return h8(e,t,n)}function m8(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function gK(...e){return t=>(n,r)=>{const o=t(n,r);let i=()=>{throw new Error(Bo(15))};const a={getState:o.getState,dispatch:(u,...d)=>i(u,...d)},l=e.map(u=>u(a));return i=m8(...l)(o.dispatch),{...o,dispatch:i}}}function pK(e){return({dispatch:n,getState:r})=>o=>i=>typeof i=="function"?i(n,r,e):o(i)}var vK=pK();function Bi(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(o){return"'"+o+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Ts(e){return!!e&&!!e[jo]}function Qc(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var o=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return o===Object||typeof o=="function"&&Function.toString.call(o)===EK}(e)||Array.isArray(e)||!!e[l5]||!!(!((t=e.constructor)===null||t===void 0)&&t[l5])||I2(e)||L2(e))}function yK(e){return Ts(e)||Bi(23,e),e[jo].t}function dm(e,t,n){n===void 0&&(n=!1),Wd(e)===0?(n?Object.keys:j2)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,o){return t(o,r,e)})}function Wd(e){var t=e[jo];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:I2(e)?2:L2(e)?3:0}function EE(e,t){return Wd(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function _K(e,t){return Wd(e)===2?e.get(t):e[t]}function g8(e,t,n){var r=Wd(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function bK(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function I2(e){return CK&&e instanceof Map}function L2(e){return kK&&e instanceof Set}function bc(e){return e.o||e.t}function D2(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=BK(e);delete t[jo];for(var n=j2(t),r=0;r<n.length;r++){var o=n[r],i=t[o];i.writable===!1&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function N2(e,t){return t===void 0&&(t=!1),F2(e)||Ts(e)||!Qc(e)||(Wd(e)>1&&(e.set=e.add=e.clear=e.delete=wK),Object.freeze(e),t&&dm(e,function(n,r){return N2(r,!0)},!0)),e}function wK(){Bi(2)}function F2(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Va(e){var t=RK[e];return t||Bi(18,e),t}function t5(){return fm}function MC(e,t){t&&(Va("Patches"),e.u=[],e.s=[],e.v=t)}function fy(e){BE(e),e.p.forEach(SK),e.p=null}function BE(e){e===fm&&(fm=e.l)}function n5(e){return fm={p:[],l:fm,h:e,m:!0,_:0}}function SK(e){var t=e[jo];t.i===0||t.i===1?t.j():t.g=!0}function PC(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.O||Va("ES5").S(t,e,r),r?(n[jo].P&&(fy(t),Bi(4)),Qc(e)&&(e=hy(t,e),t.l||my(t,e)),t.u&&Va("Patches").M(n[jo].t,e,t.u,t.s)):e=hy(t,n,[]),fy(t),t.u&&t.v(t.u,t.s),e!==p8?e:void 0}function hy(e,t,n){if(F2(t))return t;var r=t[jo];if(!r)return dm(t,function(l,u){return r5(e,r,t,l,u,n)},!0),t;if(r.A!==e)return t;if(!r.P)return my(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=r.i===4||r.i===5?r.o=D2(r.k):r.o,i=o,a=!1;r.i===3&&(i=new Set(o),o.clear(),a=!0),dm(i,function(l,u){return r5(e,r,o,l,u,n,a)}),my(e,o,!1),n&&e.u&&Va("Patches").N(r,n,e.u,e.s)}return r.o}function r5(e,t,n,r,o,i,a){if(Ts(o)){var l=hy(e,o,i&&t&&t.i!==3&&!EE(t.R,r)?i.concat(r):void 0);if(g8(n,r,l),!Ts(l))return;e.m=!1}else a&&n.add(o);if(Qc(o)&&!F2(o)){if(!e.h.D&&e._<1)return;hy(e,o),t&&t.A.l||my(e,o)}}function my(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&N2(t,n)}function TC(e,t){var n=e[jo];return(n?bc(n):e)[t]}function o5(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function RE(e){e.P||(e.P=!0,e.l&&RE(e.l))}function IC(e){e.o||(e.o=D2(e.t))}function xE(e,t,n){var r=I2(t)?Va("MapSet").F(t,n):L2(t)?Va("MapSet").T(t,n):e.O?function(o,i){var a=Array.isArray(o),l={i:a?1:0,A:i?i.A:t5(),P:!1,I:!1,R:{},l:i,t:o,k:null,o:null,j:null,C:!1},u=l,d=OE;a&&(u=[l],d=Eh);var f=Proxy.revocable(u,d),m=f.revoke,g=f.proxy;return l.k=g,l.j=m,g}(t,n):Va("ES5").J(t,n);return(n?n.A:t5()).p.push(r),r}function AK(e){return Ts(e)||Bi(22,e),function t(n){if(!Qc(n))return n;var r,o=n[jo],i=Wd(n);if(o){if(!o.P&&(o.i<4||!Va("ES5").K(o)))return o.t;o.I=!0,r=i5(n,i),o.I=!1}else r=i5(n,i);return dm(r,function(a,l){o&&_K(o.t,a)===l||g8(r,a,t(l))}),i===3?new Set(r):r}(e)}function i5(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return D2(e)}var a5,fm,G2=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",CK=typeof Map<"u",kK=typeof Set<"u",s5=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",p8=G2?Symbol.for("immer-nothing"):((a5={})["immer-nothing"]=!0,a5),l5=G2?Symbol.for("immer-draftable"):"__$immer_draftable",jo=G2?Symbol.for("immer-state"):"__$immer_state",EK=""+Object.prototype.constructor,j2=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,BK=Object.getOwnPropertyDescriptors||function(e){var t={};return j2(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},RK={},OE={get:function(e,t){if(t===jo)return e;var n=bc(e);if(!EE(n,t))return function(o,i,a){var l,u=o5(i,a);return u?"value"in u?u.value:(l=u.get)===null||l===void 0?void 0:l.call(o.k):void 0}(e,n,t);var r=n[t];return e.I||!Qc(r)?r:r===TC(e.t,t)?(IC(e),e.o[t]=xE(e.A.h,r,e)):r},has:function(e,t){return t in bc(e)},ownKeys:function(e){return Reflect.ownKeys(bc(e))},set:function(e,t,n){var r=o5(bc(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var o=TC(bc(e),t),i=o==null?void 0:o[jo];if(i&&i.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(bK(n,o)&&(n!==void 0||EE(e.t,t)))return!0;IC(e),RE(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return TC(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,IC(e),RE(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=bc(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){Bi(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Bi(12)}},Eh={};dm(OE,function(e,t){Eh[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Eh.deleteProperty=function(e,t){return Eh.set.call(this,e,t,void 0)},Eh.set=function(e,t,n){return OE.set.call(this,e[0],t,n,e[0])};var v8=function(){function e(n){var r=this;this.O=s5,this.D=!0,this.produce=function(o,i,a){if(typeof o=="function"&&typeof i!="function"){var l=i;i=o;var u=r;return function(_){var b=this;_===void 0&&(_=l);for(var E=arguments.length,A=Array(E>1?E-1:0),C=1;C<E;C++)A[C-1]=arguments[C];return u.produce(_,function(M){var T;return(T=i).call.apply(T,[b,M].concat(A))})}}var d;if(typeof i!="function"&&Bi(6),a!==void 0&&typeof a!="function"&&Bi(7),Qc(o)){var f=n5(r),m=xE(r,o,void 0),g=!0;try{d=i(m),g=!1}finally{g?fy(f):BE(f)}return typeof Promise<"u"&&d instanceof Promise?d.then(function(_){return MC(f,a),PC(_,f)},function(_){throw fy(f),_}):(MC(f,a),PC(d,f))}if(!o||typeof o!="object"){if((d=i(o))===void 0&&(d=o),d===p8&&(d=void 0),r.D&&N2(d,!0),a){var v=[],y=[];Va("Patches").M(o,d,v,y),a(v,y)}return d}Bi(21,o)},this.produceWithPatches=function(o,i){if(typeof o=="function")return function(d){for(var f=arguments.length,m=Array(f>1?f-1:0),g=1;g<f;g++)m[g-1]=arguments[g];return r.produceWithPatches(d,function(v){return o.apply(void 0,[v].concat(m))})};var a,l,u=r.produce(o,i,function(d,f){a=d,l=f});return typeof Promise<"u"&&u instanceof Promise?u.then(function(d){return[d,a,l]}):[u,a,l]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){Qc(n)||Bi(8),Ts(n)&&(n=AK(n));var r=n5(this),o=xE(this,n,void 0);return o[jo].C=!0,BE(r),o},t.finishDraft=function(n,r){var o=n&&n[jo],i=o.A;return MC(i,r),PC(void 0,i)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!s5&&Bi(20),this.O=n},t.applyPatches=function(n,r){var o;for(o=r.length-1;o>=0;o--){var i=r[o];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}o>-1&&(r=r.slice(o+1));var a=Va("Patches").$;return Ts(n)?a(n,r):this.produce(n,function(l){return a(l,r)})},e}(),ai=new v8,y8=ai.produce;ai.produceWithPatches.bind(ai);var c5=ai.setAutoFreeze.bind(ai);ai.setUseProxies.bind(ai);ai.applyPatches.bind(ai);ai.createDraft.bind(ai);ai.finishDraft.bind(ai);var LC,u5;function xK(){return u5||(u5=1,LC=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,o,i;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(o=r;o--!==0;)if(!e(t[o],n[o]))return!1;return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(o of t.entries())if(!n.has(o[0]))return!1;for(o of t.entries())if(!e(o[1],n.get(o[0])))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(o of t.entries())if(!n.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if(r=t.length,r!=n.length)return!1;for(o=r;o--!==0;)if(t[o]!==n[o])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(i=Object.keys(t),r=i.length,r!==Object.keys(n).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[o]))return!1;for(o=r;o--!==0;){var a=i[o];if(!e(t[a],n[a]))return!1}return!0}return t!==t&&n!==n}),LC}var OK=xK();const MK=to(OK);var Jd=O.createContext(),PK=function(){throw new Error("uSES not initialized!")},_8=PK,TK=function(t){_8=t},IK=function(t,n){return t===n};function LK(e){return function(n,r){r===void 0&&(r=IK);var o=O.useContext(e),i=_8(o.subscribe,o.getState,o.getState,n,r);return O.useDebugValue(i),i}}var DK=LK(Jd);function NK(e){return function(n){var r=O.useContext(e);return n(r.getActions())}}var FK=NK(Jd);function GK(e){return function(){var n=O.useContext(e);return n.dispatch}}var jK=GK(Jd);function $K(){return O.useContext(Jd)}function zK(e){return function(){var n=O.useContext(e),r=O.useState(!1),o=r[0],i=r[1];return O.useEffect(function(){n.persist.resolveRehydration().then(function(){return i(!0)})},[]),o}}var UK=zK(Jd);function b8(){return{useStoreActions:FK,useStoreDispatch:jK,useStoreState:DK,useStoreRehydrated:UK,useStore:$K}}var ME="$_a",PE="$_aO",TE="$_c",w8="$_e",S8="$_p",VK="$_r",gy="$_tO",IE="$_t",ue=function(t,n){var r;return r={},r[ME]=!0,r.fn=t,r.config=n,r},qK=[function(e){return e}],ze=function(t,n){var r;if(typeof n=="function"){var o;return o={},o[TE]=!0,o.fn=n,o.stateResolvers=t,o}return r={},r[TE]=!0,r.fn=t,r.stateResolvers=qK,r};function QK(e,t){var n;return n={},n[w8]=!0,n.dependencyResolvers=e,n.fn=t,n}var ev=function(t,n){var r;return typeof window>"u"?t:Ko(Ko({},t),{},(r={},r[S8]=n,r))},Hc=function(t,n){var r;return r={},r[gy]=!0,r.fn=n,r.targetResolver=t,r},Wr=function(t){var n;return n={},n[IE]=!0,n.fn=t,n},fc;function sg(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function py(e){function t(n){var r=Object.keys(n).reduce(function(o,i){return Object.getOwnPropertyDescriptor(n,i).get==null&&(o[i]=n[i]),o},{});return Object.keys(r).forEach(function(o){sg(r[o])&&(r[o]=t(r[o]))}),r}return t(e)}function Wc(e){return e!=null&&typeof e=="object"&&typeof e.then=="function"}function Pr(e,t){return e.reduce(function(n,r){return sg(n)?n[r]:void 0},t)}function A8(e,t,n){if(e.length===0)return n;var r=Ko({},t),o=e[0];return e.length===1?r[o]=n:r[o]=A8(e.slice(1),r[o],n),r}function yl(e,t,n){if(e.length===0){typeof n=="object"&&(Object.keys(t).forEach(function(r){delete t[r]}),Object.keys(n).forEach(function(r){t[r]=n[r]}));return}e.reduce(function(r,o,i){return i+1===e.length?r[o]=n:r[o]=r[o]||{},r[o]},t)}function HK(e){return e===void 0&&(e=!1),function(n,r,o,i){if(i&&"immer"in i?(i==null?void 0:i.immer)===!1:e){var a=Pr(n,r),l=o(a);return a!==l?A8(n,r,l):r}if(fc||(fc=new v8({useProxies:typeof Proxy<"u"&&typeof Proxy.revocable<"u"&&typeof Reflect<"u",autoFreeze:!1})),n.length===0){var u=fc.createDraft(r),d=o(u);return d?Ts(d)?fc.finishDraft(d):d:fc.finishDraft(u)}var f=n.slice(0,n.length-1),m=fc.createDraft(r),g=Pr(f,r),v=Pr(n,m),y=o(v);return y&&(g[n[n.length-1]]=y),fc.finishDraft(m)}}var WK=function(t,n,r){return new Promise(function(o,i){var a=t[Symbol.iterator](),l=0,u=function d(f){var m=a.next();if(m.done){o(f);return}Promise.all([f,m.value]).then(function(g){return d(n(g[0],g[1],l++))}).catch(function(g){return i(g)})};u(r)})},$2=function(t){var n=[];return WK(t,function(r,o){return o().then(function(i){n.push(i)})}).then(function(){return n})};function JK(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n+=1)if(e[n]!==t[n])return!1;return!0}var d5=function(t,n){console.log("Error in "+t),console.log(n)},$h=function(t,n){return function(){try{var r=n.apply(void 0,arguments);Wc(r)&&r.catch(function(o){d5(t,o)})}catch(o){d5(t,o)}}};function ZK(e,t,n,r){var o=HK(e),i=function(f,m,g,v,y){return o(v,f,function(_){return g(_,m.payload)},y)},a=function(f,m){var g=t[m.type];return g?i(f,m,g,g.def.meta.parent,g.def.config):f},l=function(f,m){return n.reduce(function(g,v){var y=v.parentPath,_=v.key,b=v.reducer,E=v.config;return o(y,g,function(A){return A[_]=b(Ts(A[_])?yK(A[_]):A[_],m),A},E)},f)},u=function(f,m){var g=a(f,m),v=n.length>0?l(g,m):g;return f!==v&&r.forEach(function(y){var _=y.parentPath,b=y.bindComputedProperty,E=Pr(_,v);E!=null&&b(E,v)}),v};return u}var YK=function(t,n){var r;c5(!1);var o=(r=t._migrationVersion)!=null?r:0,i=n.migrationVersion;if(typeof o!="number"||typeof i!="number")throw new Error("No migration version found");for(;o<i;){var a=o+1,l=n[a];if(!l)throw new Error("No migrator found for `migrationVersion` "+a);t=y8(t,l),t._migrationVersion=a,o=t._migrationVersion}return c5(!0),t},C8={getItem:function(){},setItem:function(){},removeItem:function(){}},k8=function(t){var n;return function(){if(!n){try{typeof window<"u"&&typeof window[t]<"u"&&(n=window[t])}catch{}n||(n=C8)}return n}},DC=k8("localStorage"),tv=k8("sessionStorage");function KK(e,t,n){t===void 0&&(t=[]),n===void 0&&(n={}),e==null&&(e=tv()),typeof e=="string"&&(e==="localStorage"?e=DC():e==="sessionStorage"?e=tv():e=C8);var r=[].concat(t).reverse(),o=function(u){return t.length>0&&u!=null&&typeof u=="object"&&Object.keys(u).forEach(function(d){u[d]=t.reduce(function(f,m){return m.in(f,d,u)},u[d])}),e===DC()||e===tv()?JSON.stringify({data:u}):u},i=function(u){var d=e===DC()||e===tv()?JSON.parse(u).data:u,f=Object.keys(n).length>0,m=f?YK(d,n):d;return r.length>0&&m!=null&&typeof m=="object"&&Object.keys(m).forEach(function(g){m[g]=r.reduce(function(v,y){return y.out(v,g,m)},m[g])}),m},a=Wc(e.getItem("_"));return{getItem:function(u){if(a)return e.getItem(u).then(function(f){return f!=null?i(f):void 0});var d=e.getItem(u);return d!=null?i(d):void 0},setItem:function(u,d){return e.setItem(u,o(d))},removeItem:function(u){return e.removeItem(u)}}}function XK(e,t){return t===void 0&&(t={}),{path:e,config:{allow:t.allow||[],deny:t.deny||[],mergeStrategy:t.mergeStrategy||"mergeDeep",storage:KK(t.storage,t.transformers,t.migrations)}}}function eX(e,t,n){var r=Object.keys(e);return t.length>0&&(r=r.reduce(function(o,i){return t.findIndex(function(a){return a===i})!==-1?[].concat(o,[i]):o},[])),n.length>0&&(r=r.reduce(function(o,i){return n.findIndex(function(a){return a===i})!==-1?o:[].concat(o,[i])},[])),r}function tX(e,t){return function(){return t._i._persistenceConfig.length===0?Promise.resolve():$2(t._i._persistenceConfig.map(function(n){var r=n.path,o=n.config;return function(){return Promise.resolve(o.storage.removeItem(e(r)))}}))}}function nX(e,t){var n=Promise.resolve(),r=!1,o,i=typeof window>"u"?function(l){return l()}:window.requestIdleCallback!=null?function(l){return window.requestIdleCallback(l,{timeout:0})}:window.requestAnimationFrame,a=function(u){if(t._i._persistenceConfig.length!==0){var d=function(){r=!0,n=new Promise(function(m){i(function(){$2(t._i._persistenceConfig.map(function(g){var v=g.path,y=g.config;return function(){var _=y.storage,b=y.allow,E=y.deny,A=py(Pr(v,u)),C=eX(A,b,E),M={};return C.map(function(T){var I=[].concat(v,[T]),P=Pr(I,u),B=sg(P)?py(P):P;M[T]=B}),Promise.resolve(_.setItem(e(v),M))}})).finally(function(){if(r=!1,o){var g=o;o=null,g()}else m()})})})};r?o=d:d()}};return{persist:a,clear:tX(e,t),flush:function(){return o&&o(),n}}}function rX(e,t){return function(n){var r=n.getState;return function(o){return function(i){var a=o(i);return i&&i.type!=="@action.ePRS"&&t._i._persistenceConfig.length>0&&e.persist(r()),a}}}}function f5(e,t,n,r){if(n._i._persistenceConfig.length===0)return Promise.resolve();var o=py(n._i._dS),i=!1;return $2(n._i._persistenceConfig.map(function(a){return function(){var l=a.path,u=a.config,d=u.mergeStrategy,f=u.storage;if(r&&(l.length<1||l[0]!==r))return Promise.resolve();var m=function(b,E){return b!=null&&E!=null&&(typeof b!=typeof E||Array.isArray(b)&&!Array.isArray(E))},g=function(b){if(d==="overwrite")yl(l,o,b);else if(d==="mergeShallow"){var E=Pr(l,o);Object.keys(b).forEach(function(M){m(E[M],b[M])||(E[M]=b[M])})}else if(d==="mergeDeep"){var A=Pr(l,o),C=function M(T,I){Object.keys(I).forEach(function(P){m(T[P],I[P])||(sg(I[P])?(T[P]=T[P]||{},M(T[P],I[P])):T[P]=I[P])})};C(A,b)}},v=function(b){b!=null&&(g(b),i=!0)},y=f.getItem(e(l));return Wc(y)?y.then(v):Promise.resolve(v(y))}})).then(function(){i&&t(o)})}function oX(e,t){function n(r){var o={type:e.meta.type,payload:r,config:e.config};return e[PE]&&e.meta.resolvedTargets&&(r.resolvedTargets=[].concat(e.meta.resolvedTargets)),t.dispatch(o)}return n.type=e.meta.type,n}function iX(e,t,n,r){return function(o,i){var a={dispatch:t.dispatch,fail:i,getState:function(){return Pr(e.meta.parent,t.getState())},getStoreActions:function(){return r},getStoreState:t.getState,injections:n,meta:{key:e.meta.actionName,parent:e.meta.parent,path:e.meta.path}};return e[gy]&&e.meta.resolvedTargets&&(o.resolvedTargets=[].concat(e.meta.resolvedTargets)),e.fn(Pr(e.meta.parent,r),o,a)}}function aX(e,t){var n=function(o){var i=$h(e.meta.startType,function(){return t.dispatch({type:e.meta.startType,payload:o})}),a=$h(e.meta.failType,function(m){return t.dispatch({type:e.meta.failType,payload:o,error:m})}),l=$h(e.meta.successType,function(m){return t.dispatch({type:e.meta.successType,payload:o,result:m})});i();var u=null,d=function(g){u=g||new Error},f=t.dispatch(function(){return e.thunkHandler(o,d)});return Wc(f)?f.then(function(m){return u?a(u):l(m),m}):(u?a(u):l(f),f)};return n.type=e.meta.type,n.successType=e.meta.successType,n.failType=e.meta.failType,n.startType=e.meta.startType,n}function sX(e){return function(){return function(t){return function(n){var r=t(n);if(n&&e._i._lAM[n.type]&&e._i._lAM[n.type].length>0){var o=e._i._aCD[n.type];e._i._lAM[n.type].forEach(function(i){i({type:o?o.def.meta.type:n.type,payload:n.payload,error:n.error,result:n.result})})}return r}}}}function lX(e,t,n,r){e.forEach(function(o){var i=o.targetResolver(Pr(o.meta.parent,t),t),a=(Array.isArray(i)?i:[i]).reduce(function(l,u){return typeof u=="function"&&u.def.meta.type&&n[u.def.meta.type]?u.def.meta.successType?l.push(u.def.meta.successType):l.push(u.def.meta.type):typeof u=="string"&&l.push(u),l},[]);o.meta.resolvedTargets=a,a.forEach(function(l){var u=r[l]||[];u.push(n[o.meta.type]),r[l]=u})})}function cX(e,t,n){var r=!1,o=[],i,a,l=!1,u=function(f,m){l=!0;var g=MK(f,m);return l=!1,g};return function(f,m){Object.defineProperty(f,e,{configurable:!0,enumerable:!0,get:function(){if(l)return i;var v=t.stateResolvers.map(function(_){return _(f,m)});if(r&&(m===a&&JK(v,o)||n._i._cS.isInReducer&&new Error().stack.match(/shallowCopy/gi)!==null))return i;var y=t.fn.apply(t,v);return u(y,i)||(i=y),o=v,a=m,r=!0,i}})}}function uX(e){return function(){return function(t){return function(n){e._i._cS.isInReducer=!0;var r=t(n);return e._i._cS.isInReducer=!1,r}}}}function dX(e){return function(t){return function(n){return function(r){if(e._i._e.length===0)return n(r);var o=t.getState(),i=n(r),a=t.getState();return o!==a&&e._i._e.forEach(function(l){var u=Pr(l.meta.parent,o),d=Pr(l.meta.parent,a),f=l.dependencyResolvers.map(function(v){return v(u,o)}),m=l.dependencyResolvers.map(function(v){return v(d,a)}),g=f.some(function(v,y){return v!==m[y]});g&&l.actionCreator(f,m,r)}),i}}}}var LE=function(t){console.error(t)};function fX(e,t,n,r){var o;return function(i){var a={dispatch:t.dispatch,getState:function(){return Pr(e.meta.parent,t.getState())},getStoreActions:function(){return r},getStoreState:t.getState,injections:n,meta:{key:e.meta.actionName,parent:e.meta.parent,path:e.meta.path}};if(o!==void 0){var l=o();o=void 0,Wc(l)&&l.catch(LE)}var u=Pr(e.meta.parent,r),d=e.fn(u,i,a);if(Wc(d))return d.then(function(f){});typeof d=="function"&&(o=d)}}function hX(e,t,n){var r=function(i,a,l){var u={prev:i,current:a,action:l},d=$h(e.meta.startType,function(){return t.dispatch({type:e.meta.startType,change:u})}),f=$h(e.meta.successType,function(){return t.dispatch({type:e.meta.successType,change:u})});d();try{var m=t.dispatch(function(){return n(u)});return Wc(m)?m.then(function(g){return f(g),g},LE):(f(m),m)}catch(g){LE(g)}};return r.type=e.meta.type,r.startType=e.meta.startType,r.successType=e.meta.successType,r.failType=e.meta.failType,r}function mX(e,t,n,r){var o=t,i={},a={},l={},u=[],d=[],f=[],m={},g={},v=[],y=[],_={isInReducer:!1},b=function E(A,C){return Object.keys(A).forEach(function(M){var T=A[M],I=[].concat(C,[M]),P={parent:C,path:I,key:M},B=function(){var V=Pr(C,t);V&&M in V?yl(I,o,V[M]):yl(I,o,T)};if(M===S8){y.push(XK(C,T));return}if(T!=null&&typeof T=="object")if(T[ME]||T[PE]){var R=Ko({},T),x=R[ME]?"@action":"@actionOn";R.meta={actionName:P.key,category:x,type:x+"."+P.path.join("."),parent:P.parent,path:P.path},R.actionCreator=oX(R,r),R.actionCreator.def=R,R.fn.def=R,i[R.meta.type]=R.actionCreator,l[R.meta.type]=R.fn,P.key!=="ePRS"&&(R[PE]?(v.push(R),yl(I,m,R.actionCreator)):yl(I,a,R.actionCreator))}else if(T[IE]||T[gy]){var D=Ko({},T),$=D[IE]?"@thunk":"@thunkOn",U=$+"."+P.path.join(".");D.meta={actionName:P.key,parent:P.parent,path:P.path,type:U,startType:U+"(start)",successType:U+"(success)",failType:U+"(fail)"},D.thunkHandler=iX(D,r,n,a),D.actionCreator=aX(D,r),D.actionCreator.def=D,i[D.meta.type]=D.actionCreator,D[gy]?(v.push(D),yl(I,m,D.actionCreator)):yl(I,a,D.actionCreator)}else if(T[TE]){var j=Pr(C,o),G=cX(M,T,r);G(j,o),u.push({key:M,parentPath:C,bindComputedProperty:G})}else if(T[VK])d.push({key:M,parentPath:C,reducer:T.fn,config:T.config});else if(T[w8]){var q=Ko({},T),Q="@effectOn."+P.path.join(".");q.meta={type:Q,actionName:P.key,parent:P.parent,path:P.path,startType:Q+"(start)",successType:Q+"(success)",failType:Q+"(fail)"};var F=fX(q,r,n,a),W=hX(q,r,F);q.actionCreator=W,f.push(q)}else if(sg(T)){var Y=Pr(I,o);Y==null&&yl(I,o,{}),E(T,I)}else B();else B()})};return y=y.sort(function(E,A){var C=E.path.join("."),M=A.path.join(".");return C<M?-1:C>M?1:0}),b(e,[]),lX(v,a,i,g),{_aCD:i,_aC:a,_aRD:l,_cP:u,_cR:d,_cS:_,_dS:o,_e:f,_lAC:m,_lAM:g,_persistenceConfig:y}}function gX(e,t){t===void 0&&(t={});var n=py(e),r=t,o=r.compose,i=r.devTools,a=i===void 0?!1:i,l=r.disableImmer,u=l===void 0?!1:l,d=r.enhancers,f=d===void 0?[]:d,m=r.initialState,g=m===void 0?void 0:m,v=r.injections,y=v===void 0?{}:v,_=r.middleware,b=_===void 0?[]:_,E=r.mockActions,A=E===void 0?!1:E,C=r.name,M=C===void 0?"EasyPeasyStore":C,T=r.version,I=T===void 0?0:T,P=r.reducerEnhancer,B=P===void 0?function(he){return he}:P,R=function(ye){return Ko(Ko({},ye),{},{ePRS:ue(function(Fe,H){return H})})},x={},D=R(n),$=[],U=function(ye){return"["+M+"]["+I+"]"+(ye.length>0?"["+ye.join(".")+"]":"")},j=nX(U,x),G=rX(j,x),q=function(ye){return x._i._aCD["@action.ePRS"](ye)},Q=function(ye){ye===void 0&&(ye={});var Fe=mX(D,ye,y,x);x._i=Ko(Ko({},Fe),{},{reducer:B(ZK(u,Fe._aRD,Fe._cR,Fe._cP))})},F=function(){return function(){return function(ye){ye!=null&&$.push(ye)}}},W=a===!0?{}:a,Y=o||(a&&typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__(Ko({name:M},W)):m8);Q(g||{});var N=[uX(x)].concat(b,[vK,sX(x),dX(x),G]);A&&N.push(F);var V=mK(x._i.reducer,x._i._dS,Y.apply(void 0,[gK.apply(void 0,N)].concat(f)));V.subscribe(function(){x._i._cS.isInReducer=!1}),x.dispatch=V.dispatch,x.getState=V.getState;var X=function(){Object.keys(V.dispatch).forEach(function(ye){delete V.dispatch[ye]}),Object.keys(x._i._aC).forEach(function(ye){V.dispatch[ye]=x._i._aC[ye]})};X();var oe=function(ye){var Fe=V.getState();ye&&delete Fe[ye],Q(Fe),V.replaceReducer(x._i.reducer),q(x._i._dS),X()},ce=f5(U,q,x);return Object.assign(V,{addModel:function(ye,Fe){D[ye],D[ye]=Fe,oe();var H=f5(U,q,x,ye);return{resolveRehydration:function(){return H}}},clearMockedActions:function(){$=[]},getActions:function(){return x._i._aC},getListeners:function(){return x._i._lAC},getMockedActions:function(){return[].concat($)},persist:{clear:j.clear,flush:j.flush,resolveRehydration:function(){return ce}},reconfigure:function(ye){D=R(ye),oe()},removeModel:function(ye){D[ye]&&(delete D[ye],oe(ye))}})}function pX(e){var t=e.children,n=e.store;return fe.createElement(Jd.Provider,{value:n,children:t})}TK(sK.useSyncExternalStoreWithSelector);const vX=O.createContext({dragDropManager:void 0});function Yo(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var h5=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),m5=function(){return Math.random().toString(36).substring(7).split("").join(".")},g5={INIT:"@@redux/INIT"+m5(),REPLACE:"@@redux/REPLACE"+m5()};function yX(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function z2(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Yo(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Yo(1));return n(z2)(e,t)}if(typeof e!="function")throw new Error(Yo(2));var o=e,i=t,a=[],l=a,u=!1;function d(){l===a&&(l=a.slice())}function f(){if(u)throw new Error(Yo(3));return i}function m(_){if(typeof _!="function")throw new Error(Yo(4));if(u)throw new Error(Yo(5));var b=!0;return d(),l.push(_),function(){if(b){if(u)throw new Error(Yo(6));b=!1,d();var A=l.indexOf(_);l.splice(A,1),a=null}}}function g(_){if(!yX(_))throw new Error(Yo(7));if(typeof _.type>"u")throw new Error(Yo(8));if(u)throw new Error(Yo(9));try{u=!0,i=o(i,_)}finally{u=!1}for(var b=a=l,E=0;E<b.length;E++){var A=b[E];A()}return _}function v(_){if(typeof _!="function")throw new Error(Yo(10));o=_,g({type:g5.REPLACE})}function y(){var _,b=m;return _={subscribe:function(A){if(typeof A!="object"||A===null)throw new Error(Yo(11));function C(){A.next&&A.next(f())}C();var M=b(C);return{unsubscribe:M}}},_[h5]=function(){return this},_}return g({type:g5.INIT}),r={dispatch:g,subscribe:m,getState:f,replaceReducer:v},r[h5]=y,r}function E8(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,o){return function(){return r(o.apply(void 0,arguments))}})}function _X(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var o=r.apply(void 0,arguments),i=function(){throw new Error(Yo(15))},a={getState:o.getState,dispatch:function(){return i.apply(void 0,arguments)}},l=t.map(function(u){return u(a)});return i=E8.apply(void 0,l)(o.dispatch),Ko(Ko({},o),{},{dispatch:i})}}}function Xt(e,t,...n){if(bX()&&t===void 0)throw new Error("invariant requires an error message argument");if(!e){let r;if(t===void 0)r=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let o=0;r=new Error(t.replace(/%s/g,function(){return n[o++]})),r.name="Invariant Violation"}throw r.framesToPop=1,r}}function bX(){return typeof process<"u"&&!0}function wX(e,t,n){return t.split(".").reduce((r,o)=>r&&r[o]?r[o]:n||null,e)}function SX(e,t){return e.filter(n=>n!==t)}function B8(e){return typeof e=="object"}function AX(e,t){const n=new Map,r=i=>{n.set(i,n.has(i)?n.get(i)+1:1)};e.forEach(r),t.forEach(r);const o=[];return n.forEach((i,a)=>{i===1&&o.push(a)}),o}function CX(e,t){return e.filter(n=>t.indexOf(n)>-1)}const U2="dnd-core/INIT_COORDS",L0="dnd-core/BEGIN_DRAG",V2="dnd-core/PUBLISH_DRAG_SOURCE",D0="dnd-core/HOVER",N0="dnd-core/DROP",F0="dnd-core/END_DRAG";function p5(e,t){return{type:U2,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}const kX={type:U2,payload:{clientOffset:null,sourceClientOffset:null}};function EX(e){return function(n=[],r={publishSource:!0}){const{publishSource:o=!0,clientOffset:i,getSourceClientOffset:a}=r,l=e.getMonitor(),u=e.getRegistry();e.dispatch(p5(i)),BX(n,l,u);const d=OX(n,l);if(d==null){e.dispatch(kX);return}let f=null;if(i){if(!a)throw new Error("getSourceClientOffset must be defined");RX(a),f=a(d)}e.dispatch(p5(i,f));const g=u.getSource(d).beginDrag(l,d);if(g==null)return;xX(g),u.pinSource(d);const v=u.getSourceType(d);return{type:L0,payload:{itemType:v,item:g,sourceId:d,clientOffset:i||null,sourceClientOffset:f||null,isSourcePublic:!!o}}}}function BX(e,t,n){Xt(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach(function(r){Xt(n.getSource(r),"Expected sourceIds to be registered.")})}function RX(e){Xt(typeof e=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function xX(e){Xt(B8(e),"Item must be an object.")}function OX(e,t){let n=null;for(let r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}function MX(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),r.forEach(function(o){MX(e,o,n[o])})}return e}function TX(e){return function(n={}){const r=e.getMonitor(),o=e.getRegistry();IX(r),NX(r).forEach((a,l)=>{const u=LX(a,l,o,r),d={type:N0,payload:{dropResult:PX({},n,u)}};e.dispatch(d)})}}function IX(e){Xt(e.isDragging(),"Cannot call drop while not dragging."),Xt(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function LX(e,t,n,r){const o=n.getTarget(e);let i=o?o.drop(r,e):void 0;return DX(i),typeof i>"u"&&(i=t===0?{}:r.getDropResult()),i}function DX(e){Xt(typeof e>"u"||B8(e),"Drop result must either be an object or undefined.")}function NX(e){const t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function FX(e){return function(){const n=e.getMonitor(),r=e.getRegistry();GX(n);const o=n.getSourceId();return o!=null&&(r.getSource(o,!0).endDrag(n,o),r.unpinSource()),{type:F0}}}function GX(e){Xt(e.isDragging(),"Cannot call endDrag while not dragging.")}function DE(e,t){return t===null?e===null:Array.isArray(e)?e.some(n=>n===t):e===t}function jX(e){return function(n,{clientOffset:r}={}){$X(n);const o=n.slice(0),i=e.getMonitor(),a=e.getRegistry(),l=i.getItemType();return UX(o,a,l),zX(o,i,a),VX(o,i,a),{type:D0,payload:{targetIds:o,clientOffset:r||null}}}}function $X(e){Xt(Array.isArray(e),"Expected targetIds to be an array.")}function zX(e,t,n){Xt(t.isDragging(),"Cannot call hover while not dragging."),Xt(!t.didDrop(),"Cannot call hover after drop.");for(let r=0;r<e.length;r++){const o=e[r];Xt(e.lastIndexOf(o)===r,"Expected targetIds to be unique in the passed array.");const i=n.getTarget(o);Xt(i,"Expected targetIds to be registered.")}}function UX(e,t,n){for(let r=e.length-1;r>=0;r--){const o=e[r],i=t.getTargetType(o);DE(i,n)||e.splice(r,1)}}function VX(e,t,n){e.forEach(function(r){n.getTarget(r).hover(t,r)})}function qX(e){return function(){if(e.getMonitor().isDragging())return{type:V2}}}function QX(e){return{beginDrag:EX(e),publishDragSource:qX(e),hover:jX(e),drop:TX(e),endDrag:FX(e)}}class HX{receiveBackend(t){this.backend=t}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const t=this,{dispatch:n}=this.store;function r(i){return(...a)=>{const l=i.apply(t,a);typeof l<"u"&&n(l)}}const o=QX(this);return Object.keys(o).reduce((i,a)=>{const l=o[a];return i[a]=r(l),i},{})}dispatch(t){this.store.dispatch(t)}constructor(t,n){this.isSetUp=!1,this.handleRefCountChange=()=>{const r=this.store.getState().refCount>0;this.backend&&(r&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!r&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=t,this.monitor=n,t.subscribe(this.handleRefCountChange)}}function WX(e,t){return{x:e.x+t.x,y:e.y+t.y}}function R8(e,t){return{x:e.x-t.x,y:e.y-t.y}}function JX(e){const{clientOffset:t,initialClientOffset:n,initialSourceClientOffset:r}=e;return!t||!n||!r?null:R8(WX(t,r),n)}function ZX(e){const{clientOffset:t,initialClientOffset:n}=e;return!t||!n?null:R8(t,n)}const zh=[],q2=[];zh.__IS_NONE__=!0;q2.__IS_ALL__=!0;function YX(e,t){return e===zh?!1:e===q2||typeof t>"u"?!0:CX(t,e).length>0}class KX{subscribeToStateChange(t,n={}){const{handlerIds:r}=n;Xt(typeof t=="function","listener must be a function."),Xt(typeof r>"u"||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");let o=this.store.getState().stateId;const i=()=>{const a=this.store.getState(),l=a.stateId;try{l===o||l===o+1&&!YX(a.dirtyHandlerIds,r)||t()}finally{o=l}};return this.store.subscribe(i)}subscribeToOffsetChange(t){Xt(typeof t=="function","listener must be a function.");let n=this.store.getState().dragOffset;const r=()=>{const o=this.store.getState().dragOffset;o!==n&&(n=o,t())};return this.store.subscribe(r)}canDragSource(t){if(!t)return!1;const n=this.registry.getSource(t);return Xt(n,`Expected to find a valid source. sourceId=${t}`),this.isDragging()?!1:n.canDrag(this,t)}canDropOnTarget(t){if(!t)return!1;const n=this.registry.getTarget(t);if(Xt(n,`Expected to find a valid target. targetId=${t}`),!this.isDragging()||this.didDrop())return!1;const r=this.registry.getTargetType(t),o=this.getItemType();return DE(r,o)&&n.canDrop(this,t)}isDragging(){return!!this.getItemType()}isDraggingSource(t){if(!t)return!1;const n=this.registry.getSource(t,!0);if(Xt(n,`Expected to find a valid source. sourceId=${t}`),!this.isDragging()||!this.isSourcePublic())return!1;const r=this.registry.getSourceType(t),o=this.getItemType();return r!==o?!1:n.isDragging(this,t)}isOverTarget(t,n={shallow:!1}){if(!t)return!1;const{shallow:r}=n;if(!this.isDragging())return!1;const o=this.registry.getTargetType(t),i=this.getItemType();if(i&&!DE(o,i))return!1;const a=this.getTargetIds();if(!a.length)return!1;const l=a.indexOf(t);return r?l===a.length-1:l>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return JX(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return ZX(this.store.getState().dragOffset)}constructor(t,n){this.store=t,this.registry=n}}const v5=typeof global<"u"?global:self,x8=v5.MutationObserver||v5.WebKitMutationObserver;function O8(e){return function(){const n=setTimeout(o,0),r=setInterval(o,50);function o(){clearTimeout(n),clearInterval(r),e()}}}function XX(e){let t=1;const n=new x8(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}const eee=typeof x8=="function"?XX:O8;class tee{enqueueTask(t){const{queue:n,requestFlush:r}=this;n.length||(r(),this.flushing=!0),n[n.length]=t}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:t}=this;for(;this.index<t.length;){const n=this.index;if(this.index++,t[n].call(),this.index>this.capacity){for(let r=0,o=t.length-this.index;r<o;r++)t[r]=t[r+this.index];t.length-=this.index,this.index=0}}t.length=0,this.index=0,this.flushing=!1},this.registerPendingError=t=>{this.pendingErrors.push(t),this.requestErrorThrow()},this.requestFlush=eee(this.flush),this.requestErrorThrow=O8(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class nee{call(){try{this.task&&this.task()}catch(t){this.onError(t)}finally{this.task=null,this.release(this)}}constructor(t,n){this.onError=t,this.release=n,this.task=null}}class ree{create(t){const n=this.freeTasks,r=n.length?n.pop():new nee(this.onError,o=>n[n.length]=o);return r.task=t,r}constructor(t){this.onError=t,this.freeTasks=[]}}const M8=new tee,oee=new ree(M8.registerPendingError);function iee(e){M8.enqueueTask(oee.create(e))}const Q2="dnd-core/ADD_SOURCE",H2="dnd-core/ADD_TARGET",W2="dnd-core/REMOVE_SOURCE",G0="dnd-core/REMOVE_TARGET";function aee(e){return{type:Q2,payload:{sourceId:e}}}function see(e){return{type:H2,payload:{targetId:e}}}function lee(e){return{type:W2,payload:{sourceId:e}}}function cee(e){return{type:G0,payload:{targetId:e}}}function uee(e){Xt(typeof e.canDrag=="function","Expected canDrag to be a function."),Xt(typeof e.beginDrag=="function","Expected beginDrag to be a function."),Xt(typeof e.endDrag=="function","Expected endDrag to be a function.")}function dee(e){Xt(typeof e.canDrop=="function","Expected canDrop to be a function."),Xt(typeof e.hover=="function","Expected hover to be a function."),Xt(typeof e.drop=="function","Expected beginDrag to be a function.")}function NE(e,t){if(t&&Array.isArray(e)){e.forEach(n=>NE(n,!1));return}Xt(typeof e=="string"||typeof e=="symbol",t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var ki;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(ki||(ki={}));let fee=0;function hee(){return fee++}function mee(e){const t=hee().toString();switch(e){case ki.SOURCE:return`S${t}`;case ki.TARGET:return`T${t}`;default:throw new Error(`Unknown Handler Role: ${e}`)}}function y5(e){switch(e[0]){case"S":return ki.SOURCE;case"T":return ki.TARGET;default:throw new Error(`Cannot parse handler ID: ${e}`)}}function _5(e,t){const n=e.entries();let r=!1;do{const{done:o,value:[,i]}=n.next();if(i===t)return!0;r=!!o}while(!r);return!1}class gee{addSource(t,n){NE(t),uee(n);const r=this.addHandler(ki.SOURCE,t,n);return this.store.dispatch(aee(r)),r}addTarget(t,n){NE(t,!0),dee(n);const r=this.addHandler(ki.TARGET,t,n);return this.store.dispatch(see(r)),r}containsHandler(t){return _5(this.dragSources,t)||_5(this.dropTargets,t)}getSource(t,n=!1){return Xt(this.isSourceId(t),"Expected a valid source ID."),n&&t===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(t)}getTarget(t){return Xt(this.isTargetId(t),"Expected a valid target ID."),this.dropTargets.get(t)}getSourceType(t){return Xt(this.isSourceId(t),"Expected a valid source ID."),this.types.get(t)}getTargetType(t){return Xt(this.isTargetId(t),"Expected a valid target ID."),this.types.get(t)}isSourceId(t){return y5(t)===ki.SOURCE}isTargetId(t){return y5(t)===ki.TARGET}removeSource(t){Xt(this.getSource(t),"Expected an existing source."),this.store.dispatch(lee(t)),iee(()=>{this.dragSources.delete(t),this.types.delete(t)})}removeTarget(t){Xt(this.getTarget(t),"Expected an existing target."),this.store.dispatch(cee(t)),this.dropTargets.delete(t),this.types.delete(t)}pinSource(t){const n=this.getSource(t);Xt(n,"Expected an existing source."),this.pinnedSourceId=t,this.pinnedSource=n}unpinSource(){Xt(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(t,n,r){const o=mee(t);return this.types.set(o,n),t===ki.SOURCE?this.dragSources.set(o,r):t===ki.TARGET&&this.dropTargets.set(o,r),o}constructor(t){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}}const pee=(e,t)=>e===t;function vee(e,t){return!e&&!t?!0:!e||!t?!1:e.x===t.x&&e.y===t.y}function yee(e,t,n=pee){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!n(e[r],t[r]))return!1;return!0}function _ee(e=zh,t){switch(t.type){case D0:break;case Q2:case H2:case G0:case W2:return zh;case L0:case V2:case F0:case N0:default:return q2}const{targetIds:n=[],prevTargetIds:r=[]}=t.payload,o=AX(n,r);if(!(o.length>0||!yee(n,r)))return zh;const a=r[r.length-1],l=n[n.length-1];return a!==l&&(a&&o.push(a),l&&o.push(l)),o}function bee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),r.forEach(function(o){bee(e,o,n[o])})}return e}const b5={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function See(e=b5,t){const{payload:n}=t;switch(t.type){case U2:case L0:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case D0:return vee(e.clientOffset,n.clientOffset)?e:wee({},e,{clientOffset:n.clientOffset});case F0:case N0:return b5;default:return e}}function Aee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),r.forEach(function(o){Aee(e,o,n[o])})}return e}const Cee={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function kee(e=Cee,t){const{payload:n}=t;switch(t.type){case L0:return Vu({},e,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case V2:return Vu({},e,{isSourcePublic:!0});case D0:return Vu({},e,{targetIds:n.targetIds});case G0:return e.targetIds.indexOf(n.targetId)===-1?e:Vu({},e,{targetIds:SX(e.targetIds,n.targetId)});case N0:return Vu({},e,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case F0:return Vu({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function Eee(e=0,t){switch(t.type){case Q2:case H2:return e+1;case W2:case G0:return e-1;default:return e}}function Bee(e=0){return e+1}function Ree(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),r.forEach(function(o){Ree(e,o,n[o])})}return e}function Oee(e={},t){return{dirtyHandlerIds:_ee(e.dirtyHandlerIds,{type:t.type,payload:xee({},t.payload,{prevTargetIds:wX(e,"dragOperation.targetIds",[])})}),dragOffset:See(e.dragOffset,t),refCount:Eee(e.refCount,t),dragOperation:kee(e.dragOperation,t),stateId:Bee(e.stateId)}}function Mee(e,t=void 0,n={},r=!1){const o=Pee(r),i=new KX(o,new gee(o)),a=new HX(o,i),l=e(a,t,n);return a.receiveBackend(l),a}function Pee(e){const t=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return z2(Oee,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}function Tee(e,t){if(e==null)return{};var n=Iee(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Iee(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}let w5=0;const Pv=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var Lee=O.memo(function(t){var{children:n}=t,r=Tee(t,["children"]);const[o,i]=Dee(r);return O.useEffect(()=>{if(i){const a=P8();return++w5,()=>{--w5===0&&(a[Pv]=null)}}},[]),w.jsx(vX.Provider,{value:o,children:n})});function Dee(e){if("manager"in e)return[{dragDropManager:e.manager},!1];const t=Nee(e.backend,e.context,e.options,e.debugMode),n=!e.context;return[t,n]}function Nee(e,t=P8(),n,r){const o=t;return o[Pv]||(o[Pv]={dragDropManager:Mee(e,t,n,r)}),o[Pv]}function P8(){return typeof global<"u"?global:window}var Ol;(function(e){e.mouse="mouse",e.touch="touch",e.keyboard="keyboard"})(Ol||(Ol={}));class Fee{get delay(){var t;return(t=this.args.delay)!==null&&t!==void 0?t:0}get scrollAngleRanges(){return this.args.scrollAngleRanges}get getDropTargetElementsAtPoint(){return this.args.getDropTargetElementsAtPoint}get ignoreContextMenu(){var t;return(t=this.args.ignoreContextMenu)!==null&&t!==void 0?t:!1}get enableHoverOutsideTarget(){var t;return(t=this.args.enableHoverOutsideTarget)!==null&&t!==void 0?t:!1}get enableKeyboardEvents(){var t;return(t=this.args.enableKeyboardEvents)!==null&&t!==void 0?t:!1}get enableMouseEvents(){var t;return(t=this.args.enableMouseEvents)!==null&&t!==void 0?t:!1}get enableTouchEvents(){var t;return(t=this.args.enableTouchEvents)!==null&&t!==void 0?t:!0}get touchSlop(){return this.args.touchSlop||0}get delayTouchStart(){var t,n,r,o;return(o=(r=(t=this.args)===null||t===void 0?void 0:t.delayTouchStart)!==null&&r!==void 0?r:(n=this.args)===null||n===void 0?void 0:n.delay)!==null&&o!==void 0?o:0}get delayMouseStart(){var t,n,r,o;return(o=(r=(t=this.args)===null||t===void 0?void 0:t.delayMouseStart)!==null&&r!==void 0?r:(n=this.args)===null||n===void 0?void 0:n.delay)!==null&&o!==void 0?o:0}get window(){if(this.context&&this.context.window)return this.context.window;if(typeof window<"u")return window}get document(){var t;if(!((t=this.context)===null||t===void 0)&&t.document)return this.context.document;if(this.window)return this.window.document}get rootElement(){var t;return((t=this.args)===null||t===void 0?void 0:t.rootElement)||this.document}constructor(t,n){this.args=t,this.context=n}}function Gee(e,t,n,r){return Math.sqrt(Math.pow(Math.abs(n-e),2)+Math.pow(Math.abs(r-t),2))}function jee(e,t,n,r,o){if(!o)return!1;const i=Math.atan2(r-t,n-e)*180/Math.PI+180;for(let a=0;a<o.length;++a){const l=o[a];if(l&&(l.start==null||i>=l.start)&&(l.end==null||i<=l.end))return!0}return!1}const $ee={Left:1},zee={Left:0};function NC(e){return e.button===void 0||e.button===zee.Left}function Uee(e){return e.buttons===void 0||(e.buttons&$ee.Left)===0}function T8(e){return!!e.targetTouches}const Vee=1;function qee(e){const t=e.nodeType===Vee?e:e.parentElement;if(!t)return;const{top:n,left:r}=t.getBoundingClientRect();return{x:r,y:n}}function Qee(e,t){if(e.targetTouches.length===1)return vy(e.targetTouches[0]);if(t&&e.touches.length===1&&e.touches[0].target===t.target)return vy(e.touches[0])}function vy(e,t){return T8(e)?Qee(e,t):{x:e.clientX,y:e.clientY}}const S5=(()=>{let e=!1;try{addEventListener("test",()=>{},Object.defineProperty({},"passive",{get(){return e=!0,!0}}))}catch{}return e})(),nh={[Ol.mouse]:{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"},[Ol.touch]:{start:"touchstart",move:"touchmove",end:"touchend"},[Ol.keyboard]:{keydown:"keydown"}};class Uh{profile(){var t;return{sourceNodes:this.sourceNodes.size,sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,targetNodes:this.targetNodes.size,dragOverTargetIds:((t=this.dragOverTargetIds)===null||t===void 0?void 0:t.length)||0}}get document(){return this.options.document}setup(){const t=this.options.rootElement;t&&(Xt(!Uh.isSetUp,"Cannot have two Touch backends at the same time."),Uh.isSetUp=!0,this.addEventListener(t,"start",this.getTopMoveStartHandler()),this.addEventListener(t,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(t,"move",this.handleTopMove),this.addEventListener(t,"move",this.handleTopMoveCapture,!0),this.addEventListener(t,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.addEventListener(t,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.addEventListener(t,"keydown",this.handleCancelOnEscape,!0))}teardown(){const t=this.options.rootElement;t&&(Uh.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(t,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(t,"start",this.handleTopMoveStart),this.removeEventListener(t,"move",this.handleTopMoveCapture,!0),this.removeEventListener(t,"move",this.handleTopMove),this.removeEventListener(t,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.removeEventListener(t,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.removeEventListener(t,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}addEventListener(t,n,r,o=!1){const i=S5?{capture:o,passive:!1}:o;this.listenerTypes.forEach(function(a){const l=nh[a][n];l&&t.addEventListener(l,r,i)})}removeEventListener(t,n,r,o=!1){const i=S5?{capture:o,passive:!1}:o;this.listenerTypes.forEach(function(a){const l=nh[a][n];l&&t.removeEventListener(l,r,i)})}connectDragSource(t,n){const r=this.handleMoveStart.bind(this,t);return this.sourceNodes.set(t,n),this.addEventListener(n,"start",r),()=>{this.sourceNodes.delete(t),this.removeEventListener(n,"start",r)}}connectDragPreview(t,n,r){return this.sourcePreviewNodeOptions.set(t,r),this.sourcePreviewNodes.set(t,n),()=>{this.sourcePreviewNodes.delete(t),this.sourcePreviewNodeOptions.delete(t)}}connectDropTarget(t,n){const r=this.options.rootElement;if(!this.document||!r)return()=>{};const o=i=>{if(!this.document||!r||!this.monitor.isDragging())return;let a;switch(i.type){case nh.mouse.move:a={x:i.clientX,y:i.clientY};break;case nh.touch.move:var l,u;a={x:((l=i.touches[0])===null||l===void 0?void 0:l.clientX)||0,y:((u=i.touches[0])===null||u===void 0?void 0:u.clientY)||0};break}const d=a!=null?this.document.elementFromPoint(a.x,a.y):void 0,f=d&&n.contains(d);if(d===n||f)return this.handleMove(i,t)};return this.addEventListener(this.document.body,"move",o),this.targetNodes.set(t,n),()=>{this.document&&(this.targetNodes.delete(t),this.removeEventListener(this.document.body,"move",o))}}getTopMoveStartHandler(){return!this.options.delayTouchStart&&!this.options.delayMouseStart?this.handleTopMoveStart:this.handleTopMoveStartDelay}installSourceNodeRemovalObserver(t){this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=t,this.draggedSourceNodeRemovalObserver=new MutationObserver(()=>{t&&!t.parentElement&&(this.resurrectSourceNode(),this.uninstallSourceNodeRemovalObserver())}),!(!t||!t.parentElement)&&this.draggedSourceNodeRemovalObserver.observe(t.parentElement,{childList:!0})}resurrectSourceNode(){this.document&&this.draggedSourceNode&&(this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),this.document.body.appendChild(this.draggedSourceNode))}uninstallSourceNodeRemovalObserver(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=void 0,this.draggedSourceNode=void 0}constructor(t,n,r){this.getSourceClientOffset=o=>{const i=this.sourceNodes.get(o);return i&&qee(i)},this.handleTopMoveStartCapture=o=>{NC(o)&&(this.moveStartSourceIds=[])},this.handleMoveStart=o=>{Array.isArray(this.moveStartSourceIds)&&this.moveStartSourceIds.unshift(o)},this.handleTopMoveStart=o=>{if(!NC(o))return;const i=vy(o);i&&(T8(o)&&(this.lastTargetTouchFallback=o.targetTouches[0]),this._mouseClientOffset=i),this.waitingForDelay=!1},this.handleTopMoveStartDelay=o=>{if(!NC(o))return;const i=o.type===nh.touch.start?this.options.delayTouchStart:this.options.delayMouseStart;this.timeout=setTimeout(this.handleTopMoveStart.bind(this,o),i),this.waitingForDelay=!0},this.handleTopMoveCapture=()=>{this.dragOverTargetIds=[]},this.handleMove=(o,i)=>{this.dragOverTargetIds&&this.dragOverTargetIds.unshift(i)},this.handleTopMove=o=>{if(this.timeout&&clearTimeout(this.timeout),!this.document||this.waitingForDelay)return;const{moveStartSourceIds:i,dragOverTargetIds:a}=this,l=this.options.enableHoverOutsideTarget,u=vy(o,this.lastTargetTouchFallback);if(!u)return;if(this._isScrolling||!this.monitor.isDragging()&&jee(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,u.x,u.y,this.options.scrollAngleRanges)){this._isScrolling=!0;return}if(!this.monitor.isDragging()&&this._mouseClientOffset.hasOwnProperty("x")&&i&&Gee(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,u.x,u.y)>(this.options.touchSlop?this.options.touchSlop:0)&&(this.moveStartSourceIds=void 0,this.actions.beginDrag(i,{clientOffset:this._mouseClientOffset,getSourceClientOffset:this.getSourceClientOffset,publishSource:!1})),!this.monitor.isDragging())return;const d=this.sourceNodes.get(this.monitor.getSourceId());this.installSourceNodeRemovalObserver(d),this.actions.publishDragSource(),o.cancelable&&o.preventDefault();const f=(a||[]).map(y=>this.targetNodes.get(y)).filter(y=>!!y),m=this.options.getDropTargetElementsAtPoint?this.options.getDropTargetElementsAtPoint(u.x,u.y,f):this.document.elementsFromPoint(u.x,u.y),g=[];for(const y in m){if(!m.hasOwnProperty(y))continue;let _=m[y];for(_!=null&&g.push(_);_;)_=_.parentElement,_&&g.indexOf(_)===-1&&g.push(_)}const v=g.filter(y=>f.indexOf(y)>-1).map(y=>this._getDropTargetId(y)).filter(y=>!!y).filter((y,_,b)=>b.indexOf(y)===_);if(l)for(const y in this.targetNodes){const _=this.targetNodes.get(y);if(d&&_&&_.contains(d)&&v.indexOf(y)===-1){v.unshift(y);break}}v.reverse(),this.actions.hover(v,{clientOffset:u})},this._getDropTargetId=o=>{const i=this.targetNodes.keys();let a=i.next();for(;a.done===!1;){const l=a.value;if(o===this.targetNodes.get(l))return l;a=i.next()}},this.handleTopMoveEndCapture=o=>{if(this._isScrolling=!1,this.lastTargetTouchFallback=void 0,!!Uee(o)){if(!this.monitor.isDragging()||this.monitor.didDrop()){this.moveStartSourceIds=void 0;return}o.cancelable&&o.preventDefault(),this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.drop(),this.actions.endDrag()}},this.handleCancelOnEscape=o=>{o.key==="Escape"&&this.monitor.isDragging()&&(this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.endDrag())},this.options=new Fee(r,n),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.sourceNodes=new Map,this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.targetNodes=new Map,this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,this.options.enableMouseEvents&&this.listenerTypes.push(Ol.mouse),this.options.enableTouchEvents&&this.listenerTypes.push(Ol.touch),this.options.enableKeyboardEvents&&this.listenerTypes.push(Ol.keyboard)}}const Hee=function(t,n={},r={}){return new Uh(t,n,r)},Wee={tempArrow:null,arrowsBeforeClear:[],arrows:[],isShowCanvas:!0},Jee={...Wee,setTempArrow:ue((e,t)=>{e.tempArrow=t}),setIsShowCanvas:ue((e,t)=>{e.isShowCanvas=t}),addArrow:ue((e,t)=>{t.width!==void 0&&t.width<2&&(t.width=2),e.arrows=[...e.arrows,t]}),addArrows:ue((e,t)=>{const n=t.map(o=>o.width!==void 0&&o.width<2?{...o,width:2}:o),r={};[...e.arrows,...n].forEach(o=>{const i=JSON.stringify(o);r[i]||(r[i]=o)}),e.arrows=Object.values(r)}),clearCanvas:ue(e=>{e.arrowsBeforeClear=[...e.arrows],e.arrows=[],e.tempArrow=null})};async function Ic(e){return new Promise(t=>setTimeout(()=>t(void 0),e))}const mn=class mn{constructor(t,{hide:n=!0,showOnlyLongOperations:r=!0}={}){z(this,"name");z(this,"time");z(this,"hide",!0);z(this,"showOnlyLongOperations",!0);z(this,"logs",[]);z(this,"hasLongOperation",!1);z(this,"callStack","");z(this,"startTime");z(this,"totalTime",0);this.name=t,this.hide=n,this.showOnlyLongOperations=r,this.time=performance.now(),this.startTime=this.time,this.callStack=this.getFormattedCallStack()}getFormattedCallStack(){try{return(new Error().stack||"").split(`
`).filter(o=>!o.includes("EPerformance.getFormattedCallStack")&&!o.includes("Error")&&o.trim()!=="").slice(1,mn.settings.callStackDepth+1).map(o=>{const i=o.match(/at\s(.*?)\s\((.*?)(?::(\d+):(\d+))?\)/);if(i){const[,a,l,u,d]=i,f=l.split("/").pop()||l;return`${a} (${f}:${u||"?"})`}return o.trim()}).join(`
`)}catch{return"    "}}get timeDiff(){return Math.round(performance.now()-this.time)/1e3+"s"}formatTime(t){return(Math.round(t)/1e3).toFixed(3)+"s"}shouldLog(){return mn.settings.enabled&&!this.hide}updateTime(){const t=performance.now(),n=t-this.time;return this.time=t,this.totalTime+=n,n}formatTimeLog(t,n){const r=t>=mn.settings.longOperationThreshold;r&&(this.hasLongOperation=!0);const o=r?mn.settings.styles.longTiming:mn.settings.styles.timing,{logPrefix:i}=mn.settings,a=r?" ":"";return[`%c${i}%c ${this.name}%c ${a}${n}%c ${this.formatTime(t)}%c at %c${new Date().toISOString()}`,mn.settings.styles.prefix,mn.settings.styles.title,r?mn.settings.styles.warn:mn.settings.styles.info,o,"",mn.settings.styles.date]}addLog(t,n,r){this.shouldLog()&&this.logs.push({message:t,args:n,callStack:r})}flushLogs(){this.logs.length}start(){this.time=performance.now(),this.startTime=this.time,this.totalTime=0,this.logs=[],this.hasLongOperation=!1,this.callStack=this.getFormattedCallStack();const{logPrefix:t}=mn.settings;this.addLog(`%c${t}%c    %c ${new Date().toISOString()}`,[mn.settings.styles.prefix,mn.settings.styles.info,mn.settings.styles.date],this.getFormattedCallStack())}track(t){const n=this.updateTime(),r=this.formatTimeLog(n,t);this.addLog(r[0],r.slice(1))}async trackAsync(t){this.track(`${t} (before await)`),await Ic(10),this.track(`${t} (after await)`)}end(t){const n=this.updateTime(),r=performance.now()-this.startTime;if(!this.shouldLog())return;if(t){const m=this.formatTimeLog(n,t);this.addLog(m[0],m.slice(1))}const{logPrefix:o}=mn.settings,i=n>=mn.settings.longOperationThreshold;i&&(this.hasLongOperation=!0);const a=i?mn.settings.styles.longTiming:mn.settings.styles.timing,l=i?" ":" ";let u;u=this.getFormattedCallStack(),this.addLog(`%c${o}%c ${l}  : %c${this.formatTime(n)}`,[mn.settings.styles.prefix,i?mn.settings.styles.warn:mn.settings.styles.info,a],u);const f=r>=mn.settings.longOperationThreshold?mn.settings.styles.longTiming:mn.settings.styles.timing;this.addLog(`%c${o}%c    : %c${this.formatTime(r)}`,[mn.settings.styles.prefix,mn.settings.styles.info,f],void 0),this.flushLogs()}};z(mn,"settings",{enabled:!0,longOperationThreshold:500,logPrefix:"[Performance]",showCallStack:!0,callStackDepth:5,showDetailedCallStacks:!0,styles:{prefix:"color: #0D47A1; font-weight: bold; background-color:rgb(114, 121, 126); padding: 2px 4px; border-radius: 2px;",title:"color:rgb(41, 159, 255); font-weight: bold; font-size: 1.1em;",info:"color:rgb(7, 181, 187); font-weight: normal;",warn:"color: #E65100; font-weight: bold; text-decoration: underline;",error:"color: #B71C1C; font-weight: bold; padding: 2px 4px;",timing:"color:rgb(120, 62, 192); font-weight: bold;",longTiming:"color: #E65100; font-weight: bold; padding: 2px 4px; border-radius: 2px;",date:"color: #455A64; font-style: italic;",callStack:"color: #616161; font-family: monospace; margin-left: 8px; font-size: 0.9em;"}});let yy=mn;const FC=()=>h0()||eg(),Z=(e,t=!1)=>Wr((n,r,o)=>{const i=o.meta.path.map((a,l)=>l===0?a.toUpperCase():a).join("/");if(!t&&FC()){const a=`[${i}]`;console.log(a)}if(e[Symbol.toStringTag]==="AsyncFunction")return(async()=>{if(FC()){const a=new yy(i);a.start();const l=await e(n,r,o);return a.track("result async"),a.end(),l}else return await e(n,r,o)})();if(FC()){const a=new yy(i);a.start();const l=e(n,r,o);return a.track("result"),a.end(),l}else return e(n,r,o)});/**
 * @license
 * Copyright (c) 2025, Jeff Hlywa (jhlywa@gmail.com)
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 *    this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */const Qr="w",wi="b",Mr="p",FE="n",Tv="b",Bh="r",bl="q",vr="k",GC="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";class nv{constructor(t,n){z(this,"color");z(this,"from");z(this,"to");z(this,"piece");z(this,"captured");z(this,"promotion");z(this,"flags");z(this,"san");z(this,"lan");z(this,"before");z(this,"after");const{color:r,piece:o,from:i,to:a,flags:l,captured:u,promotion:d}=n,f=Nr(i),m=Nr(a);this.color=r,this.piece=o,this.from=f,this.to=m,this.san=t._moveToSan(n,t._moves({legal:!0})),this.lan=f+m,this.before=t.fen(),t._makeMove(n),this.after=t.fen(),t._undoMove(),this.flags="";for(const g in Ut)Ut[g]&l&&(this.flags+=hc[g]);u&&(this.captured=u),d&&(this.promotion=d,this.lan+=d)}isCapture(){return this.flags.indexOf(hc.CAPTURE)>-1}isPromotion(){return this.flags.indexOf(hc.PROMOTION)>-1}isEnPassant(){return this.flags.indexOf(hc.EP_CAPTURE)>-1}isKingsideCastle(){return this.flags.indexOf(hc.KSIDE_CASTLE)>-1}isQueensideCastle(){return this.flags.indexOf(hc.QSIDE_CASTLE)>-1}isBigPawn(){return this.flags.indexOf(hc.BIG_PAWN)>-1}}const Ao=-1,hc={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q"},Ut={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64},GE={Event:"?",Site:"?",Date:"????.??.??",Round:"?",White:"?",Black:"?",Result:"*"},Zee={WhiteTitle:null,BlackTitle:null,WhiteElo:null,BlackElo:null,WhiteUSCF:null,BlackUSCF:null,WhiteNA:null,BlackNA:null,WhiteType:null,BlackType:null,EventDate:null,EventSponsor:null,Section:null,Stage:null,Board:null,Opening:null,Variation:null,SubVariation:null,ECO:null,NIC:null,Time:null,UTCTime:null,UTCDate:null,TimeControl:null,SetUp:null,FEN:null,Termination:null,Annotator:null,Mode:null,PlyCount:null},Yee={...GE,...Zee},Et={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},jC={b:[16,32,17,15],w:[-16,-32,-17,-15]},A5={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},Kee=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],Xee=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],ete={p:1,n:2,b:4,r:8,q:16,k:32},tte="pnbrqkPNBRQK",C5=[FE,Tv,Bh,bl],nte=7,rte=6,ote=1,ite=0,rv={[vr]:Ut.KSIDE_CASTLE,[bl]:Ut.QSIDE_CASTLE},fl={w:[{square:Et.a1,flag:Ut.QSIDE_CASTLE},{square:Et.h1,flag:Ut.KSIDE_CASTLE}],b:[{square:Et.a8,flag:Ut.QSIDE_CASTLE},{square:Et.h8,flag:Ut.KSIDE_CASTLE}]},ate={b:ote,w:rte},ste=["1-0","0-1","1/2-1/2","*"];function Lc(e){return e>>4}function hm(e){return e&15}function I8(e){return"0123456789".indexOf(e)!==-1}function Nr(e){const t=hm(e),n=Lc(e);return"abcdefgh".substring(t,t+1)+"87654321".substring(n,n+1)}function rh(e){return e===Qr?wi:Qr}function lte(e){const t=e.split(/\s+/);if(t.length!==6)return{ok:!1,error:"Invalid FEN: must contain six space-delimited fields"};const n=parseInt(t[5],10);if(isNaN(n)||n<=0)return{ok:!1,error:"Invalid FEN: move number must be a positive integer"};const r=parseInt(t[4],10);if(isNaN(r)||r<0)return{ok:!1,error:"Invalid FEN: half move counter number must be a non-negative integer"};if(!/^(-|[abcdefgh][36])$/.test(t[3]))return{ok:!1,error:"Invalid FEN: en-passant square is invalid"};if(/[^kKqQ-]/.test(t[2]))return{ok:!1,error:"Invalid FEN: castling availability is invalid"};if(!/^(w|b)$/.test(t[1]))return{ok:!1,error:"Invalid FEN: side-to-move is invalid"};const o=t[0].split("/");if(o.length!==8)return{ok:!1,error:"Invalid FEN: piece data does not contain 8 '/'-delimited rows"};for(let a=0;a<o.length;a++){let l=0,u=!1;for(let d=0;d<o[a].length;d++)if(I8(o[a][d])){if(u)return{ok:!1,error:"Invalid FEN: piece data is invalid (consecutive number)"};l+=parseInt(o[a][d],10),u=!0}else{if(!/^[prnbqkPRNBQK]$/.test(o[a][d]))return{ok:!1,error:"Invalid FEN: piece data is invalid (invalid piece)"};l+=1,u=!1}if(l!==8)return{ok:!1,error:"Invalid FEN: piece data is invalid (too many squares in rank)"}}if(t[3][1]=="3"&&t[1]=="w"||t[3][1]=="6"&&t[1]=="b")return{ok:!1,error:"Invalid FEN: illegal en-passant square"};const i=[{color:"white",regex:/K/g},{color:"black",regex:/k/g}];for(const{color:a,regex:l}of i){if(!l.test(t[0]))return{ok:!1,error:`Invalid FEN: missing ${a} king`};if((t[0].match(l)||[]).length>1)return{ok:!1,error:`Invalid FEN: too many ${a} kings`}}return Array.from(o[0]+o[7]).some(a=>a.toUpperCase()==="P")?{ok:!1,error:"Invalid FEN: some pawns are on the edge rows"}:{ok:!0}}function cte(e,t){const n=e.from,r=e.to,o=e.piece;let i=0,a=0,l=0;for(let u=0,d=t.length;u<d;u++){const f=t[u].from,m=t[u].to,g=t[u].piece;o===g&&n!==f&&r===m&&(i++,Lc(n)===Lc(f)&&a++,hm(n)===hm(f)&&l++)}return i>0?a>0&&l>0?Nr(n):l>0?Nr(n).charAt(1):Nr(n).charAt(0):""}function hl(e,t,n,r,o,i=void 0,a=Ut.NORMAL){const l=Lc(r);if(o===Mr&&(l===nte||l===ite))for(let u=0;u<C5.length;u++){const d=C5[u];e.push({color:t,from:n,to:r,piece:o,captured:i,promotion:d,flags:a|Ut.PROMOTION})}else e.push({color:t,from:n,to:r,piece:o,captured:i,flags:a})}function k5(e){let t=e.charAt(0);return t>="a"&&t<="h"?e.match(/[a-h]\d.*[a-h]\d/)?void 0:Mr:(t=t.toLowerCase(),t==="o"?vr:t)}function $C(e){return e.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}function zC(e){return e.split(" ").slice(0,4).join(" ")}class ute{constructor(t=GC,{skipValidation:n=!1}={}){z(this,"_board",new Array(128));z(this,"_turn",Qr);z(this,"_header",{});z(this,"_kings",{w:Ao,b:Ao});z(this,"_epSquare",-1);z(this,"_halfMoves",0);z(this,"_moveNumber",0);z(this,"_history",[]);z(this,"_comments",{});z(this,"_castling",{w:0,b:0});z(this,"_positionCount",{});this.load(t,{skipValidation:n})}clear({preserveHeaders:t=!1}={}){this._board=new Array(128),this._kings={w:Ao,b:Ao},this._turn=Qr,this._castling={w:0,b:0},this._epSquare=Ao,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=t?this._header:{...Yee},this._positionCount={},this._header.SetUp=null,this._header.FEN=null}load(t,{skipValidation:n=!1,preserveHeaders:r=!1}={}){let o=t.split(/\s+/);if(o.length>=2&&o.length<6){const l=["-","-","0","1"];t=o.concat(l.slice(-(6-o.length))).join(" ")}if(o=t.split(/\s+/),!n){const{ok:l,error:u}=lte(t);if(!l)throw new Error(u)}const i=o[0];let a=0;this.clear({preserveHeaders:r});for(let l=0;l<i.length;l++){const u=i.charAt(l);if(u==="/")a+=8;else if(I8(u))a+=parseInt(u,10);else{const d=u<"a"?Qr:wi;this._put({type:u.toLowerCase(),color:d},Nr(a)),a++}}this._turn=o[1],o[2].indexOf("K")>-1&&(this._castling.w|=Ut.KSIDE_CASTLE),o[2].indexOf("Q")>-1&&(this._castling.w|=Ut.QSIDE_CASTLE),o[2].indexOf("k")>-1&&(this._castling.b|=Ut.KSIDE_CASTLE),o[2].indexOf("q")>-1&&(this._castling.b|=Ut.QSIDE_CASTLE),this._epSquare=o[3]==="-"?Ao:Et[o[3]],this._halfMoves=parseInt(o[4],10),this._moveNumber=parseInt(o[5],10),this._updateSetup(t),this._incPositionCount(t)}fen(){var i,a;let t=0,n="";for(let l=Et.a8;l<=Et.h1;l++){if(this._board[l]){t>0&&(n+=t,t=0);const{color:u,type:d}=this._board[l];n+=u===Qr?d.toUpperCase():d.toLowerCase()}else t++;l+1&136&&(t>0&&(n+=t),l!==Et.h1&&(n+="/"),t=0,l+=8)}let r="";this._castling[Qr]&Ut.KSIDE_CASTLE&&(r+="K"),this._castling[Qr]&Ut.QSIDE_CASTLE&&(r+="Q"),this._castling[wi]&Ut.KSIDE_CASTLE&&(r+="k"),this._castling[wi]&Ut.QSIDE_CASTLE&&(r+="q"),r=r||"-";let o="-";if(this._epSquare!==Ao){const l=this._epSquare+(this._turn===Qr?16:-16),u=[l+1,l-1];for(const d of u){if(d&136)continue;const f=this._turn;if(((i=this._board[d])==null?void 0:i.color)===f&&((a=this._board[d])==null?void 0:a.type)===Mr){this._makeMove({color:f,from:d,to:this._epSquare,piece:Mr,captured:Mr,flags:Ut.EP_CAPTURE});const m=!this._isKingAttacked(f);if(this._undoMove(),m){o=Nr(this._epSquare);break}}}}return[n,this._turn,r,o,this._halfMoves,this._moveNumber].join(" ")}_updateSetup(t){this._history.length>0||(t!==GC?(this._header.SetUp="1",this._header.FEN=t):(this._header.SetUp=null,this._header.FEN=null))}reset(){this.load(GC)}get(t){return this._board[Et[t]]}findPiece(t){var r;const n=[];for(let o=Et.a8;o<=Et.h1;o++){if(o&136){o+=7;continue}!this._board[o]||((r=this._board[o])==null?void 0:r.color)!==t.color||this._board[o].color===t.color&&this._board[o].type===t.type&&n.push(Nr(o))}return n}put({type:t,color:n},r){return this._put({type:t,color:n},r)?(this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),!0):!1}_put({type:t,color:n},r){if(tte.indexOf(t.toLowerCase())===-1||!(r in Et))return!1;const o=Et[r];if(t==vr&&!(this._kings[n]==Ao||this._kings[n]==o))return!1;const i=this._board[o];return i&&i.type===vr&&(this._kings[i.color]=Ao),this._board[o]={type:t,color:n},t===vr&&(this._kings[n]=o),!0}remove(t){const n=this.get(t);return delete this._board[Et[t]],n&&n.type===vr&&(this._kings[n.color]=Ao),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),n}_updateCastlingRights(){var r,o,i,a,l,u,d,f,m,g,v,y;const t=((r=this._board[Et.e1])==null?void 0:r.type)===vr&&((o=this._board[Et.e1])==null?void 0:o.color)===Qr,n=((i=this._board[Et.e8])==null?void 0:i.type)===vr&&((a=this._board[Et.e8])==null?void 0:a.color)===wi;(!t||((l=this._board[Et.a1])==null?void 0:l.type)!==Bh||((u=this._board[Et.a1])==null?void 0:u.color)!==Qr)&&(this._castling.w&=-65),(!t||((d=this._board[Et.h1])==null?void 0:d.type)!==Bh||((f=this._board[Et.h1])==null?void 0:f.color)!==Qr)&&(this._castling.w&=-33),(!n||((m=this._board[Et.a8])==null?void 0:m.type)!==Bh||((g=this._board[Et.a8])==null?void 0:g.color)!==wi)&&(this._castling.b&=-65),(!n||((v=this._board[Et.h8])==null?void 0:v.type)!==Bh||((y=this._board[Et.h8])==null?void 0:y.color)!==wi)&&(this._castling.b&=-33)}_updateEnPassantSquare(){var i,a;if(this._epSquare===Ao)return;const t=this._epSquare+(this._turn===Qr?-16:16),n=this._epSquare+(this._turn===Qr?16:-16),r=[n+1,n-1];if(this._board[t]!==null||this._board[this._epSquare]!==null||((i=this._board[n])==null?void 0:i.color)!==rh(this._turn)||((a=this._board[n])==null?void 0:a.type)!==Mr){this._epSquare=Ao;return}const o=l=>{var u,d;return!(l&136)&&((u=this._board[l])==null?void 0:u.color)===this._turn&&((d=this._board[l])==null?void 0:d.type)===Mr};r.some(o)||(this._epSquare=Ao)}_attacked(t,n,r){const o=[];for(let i=Et.a8;i<=Et.h1;i++){if(i&136){i+=7;continue}if(this._board[i]===void 0||this._board[i].color!==t)continue;const a=this._board[i],l=i-n;if(l===0)continue;const u=l+119;if(Kee[u]&ete[a.type]){if(a.type===Mr){if(l>0&&a.color===Qr||l<=0&&a.color===wi)if(r)o.push(Nr(i));else return!0;continue}if(a.type==="n"||a.type==="k")if(r){o.push(Nr(i));continue}else return!0;const d=Xee[u];let f=i+d,m=!1;for(;f!==n;){if(this._board[f]!=null){m=!0;break}f+=d}if(!m)if(r){o.push(Nr(i));continue}else return!0}}return r?o:!1}attackers(t,n){return n?this._attacked(n,Et[t],!0):this._attacked(this._turn,Et[t],!0)}_isKingAttacked(t){const n=this._kings[t];return n===-1?!1:this._attacked(rh(t),n)}isAttacked(t,n){return this._attacked(n,Et[t])}isCheck(){return this._isKingAttacked(this._turn)}inCheck(){return this.isCheck()}isCheckmate(){return this.isCheck()&&this._moves().length===0}isStalemate(){return!this.isCheck()&&this._moves().length===0}isInsufficientMaterial(){const t={b:0,n:0,r:0,q:0,k:0,p:0},n=[];let r=0,o=0;for(let i=Et.a8;i<=Et.h1;i++){if(o=(o+1)%2,i&136){i+=7;continue}const a=this._board[i];a&&(t[a.type]=a.type in t?t[a.type]+1:1,a.type===Tv&&n.push(o),r++)}if(r===2)return!0;if(r===3&&(t[Tv]===1||t[FE]===1))return!0;if(r===t[Tv]+2){let i=0;const a=n.length;for(let l=0;l<a;l++)i+=n[l];if(i===0||i===a)return!0}return!1}isThreefoldRepetition(){return this._getPositionCount(this.fen())>=3}isDrawByFiftyMoves(){return this._halfMoves>=100}isDraw(){return this.isDrawByFiftyMoves()||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}isGameOver(){return this.isCheckmate()||this.isStalemate()||this.isDraw()}moves({verbose:t=!1,square:n=void 0,piece:r=void 0}={}){const o=this._moves({square:n,piece:r});return t?o.map(i=>new nv(this,i)):o.map(i=>this._moveToSan(i,o))}_moves({legal:t=!0,piece:n=void 0,square:r=void 0}={}){var v;const o=r?r.toLowerCase():void 0,i=n==null?void 0:n.toLowerCase(),a=[],l=this._turn,u=rh(l);let d=Et.a8,f=Et.h1,m=!1;if(o)if(o in Et)d=f=Et[o],m=!0;else return[];for(let y=d;y<=f;y++){if(y&136){y+=7;continue}if(!this._board[y]||this._board[y].color===u)continue;const{type:_}=this._board[y];let b;if(_===Mr){if(i&&i!==_)continue;b=y+jC[l][0],this._board[b]||(hl(a,l,y,b,Mr),b=y+jC[l][1],ate[l]===Lc(y)&&!this._board[b]&&hl(a,l,y,b,Mr,void 0,Ut.BIG_PAWN));for(let E=2;E<4;E++)b=y+jC[l][E],!(b&136)&&(((v=this._board[b])==null?void 0:v.color)===u?hl(a,l,y,b,Mr,this._board[b].type,Ut.CAPTURE):b===this._epSquare&&hl(a,l,y,b,Mr,Mr,Ut.EP_CAPTURE))}else{if(i&&i!==_)continue;for(let E=0,A=A5[_].length;E<A;E++){const C=A5[_][E];for(b=y;b+=C,!(b&136);){if(!this._board[b])hl(a,l,y,b,_);else{if(this._board[b].color===l)break;hl(a,l,y,b,_,this._board[b].type,Ut.CAPTURE);break}if(_===FE||_===vr)break}}}}if((i===void 0||i===vr)&&(!m||f===this._kings[l])){if(this._castling[l]&Ut.KSIDE_CASTLE){const y=this._kings[l],_=y+2;!this._board[y+1]&&!this._board[_]&&!this._attacked(u,this._kings[l])&&!this._attacked(u,y+1)&&!this._attacked(u,_)&&hl(a,l,this._kings[l],_,vr,void 0,Ut.KSIDE_CASTLE)}if(this._castling[l]&Ut.QSIDE_CASTLE){const y=this._kings[l],_=y-2;!this._board[y-1]&&!this._board[y-2]&&!this._board[y-3]&&!this._attacked(u,this._kings[l])&&!this._attacked(u,y-1)&&!this._attacked(u,_)&&hl(a,l,this._kings[l],_,vr,void 0,Ut.QSIDE_CASTLE)}}if(!t||this._kings[l]===-1)return a;const g=[];for(let y=0,_=a.length;y<_;y++)this._makeMove(a[y]),this._isKingAttacked(l)||g.push(a[y]),this._undoMove();return g}move(t,{strict:n=!1}={}){let r=null;if(typeof t=="string")r=this._moveFromSan(t,n);else if(typeof t=="object"){const i=this._moves();for(let a=0,l=i.length;a<l;a++)if(t.from===Nr(i[a].from)&&t.to===Nr(i[a].to)&&(!("promotion"in i[a])||t.promotion===i[a].promotion)){r=i[a];break}}if(!r)throw typeof t=="string"?new Error(`Invalid move: ${t}`):new Error(`Invalid move: ${JSON.stringify(t)}`);const o=new nv(this,r);return this._makeMove(r),this._incPositionCount(o.after),o}_push(t){this._history.push({move:t,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}_makeMove(t){const n=this._turn,r=rh(n);if(this._push(t),this._board[t.to]=this._board[t.from],delete this._board[t.from],t.flags&Ut.EP_CAPTURE&&(this._turn===wi?delete this._board[t.to-16]:delete this._board[t.to+16]),t.promotion&&(this._board[t.to]={type:t.promotion,color:n}),this._board[t.to].type===vr){if(this._kings[n]=t.to,t.flags&Ut.KSIDE_CASTLE){const o=t.to-1,i=t.to+1;this._board[o]=this._board[i],delete this._board[i]}else if(t.flags&Ut.QSIDE_CASTLE){const o=t.to+1,i=t.to-2;this._board[o]=this._board[i],delete this._board[i]}this._castling[n]=0}if(this._castling[n]){for(let o=0,i=fl[n].length;o<i;o++)if(t.from===fl[n][o].square&&this._castling[n]&fl[n][o].flag){this._castling[n]^=fl[n][o].flag;break}}if(this._castling[r]){for(let o=0,i=fl[r].length;o<i;o++)if(t.to===fl[r][o].square&&this._castling[r]&fl[r][o].flag){this._castling[r]^=fl[r][o].flag;break}}t.flags&Ut.BIG_PAWN?n===wi?this._epSquare=t.to-16:this._epSquare=t.to+16:this._epSquare=Ao,t.piece===Mr?this._halfMoves=0:t.flags&(Ut.CAPTURE|Ut.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,n===wi&&this._moveNumber++,this._turn=r}undo(){const t=this._undoMove();if(t){const n=new nv(this,t);return this._decPositionCount(n.after),n}return null}_undoMove(){const t=this._history.pop();if(t===void 0)return null;const n=t.move;this._kings=t.kings,this._turn=t.turn,this._castling=t.castling,this._epSquare=t.epSquare,this._halfMoves=t.halfMoves,this._moveNumber=t.moveNumber;const r=this._turn,o=rh(r);if(this._board[n.from]=this._board[n.to],this._board[n.from].type=n.piece,delete this._board[n.to],n.captured)if(n.flags&Ut.EP_CAPTURE){let i;r===wi?i=n.to-16:i=n.to+16,this._board[i]={type:Mr,color:o}}else this._board[n.to]={type:n.captured,color:o};if(n.flags&(Ut.KSIDE_CASTLE|Ut.QSIDE_CASTLE)){let i,a;n.flags&Ut.KSIDE_CASTLE?(i=n.to+1,a=n.to-1):(i=n.to-2,a=n.to+1),this._board[i]=this._board[a],delete this._board[a]}return n}pgn({newline:t=`
`,maxWidth:n=0}={}){const r=[];let o=!1;for(const g in this._header)this._header[g]&&r.push(`[${g} "${this._header[g]}"]`+t),o=!0;o&&this._history.length&&r.push(t);const i=g=>{const v=this._comments[this.fen()];if(typeof v<"u"){const y=g.length>0?" ":"";g=`${g}${y}{${v}}`}return g},a=[];for(;this._history.length>0;)a.push(this._undoMove());const l=[];let u="";for(a.length===0&&l.push(i(""));a.length>0;){u=i(u);const g=a.pop();if(!g)break;if(!this._history.length&&g.color==="b"){const v=`${this._moveNumber}. ...`;u=u?`${u} ${v}`:v}else g.color==="w"&&(u.length&&l.push(u),u=this._moveNumber+".");u=u+" "+this._moveToSan(g,this._moves({legal:!0})),this._makeMove(g)}if(u.length&&l.push(i(u)),l.push(this._header.Result||"*"),n===0)return r.join("")+l.join(" ");const d=function(){return r.length>0&&r[r.length-1]===" "?(r.pop(),!0):!1},f=function(g,v){for(const y of v.split(" "))if(y){if(g+y.length>n){for(;d();)g--;r.push(t),g=0}r.push(y),g+=y.length,r.push(" "),g++}return d()&&g--,g};let m=0;for(let g=0;g<l.length;g++){if(m+l[g].length>n&&l[g].includes("{")){m=f(m,l[g]);continue}m+l[g].length>n&&g!==0?(r[r.length-1]===" "&&r.pop(),r.push(t),m=0):g!==0&&(r.push(" "),m++),r.push(l[g]),m+=l[g].length}return r.join("")}header(...t){for(let n=0;n<t.length;n+=2)typeof t[n]=="string"&&typeof t[n+1]=="string"&&(this._header[t[n]]=t[n+1]);return this._header}setHeader(t,n){return this._header[t]=n??GE[t]??null,this.getHeaders()}removeHeader(t){return t in this._header?(this._header[t]=GE[t]||null,!0):!1}getHeaders(){const t={};for(const[n,r]of Object.entries(this._header))r!==null&&(t[n]=r);return t}loadPgn(t,{strict:n=!1,newlineChar:r=`\r?
`}={}){function o(C){return C.replace(/\\/g,"\\")}function i(C){const M={},T=C.split(new RegExp(o(r)));let I="",P="";for(let B=0;B<T.length;B++){const R=/^\s*\[\s*([A-Za-z]+)\s*"(.*)"\s*\]\s*$/;I=T[B].replace(R,"$1"),P=T[B].replace(R,"$2"),I.trim().length>0&&(M[I]=P)}return M}t=t.trim();const l=new RegExp("^(\\[((?:"+o(r)+")|.)*\\])((?:\\s*"+o(r)+"){2}|(?:\\s*"+o(r)+")*$)").exec(t),u=l&&l.length>=2?l[1]:"";this.reset();const d=i(u);let f="";for(const C in d)C.toLowerCase()==="fen"&&(f=d[C]),this.header(C,d[C]);if(!n)f&&this.load(f,{preserveHeaders:!0});else if(d.SetUp==="1"){if(!("FEN"in d))throw new Error("Invalid PGN: FEN tag must be supplied with SetUp tag");this.load(d.FEN,{preserveHeaders:!0})}function m(C){return Array.from(C).map(function(M){return M.charCodeAt(0)<128?M.charCodeAt(0).toString(16):encodeURIComponent(M).replace(/%/g,"").toLowerCase()}).join("")}function g(C){return C.length==0?"":decodeURIComponent("%"+(C.match(/.{1,2}/g)||[]).join("%"))}const v=function(C){return C=C.replace(new RegExp(o(r),"g")," "),`{${m(C.slice(1,C.length-1))}}`},y=function(C){if(C.startsWith("{")&&C.endsWith("}"))return g(C.slice(1,C.length-1))};let _=t.replace(u,"").replace(new RegExp(`({[^}]*})+?|;([^${o(r)}]*)`,"g"),function(C,M,T){return M!==void 0?v(M):" "+v(`{${T.slice(1)}}`)}).replace(new RegExp(o(r),"g")," ");const b=/(\([^()]+\))+?/g;for(;b.test(_);)_=_.replace(b,"");_=_.replace(/\d+\.(\.\.)?/g,""),_=_.replace(/\.\.\./g,""),_=_.replace(/\$\d+/g,"");let E=_.trim().split(new RegExp(/\s+/));E=E.filter(C=>C!=="");let A="";for(let C=0;C<E.length;C++){const M=y(E[C]);if(M!==void 0){this._comments[this.fen()]=M;continue}const T=this._moveFromSan(E[C],n);if(T==null)if(ste.indexOf(E[C])>-1)A=E[C];else throw new Error(`Invalid move in PGN: ${E[C]}`);else A="",this._makeMove(T),this._incPositionCount(this.fen())}A&&Object.keys(this._header).length&&this._header.Result!==A&&this.setHeader("Result",A)}_moveToSan(t,n){let r="";if(t.flags&Ut.KSIDE_CASTLE)r="O-O";else if(t.flags&Ut.QSIDE_CASTLE)r="O-O-O";else{if(t.piece!==Mr){const o=cte(t,n);r+=t.piece.toUpperCase()+o}t.flags&(Ut.CAPTURE|Ut.EP_CAPTURE)&&(t.piece===Mr&&(r+=Nr(t.from)[0]),r+="x"),r+=Nr(t.to),t.promotion&&(r+="="+t.promotion.toUpperCase())}return this._makeMove(t),this.isCheck()&&(this.isCheckmate()?r+="#":r+="+"),this._undoMove(),r}_moveFromSan(t,n=!1){const r=$C(t);let o=k5(r),i=this._moves({legal:!0,piece:o});for(let g=0,v=i.length;g<v;g++)if(r===$C(this._moveToSan(i[g],i)))return i[g];if(n)return null;let a,l,u,d,f,m=!1;if(l=r.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/),l?(a=l[1],u=l[2],d=l[3],f=l[4],u.length==1&&(m=!0)):(l=r.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/),l&&(a=l[1],u=l[2],d=l[3],f=l[4],u.length==1&&(m=!0))),o=k5(r),i=this._moves({legal:!0,piece:a||o}),!d)return null;for(let g=0,v=i.length;g<v;g++)if(u){if((!a||a.toLowerCase()==i[g].piece)&&Et[u]==i[g].from&&Et[d]==i[g].to&&(!f||f.toLowerCase()==i[g].promotion))return i[g];if(m){const y=Nr(i[g].from);if((!a||a.toLowerCase()==i[g].piece)&&Et[d]==i[g].to&&(u==y[0]||u==y[1])&&(!f||f.toLowerCase()==i[g].promotion))return i[g]}}else if(r===$C(this._moveToSan(i[g],i)).replace("x",""))return i[g];return null}ascii(){let t=`   +------------------------+
`;for(let n=Et.a8;n<=Et.h1;n++){if(hm(n)===0&&(t+=" "+"87654321"[Lc(n)]+" |"),this._board[n]){const r=this._board[n].type,i=this._board[n].color===Qr?r.toUpperCase():r.toLowerCase();t+=" "+i+" "}else t+=" . ";n+1&136&&(t+=`|
`,n+=8)}return t+=`   +------------------------+
`,t+="     a  b  c  d  e  f  g  h",t}perft(t){const n=this._moves({legal:!1});let r=0;const o=this._turn;for(let i=0,a=n.length;i<a;i++)this._makeMove(n[i]),this._isKingAttacked(o)||(t-1>0?r+=this.perft(t-1):r++),this._undoMove();return r}turn(){return this._turn}board(){const t=[];let n=[];for(let r=Et.a8;r<=Et.h1;r++)this._board[r]==null?n.push(null):n.push({square:Nr(r),type:this._board[r].type,color:this._board[r].color}),r+1&136&&(t.push(n),n=[],r+=8);return t}squareColor(t){if(t in Et){const n=Et[t];return(Lc(n)+hm(n))%2===0?"light":"dark"}return null}history({verbose:t=!1}={}){const n=[],r=[];for(;this._history.length>0;)n.push(this._undoMove());for(;;){const o=n.pop();if(!o)break;t?r.push(new nv(this,o)):r.push(this._moveToSan(o,this._moves())),this._makeMove(o)}return r}_getPositionCount(t){const n=zC(t);return this._positionCount[n]||0}_incPositionCount(t){const n=zC(t);this._positionCount[n]===void 0&&(this._positionCount[n]=0),this._positionCount[n]+=1}_decPositionCount(t){const n=zC(t);this._positionCount[n]===1?delete this._positionCount[n]:this._positionCount[n]-=1}_pruneComments(){const t=[],n={},r=o=>{o in this._comments&&(n[o]=this._comments[o])};for(;this._history.length>0;)t.push(this._undoMove());for(r(this.fen());;){const o=t.pop();if(!o)break;this._makeMove(o),r(this.fen())}this._comments=n}getComment(){return this._comments[this.fen()]}setComment(t){this._comments[this.fen()]=t.replace("{","[").replace("}","]")}deleteComment(){return this.removeComment()}removeComment(){const t=this._comments[this.fen()];return delete this._comments[this.fen()],t}getComments(){return this._pruneComments(),Object.keys(this._comments).map(t=>({fen:t,comment:this._comments[t]}))}deleteComments(){return this.removeComments()}removeComments(){return this._pruneComments(),Object.keys(this._comments).map(t=>{const n=this._comments[t];return delete this._comments[t],{fen:t,comment:n}})}setCastlingRights(t,n){for(const o of[vr,bl])n[o]!==void 0&&(n[o]?this._castling[t]|=rv[o]:this._castling[t]&=~rv[o]);this._updateCastlingRights();const r=this.getCastlingRights(t);return(n[vr]===void 0||n[vr]===r[vr])&&(n[bl]===void 0||n[bl]===r[bl])}getCastlingRights(t){return{[vr]:(this._castling[t]&rv[vr])!==0,[bl]:(this._castling[t]&rv[bl])!==0}}moveNumber(){return this._moveNumber}}const TRe=(e,t)=>Wa[e]+(8-t),IRe=e=>(Wa.indexOf(e[0])+Number(e[1]))%2===0?lt.White:lt.Black,dte=e=>({x:e.charCodeAt(0)-97+1,y:+e[1]}),fte=e=>{const{x:t,y:n}=dte(e);return{rowI:7-(n-1),colI:t-1}},E5=e=>{const t=e.charCodeAt(0)-97,n=+e[1]-1;let r=8*(7-n)+t;if(n%2===0&&r++,(r-1)%2===0)return(r-1)/2},L8=e=>{const t=e%8,n=7-Math.floor(e/8);return{i:e,rowI:n,colI:t,square:`${Wa[t]}${XZ[n]}`,color:(()=>{let r=e;return Math.floor(r/8)%2!==0&&r++,r%2===0?lt.White:lt.Black})()}},LRe=e=>{const{rowI:t,colI:n}=fte(e),r=t*8+n;return L8(r)},UC=new Map,DRe=e=>{if(e&&e.type&&e.color&&(!$l||!e.cellBefore)){const t=`${e.type}-${e.color}`;return UC.has(t)||UC.set(t,{type:e.type,color:e.color}),UC.get(t)}},vs=new Map,NRe=(e,t,n)=>{var r;if(t!=null&&t.cellBefore){const o=`${t.cellBefore.type}-${t.cellBefore.color}-captured`;return vs.has(o)||vs.set(o,{type:t.cellBefore.type,color:t.cellBefore.color,isCaptured:!0}),vs.get(o)}if(((r=n==null?void 0:n.move)==null?void 0:r.from)===e){const o=`${n.type}-${n.color}-moved`;return vs.has(o)||vs.set(o,{type:n.type,color:n.color,isCaptured:!1}),vs.get(o)}if(t&&!t.move&&!t.cellBefore){const o=`${t.type}-${t.color}-stayed`;return vs.has(o)||vs.set(o,{type:t.type,color:t.color,isCaptured:!1}),vs.get(o)}},hte={board:new Array(8).fill(new Array(8).fill(null)),fen:""},FRe=(e,t)=>e.fen===t.fen;new ute;const mte=(e,t=0)=>Math.floor(Math.random()*(e-t)+t),gte=e=>e[mte(e.length)];var da=(e=>(e[e.DEFAULT=0]="DEFAULT",e[e.BLOCK=1]="BLOCK",e[e.MUTE=2]="MUTE",e))(da||{});const j0=(e,t)=>me.isYandex()?!["",""].includes(e.e):!0,Jc=[{header:"",emotions:[{e:"",s:4},{e:"",s:2},{e:"",s:1},{e:"",s:13},{e:"",s:1},{e:"",s:3},{e:"",s:1},{e:"",s:1},{e:"",s:3},{e:"",s:2},{e:"",s:1},{e:"",s:1},{e:"",s:1},{e:"",s:1},{e:"",s:1},{e:"",s:1},{e:"",s:1},{e:"",s:3},{e:"",s:2},{e:"",s:2},{e:"",s:2},{e:"",s:3},{e:"",s:3},{e:"",s:4},{e:"",s:1}].filter(j0)},{header:"",emotions:[{e:"",s:1},{e:"",s:1},{e:"",s:1},{e:"",s:2},{e:"",s:1},{e:"",s:1},{e:"",s:1},{e:"",s:1},{e:"",s:1},{e:"",s:1},{e:"",s:2},{e:"",s:2},{e:"",s:1},{e:"",s:1},{e:"",s:1},{e:"",s:1},{e:"",s:1},{e:"",s:1},{e:"",s:1},{e:"",s:4},{e:"",s:1},{e:"",s:1},{e:"",s:3},{e:"",s:3},{e:"",s:4},{e:"",s:1},{e:"",s:1},{e:"",s:2},{e:"",s:2},{e:"",s:2},{e:"",s:1},{e:"",s:1}]},{header:"",emotions:[{e:"",s:3},{e:"",s:1},{e:"",s:1},{e:"",s:1},{e:"",s:1},{e:"",s:3},{e:"",s:2},{e:"",s:3},{e:"",s:1},{e:"",s:2},{e:"",s:1},{e:"",s:5},{e:"",s:1},{e:"",s:1},{e:"",s:1},{e:"",s:1},{e:"",s:3},{e:"",s:1},{e:"",s:1},{e:"",s:1},{e:"",s:2},{e:"",s:1},{e:"",s:2},{e:"",s:3},{e:"",s:2},{e:"",s:3},{e:"",s:3}]},{header:"",emotions:[{e:"",s:6},{e:"",s:4},{e:"",s:2},{e:"",s:2},{e:"",s:1},{e:"",s:1},{e:"",s:1},{e:"",s:1},{e:"",s:1},{e:"",s:2},{e:"",s:1},{e:"",s:2},{e:"",s:7},{e:"",s:2},{e:"",s:1},{e:"",s:2},{e:"",s:3},{e:"",s:2},{e:"",s:2},{e:"",s:1},{e:"",s:1},{e:"",s:1}]}],pte=()=>gte(Jc[0].emotions),Vh=4e3,jE=250;var xe=(e=>(e.InGame="inGame",e.AfterGame="afterGame",e.GameAISettings="GameAISettings",e.GameFriendSettings="GameFriendSettings",e.GameSingleSettings="GameSingleSettings",e.GameAnalyze="GameAnalyze",e.Menu="menu",e.NewGame="newGame",e))(xe||{}),re=(e=>(e.Single="Single",e.AI="AI",e.FakeOnline="FakeOnline",e.TogetherOnline="TogetherOnline",e.Together="Together",e.Online="Online",e))(re||{});const vte=e=>["Online","TogetherOnline","Together"].includes(e);var ht=(e=>(e.Victory="victory",e.Defeat="defeat",e.WhitesVictory="whitesVictory",e.BlacksVictory="blacksVictory",e.Draw="draw",e))(ht||{});const yte=e=>e==="draw";var ni=(e=>(e.Victory="victory",e.Defeat="defeat",e.Draw="draw",e))(ni||{}),Ja=(e=>(e.UndoMove="Undo move",e.UndoFatalMove="Undo fatal move",e.SingleHint="Single hint",e.AllHints="All hints",e.Handicap="Handicap",e.Analysis="Watch Analysis",e.Rematch="Rematch",e.UnlockFigures="Unlock figures",e.UnlockBoard="Unlock board",e.EarnGem="Earn gem",e.EarnGold="Earn gold",e.DoubleDailyBonus="Double daily bonus",e))(Ja||{}),Jr=(e=>(e.Draw="draw",e.Checkmate="checkmate",e.DrawStalemate="drawStalemate",e.DrawRepeatingPosition="drawRepeatingPosition",e.Draw50Moves="draw50Moves",e.DrawLackOfMaterial="drawLackOfMaterial",e.AllCheckersBlocked="all_checkers_blocked",e.NotMakeFirstMoveBeforeStartLimit="not_make_first_move_before_start_limit",e))(Jr||{});const _te=e=>["draw","checkmate","drawStalemate","drawRepeatingPosition","draw50Moves","drawLackOfMaterial","all_checkers_blocked"].includes(e);var xt=(e=>(e[e.OFFLINE=0]="OFFLINE",e[e.PASSIVE_SEARCH_CONNECTING=1]="PASSIVE_SEARCH_CONNECTING",e[e.PASSIVE_SEARCH_RECONNECTING=2]="PASSIVE_SEARCH_RECONNECTING",e[e.PASSIVE_SEARCH_ERROR=3]="PASSIVE_SEARCH_ERROR",e[e.PASSIVE_SEARCH=4]="PASSIVE_SEARCH",e[e.PASSIVE_GAME_CONFIRMATION=5]="PASSIVE_GAME_CONFIRMATION",e[e.ACTIVE_SEARCH_CONNECTING=6]="ACTIVE_SEARCH_CONNECTING",e[e.ACTIVE_SEARCH=7]="ACTIVE_SEARCH",e[e.WAIT_FRIEND=8]="WAIT_FRIEND",e[e.GAME_PLAY=9]="GAME_PLAY",e[e.GAME_PLAY_ENDED=10]="GAME_PLAY_ENDED",e))(xt||{});const bte={0:"Offline",1:"PASSIVE_SEARCH_CONNECTING",2:"PASSIVE_SEARCH_RECONNECTING",3:"PASSIVE_SEARCH_ERROR",4:"PASSIVE_SEARCH",5:"PASSIVE_GAME_CONFIRMATION",6:"ACTIVE_SEARCH_CONNECTING",7:"ACTIVE_SEARCH",8:"WAIT_FRIEND",9:"GAME_PLAY",10:"GAME_PLAY_ENDED"};var Dc=(e=>(e.Passive="passive",e.Active="active",e.Invite="invite",e))(Dc||{}),Zc;(e=>{e.noop=()=>{},e.emptyArr=[],e.trueOrUndef=g=>g?!0:void 0,e.falsyToUndef=g=>g||void 0;function t(g){return g!=null}e.exists=t;function n(g){return g==null}e.notExists=n;function r(g){return typeof g=="string"}e.isstring=r;function o(g){return typeof g=="number"}e.isnumber=o;function i(g){return typeof g=="object"&&g!==null}e.isobject=i;function a(g){return typeof g=="function"}e.isfunction=a;function l(g){return g instanceof Object}e.isObject=l;function u(g){return g instanceof Array}e.isArray=u;function d(g){return g instanceof Function}e.isFunction=d;function f(g){return typeof g=="number"&&isFinite(g)}e.isFinitenumber=f;function m(g){return typeof g=="number"&&Number.isInteger(g)}e.isInt=m,e.defaultPredicate=g=>!!g,e.defaultComparatorEq=(g,v)=>g===v,e.mapNaN=(g,v)=>isNaN(g)||!isFinite(g)?v:g,e.mapNotnumber=(g,v)=>o(g)?g:v,e.mapNotnumberOrNaN=(g,v)=>o(g)&&!isNaN(g)?g:v,e.mapNotnumberOrNegative=(g,v)=>o(g)&&g>=0?g:v,e.mapNotnumberOrNotNull=(g,v)=>o(g)&&g===null?g:v})(Zc||(Zc={}));const wte=()=>{const e=r2.getCohort(o2.Rewarded10LimitPerDay);return e?e===i2.Enabled:!1},Ste=()=>{const e=r2.getCohort(o2.WithOutAdvInGameExp);return e?e===i2.Enabled:!1},Ate=()=>{if(me.isCrazyGames())return!0;const e=r2.getCohort(o2.DesignUnlockProgressOneRewardedExp);return e?e===i2.Enabled:!1},Cte=()=>me.isYandex()?"2":"1",GRe=()=>{const e=Cte();return e?e==="2":!1},xs=Zc.isobject,D8=Zc.isFinitenumber,N8=Zc.isInt,kte=Zc.isArray;var yn=(e=>(e.Bullet="bullet",e.Blitz="blitz",e.Rapid="rapid",e.Classic="classic",e))(yn||{}),$E=(e=>(e.Figures="figures",e.Boards="boards",e))($E||{});const To=3,B5=()=>Ate()?To:1,Ete={[En.Chess]:500,[En.Saper]:400,[En.Domino]:1e3,[En.CheckersEn]:500,[En.CheckersRu]:500,[En.CheckersPoddavki]:500},wn=()=>Ete[ts],F8=()=>({passivePriority:0}),Rh=()=>({counts:{total:0,[lt.White]:0,[lt.Black]:0},averageOpponentsRating:0}),zE=()=>({current:wn(),minimum:wn(),maximum:wn()}),UE=()=>({total:Rh(),[ht.Victory]:Rh(),[ht.Defeat]:Rh(),[ht.Draw]:Rh()}),ad=()=>({rating:zE(),games:UE(),withComputerRating:zE(),withComputerGames:UE()}),_y=()=>({boards:[],figures:[],boardsProgress:{},figuresProgress:{}}),Is=()=>({config:F8(),bullet:ad(),blitz:ad(),rapid:ad(),classic:ad(),unlockedDesigns:_y()}),Bte=()=>({score:0,onlineScore:0,withComputerScore:0,rating:wn(),withComputerRating:wn(),playerData:Is(),coins:0,premium:0,platform:me.getPlatformType()||"NONE"}),Rte=(e,t,n)=>{if(D8(e))return e;if(!t)throw new Error(`value must be finite number, but now is "${e}" `);return n},VC=(e,t,n)=>{if(N8(e)&&e>=0)return e;if(!t)throw new Error("value must be int >= 0");return n},Iv=(e,t,n)=>{if(D8(e)&&N8(e)&&e>=0&&e<=1e4)return e;if(!t)throw new Error(`value must be in 1-10000 number, but now is "${e}" `);return n},R5=(e,t,n)=>{if(kte(e))return e;if(!t)throw new Error(`value must be array, but now is "${e}"`);return n},x5=(e,t,n)=>{const r=n,o=Iv(e==null?void 0:e.maximum,t,r.maximum),i=Iv(e==null?void 0:e.current,t,r.current),a=Iv(e==null?void 0:e.minimum,t,r.minimum);if(!t){if(o<i)throw new Error('Player update is not valid because "<IRating>.maximum" is lower than "<IRating>.current"');if(a>i)throw new Error('Player update is not valid because "<IRating>.minimum" is greater than "<IRating>.current"');if(o<a)throw new Error('Player update is not valid because "<IRating>.maximum" is lower than "<IRating>.minimum"')}return{...xs(e)&&e,maximum:Math.max(o,i),current:i,minimum:Math.min(a,i)}},ov=(e,t,n)=>{var o,i,a;const r=n;return{...xs(e)&&e,counts:{...xs(e==null?void 0:e.counts)&&(e==null?void 0:e.counts),total:VC((o=e==null?void 0:e.counts)==null?void 0:o.total,t,r.counts.total),[lt.White]:VC((i=e==null?void 0:e.counts)==null?void 0:i[lt.White],t,r.counts[lt.White]),[lt.Black]:VC((a=e==null?void 0:e.counts)==null?void 0:a[lt.Black],t,r.counts[lt.Black])},averageOpponentsRating:Iv(e==null?void 0:e.averageOpponentsRating,t,r.averageOpponentsRating)}},O5=(e,t,n)=>{const r=n;return{...xs(e)&&e,total:ov(e==null?void 0:e.total,t,r.total),[ht.Defeat]:ov(e==null?void 0:e[ht.Defeat],t,r[ht.Defeat]),[ht.Draw]:ov(e==null?void 0:e[ht.Draw],t,r[ht.Draw]),[ht.Victory]:ov(e==null?void 0:e[ht.Victory],t,r[ht.Victory])}},iv=(e,t,n)=>{const r=n;return{...xs(e)&&e,rating:x5(e==null?void 0:e.rating,t,r.rating),withComputerRating:x5(e==null?void 0:e.withComputerRating,t,r.withComputerRating),games:O5(e==null?void 0:e.games,t,r.games),withComputerGames:O5(e==null?void 0:e.withComputerGames,t,r.withComputerGames)}},M5=(e,t,n,r)=>{const o={},i=e??r;return Object.keys(i).forEach(a=>{const l=i[a];if(!n&&!(l!==void 0&&Number.isFinite(l)&&l>=0&&l<=To))throw new Error(`value for ${a} be number 0-3, but now is "${l}"`);o[a]=Math.min(To,Math.max(0,l??0))}),t.forEach(a=>{o[a]=To}),o},xte=(e,t,n)=>{const r=n,o=R5(e==null?void 0:e.figures,t,r.figures),i=R5(e==null?void 0:e.boards,t,r.boards),a=M5(e==null?void 0:e.figuresProgress,o,t,r.figuresProgress),l=M5(e==null?void 0:e.boardsProgress,i,t,r.boardsProgress);return Object.keys(a).filter(u=>a[u]===To).forEach(u=>{o.includes(u)||o.push(u)}),Object.keys(l).filter(u=>l[u]===To).forEach(u=>{i.includes(u)||i.push(u)}),{...xs(e)&&e,figures:o,boards:i,figuresProgress:a,boardsProgress:l}},P5=(e,t=!1)=>{var o;const n=e,r=Is();return xs(n)?{...xs(n)&&n,config:{...xs(n==null?void 0:n.config)&&(n==null?void 0:n.config),passivePriority:Rte((o=n==null?void 0:n.config)==null?void 0:o.passivePriority,t,r.config.passivePriority)},bullet:iv(n==null?void 0:n.bullet,t,r.bullet),blitz:iv(n==null?void 0:n.blitz,t,r.blitz),rapid:iv(n==null?void 0:n.rapid,t,r.rapid),classic:iv(n==null?void 0:n.classic,t,r.classic),unlockedDesigns:xte(n==null?void 0:n.unlockedDesigns,t,r.unlockedDesigns)}:r},Ote=(e,t)=>JSON.stringify(e)===JSON.stringify(t),av=e=>e!==0&&e!==!1&&!e,Mte=e=>{if(!e)return!0;const t=Is();return["playerScore","blitz","rapid","config"].every(r=>av(e[r])||av(t[r])?!1:Object.keys(e[r]).every(o=>av(e[r][o])||av(t[r][o])?!1:Ote(e[r][o],t[r][o])))},ot="from-ai-game-modal",mt="from-friend-game-modal",Rt="from-root-position-absolute",Zt="from-game-control-button",Xe="from-game-board",Pte="from-board-settings-modal",St="item_change-language",_t={root:{button:{openMainScreen:`${Rt}__button_open-main-screen`,settings:{mobile:{openSettingsMenu:`${Rt}-mobile__button_open-settings-menu`,changeLanguageEn:`${Rt}-mobile__${St}-en`,changeLanguageRu:`${Rt}-mobile__${St}-ru`,changeLanguageEs:`${Rt}-mobile__${St}-es`,changeLanguagePt:`${Rt}-mobile__${St}-pt`,changeLanguageId:`${Rt}-mobile__${St}-id`,changeLanguageFr:`${Rt}-mobile__${St}-fr`,changeLanguageTr:`${Rt}-mobile__${St}-tr`,changeLanguageDe:`${Rt}-mobile__${St}-de`,changeLanguageZh:`${Rt}-mobile__${St}-zh`,changeLanguageAr:`${Rt}-mobile__${St}-ar`,changeLanguageVi:`${Rt}-mobile__${St}-vi`,changeLanguageIt:`${Rt}-mobile__${St}-it`,changeLanguageKo:`${Rt}-mobile__${St}-ko`,changeLanguageJa:`${Rt}-mobile__${St}-ja`,changeLanguagePl:`${Rt}-mobile__${St}-pl`,changeLanguageHi:`${Rt}-mobile__${St}-hi`,openLanguageMenu:`${Rt}-mobile__button_open-language-menu`,toggleSound:`${Rt}-mobile__toggle_sound`,toggleMusic:`${Rt}-mobile__toggle_music`,openBoardSettingsModal:`${Rt}-mobile__item_open-board-settings-modal`,openCustomizeBoardGameModal:`${Rt}-mobile__item_open-customize-board-game-modal`},desktop:{changeLanguageEn:`${Rt}-desktop__${St}-en`,changeLanguageRu:`${Rt}-desktop__${St}-ru`,changeLanguageEs:`${Rt}-desktop__${St}-es`,changeLanguagePt:`${Rt}-desktop__${St}-pt`,changeLanguageId:`${Rt}-desktop__${St}-id`,changeLanguageFr:`${Rt}-desktop__${St}-fr`,changeLanguageTr:`${Rt}-desktop__${St}-tr`,changeLanguageDe:`${Rt}-desktop__${St}-de`,changeLanguageZh:`${Rt}-desktop__${St}-zh`,changeLanguageAr:`${Rt}-desktop__${St}-ar`,changeLanguageVi:`${Rt}-desktop__${St}-vi`,changeLanguageIt:`${Rt}-desktop__${St}-it`,changeLanguageKo:`${Rt}-desktop__${St}-ko`,changeLanguageJa:`${Rt}-desktop__${St}-ja`,changeLanguagePl:`${Rt}-desktop__${St}-pl`,changeLanguageHi:`${Rt}-desktop__${St}-hi`,openLanguageMenu:`${Rt}-desktop__button_open-language-menu`,toggleSound:`${Rt}-desktop__toggle_sound`,toggleMusic:`${Rt}-desktop__toggle_music`,openBoardSettingsModal:`${Rt}-desktop__item_open-board-settings-modal`,openCustomizeBoardMenu:`${Rt}-desktop__button_open-customize-board-menu`,openCustomizeBoardGameModal:`${Rt}-desktop__item_open-customize-board-game-modal`}}}},mainScreen:{button:{openBoardSettingsModal:"from-main-screen__button_open-board-settings-modal",openPaymentsModal:"from-main-screen__button_open-payments-modal",openCalendarModal:"from-main-screen__button_open-calendar-modal",startLastSavedGame:"from-main-screen__button_start-last-saved-game",openLeadersBoardModal:"from-main-screen__button_open-leaders-board-modal",openRulesModal:"from-main-screen__button_open-rules-modal",openAiGameModal:"from-main-screen__button_open-ai-game-modal",openOnlineGameModal:"from-main-screen__button_open-online-game-modal",openOnlineTogetherGameModal:"from-main-screen__button_open-online-together-game-modal",openFriendGameModal:"from-main-screen__button_open-friend-game-modal",shareGame:"from-main-screen__button_share-game",userProfile:"from-main-screen__button_user-profile"}},gameInfo:{emojisMenu:{menu:"game-info_emojis-menu_menu"},gameControlButton:{button:{hideHistory:`${Zt}__button_hide-history`,startAnalyze:`${Zt}__button_start-analyze`,flipBoard:`${Zt}__button_flip-board`,giveUp:`${Zt}__button_give-up`,decrementHistory:`${Zt}__button_decrement-history`,incrementHistory:`${Zt}__button_increment-history`,openMainScreen:`${Zt}__button_open-main-screen`,openNewGameModal:`${Zt}__button_open-new-game`,startRematch:`${Zt}__button_start-rematch`,startAnalyzeRematch:`${Zt}__button_start-analyze-rematch`,requestDrawOnlineOpponent:`${Zt}__button_request-draw-online-opponent`,showHint:`${Zt}__button_show-hint`,undoMove:`${Zt}__button_undo-move`,undoFatalMove:`${Zt}__button_undo-fatal-move`,openPaymentsModal:`${Zt}__button_open-payments-modal`,settings:{mobile:{openSettingsMenu:`${Zt}-mobile__button_open-settings-menu`,openLanguageMenu:`${Zt}-mobile__button_open-language-menu`,changeLanguageEn:`${Zt}-mobile__${St}-en`,changeLanguageRu:`${Zt}-mobile__${St}-ru`,changeLanguageEs:`${Zt}-mobile__${St}-es`,changeLanguagePt:`${Zt}-mobile__${St}-pt`,changeLanguageId:`${Zt}-mobile__${St}-id`,changeLanguageFr:`${Zt}-mobile__${St}-fr`,changeLanguageTr:`${Zt}-mobile__${St}-tr`,changeLanguageDe:`${Zt}-mobile__${St}-de`,changeLanguageZh:`${Zt}-mobile__${St}-zh`,changeLanguageAr:`${Zt}-mobile__${St}-ar`,changeLanguageVi:`${Zt}-mobile__${St}-vi`,changeLanguageIt:`${Zt}-mobile__${St}-it`,changeLanguageKo:`${Zt}-mobile__${St}-ko`,changeLanguageJa:`${Zt}-mobile__${St}-ja`,changeLanguagePl:`${Zt}-mobile__${St}-pl`,changeLanguageHi:`${Zt}-mobile__${St}-hi`,toggleSound:`${Zt}__toggle-mobile_sound`,toggleMusic:`${Zt}__toggle-mobile_music`,openBoardSettingsModal:`${Zt}-mobile__item_open-board-settings-modal`,openCustomizeBoardGameModal:`${Zt}-mobile__item_open-customize-board-game-modal`}}}},player:{emojisMenuButton:"game-info_player_emojis-menu-button"}},gameBoard:{chessFen:`${Xe}__text_chess-fen`,boardOrientationBox:"board-orientation-box",cell:{a:[`${Xe}__cell_a1`,`${Xe}__cell_a2`,`${Xe}__cell_a3`,`${Xe}__cell_a4`,`${Xe}__cell_a5`,`${Xe}__cell_a6`,`${Xe}__cell_a7`,`${Xe}__cell_a8`],b:[`${Xe}__cell_b1`,`${Xe}__cell_b2`,`${Xe}__cell_b3`,`${Xe}__cell_b4`,`${Xe}__cell_b5`,`${Xe}__cell_b6`,`${Xe}__cell_b7`,`${Xe}__cell_b8`],c:[`${Xe}__cell_c1`,`${Xe}__cell_c2`,`${Xe}__cell_c3`,`${Xe}__cell_c4`,`${Xe}__cell_c5`,`${Xe}__cell_c6`,`${Xe}__cell_c7`,`${Xe}__cell_c8`],d:[`${Xe}__cell_d1`,`${Xe}__cell_d2`,`${Xe}__cell_d3`,`${Xe}__cell_d4`,`${Xe}__cell_d5`,`${Xe}__cell_d6`,`${Xe}__cell_d7`,`${Xe}__cell_d8`],e:[`${Xe}__cell_e1`,`${Xe}__cell_e2`,`${Xe}__cell_e3`,`${Xe}__cell_e4`,`${Xe}__cell_e5`,`${Xe}__cell_e6`,`${Xe}__cell_e7`,`${Xe}__cell_e8`],f:[`${Xe}__cell_f1`,`${Xe}__cell_f2`,`${Xe}__cell_f3`,`${Xe}__cell_f4`,`${Xe}__cell_f5`,`${Xe}__cell_f6`,`${Xe}__cell_f7`,`${Xe}__cell_f8`],g:[`${Xe}__cell_g1`,`${Xe}__cell_g2`,`${Xe}__cell_g3`,`${Xe}__cell_g4`,`${Xe}__cell_g5`,`${Xe}__cell_g6`,`${Xe}__cell_g7`,`${Xe}__cell_g8`],h:[`${Xe}__cell_h1`,`${Xe}__cell_h2`,`${Xe}__cell_h3`,`${Xe}__cell_h4`,`${Xe}__cell_h5`,`${Xe}__cell_h6`,`${Xe}__cell_h7`,`${Xe}__cell_h8`]},dynamic:{figure:{w:`${Xe}__figure_w`,b:`${Xe}__figure_b`}}},modal:{closeModalButton:"close-modal-button__modal",gameResult:{index:"game-result__modal",button:{close:"from-game-result-modal__button_close",startAnalyze:"from-game-result-modal__button_start-analyze",openMainScreen:"from-game-result-modal__button_open-main-screen",openLeadersBoardModal:"from-game-result-modal__button_open-leaders-board-modal",openNewGameModal:"from-game-result-modal__button_open-new-game",startRematch:"from-game-result-modal__button_start-rematch",undoFatalMove:"from-game-result-modal__button_undo-fatal-move",openPaymentsModal:"from-game-result-modal__button_payment-modal",login:"from-game-result-modal__button_login"}},chatSelect:{index:"chat-select__modal",closeButton:"chat-select-modal__close-button"},userProfile:{index:"user-profile__modal",closeButton:"user-profile-modal__close-button",withAiRatingData:"user-profile-modal__with-ai-rating-data",tabs:{ai:"user-profile-modal__tab_ai",online:"user-profile-modal__tab_online",single:"user-profile-modal__tab_single"}},aiGame:{index:"ai-game__modal",button:{startAiGame:`${ot}__button_start-ai-game`,changeOpponent:`${ot}__button_change-opponent`},switch:{showHint:`${ot}__switch_show-hint`,jumpersSwitch:`${ot}__switch_jumpers-switch`,showHandicap:`${ot}__switch_show-handicap`},opponentCard:{choiceLevel1:`${ot}__card_choice-level-1`,choiceLevel2:`${ot}__card_choice-level-2`,choiceLevel3:`${ot}__card_choice-level-3`,choiceLevel4:`${ot}__card_choice-level-4`,choiceLevel5:`${ot}__card_choice-level-5`,choiceLevel6:`${ot}__card_choice-level-6`,choiceLevel7:`${ot}__card_choice-level-7`,choiceLevel8:`${ot}__card_choice-level-8`,choiceLevel9:`${ot}__card_choice-level-9`,choiceLevel10:`${ot}__card_choice-level-10`,choiceLevel11:`${ot}__card_choice-level-11`,choiceLevel12:`${ot}__card_choice-level-12`,choiceLevel13:`${ot}__card_choice-level-13`,choiceLevel14:`${ot}__card_choice-level-14`,choiceLevel15:`${ot}__card_choice-level-15`,choiceLevel16:`${ot}__card_choice-level-16`,choiceLevel17:`${ot}__card_choice-level-17`,choiceLevel18:`${ot}__card_choice-level-18`,choiceLevel19:`${ot}__card_choice-level-19`,choiceLevel20:`${ot}__card_choice-level-20`,choiceLevel21:`${ot}__card_choice-level-21`},gameSettings:{figuresColorSegmentControl:{index:`${ot}__segment_figure-color-segment-control`,tab:{choiceWhite:`${ot}__tab_choice-white`,choiceBlack:`${ot}__tab_choice-black`,choiceRandom:`${ot}__tab_choice-random`}}},handicapSettings:{button:{resetBoard:`${ot}__button_reset-board`},figures:{w:{p:[`${ot}__button_select-white-pawn-0`,`${ot}__button_select-white-pawn-1`,`${ot}__button_select-white-pawn-2`,`${ot}__button_select-white-pawn-3`,`${ot}__button_select-white-pawn-4`,`${ot}__button_select-white-pawn-5`,`${ot}__button_select-white-pawn-6`,`${ot}__button_select-white-pawn-7`],r0:`${ot}__button_select-white-rock-0`,n1:`${ot}__button_select-white-knight-1`,b2:`${ot}__button_select-white-bishop-2`,q3:`${ot}__button_select-white-queen-3`,k4:`${ot}__button_select-white-king-4`,b5:`${ot}__button_select-white-bishop-5`,n6:`${ot}__button_select-white-knight-6`,r7:`${ot}__button_select-white-rock-7`},b:{p:[`${ot}__button_select-black-pawn-0`,`${ot}__button_select-black-pawn-1`,`${ot}__button_select-black-pawn-2`,`${ot}__button_select-black-pawn-3`,`${ot}__button_select-black-pawn-4`,`${ot}__button_select-black-pawn-5`,`${ot}__button_select-black-pawn-6`,`${ot}__button_select-black-pawn-7`],r0:`${ot}__button_select-black-rock-0`,n1:`${ot}__button_select-black-knight-1`,b2:`${ot}__button_select-black-bishop-2`,q3:`${ot}__button_select-black-queen-3`,k4:`${ot}__button_select-black-king-4`,b5:`${ot}__button_select-black-bishop-5`,n6:`${ot}__button_select-black-knight-6`,r7:`${ot}__button_select-black-rock-7`}}}},friendGame:{index:"friend-game__modal",button:{startFriendGame:`${mt}__button_start-friend-game`},switch:{showHandicap:`${mt}__switch_show-handicap`},gameSettings:{timeSegmentControl:{index:`${mt}__segment_time-segment-control`,tab:{turnOffTime:`${mt}__tab_turn-off`,turnOnTime:`${mt}__tab_turn-on`}},timeTypeTabs:{bullet:`${mt}__tab_bullet`,blitz:`${mt}__tab_blitz`,rapid:`${mt}__tab_rapid`,segmentData:{timeVariants:{oneMinuteZero:`${mt}__segment_bullet-one-minute-zero`,twoMinuteOne:`${mt}__segment_bullet-two-minute-one`,threeMinuteZero:`${mt}__segment_bullet-three-minute-zero`,threeMinuteTwo:`${mt}__segment_blitz-three-minute-two`,fiveMinuteZero:`${mt}__segment_blitz-five-minute-zero`,fiveMinuteThree:`${mt}__segment_blitz-five-minute-three`,tenMinuteZero:`${mt}__segment_rapid-ten-minute-zero`,tenMinuteFive:`${mt}__segment_rapid-ten-minute-five`,fifteenMinuteTen:`${mt}__segment_rapid-fifteen-minute-ten`,thirtyMinuteZero:`${mt}__segment_rapid-thirty-minute-zero`,thirtyMinuteTen:`${mt}__segment_rapid-thirty-minute-ten`}}},figuresColorSegmentControl:{index:`${mt}__segment_figure-color-segment-control`,tab:{choiceWhite:`${mt}__tab_choice-white`,choiceBlack:`${mt}__tab_choice-black`,choiceRandom:`${mt}__tab_choice-random`}}},handicapSettings:{button:{resetBoard:`${mt}__button_reset-board`},figures:{w:{p:[`${mt}__button_select-white-pawn-0`,`${mt}__button_select-white-pawn-1`,`${mt}__button_select-white-pawn-2`,`${mt}__button_select-white-pawn-3`,`${mt}__button_select-white-pawn-4`,`${mt}__button_select-white-pawn-5`,`${mt}__button_select-white-pawn-6`,`${mt}__button_select-white-pawn-7`],r0:`${mt}__button_select-white-rock-0`,n1:`${mt}__button_select-white-knight-1`,b2:`${mt}__button_select-white-bishop-2`,q3:`${mt}__button_select-white-queen-3`,k4:`${mt}__button_select-white-king-4`,b5:`${mt}__button_select-white-bishop-5`,n6:`${mt}__button_select-white-knight-6`,r7:`${mt}__button_select-white-rock-7`},b:{p:[`${mt}__button_select-black-pawn-0`,`${mt}__button_select-black-pawn-1`,`${mt}__button_select-black-pawn-2`,`${mt}__button_select-black-pawn-3`,`${mt}__button_select-black-pawn-4`,`${mt}__button_select-black-pawn-5`,`${mt}__button_select-black-pawn-6`,`${mt}__button_select-black-pawn-7`],r0:`${mt}__button_select-black-rock-0`,n1:`${mt}__button_select-black-knight-1`,b2:`${mt}__button_select-black-bishop-2`,q3:`${mt}__button_select-black-queen-3`,k4:`${mt}__button_select-black-king-4`,b5:`${mt}__button_select-black-bishop-5`,n6:`${mt}__button_select-black-knight-6`,r7:`${mt}__button_select-black-rock-7`}}}},onlineGameStatus:{index:"online-game-status__modal",closeButton:"online-game-status-modal__close-button",searchOpponent:{button:{startAiGame:"from-online-game-status-modal__button_start-ai-game",stopSearchGame:"from-online-game-status-modal__button_stop-search-game"},tabs:{fiveMinuteZero:"online-game-status-modal__segment_blitz-five-minute-zero",fifteenMinuteZero:"online-game-status-modal__segment_rapid-fifteen-minute-zero"}}},onlineTogetherModeSelect:{index:"online-together-mode-select-modal",closeButton:"online-together-mode-select-modal__close-button",createGameButton:"online-together-mode-select-modal__create-game-button",joinGameButton:"online-together-mode-select-modal__join-game-button"},onlineTogetherGameStatus:{index:"online-together-game-status-modal",closeButton:"online-together-game-status-modal__close-button",copyInviteLinkButton:"online-together-game-status-modal__copy-invite-link-button"},afkCancelGame:{index:"afk-cancel-game__modal",button:{continueGame:"from-afk-cancel-modal__button_continue-game"}},avatarDetails:{index:"avatar-details__modal",closeButton:"avatar-details-modal__close-button"},gameSettings:{index:"game-settings__modal"},boardSettings:{index:"board-settings__modal",closeButton:"board-settings-modal_close-button",designTypeSelector:{index:"board-settings-modal__design-type-selector",figuresButton:"board-settings-modal__design-type-selector__figures-button",boardsButton:"board-settings-modal__design-type-selector__boards-button"},pieceSegmentControl:{index:`${Pte}__segment_piece-segment-control`}},confirmDefeat:{index:"confirm-defeat__modal",button:{cancelGame:"from-confirm-defeat-modal__button_cancel-game",continueGame:"from-confirm-defeat-modal__button_continue-game"}},confirmDrawRequest:{index:"confirm-draw-request__modal",button:{confirmDraw:"from-confirm-draw-request-modal__button_confirm-draw",cancelDraw:"from-confirm-draw-request-modal__button_cancel-draw"}},confirmExit:{index:"confirm-exit__modal",button:{cancelGame:"from-confirm-exit-modal__button_cancel-game",continueGame:"from-confirm-exit-modal__button_continue-game"}},confirmFriendGame:{index:"confirm-friend-game__modal",button:{confirmGame:"from-confirm-friend-game-modal__button_confirm-game",cancelGame:"from-confirm-friend-game-modal__button_cancel-game"}},payments:{index:"payments__modal"},confirmGameQuit:{index:"confirm-game-quit__modal",button:{confirmExitGame:"from-confirm-game-quit-modal__button_confirm-exit-game",cancelExitGame:"from-confirm-game-quit-modal__button_cancel-exit-game"}},confirmPassiveOnlineGame:{index:"confirm-passive-online-game__modal",button:{confirmPassiveGame:"from-confirm-passive-online-game-modal__button_confirm-passive-game",cancelPassiveGame:"from-confirm-passive-online-game-modal__button_cancel-passive-game"}},confirmRematchRequest:{index:"confirm-rematch-request__modal",button:{confirmRematchRequest:"from-confirm-rematch-request-modal__button_confirm-rematch-request",cancelRematchRequest:"from-confirm-rematch-request-modal__button_cancel-rematch-request"}},confirmVictory:{index:"confirm-victory__modal",button:{confirmVictory:"from-confirm-victory-modal__button_confirm-victory",continueGame:"from-confirm-victory-modal__button_cancel-continue-game",preventGiveUpAndContinueGame:"from-confirm-victory-modal__button_prevent-give-up-and-continue-game"}},customConfirm:{index:"custom-confirm__modal",button:{confirmInfo:"from-custom-confirm-modal__button_confirm-info",rejectInfo:"from-custom-confirm-modal__button_cancel-reject-info"}},leaderboard:{index:"leaderboard__modal",actionIcon:{changeMode:"from-leaderboard-modal__toggle_change-mode"},leaderBoardTypeSegmentControl:{index:"from-leaderboard-modal__segment_leader-board-type-segment-control",tab:{showTotalScore:"from-leaderboard-modal__tab_show-total-score",showRating:"from-leaderboard-modal__tab_show-rating"},gameModeTab:{totalScore:"from-leaderboard-modal__tab_total-score",singleGame:"from-leaderboard-modal__tab_single-game",withOpponentGame:"from-leaderboard-modal__tab_with-opponent-game"}}},rules:{index:"rules__modal"},p2pReconnect:{button:{reconnectGame:"from-p2p-reconnect-modal__button_reconnect-game"}},ratingChangeDetails:{index:"rating-change-details__modal",closeButton:"rating-change-details_close-button"},rejectedPassiveOnlineGame:{index:"rejected-passive-online__modal"},rewardedVideoAdBlockError:{index:"rewarded-video-ad-block-error__modal"},rewardedVideoError:{index:"rewarded-video-error__modal"},paymentSuccess:{index:"payment-success__modal"},paymentError:{index:"payment-error__modal"},rewardAccepted:{index:"reward-accepted__modal"}},dialog:{selectCaptureRules:{id:"select-capture-rules",mandatory:"select-capture-rules-mandatory",asDesired:"select-capture-rules-as-desired"}}},Tte="modulepreload",Ite=function(e,t){return new URL(e,t).href},T5={},De=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){let a=function(f){return Promise.all(f.map(m=>Promise.resolve(m).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};const l=document.getElementsByTagName("link"),u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));o=a(n.map(f=>{if(f=Ite(f,r),f in T5)return;T5[f]=!0;const m=f.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(!!r)for(let _=l.length-1;_>=0;_--){const b=l[_];if(b.href===f&&(!m||b.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${f}"]${g}`))return;const y=document.createElement("link");if(y.rel=m?"stylesheet":Tte,m||(y.as="script"),y.crossOrigin="",y.href=f,d&&y.setAttribute("nonce",d),document.head.appendChild(y),m)return new Promise((_,b)=>{y.addEventListener("load",_),y.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${f}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return o.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},Lte={en:{toBegin:"Start",you:"You",areYouSureYouWantToQuitTheGame:"Quit the game?",yes:"Yes",no:"No",toAccept:"Accept",refuse:"Refuse",theme:"Theme",sound:"Sound",language:"Language",settings:"Settings",stop:"Stop",cancel:"Cancel",play:"Play",mainMenu:"Menu",login:"Log In",profile:"Profile"}},Dte={ru:{toBegin:"",you:"",areYouSureYouWantToQuitTheGame:"  ?",yes:"",no:"",toAccept:"",refuse:"",theme:"",sound:"",language:"",settings:"",stop:"",cancel:"",play:"",mainMenu:"",login:"",profile:""}},J2={en:{...Lte.en,advPause:"Advertising break",loading:"Loading...",loadingError:"Loading error",loadingSuccess:"Loading complete",avatarUpdateSuccess:"Profile picture updated",fileIsTooBig:"File is too large",playerNotFound:"Player profile not found",invalidFile:"Invalid file format",invalidImageFormat:"Invalid image format",uploadApiNotAvailable:"Upload API not available",noImageUrl:"Failed to get image URL",uploadFailed:"Upload failed",avatarUpdatedLocalOnly:"Avatar updated locally only",avatarSyncFailed:"Failed to sync avatar",privacyPolicy:"Privacy Policy",timeControl:"Time control",byClock:"By clock",chooseASide:"Choose a side",whoGouesFirst:"Who goes first",copyLinkAndInviteFriend:"Copy the link and send it to a friend",withOutTime:"Without time",chat:"Chat",collectPointsToOpenGeneralChat:"To open a shared chat, reach",bullet:"Bullet",blitz:"Blitz",rapid:"Rapid",classic:"Classical",opponent:"Opponent",choiceOpponent:"Choice of opponent",startNewBatch:"New Game",analyze:"Game analysis",playFromHere:"Play from here",rematch:"Rematch",playTogether:"Play together",playWithCustomizedBoard:"Playing with a customized board",playWithFriendModal:"Use app as a board to play together?",playAlone:"Play single",onePlayer:"Playing single",twoPlayers:"Playing with an opponent",playSingleShort:"Single",timeRecord:"Record",playWithComputer:"Play with computer",playWithComputerShort:"With computer",searchByRating:"Search by rating",defeat:"Defeat",draw:"Draw",wining:"Win",continue:"Continue",repeatingPosition:"Repetition of position",victory:"Victory",whitesVictory:"White's victory",blacksVictory:"Black's victory",guest:"Guest",winner:"Winner",win:"Win",lose:"Lose",custom:"Custom",history:"History",hintsEnable:"Enable hints",continuePlaying:"Continue playing",evaluationMove:{4:"Excellent move",3:"Great move",2:"Good move",1:"Average stroke",0:"A dubious move","-1":"Unprofitable move","-2":"Bad move","-3":"Wrong move","-4":"Losing move"},chooseAnOpponent:"Choose an opponent",undoMove:"Undo the move",showHint:"Show hint",giveUp:"Give up",cancelGame:"Cancel",undoShort:"Undo",hintShort:"Hint",flipTheBoard:"Flip the board",showAll:"Show all",copied:"Copied",copy:"Copy",showDifference:"Show difference",areYouSureYouWantToGiveUp:"Finish the game?",theComputerGaveUp:"The opponent surrenders",areYouSureYouWantToCancelTheGame:"Cancel the game?",cancelTheGame:"Cancel the game",rules:"Rules",shop:"Shop",stock:"Offer",design:"Design",playOnline:"Play online",searchForAnOpponent:"Search for an opponent",playOnlineWithFriend:"Play online with friends",connectionToOpponent:"Waiting for the opponent",play:"Play",createGame:"Create a game",joinTheGame:"Join",search:"Search",balance:"Balance",successfullyMadePurchase:"You have successfully made a purchase",somethingWentWrong:"Something went wrong",leaderboard:"Leaderboard",connectingToTheServer:"Connecting to the server",connectionError:"Connection Error",roomExpired:"The room has already expired",roomExpiredMessage:"Ask new link from host player",areYouSure:"Are you sure?",inviteFriendStayMessage:"You need to keep this modal opened until the invitee joins the room. If you leave, the room will expire.",inviteFriendStartMessage:"The game will start automatically as soon as the invitee opens the link.",copyIDAndInviteFriend:"Copy the game ID and send it to a friend",inviteFriendByIdStayMessage:"Stay on this screen until the invited player joins. If you close the window, the game ID will no longer be valid.",enterGameIdToConnect:"Enter the room ID to connect",reconnect:"Reconnect",theSearchHasBeenCanceled:"The search has been canceled",anOpponentHasBeenFoundButYouHaveNotConfirmedGame:"An opponent has been found, but you have not confirmed the game",newSearch:"New search",rating:"Rating",opponentRating:"Opponent's rating",boardSettings:"Board settings",score:"Score",time:"Time",scoreCalculateTitle:"Score and rating",calculatedAccordingByELOSystem:"Calculated according to the ELO system",victoryScore:"Victory Score",withBonuses:"With hints or handicap included",drawScore:"Draw Score",defeatScore:"Defeat Score",gameMovesCnt:"Number of moves in a game",leaders:"Leaders",leaderboardRatingTitle:"Online by rating",leaderboardTotalScoreTitle:"All modes by score",leaderboardTotalScoreTitleShort:"All modes",leaderboardAIScoreTitle:"With computer by score",leaderboardAI:"With computer",leaderboardAIRatingTitle:"With computer by rating",leaderboardOnline:"Online",leaderboardOnlineScoreTitle:"Online by score",matchConfirmation:"Match Confirmation",theOpponentIsNotResponding:"The opponent is not responding",theOpponentHasLeftTheGame:"The opponent has left the game",opponentRejected:"The opponent declined",agreeToARematch:"Agree to rematch?",agreeToADraw:"{{name}} offers a draw",userHidden:"User hidden",boards:"Boards",figures:"Figures",brightness:"Brightness",applyHandicap:"Apply a handicap",otherGames:"Our games",unfortunatelyThereNoAdsAvailableTryAgainLater:"Unfortunately there are no ads available, try again later",adsErrorAdBlockEnabled:"To display the game correctly, disable the ad blocking service",toPlayOnlineYouNeedToLogIn:"To play online, authorization is needed",toViewLeadersYouNeedToLogIn:"Authorization is required to view leaders",logInToSaveScore:"Log in to save points",yourName:"Your name",AreYouStillWithUs:"Are you still with us?",gameHasBeenCancelled:"Game canceled",youCanceledGameSeveralTimes:"You canceled the game several times",preventOpponentGivingUp:"Prevent opponent giving up",prohibitSurrender:"Always forbid giving up",youHaveSavedGame:"You have a saved game",opponentsFound:"Opponents found",letsPlay:"Let's play?",noPossibleMoves:"No possible moves",timesUp:"Time is up",connectionLose:"Disconnect",byAgreement:"By agreement",statsGames:"Games played",statsAverageRatingOpponents:"Average rating of opponents",maxRating:"Maximum Rating",minRating:"Minimum rating",whitePlayed:"White",blackPlayed:"Black",statsVictories:"Victories",statsDraws:"Draws",statsDefeats:"Defeats",leaveFromLastGame:"You are out of the last game",opponentGiveUp:"The opponent has given up",youGiveUp:"You've given up",newDesign:"New design",premiumTime:{year:"{{0}} year",month:"{{0}} month",days:"{{0}} days"},premium:"Premium",premiumAdvantages:{coinEveryDay:"coins every day",crystalEveryDay:"crystals every day",percentScore:"points earned",goldAvatar:"The golden frame on the photo",allDesigns:"All designs are available",adBlock:"Ads disabled",prioritySupport:"Priority support"},peerError:{signalingerror:"Failed to connect to server",rtcerror:"Failed to connect to server",lobbyexpired:"The room does not exist",lobbyfull:"The room is full"},playerNameMinMaxLenError:"The name must not be empty. The maximum name length is %{maxChars} characters.",editNameError:{player_not_found:"Player not found",already_exists:"Value already taken",bad_value_filter_censor:"Value did not pass censorship check",undefined:"Unexpected error"},publicGames:"Public Games",noPublicGames:"No Public Games",publicGame:"Public Game",privateGame:"Private Game",connecting:"Connecting...",openLobbyDescription:"Anyone can join your game",any:"Any",hintRequest:"Opponent requests a hint",undoRequest:"Opponent requests an undo",requestApply:"Allow",requestCancel:"Reject",betSize:"Bet Size",youGold:"Your Gold",Day:"Day",tax:"tax",stars:"Stars",coins:"Coins",youNeedLeast10Coins:"You need at least 10 coins to place a bet",everyDayBonus:"Daily bonus",runGameEveryDayAndGetBonus:"Launch the game every day and get daily bonuses!",thankYou:"Thank you!",bonusTitle:"Bonus",today:"Today",tomorrow:"Tomorrow",gold:"Gold",bonuses:"Bonuses",timeModeDetails:"{{0}} min. per game +{{1}} sec. per move",timeModeDetailsFirst:"First number - minutes per game",timeModeDetailsSecond:"Second number - seconds added per move",priceFrom:"from {{price}} {{currency}}",languageName:{ar:"Arabic",de:"German",en:"English",es:"Spanish",fr:"French",hi:"Hindi",id:"Indonesian",it:"Italian",ja:"Japanese",ko:"Korean",pl:"Polish",pt:"Portuguese",ru:"Russian",tr:"Turkish",vi:"Vietnamese",zh:"Chinese"},doubleDailyBonus:"Double",music:"Music",openByGem:"Open",watchAd:"Watch",analyzeShort:"Analyze"}},Nte=Object.freeze(Object.defineProperty({__proto__:null,default:J2},Symbol.toStringTag,{value:"Module"})),Z2={ru:{...Dte.ru,advPause:" ",loading:"...",loadingError:" ",loadingSuccess:" ",avatarUpdateSuccess:"  ",fileIsTooBig:"  ",playerNotFound:"   ",invalidFile:"  ",invalidImageFormat:"  ",uploadApiNotAvailable:"API  ",noImageUrl:"   URL ",uploadFailed:"  ",avatarUpdatedLocalOnly:"   ",avatarSyncFailed:"   ",privacyPolicy:" ",timeControl:" ",byClock:" ",chooseASide:" ",whoGouesFirst:"  ",copyLinkAndInviteFriend:"    ",withOutTime:"",chat:"",collectPointsToOpenGeneralChat:"    ",bullet:"",blitz:"",rapid:"",classic:"",opponent:"",startNewBatch:" ",analyze:" ",playFromHere:" ",rematch:"",playTogether:" ",playWithCustomizedBoard:"   ",playWithFriendModal:"      ?",playAlone:"  ",onePlayer:"  ",twoPlayers:"  ",playSingleShort:"",timeRecord:"",playWithComputer:"  ",playWithComputerShort:" ",searchByRating:"  ",defeat:"",draw:"",wining:"",choiceOpponent:" ",continue:"",repeatingPosition:" ",victory:"",whitesVictory:" ",blacksVictory:" ",guest:"",winner:"",win:"",lose:"",custom:"",history:"",hintsEnable:" ",continuePlaying:" ",evaluationMove:{4:" ",3:" ",2:" ",1:" ",0:" ","-1":" ","-2":" ","-3":" ","-4":" "},chooseAnOpponent:" ",undoMove:" ",showHint:" ",giveUp:"",cancelGame:"",undoShort:" ",hintShort:"",flipTheBoard:" ",showAll:" ",copied:"",copy:"",showDifference:" ",areYouSureYouWantToGiveUp:" ?",theComputerGaveUp:" ",areYouSureYouWantToCancelTheGame:" ?",cancelTheGame:" ",rules:"",shop:"",stock:"",design:"",playOnline:" ",searchForAnOpponent:" ",playOnlineWithFriend:"   ",connectionToOpponent:" ",play:"",createGame:" ",joinTheGame:"",search:"",balance:"",successfullyMadePurchase:"   ",somethingWentWrong:"    ",leaderboard:" ",connectingToTheServer:"  ",connectionError:" ",roomExpired:" ",roomExpiredMessage:"    ",areYouSure:" ?",inviteFriendStayMessage:"   ,     .    ,    .",inviteFriendStartMessage:"  ,     .",copyIDAndInviteFriend:" ID    ",inviteFriendByIdStayMessage:"   ,     .    , ID    .",enterGameIdToConnect:" ID   ",reconnect:"",theSearchHasBeenCanceled:" ",anOpponentHasBeenFoundButYouHaveNotConfirmedGame:"  ,     ",newSearch:" ",userHidden:" ",rating:"",opponentRating:" ",score:"",time:"",scoreCalculateTitle:"  ",calculatedAccordingByELOSystem:"    ",victoryScore:" ",withBonuses:"C   ",drawScore:" ",defeatScore:" ",gameMovesCnt:"   ",leaders:"",leaderboardRatingTitle:"  ",leaderboardTotalScoreTitle:"  ",leaderboardTotalScoreTitleShort:"",leaderboardAIScoreTitle:"   ",leaderboardAI:" ",leaderboardAIRatingTitle:"   ",leaderboardOnlineScoreTitle:"  ",leaderboardOnline:"",matchConfirmation:" ",theOpponentIsNotResponding:"  ",theOpponentHasLeftTheGame:"  ",agreeToADraw:"{{name}}  ",agreeToARematch:"  ?",boards:"",figures:"",boardSettings:" ",brightness:"",applyHandicap:" ",otherGames:" ",unfortunatelyThereNoAdsAvailableTryAgainLater:"    ,  ",adsErrorAdBlockEnabled:"       ",toPlayOnlineYouNeedToLogIn:"    ",toViewLeadersYouNeedToLogIn:"    ",logInToSaveScore:"   ",yourName:" ",gameHasBeenCancelled:" ",AreYouStillWithUs:"    ?",youCanceledGameSeveralTimes:"    ",preventOpponentGivingUp:"  ",prohibitSurrender:"  ",opponentsFound:" ",youHaveSavedGame:"    ",opponentRejected:" ",letsPlay:"?",noPossibleMoves:"  ",timesUp:" ",connectionLose:" ",byAgreement:" ",statsVictories:"",statsDraws:"",statsDefeats:"",statsGames:" ",statsAverageRatingOpponents:"  ",maxRating:" ",minRating:" ",whitePlayed:"",blackPlayed:"",leaveFromLastGame:"    ",opponentGiveUp:" ",youGiveUp:" ",newDesign:" ",premiumTime:{year:"{{0}} ",month:"{{0}} ",days:"{{0}} "},premium:"",premiumAdvantages:{coinEveryDay:"  ",crystalEveryDay:"  ",percentScore:"  ",goldAvatar:"   ",allDesigns:"  ",adBlock:" ",prioritySupport:""},peerError:{signalingerror:"    ",rtcerror:"    ",lobbyexpired:"  ",lobbyfull:" "},playerNameMinMaxLenError:"    .    %{maxChars} .",editNameError:{player_not_found:"  ",already_exists:"  ",bad_value_filter_censor:"    ",undefined:" "},publicGames:" ",noPublicGames:"  ",publicGame:" ",privateGame:" ",connecting:"...",openLobbyDescription:"      ",any:"",hintRequest:"  ",undoRequest:"   ",requestApply:"",requestCancel:"",betSize:"",youGold:" ",Day:"",tax:"",stars:"",coins:"",youNeedLeast10Coins:"    10    ",everyDayBonus:" ",runGameEveryDayAndGetBonus:"       !",thankYou:"!",bonusTitle:"",today:"",tomorrow:"",gold:"",bonuses:"",languageName:{ar:"",de:"",en:"",es:"",fr:"",hi:"",id:"",it:"",ja:"",ko:"",pl:"",pt:"",ru:"",tr:"",vi:"",zh:""},timeModeDetails:"{{0}} .   +{{1}} .  ",timeModeDetailsFirst:"  -    ",timeModeDetailsSecond:"  -     ",priceFrom:" {{price}} {{currency}}",doubleDailyBonus:"",music:"",openByGem:"",watchAd:"",analyzeShort:""}},Fte=Object.freeze(Object.defineProperty({__proto__:null,default:Z2},Symbol.toStringTag,{value:"Module"})),Gte=Object.assign({"./translations/LanguageModule/app.ar.translations.ts":()=>De(()=>import("./app.ar.translations-DAq9EllI.js"),[],import.meta.url),"./translations/LanguageModule/app.de.translations.ts":()=>De(()=>import("./app.de.translations-sU79DExy.js"),[],import.meta.url),"./translations/LanguageModule/app.en.translations.ts":()=>De(()=>Promise.resolve().then(()=>Nte),void 0,import.meta.url),"./translations/LanguageModule/app.es.translations.ts":()=>De(()=>import("./app.es.translations-CaKNignI.js"),[],import.meta.url),"./translations/LanguageModule/app.fr.translations.ts":()=>De(()=>import("./app.fr.translations-mlwUCHLC.js"),[],import.meta.url),"./translations/LanguageModule/app.hi.translations.ts":()=>De(()=>import("./app.hi.translations-BKBnRAKg.js"),[],import.meta.url),"./translations/LanguageModule/app.id.translations.ts":()=>De(()=>import("./app.id.translations-mJMikbHQ.js"),[],import.meta.url),"./translations/LanguageModule/app.it.translations.ts":()=>De(()=>import("./app.it.translations-5yxRKYWt.js"),[],import.meta.url),"./translations/LanguageModule/app.ja.translations.ts":()=>De(()=>import("./app.ja.translations-BICfubnq.js"),[],import.meta.url),"./translations/LanguageModule/app.ko.translations.ts":()=>De(()=>import("./app.ko.translations-DOSamTT4.js"),[],import.meta.url),"./translations/LanguageModule/app.pl.translations.ts":()=>De(()=>import("./app.pl.translations-Wy7Wtypx.js"),[],import.meta.url),"./translations/LanguageModule/app.pt.translations.ts":()=>De(()=>import("./app.pt.translations-BpzghCo7.js"),[],import.meta.url),"./translations/LanguageModule/app.ru.translations.ts":()=>De(()=>Promise.resolve().then(()=>Fte),void 0,import.meta.url),"./translations/LanguageModule/app.tr.translations.ts":()=>De(()=>import("./app.tr.translations-DYPoGh5y.js"),[],import.meta.url),"./translations/LanguageModule/app.vi.translations.ts":()=>De(()=>import("./app.vi.translations-DnXxNl1G.js"),[],import.meta.url),"./translations/LanguageModule/app.zh.translations.ts":()=>De(()=>import("./app.zh.translations-B2k0gxF8.js"),[],import.meta.url)}),jte=[me.isPlatformWithEnDefaultLocale()?J2:Z2],$te=Hd.combineTranslations(jte),lg=new Hd($te);lg.localeLoader=e=>{const t={[He.RU]:Z2,[He.EN]:J2}[e];return t?{default:t}:Gte[`./translations/LanguageModule/app.${e}.translations.ts`]()};const be=lg.getT(),jRe=lg.getTn(),zte=[He.RU,He.KK,He.UZ];var Lv="right-scroll-bar-position",Dv="width-before-scroll-bar",Ute="with-scroll-bars-hidden",Vte="--removed-body-scroll-bar-size";function qC(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function qte(e,t){var n=O.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var Qte=typeof window<"u"?O.useLayoutEffect:O.useEffect,I5=new WeakMap;function Hte(e,t){var n=qte(null,function(r){return e.forEach(function(o){return qC(o,r)})});return Qte(function(){var r=I5.get(n);if(r){var o=new Set(r),i=new Set(e),a=n.current;o.forEach(function(l){i.has(l)||qC(l,null)}),i.forEach(function(l){o.has(l)||qC(l,a)})}I5.set(n,e)},[e]),n}function Wte(e){return e}function Jte(e,t){t===void 0&&(t=Wte);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var a=t(i,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(i),a=n}var u=function(){var f=a;a=[],f.forEach(i)},d=function(){return Promise.resolve().then(u)};d(),n={push:function(f){a.push(f),d()},filter:function(f){return a=a.filter(f),n}}}};return o}function Zte(e){e===void 0&&(e={});var t=Jte(null);return t.options=$a({async:!0,ssr:!1},e),t}var G8=function(e){var t=e.sideCar,n=f9(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return O.createElement(r,$a({},n))};G8.isSideCarExport=!0;function Yte(e,t){return e.useMedium(t),G8}var j8=Zte(),QC=function(){},$0=O.forwardRef(function(e,t){var n=O.useRef(null),r=O.useState({onScrollCapture:QC,onWheelCapture:QC,onTouchMoveCapture:QC}),o=r[0],i=r[1],a=e.forwardProps,l=e.children,u=e.className,d=e.removeScrollBar,f=e.enabled,m=e.shards,g=e.sideCar,v=e.noRelative,y=e.noIsolation,_=e.inert,b=e.allowPinchZoom,E=e.as,A=E===void 0?"div":E,C=e.gapMode,M=f9(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=g,I=Hte([n,t]),P=$a($a({},M),o);return O.createElement(O.Fragment,null,f&&O.createElement(T,{sideCar:j8,removeScrollBar:d,shards:m,noRelative:v,noIsolation:y,inert:_,setCallbacks:i,allowPinchZoom:!!b,lockRef:n,gapMode:C}),a?O.cloneElement(O.Children.only(l),$a($a({},P),{ref:I})):O.createElement(A,$a({},P,{className:u,ref:I}),l))});$0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};$0.classNames={fullWidth:Dv,zeroRight:Lv};var Kte=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Xte(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Kte();return t&&e.setAttribute("nonce",t),e}function ene(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function tne(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var nne=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Xte())&&(ene(t,n),tne(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},rne=function(){var e=nne();return function(t,n){O.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},$8=function(){var e=rne(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},one={left:0,top:0,right:0,gap:0},HC=function(e){return parseInt(e||"",10)||0},ine=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[HC(n),HC(r),HC(o)]},ane=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return one;var t=ine(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},sne=$8(),gd="data-scroll-locked",lne=function(e,t,n,r){var o=e.left,i=e.top,a=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Ute,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(gd,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Lv,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Dv,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Lv," .").concat(Lv,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Dv," .").concat(Dv,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(gd,`] {
    `).concat(Vte,": ").concat(l,`px;
  }
`)},L5=function(){var e=parseInt(document.body.getAttribute(gd)||"0",10);return isFinite(e)?e:0},cne=function(){O.useEffect(function(){return document.body.setAttribute(gd,(L5()+1).toString()),function(){var e=L5()-1;e<=0?document.body.removeAttribute(gd):document.body.setAttribute(gd,e.toString())}},[])},une=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;cne();var i=O.useMemo(function(){return ane(o)},[o]);return O.createElement(sne,{styles:lne(i,!t,o,n?"":"!important")})},VE=!1;if(typeof window<"u")try{var sv=Object.defineProperty({},"passive",{get:function(){return VE=!0,!0}});window.addEventListener("test",sv,sv),window.removeEventListener("test",sv,sv)}catch{VE=!1}var qu=VE?{passive:!1}:!1,dne=function(e){return e.tagName==="TEXTAREA"},z8=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!dne(e)&&n[t]==="visible")},fne=function(e){return z8(e,"overflowY")},hne=function(e){return z8(e,"overflowX")},D5=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=U8(e,r);if(o){var i=V8(e,r),a=i[1],l=i[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},mne=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},gne=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},U8=function(e,t){return e==="v"?fne(t):hne(t)},V8=function(e,t){return e==="v"?mne(t):gne(t)},pne=function(e,t){return e==="h"&&t==="rtl"?-1:1},vne=function(e,t,n,r,o){var i=pne(e,window.getComputedStyle(t).direction),a=i*r,l=n.target,u=t.contains(l),d=!1,f=a>0,m=0,g=0;do{if(!l)break;var v=V8(e,l),y=v[0],_=v[1],b=v[2],E=_-b-i*y;(y||E)&&U8(e,l)&&(m+=E,g+=y);var A=l.parentNode;l=A&&A.nodeType===Node.DOCUMENT_FRAGMENT_NODE?A.host:A}while(!u&&l!==document.body||u&&(t.contains(l)||t===l));return(f&&Math.abs(m)<1||!f&&Math.abs(g)<1)&&(d=!0),d},lv=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},N5=function(e){return[e.deltaX,e.deltaY]},F5=function(e){return e&&"current"in e?e.current:e},yne=function(e,t){return e[0]===t[0]&&e[1]===t[1]},_ne=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},bne=0,Qu=[];function wne(e){var t=O.useRef([]),n=O.useRef([0,0]),r=O.useRef(),o=O.useState(bne++)[0],i=O.useState($8)[0],a=O.useRef(e);O.useEffect(function(){a.current=e},[e]),O.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var _=kd([e.lockRef.current],(e.shards||[]).map(F5),!0).filter(Boolean);return _.forEach(function(b){return b.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),_.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var l=O.useCallback(function(_,b){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!a.current.allowPinchZoom;var E=lv(_),A=n.current,C="deltaX"in _?_.deltaX:A[0]-E[0],M="deltaY"in _?_.deltaY:A[1]-E[1],T,I=_.target,P=Math.abs(C)>Math.abs(M)?"h":"v";if("touches"in _&&P==="h"&&I.type==="range")return!1;var B=D5(P,I);if(!B)return!0;if(B?T=P:(T=P==="v"?"h":"v",B=D5(P,I)),!B)return!1;if(!r.current&&"changedTouches"in _&&(C||M)&&(r.current=T),!T)return!0;var R=r.current||T;return vne(R,b,_,R==="h"?C:M)},[]),u=O.useCallback(function(_){var b=_;if(!(!Qu.length||Qu[Qu.length-1]!==i)){var E="deltaY"in b?N5(b):lv(b),A=t.current.filter(function(T){return T.name===b.type&&(T.target===b.target||b.target===T.shadowParent)&&yne(T.delta,E)})[0];if(A&&A.should){b.cancelable&&b.preventDefault();return}if(!A){var C=(a.current.shards||[]).map(F5).filter(Boolean).filter(function(T){return T.contains(b.target)}),M=C.length>0?l(b,C[0]):!a.current.noIsolation;M&&b.cancelable&&b.preventDefault()}}},[]),d=O.useCallback(function(_,b,E,A){var C={name:_,delta:b,target:E,should:A,shadowParent:Sne(E)};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(M){return M!==C})},1)},[]),f=O.useCallback(function(_){n.current=lv(_),r.current=void 0},[]),m=O.useCallback(function(_){d(_.type,N5(_),_.target,l(_,e.lockRef.current))},[]),g=O.useCallback(function(_){d(_.type,lv(_),_.target,l(_,e.lockRef.current))},[]);O.useEffect(function(){return Qu.push(i),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:g}),document.addEventListener("wheel",u,qu),document.addEventListener("touchmove",u,qu),document.addEventListener("touchstart",f,qu),function(){Qu=Qu.filter(function(_){return _!==i}),document.removeEventListener("wheel",u,qu),document.removeEventListener("touchmove",u,qu),document.removeEventListener("touchstart",f,qu)}},[]);var v=e.removeScrollBar,y=e.inert;return O.createElement(O.Fragment,null,y?O.createElement(i,{styles:_ne(o)}):null,v?O.createElement(une,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Sne(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Ane=Yte(j8,wne);var mm=O.forwardRef(function(e,t){return O.createElement($0,$a({},e,{ref:t,sideCar:Ane}))});mm.classNames=$0.classNames;function qn(e){return Object.keys(e)}function WC(e){return e&&typeof e=="object"&&!Array.isArray(e)}function Y2(e,t){const n={...e},r=t;return WC(e)&&WC(t)&&Object.keys(t).forEach(o=>{WC(r[o])&&o in e?n[o]=Y2(n[o],r[o]):n[o]=r[o]}),n}function Cne(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function kne(e){var t;return typeof e!="string"||!e.includes("var(--mantine-scale)")?e:(t=e.match(/^calc\((.*?)\)$/))==null?void 0:t[1].split("*")[0].trim()}function qE(e){const t=kne(e);return typeof t=="number"?t:typeof t=="string"?t.includes("calc")||t.includes("var")?t:t.includes("px")?Number(t.replace("px","")):t.includes("rem")?Number(t.replace("rem",""))*16:t.includes("em")?Number(t.replace("em",""))*16:Number(t):NaN}function G5(e){return e==="0rem"?"0rem":`calc(${e} * var(--mantine-scale))`}function q8(e,{shouldScale:t=!1}={}){function n(r){if(r===0||r==="0")return`0${e}`;if(typeof r=="number"){const o=`${r/16}${e}`;return t?G5(o):o}if(typeof r=="string"){if(r===""||r.startsWith("calc(")||r.startsWith("clamp(")||r.includes("rgba("))return r;if(r.includes(","))return r.split(",").map(i=>n(i)).join(",");if(r.includes(" "))return r.split(" ").map(i=>n(i)).join(" ");const o=r.replace("px","");if(!Number.isNaN(Number(o))){const i=`${Number(o)/16}${e}`;return t?G5(i):i}}return r}return n}const ve=q8("rem",{shouldScale:!0}),by=q8("em");function Zd(e){return Object.keys(e).reduce((t,n)=>(e[n]!==void 0&&(t[n]=e[n]),t),{})}function Q8(e){if(typeof e=="number")return!0;if(typeof e=="string"){if(e.startsWith("calc(")||e.startsWith("var(")||e.includes(" ")&&e.trim()!=="")return!0;const t=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return e.trim().split(/\s+/).every(r=>t.test(r))}return!1}function Yd(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==O.Fragment:!1}function cg(e){const t=O.createContext(null);return[({children:o,value:i})=>w.jsx(t.Provider,{value:i,children:o}),()=>{const o=O.useContext(t);if(o===null)throw new Error(e);return o}]}function z0(e=null){const t=O.createContext(e);return[({children:o,value:i})=>w.jsx(t.Provider,{value:i,children:o}),()=>O.useContext(t)]}function wy(e,t){let n=e;for(;(n=n.parentElement)&&!n.matches(t););return n}function Ene(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].disabled)return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].disabled)return r}return e}function Bne(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].disabled)return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].disabled)return r}return e}function Rne(e,t,n){return wy(e,n)===wy(t,n)}function H8({parentSelector:e,siblingSelector:t,onKeyDown:n,loop:r=!0,activateOnFocus:o=!1,dir:i="rtl",orientation:a}){return l=>{var g;n==null||n(l);const u=Array.from(((g=wy(l.currentTarget,e))==null?void 0:g.querySelectorAll(t))||[]).filter(v=>Rne(l.currentTarget,v,e)),d=u.findIndex(v=>l.currentTarget===v),f=Bne(d,u,r),m=Ene(d,u,r);switch(l.key){case"ArrowRight":break;case"ArrowLeft":break;case"ArrowUp":{l.stopPropagation(),l.preventDefault(),u[m].focus(),o&&u[m].click();break}case"ArrowDown":{l.stopPropagation(),l.preventDefault(),u[f].focus(),o&&u[f].click();break}case"Home":{l.stopPropagation(),l.preventDefault(),!u[0].disabled&&u[0].focus();break}case"End":{l.stopPropagation(),l.preventDefault();const v=u.length-1;!u[v].disabled&&u[v].focus();break}}}}const xne={app:100,modal:200,popover:300,overlay:400,max:9999};function uu(e){return xne[e]}const One=()=>{};function Mne(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||One:n=>{var r;n.key==="Escape"&&(e(n),(r=t.onTrigger)==null||r.call(t))}}function tr(e,t="size",n=!0){if(e!==void 0)return Q8(e)?n?ve(e):e:`var(--${t}-${e})`}function oa(e){return tr(e,"mantine-spacing")}function hr(e){return e===void 0?"var(--mantine-radius-default)":tr(e,"mantine-radius")}function mo(e){return tr(e,"mantine-font-size")}function Pne(e){return tr(e,"mantine-line-height",!1)}function W8(e){if(e)return tr(e,"mantine-shadow",!1)}function Io(e,t){return n=>{e==null||e(n),t==null||t(n)}}function K2(e,t){return e in t?qE(t[e]):qE(e)}function Sy(e,t){const n=e.map(r=>({value:r,px:K2(r,t)}));return n.sort((r,o)=>r.px-o.px),n}function xh(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function Tne(e,t,n){var r;return n?Array.from(((r=wy(n,t))==null?void 0:r.querySelectorAll(e))||[]).findIndex(o=>o===n):null}function Ay(e="mantine-"){return`${e}${Math.random().toString(36).slice(2,11)}`}function Ine(e,t){if(e===t||Number.isNaN(e)&&Number.isNaN(t))return!0;if(!(e instanceof Object)||!(t instanceof Object))return!1;const n=Object.keys(e),{length:r}=n;if(r!==Object.keys(t).length)return!1;for(let o=0;o<r;o+=1){const i=n[o];if(!(i in t)||e[i]!==t[i]&&!(Number.isNaN(e[i])&&Number.isNaN(t[i])))return!1}return!0}const Lne=["mousedown","touchstart"];function Dne(e,t,n){const r=O.useRef(null),o=t||Lne;return O.useEffect(()=>{const i=a=>{const{target:l}=a??{};if(Array.isArray(n)){const u=!document.body.contains(l)&&(l==null?void 0:l.tagName)!=="HTML";n.every(f=>!!f&&!a.composedPath().includes(f))&&!u&&e(a)}else r.current&&!r.current.contains(l)&&e(a)};return o.forEach(a=>document.addEventListener(a,i)),()=>{o.forEach(a=>document.removeEventListener(a,i))}},[r,e,n]),r}function Nne(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function Fne(e,t){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function Oh(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,o]=O.useState(n?t:Fne(e));return O.useEffect(()=>{try{const i=window.matchMedia(e);return o(i.matches),Nne(i,a=>o(a.matches))}catch{return}},[e]),r||!1}const ug=typeof document<"u"?O.useLayoutEffect:O.useEffect;function Nc(e,t){const n=O.useRef(!1);O.useEffect(()=>()=>{n.current=!1},[]),O.useEffect(()=>{if(n.current)return e();n.current=!0},t)}function Gne({opened:e,shouldReturnFocus:t=!0}){const n=O.useRef(null),r=()=>{var o;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((o=n.current)==null||o.focus({preventScroll:!0}))};return Nc(()=>{let o=-1;const i=a=>{a.key==="Tab"&&window.clearTimeout(o)};return document.addEventListener("keydown",i),e?n.current=document.activeElement:t&&(o=window.setTimeout(r,10)),()=>{window.clearTimeout(o),document.removeEventListener("keydown",i)}},[e,t]),r}const jne=/input|select|textarea|button|object/,J8="a, input, select, textarea, button, object, [tabindex]";function $ne(e){return e.style.display==="none"}function zne(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let n=e;for(;n&&!(n===document.body||n.nodeType===11);){if($ne(n))return!1;n=n.parentNode}return!0}function Z8(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function QE(e){const t=e.nodeName.toLowerCase(),n=!Number.isNaN(Z8(e));return(jne.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||n)&&zne(e)}function Y8(e){const t=Z8(e);return(Number.isNaN(t)||t>=0)&&QE(e)}function Une(e){return Array.from(e.querySelectorAll(J8)).filter(Y8)}function Vne(e,t){const n=Une(e);if(!n.length){t.preventDefault();return}const r=n[t.shiftKey?0:n.length-1],o=e.getRootNode();let i=r===o.activeElement||e===o.activeElement;const a=o.activeElement;if(a.tagName==="INPUT"&&a.getAttribute("type")==="radio"&&(i=n.filter(f=>f.getAttribute("type")==="radio"&&f.getAttribute("name")===a.getAttribute("name")).includes(r)),!i)return;t.preventDefault();const u=n[t.shiftKey?n.length-1:0];u&&u.focus()}function qne(e=!0){const t=O.useRef(null),n=o=>{let i=o.querySelector("[data-autofocus]");if(!i){const a=Array.from(o.querySelectorAll(J8));i=a.find(Y8)||a.find(QE)||null,!i&&QE(o)&&(i=o)}i&&i.focus({preventScroll:!0})},r=O.useCallback(o=>{e&&o!==null&&t.current!==o&&(o?(setTimeout(()=>{o.getRootNode()&&n(o)}),t.current=o):t.current=null)},[e]);return O.useEffect(()=>{if(!e)return;t.current&&setTimeout(()=>n(t.current));const o=i=>{i.key==="Tab"&&t.current&&Vne(t.current,i)};return document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)},[e]),r}const Qne=e=>(e+1)%1e6;function Hne(){const[,e]=O.useReducer(Qne,0);return e}const Wne=fe.useId||(()=>{});function Jne(){const e=Wne();return e?`mantine-${e.replace(/:/g,"")}`:""}function Kd(e){const t=Jne(),[n,r]=O.useState(t);return ug(()=>{r(Ay())},[]),typeof e=="string"?e:typeof window>"u"?t:n}function Zne(e,t,n){O.useEffect(()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)),[e,t])}function HE(e,t){if(typeof e=="function")return e(t);typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function Yne(...e){const t=new Map;return n=>{if(e.forEach(r=>{const o=HE(r,n);o&&t.set(r,o)}),t.size>0)return()=>{e.forEach(r=>{const o=t.get(r);o&&typeof o=="function"?o():HE(r,null)}),t.clear()}}}function ka(...e){return O.useCallback(Yne(...e),e)}function dg({value:e,defaultValue:t,finalValue:n,onChange:r=()=>{}}){const[o,i]=O.useState(t!==void 0?t:n),a=(l,...u)=>{i(l),r==null||r(l,...u)};return e!==void 0?[e,r,!0]:[o,a,!1]}function K8(e,t){return Oh("(prefers-reduced-motion: reduce)",e,t)}const Kne={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function X8(e){const t=O.useRef(0),n=O.useRef(null),[r,o]=O.useState(Kne),i=O.useMemo(()=>typeof window<"u"?new ResizeObserver(a=>{const l=a[0];l&&(cancelAnimationFrame(t.current),t.current=requestAnimationFrame(()=>{var u,d;if(n.current){const f=((u=l.borderBoxSize)==null?void 0:u[0])||((d=l.contentBoxSize)==null?void 0:d[0]);if(f){const m=f.inlineSize,g=f.blockSize;o({width:m,height:g,x:l.contentRect.x,y:l.contentRect.y,top:l.contentRect.top,left:l.contentRect.left,bottom:l.contentRect.bottom,right:l.contentRect.right})}else o(l.contentRect)}}))}):null,[]);return O.useEffect(()=>(n.current&&(i==null||i.observe(n.current,e)),()=>{i==null||i.disconnect(),t.current&&cancelAnimationFrame(t.current)}),[n.current]),[n,r]}function $Re(e){const[t,{width:n,height:r}]=X8(e);return{ref:t,width:n,height:r}}function Xne(e,t){if(!e||!t)return!1;if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n+=1)if(!Ine(e[n],t[n]))return!1;return!0}function ere(e){const t=O.useRef([]),n=O.useRef(0);return Xne(t.current,e)||(t.current=e,n.current+=1),[n.current]}function tre(e,t){O.useEffect(e,ere(t))}function nre(e=!1,t={}){const[n,r]=O.useState(e),o=O.useCallback(()=>{r(l=>{var u;return l||((u=t.onOpen)==null||u.call(t),!0)})},[t.onOpen]),i=O.useCallback(()=>{r(l=>{var u;return l&&((u=t.onClose)==null||u.call(t),!1)})},[t.onClose]),a=O.useCallback(()=>{n?i():o()},[i,o,n]);return[n,{open:o,close:i,toggle:a}]}function rre(e,t,n={autoInvoke:!1}){const r=O.useRef(null),o=O.useCallback((...a)=>{r.current||(r.current=window.setTimeout(()=>{e(a),r.current=null},t))},[t]),i=O.useCallback(()=>{r.current&&(window.clearTimeout(r.current),r.current=null)},[]);return O.useEffect(()=>(n.autoInvoke&&o(),i),[i,o]),{start:o,clear:i}}function ore(e,t,n){const r=O.useRef(null),o=O.useRef(null);return O.useEffect(()=>{const i=typeof n=="function"?n():n;return(i||o.current)&&(r.current=new MutationObserver(e),r.current.observe(i||o.current,t)),()=>{var a;(a=r.current)==null||a.disconnect()}},[e,t]),o}function ire(){const[e,t]=O.useState(!1);return O.useEffect(()=>t(!0),[]),e}var are={};function sre(){return typeof process<"u"&&are?"production":"development"}function X2(e){var n;const t=fe.version;return typeof fe.version!="string"||t.startsWith("18.")?e==null?void 0:e.ref:(n=e==null?void 0:e.props)==null?void 0:n.ref}function zRe(e){return e}function eF(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=eF(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Li(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=eF(e))&&(r&&(r+=" "),r+=t);return r}const lre={};function cre(e){const t={};return e.forEach(n=>{Object.entries(n).forEach(([r,o])=>{t[r]?t[r]=Li(t[r],o):t[r]=o})}),t}function U0({theme:e,classNames:t,props:n,stylesCtx:r}){const i=(Array.isArray(t)?t:[t]).map(a=>typeof a=="function"?a(e,n,r):a||lre);return cre(i)}function Cy({theme:e,styles:t,props:n,stylesCtx:r}){return(Array.isArray(t)?t:[t]).reduce((i,a)=>typeof a=="function"?{...i,...a(e,n,r)}:{...i,...a},{})}const tF=O.createContext(null);function js(){const e=O.useContext(tF);if(!e)throw new Error("[@mantine/core] MantineProvider was not found in tree");return e}function ure(){return js().cssVariablesResolver}function dre(){return js().classNamesPrefix}function eR(){return js().getStyleNonce}function fre(){return js().withStaticClasses}function hre(){return js().headless}function mre(){var e;return(e=js().stylesTransform)==null?void 0:e.sx}function gre(){var e;return(e=js().stylesTransform)==null?void 0:e.styles}function V0(){return js().env||"default"}function pre(e){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(e)}function vre(e){let t=e.replace("#","");if(t.length===3){const a=t.split("");t=[a[0],a[0],a[1],a[1],a[2],a[2]].join("")}if(t.length===8){const a=parseInt(t.slice(6,8),16)/255;return{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a}}const n=parseInt(t,16),r=n>>16&255,o=n>>8&255,i=n&255;return{r,g:o,b:i,a:1}}function yre(e){const[t,n,r,o]=e.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:t,g:n,b:r,a:o===void 0?1:o}}function _re(e){const t=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,n=e.match(t);if(!n)return{r:0,g:0,b:0,a:1};const r=parseInt(n[1],10),o=parseInt(n[2],10)/100,i=parseInt(n[3],10)/100,a=n[5]?parseFloat(n[5]):void 0,l=(1-Math.abs(2*i-1))*o,u=r/60,d=l*(1-Math.abs(u%2-1)),f=i-l/2;let m,g,v;return u>=0&&u<1?(m=l,g=d,v=0):u>=1&&u<2?(m=d,g=l,v=0):u>=2&&u<3?(m=0,g=l,v=d):u>=3&&u<4?(m=0,g=d,v=l):u>=4&&u<5?(m=d,g=0,v=l):(m=l,g=0,v=d),{r:Math.round((m+f)*255),g:Math.round((g+f)*255),b:Math.round((v+f)*255),a:a||1}}function tR(e){return pre(e)?vre(e):e.startsWith("rgb")?yre(e):e.startsWith("hsl")?_re(e):{r:0,g:0,b:0,a:1}}function cv(e,t){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, black ${t*100}%)`;const{r:n,g:r,b:o,a:i}=tR(e),a=1-t,l=u=>Math.round(u*a);return`rgba(${l(n)}, ${l(r)}, ${l(o)}, ${i})`}function gm(e,t){return typeof e.primaryShade=="number"?e.primaryShade:t==="dark"?e.primaryShade.dark:e.primaryShade.light}function JC(e){return e<=.03928?e/12.92:((e+.055)/1.055)**2.4}function bre(e){const t=e.match(/oklch\((.*?)%\s/);return t?parseFloat(t[1]):null}function wre(e){if(e.startsWith("oklch("))return(bre(e)||0)/100;const{r:t,g:n,b:r}=tR(e),o=t/255,i=n/255,a=r/255,l=JC(o),u=JC(i),d=JC(a);return .2126*l+.7152*u+.0722*d}function oh(e,t=.179){return e.startsWith("var(")?!1:wre(e)>t}function rs({color:e,theme:t,colorScheme:n}){if(typeof e!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof e}`);if(e==="bright")return{color:e,value:n==="dark"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:oh(n==="dark"?t.white:t.black,t.luminanceThreshold),variable:"--mantine-color-bright"};if(e==="dimmed")return{color:e,value:n==="dark"?t.colors.dark[2]:t.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:oh(n==="dark"?t.colors.dark[2]:t.colors.gray[6],t.luminanceThreshold),variable:"--mantine-color-dimmed"};if(e==="white"||e==="black")return{color:e,value:e==="white"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:oh(e==="white"?t.white:t.black,t.luminanceThreshold),variable:`--mantine-color-${e}`};const[r,o]=e.split("."),i=o?Number(o):void 0,a=r in t.colors;if(a){const l=i!==void 0?t.colors[r][i]:t.colors[r][gm(t,n||"light")];return{color:r,value:l,shade:i,isThemeColor:a,isLight:oh(l,t.luminanceThreshold),variable:o?`--mantine-color-${r}-${i}`:`--mantine-color-${r}-filled`}}return{color:e,value:e,isThemeColor:a,isLight:oh(e,t.luminanceThreshold),shade:i,variable:void 0}}function pa(e,t){const n=rs({color:e||t.primaryColor,theme:t});return n.variable?`var(${n.variable})`:e}function WE(e,t){const n={from:(e==null?void 0:e.from)||t.defaultGradient.from,to:(e==null?void 0:e.to)||t.defaultGradient.to,deg:(e==null?void 0:e.deg)??t.defaultGradient.deg??0},r=pa(n.from,t),o=pa(n.to,t);return`linear-gradient(${n.deg}deg, ${r} 0%, ${o} 100%)`}function Ga(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";if(e.startsWith("var(")){const i=(1-t)*100;return`color-mix(in srgb, ${e}, transparent ${i}%)`}if(e.startsWith("oklch"))return e.includes("/")?e.replace(/\/\s*[\d.]+\s*\)/,`/ ${t})`):e.replace(")",` / ${t})`);const{r:n,g:r,b:o}=tR(e);return`rgba(${n}, ${r}, ${o}, ${t})`}const Hu=Ga,nF=({color:e,theme:t,variant:n,gradient:r,autoContrast:o})=>{const i=rs({color:e,theme:t}),a=typeof o=="boolean"?o:t.autoContrast;if(n==="none")return{background:"transparent",hover:"transparent",color:"inherit",border:"none"};if(n==="filled"){const l=a&&i.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return i.isThemeColor?i.shade===void 0?{background:`var(--mantine-color-${e}-filled)`,hover:`var(--mantine-color-${e}-filled-hover)`,color:l,border:`${ve(1)} solid transparent`}:{background:`var(--mantine-color-${i.color}-${i.shade})`,hover:`var(--mantine-color-${i.color}-${i.shade===9?8:i.shade+1})`,color:l,border:`${ve(1)} solid transparent`}:{background:e,hover:cv(e,.1),color:l,border:`${ve(1)} solid transparent`}}if(n==="light"){if(i.isThemeColor){if(i.shade===void 0)return{background:`var(--mantine-color-${e}-light)`,hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${ve(1)} solid transparent`};const l=t.colors[i.color][i.shade];return{background:Ga(l,.1),hover:Ga(l,.12),color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${ve(1)} solid transparent`}}return{background:Ga(e,.1),hover:Ga(e,.12),color:e,border:`${ve(1)} solid transparent`}}if(n==="outline")return i.isThemeColor?i.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${e}-outline-hover)`,color:`var(--mantine-color-${e}-outline)`,border:`${ve(1)} solid var(--mantine-color-${e}-outline)`}:{background:"transparent",hover:Ga(t.colors[i.color][i.shade],.05),color:`var(--mantine-color-${i.color}-${i.shade})`,border:`${ve(1)} solid var(--mantine-color-${i.color}-${i.shade})`}:{background:"transparent",hover:Ga(e,.05),color:e,border:`${ve(1)} solid ${e}`};if(n==="subtle"){if(i.isThemeColor){if(i.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${ve(1)} solid transparent`};const l=t.colors[i.color][i.shade];return{background:"transparent",hover:Ga(l,.12),color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${ve(1)} solid transparent`}}return{background:"transparent",hover:Ga(e,.12),color:e,border:`${ve(1)} solid transparent`}}return n==="transparent"?i.isThemeColor?i.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${e}-light-color)`,border:`${ve(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${ve(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:e,border:`${ve(1)} solid transparent`}:n==="white"?i.isThemeColor?i.shade===void 0?{background:"var(--mantine-color-white)",hover:cv(t.white,.01),color:`var(--mantine-color-${e}-filled)`,border:`${ve(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:cv(t.white,.01),color:`var(--mantine-color-${i.color}-${i.shade})`,border:`${ve(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:cv(t.white,.01),color:e,border:`${ve(1)} solid transparent`}:n==="gradient"?{background:WE(r,t),hover:WE(r,t),color:"var(--mantine-color-white)",border:"none"}:n==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${ve(1)} solid var(--mantine-color-default-border)`}:{}},Sre={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},j5="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",nR={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:Sre,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:nF,autoContrast:!1,luminanceThreshold:.3,fontFamily:j5,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:j5,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:ve(34),lineHeight:"1.3"},h2:{fontSize:ve(26),lineHeight:"1.35"},h3:{fontSize:ve(22),lineHeight:"1.4"},h4:{fontSize:ve(18),lineHeight:"1.45"},h5:{fontSize:ve(16),lineHeight:"1.5"},h6:{fontSize:ve(14),lineHeight:"1.5"}}},fontSizes:{xs:ve(12),sm:ve(14),md:ve(16),lg:ve(18),xl:ve(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:ve(2),sm:ve(4),md:ve(8),lg:ve(16),xl:ve(32)},spacing:{xs:ve(10),sm:ve(12),md:ve(16),lg:ve(20),xl:ve(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${ve(1)} ${ve(3)} rgba(0, 0, 0, 0.05), 0 ${ve(1)} ${ve(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${ve(1)} ${ve(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${ve(10)} ${ve(15)} ${ve(-5)}, rgba(0, 0, 0, 0.04) 0 ${ve(7)} ${ve(7)} ${ve(-5)}`,md:`0 ${ve(1)} ${ve(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${ve(20)} ${ve(25)} ${ve(-5)}, rgba(0, 0, 0, 0.04) 0 ${ve(10)} ${ve(10)} ${ve(-5)}`,lg:`0 ${ve(1)} ${ve(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${ve(28)} ${ve(23)} ${ve(-7)}, rgba(0, 0, 0, 0.04) 0 ${ve(12)} ${ve(12)} ${ve(-7)}`,xl:`0 ${ve(1)} ${ve(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${ve(36)} ${ve(28)} ${ve(-7)}, rgba(0, 0, 0, 0.04) 0 ${ve(17)} ${ve(17)} ${ve(-7)}`},other:{},components:{}};function $5(e){return e==="auto"||e==="dark"||e==="light"}function Are({key:e="mantine-color-scheme-value"}={}){let t;return{get:n=>{if(typeof window>"u")return n;try{const r=window.localStorage.getItem(e);return $5(r)?r:n}catch{return n}},set:n=>{try{window.localStorage.setItem(e,n)}catch(r){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",r)}},subscribe:n=>{t=r=>{r.storageArea===window.localStorage&&r.key===e&&$5(r.newValue)&&n(r.newValue)},window.addEventListener("storage",t)},unsubscribe:()=>{window.removeEventListener("storage",t)},clear:()=>{window.localStorage.removeItem(e)}}}const Cre="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color",z5="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function ZC(e){return e<0||e>9?!1:parseInt(e.toString(),10)===e}function U5(e){if(!(e.primaryColor in e.colors))throw new Error(Cre);if(typeof e.primaryShade=="object"&&(!ZC(e.primaryShade.dark)||!ZC(e.primaryShade.light)))throw new Error(z5);if(typeof e.primaryShade=="number"&&!ZC(e.primaryShade))throw new Error(z5)}function kre(e,t){var r;if(!t)return U5(e),e;const n=Y2(e,t);return t.fontFamily&&!((r=t.headings)!=null&&r.fontFamily)&&(n.headings.fontFamily=t.fontFamily),U5(n),n}const rR=O.createContext(null),Ere=()=>O.useContext(rR)||nR;function Gr(){const e=O.useContext(rR);if(!e)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return e}function rF({theme:e,children:t,inherit:n=!0}){const r=Ere(),o=O.useMemo(()=>kre(n?r:nR,e),[e,r,n]);return w.jsx(rR.Provider,{value:o,children:t})}rF.displayName="@mantine/core/MantineThemeProvider";function Bre(){const e=Gr(),t=eR(),n=qn(e.breakpoints).reduce((r,o)=>{const i=e.breakpoints[o].includes("px"),a=qE(e.breakpoints[o]),l=i?`${a-.1}px`:by(a-.1),u=i?`${a}px`:by(a);return`${r}@media (max-width: ${l}) {.mantine-visible-from-${o} {display: none !important;}}@media (min-width: ${u}) {.mantine-hidden-from-${o} {display: none !important;}}`},"");return w.jsx("style",{"data-mantine-styles":"classes",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:n}})}function YC(e){return Object.entries(e).map(([t,n])=>`${t}: ${n};`).join("")}function ih(e,t){return(Array.isArray(e)?e:[e]).reduce((r,o)=>`${o}{${r}}`,t)}function Rre(e,t){const n=YC(e.variables),r=n?ih(t,n):"",o=YC(e.dark),i=YC(e.light),a=o?ih(t===":host"?`${t}([data-mantine-color-scheme="dark"])`:`${t}[data-mantine-color-scheme="dark"]`,o):"",l=i?ih(t===":host"?`${t}([data-mantine-color-scheme="light"])`:`${t}[data-mantine-color-scheme="light"]`,i):"";return`${r}

${a}

${l}`}function q0({color:e,theme:t,autoContrast:n}){return(typeof n=="boolean"?n:t.autoContrast)&&rs({color:e||t.primaryColor,theme:t}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function V5(e,t){return q0({color:e.colors[e.primaryColor][gm(e,t)],theme:e,autoContrast:null})}function uv({theme:e,color:t,colorScheme:n,name:r=t,withColorValues:o=!0}){if(!e.colors[t])return{};if(n==="light"){const l=gm(e,"light"),u={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-filled)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${l})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${l===9?8:l+1})`,[`--mantine-color-${r}-light`]:Hu(e.colors[t][l],.1),[`--mantine-color-${r}-light-hover`]:Hu(e.colors[t][l],.12),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${l})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${l})`,[`--mantine-color-${r}-outline-hover`]:Hu(e.colors[t][l],.05)};return o?{[`--mantine-color-${r}-0`]:e.colors[t][0],[`--mantine-color-${r}-1`]:e.colors[t][1],[`--mantine-color-${r}-2`]:e.colors[t][2],[`--mantine-color-${r}-3`]:e.colors[t][3],[`--mantine-color-${r}-4`]:e.colors[t][4],[`--mantine-color-${r}-5`]:e.colors[t][5],[`--mantine-color-${r}-6`]:e.colors[t][6],[`--mantine-color-${r}-7`]:e.colors[t][7],[`--mantine-color-${r}-8`]:e.colors[t][8],[`--mantine-color-${r}-9`]:e.colors[t][9],...u}:u}const i=gm(e,"dark"),a={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-4)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${i})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${i===9?8:i+1})`,[`--mantine-color-${r}-light`]:Hu(e.colors[t][Math.max(0,i-2)],.15),[`--mantine-color-${r}-light-hover`]:Hu(e.colors[t][Math.max(0,i-2)],.2),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${Math.max(i-5,0)})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${Math.max(i-4,0)})`,[`--mantine-color-${r}-outline-hover`]:Hu(e.colors[t][Math.max(i-4,0)],.05)};return o?{[`--mantine-color-${r}-0`]:e.colors[t][0],[`--mantine-color-${r}-1`]:e.colors[t][1],[`--mantine-color-${r}-2`]:e.colors[t][2],[`--mantine-color-${r}-3`]:e.colors[t][3],[`--mantine-color-${r}-4`]:e.colors[t][4],[`--mantine-color-${r}-5`]:e.colors[t][5],[`--mantine-color-${r}-6`]:e.colors[t][6],[`--mantine-color-${r}-7`]:e.colors[t][7],[`--mantine-color-${r}-8`]:e.colors[t][8],[`--mantine-color-${r}-9`]:e.colors[t][9],...a}:a}function xre(e){return!!e&&typeof e=="object"&&"mantine-virtual-color"in e}function Wu(e,t,n){qn(t).forEach(r=>Object.assign(e,{[`--mantine-${n}-${r}`]:t[r]}))}const oF=e=>{const t=gm(e,"light"),n=e.defaultRadius in e.radius?e.radius[e.defaultRadius]:ve(e.defaultRadius),r={variables:{"--mantine-z-index-app":"100","--mantine-z-index-modal":"200","--mantine-z-index-popover":"300","--mantine-z-index-overlay":"400","--mantine-z-index-max":"9999","--mantine-scale":e.scale.toString(),"--mantine-cursor-type":e.cursorType,"--mantine-webkit-font-smoothing":e.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":e.fontSmoothing?"grayscale":"unset","--mantine-color-white":e.white,"--mantine-color-black":e.black,"--mantine-line-height":e.lineHeights.md,"--mantine-font-family":e.fontFamily,"--mantine-font-family-monospace":e.fontFamilyMonospace,"--mantine-font-family-headings":e.headings.fontFamily,"--mantine-heading-font-weight":e.headings.fontWeight,"--mantine-heading-text-wrap":e.headings.textWrap,"--mantine-radius-default":n,"--mantine-primary-color-filled":`var(--mantine-color-${e.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${e.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${e.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${e.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${e.primaryColor}-light-color)`},light:{"--mantine-color-scheme":"light","--mantine-primary-color-contrast":V5(e,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":e.black,"--mantine-color-body":e.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-${t})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)","--mantine-color-disabled":"var(--mantine-color-gray-2)","--mantine-color-disabled-color":"var(--mantine-color-gray-5)","--mantine-color-disabled-border":"var(--mantine-color-gray-3)"},dark:{"--mantine-color-scheme":"dark","--mantine-primary-color-contrast":V5(e,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)","--mantine-color-disabled":"var(--mantine-color-dark-6)","--mantine-color-disabled-color":"var(--mantine-color-dark-3)","--mantine-color-disabled-border":"var(--mantine-color-dark-4)"}};Wu(r.variables,e.breakpoints,"breakpoint"),Wu(r.variables,e.spacing,"spacing"),Wu(r.variables,e.fontSizes,"font-size"),Wu(r.variables,e.lineHeights,"line-height"),Wu(r.variables,e.shadows,"shadow"),Wu(r.variables,e.radius,"radius"),e.colors[e.primaryColor].forEach((i,a)=>{r.variables[`--mantine-primary-color-${a}`]=`var(--mantine-color-${e.primaryColor}-${a})`}),qn(e.colors).forEach(i=>{const a=e.colors[i];if(xre(a)){Object.assign(r.light,uv({theme:e,name:a.name,color:a.light,colorScheme:"light",withColorValues:!0})),Object.assign(r.dark,uv({theme:e,name:a.name,color:a.dark,colorScheme:"dark",withColorValues:!0}));return}a.forEach((l,u)=>{r.variables[`--mantine-color-${i}-${u}`]=l}),Object.assign(r.light,uv({theme:e,color:i,colorScheme:"light",withColorValues:!1})),Object.assign(r.dark,uv({theme:e,color:i,colorScheme:"dark",withColorValues:!1}))});const o=e.headings.sizes;return qn(o).forEach(i=>{r.variables[`--mantine-${i}-font-size`]=o[i].fontSize,r.variables[`--mantine-${i}-line-height`]=o[i].lineHeight,r.variables[`--mantine-${i}-font-weight`]=o[i].fontWeight||e.headings.fontWeight}),r};function Ore({theme:e,generator:t}){const n=oF(e),r=t==null?void 0:t(e);return r?Y2(n,r):n}const KC=oF(nR);function Mre(e){const t={variables:{},light:{},dark:{}};return qn(e.variables).forEach(n=>{KC.variables[n]!==e.variables[n]&&(t.variables[n]=e.variables[n])}),qn(e.light).forEach(n=>{KC.light[n]!==e.light[n]&&(t.light[n]=e.light[n])}),qn(e.dark).forEach(n=>{KC.dark[n]!==e.dark[n]&&(t.dark[n]=e.dark[n])}),t}function Pre(e){return`
  ${e}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${e}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function iF({cssVariablesSelector:e,deduplicateCssVariables:t}){const n=Gr(),r=eR(),o=ure(),i=Ore({theme:n,generator:o}),a=e===":root"&&t,l=a?Mre(i):i,u=Rre(l,e);return u?w.jsx("style",{"data-mantine-styles":!0,nonce:r==null?void 0:r(),dangerouslySetInnerHTML:{__html:`${u}${a?"":Pre(e)}`}}):null}iF.displayName="@mantine/CssVariables";function Ju(e,t){var o,i;const n=typeof window<"u"&&"matchMedia"in window&&((o=window.matchMedia("(prefers-color-scheme: dark)"))==null?void 0:o.matches),r=e!=="auto"?e:n?"dark":"light";(i=t())==null||i.setAttribute("data-mantine-color-scheme",r)}function Tre({manager:e,defaultColorScheme:t,getRootElement:n,forceColorScheme:r}){const o=O.useRef(null),[i,a]=O.useState(()=>e.get(t)),l=r||i,u=O.useCallback(f=>{r||(Ju(f,n),a(f),e.set(f))},[e.set,l,r]),d=O.useCallback(()=>{a(t),Ju(t,n),e.clear()},[e.clear,t]);return O.useEffect(()=>(e.subscribe(u),e.unsubscribe),[e.subscribe,e.unsubscribe]),ug(()=>{Ju(e.get(t),n)},[]),O.useEffect(()=>{var m;if(r)return Ju(r,n),()=>{};r===void 0&&Ju(i,n),typeof window<"u"&&"matchMedia"in window&&(o.current=window.matchMedia("(prefers-color-scheme: dark)"));const f=g=>{i==="auto"&&Ju(g.matches?"dark":"light",n)};return(m=o.current)==null||m.addEventListener("change",f),()=>{var g;return(g=o.current)==null?void 0:g.removeEventListener("change",f)}},[i,r]),{colorScheme:l,setColorScheme:u,clearColorScheme:d}}function Ire({respectReducedMotion:e,getRootElement:t}){ug(()=>{var n;e&&((n=t())==null||n.setAttribute("data-respect-reduced-motion","true"))},[e])}function aF({theme:e,children:t,getStyleNonce:n,withStaticClasses:r=!0,withGlobalClasses:o=!0,deduplicateCssVariables:i=!0,withCssVariables:a=!0,cssVariablesSelector:l=":root",classNamesPrefix:u="mantine",colorSchemeManager:d=Are(),defaultColorScheme:f="light",getRootElement:m=()=>document.documentElement,cssVariablesResolver:g,forceColorScheme:v,stylesTransform:y,env:_}){const{colorScheme:b,setColorScheme:E,clearColorScheme:A}=Tre({defaultColorScheme:f,forceColorScheme:v,manager:d,getRootElement:m});return Ire({respectReducedMotion:(e==null?void 0:e.respectReducedMotion)||!1,getRootElement:m}),w.jsx(tF.Provider,{value:{colorScheme:b,setColorScheme:E,clearColorScheme:A,getRootElement:m,classNamesPrefix:u,getStyleNonce:n,cssVariablesResolver:g,cssVariablesSelector:l,withStaticClasses:r,stylesTransform:y,env:_},children:w.jsxs(rF,{theme:e,children:[a&&w.jsx(iF,{cssVariablesSelector:l,deduplicateCssVariables:i}),o&&w.jsx(Bre,{}),t]})})}aF.displayName="@mantine/core/MantineProvider";function oR({classNames:e,styles:t,props:n,stylesCtx:r}){const o=Gr();return{resolvedClassNames:U0({theme:o,classNames:e,props:n,stylesCtx:r||void 0}),resolvedStyles:Cy({theme:o,styles:t,props:n,stylesCtx:r||void 0})}}const Lre={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function Dre({theme:e,options:t,unstyled:n}){return Li((t==null?void 0:t.focusable)&&!n&&(e.focusClassName||Lre[e.focusRing]),(t==null?void 0:t.active)&&!n&&e.activeClassName)}function Nre({selector:e,stylesCtx:t,options:n,props:r,theme:o}){return U0({theme:o,classNames:n==null?void 0:n.classNames,props:(n==null?void 0:n.props)||r,stylesCtx:t})[e]}function q5({selector:e,stylesCtx:t,theme:n,classNames:r,props:o}){return U0({theme:n,classNames:r,props:o,stylesCtx:t})[e]}function Fre({rootSelector:e,selector:t,className:n}){return e===t?n:void 0}function Gre({selector:e,classes:t,unstyled:n}){return n?void 0:t[e]}function jre({themeName:e,classNamesPrefix:t,selector:n,withStaticClass:r}){return r===!1?[]:e.map(o=>`${t}-${o}-${n}`)}function $re({themeName:e,theme:t,selector:n,props:r,stylesCtx:o}){return e.map(i=>{var a,l;return(l=U0({theme:t,classNames:(a=t.components[i])==null?void 0:a.classNames,props:r,stylesCtx:o}))==null?void 0:l[n]})}function zre({options:e,classes:t,selector:n,unstyled:r}){return e!=null&&e.variant&&!r?t[`${n}--${e.variant}`]:void 0}function Ure({theme:e,options:t,themeName:n,selector:r,classNamesPrefix:o,classNames:i,classes:a,unstyled:l,className:u,rootSelector:d,props:f,stylesCtx:m,withStaticClasses:g,headless:v,transformedStyles:y}){return Li(Dre({theme:e,options:t,unstyled:l||v}),$re({theme:e,themeName:n,selector:r,props:f,stylesCtx:m}),zre({options:t,classes:a,selector:r,unstyled:l}),q5({selector:r,stylesCtx:m,theme:e,classNames:i,props:f}),q5({selector:r,stylesCtx:m,theme:e,classNames:y,props:f}),Nre({selector:r,stylesCtx:m,options:t,props:f,theme:e}),Fre({rootSelector:d,selector:r,className:u}),Gre({selector:r,classes:a,unstyled:l||v}),g&&!v&&jre({themeName:n,classNamesPrefix:o,selector:r,withStaticClass:t==null?void 0:t.withStaticClass}),t==null?void 0:t.className)}function Vre({theme:e,themeName:t,props:n,stylesCtx:r,selector:o}){return t.map(i=>{var a;return Cy({theme:e,styles:(a=e.components[i])==null?void 0:a.styles,props:n,stylesCtx:r})[o]}).reduce((i,a)=>({...i,...a}),{})}function JE({style:e,theme:t}){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...JE({style:r,theme:t})}),{}):typeof e=="function"?e(t):e??{}}function qre(e){return e.reduce((t,n)=>(n&&Object.keys(n).forEach(r=>{t[r]={...t[r],...Zd(n[r])}}),t),{})}function Qre({vars:e,varsResolver:t,theme:n,props:r,stylesCtx:o,selector:i,themeName:a,headless:l}){var u;return(u=qre([l?{}:t==null?void 0:t(n,r,o),...a.map(d=>{var f,m,g;return(g=(m=(f=n.components)==null?void 0:f[d])==null?void 0:m.vars)==null?void 0:g.call(m,n,r,o)}),e==null?void 0:e(n,r,o)]))==null?void 0:u[i]}function Hre({theme:e,themeName:t,selector:n,options:r,props:o,stylesCtx:i,rootSelector:a,styles:l,style:u,vars:d,varsResolver:f,headless:m,withStylesTransform:g}){return{...!g&&Vre({theme:e,themeName:t,props:o,stylesCtx:i,selector:n}),...!g&&Cy({theme:e,styles:l,props:o,stylesCtx:i})[n],...!g&&Cy({theme:e,styles:r==null?void 0:r.styles,props:(r==null?void 0:r.props)||o,stylesCtx:i})[n],...Qre({theme:e,props:o,stylesCtx:i,vars:d,varsResolver:f,selector:n,themeName:t,headless:m}),...a===n?JE({style:u,theme:e}):null,...JE({style:r==null?void 0:r.style,theme:e})}}function Wre({props:e,stylesCtx:t,themeName:n}){var a;const r=Gr(),o=(a=gre())==null?void 0:a();return{getTransformedStyles:l=>o?[...l.map(d=>o(d,{props:e,theme:r,ctx:t})),...n.map(d=>{var f;return o((f=r.components[d])==null?void 0:f.styles,{props:e,theme:r,ctx:t})})].filter(Boolean):[],withStylesTransform:!!o}}function It({name:e,classes:t,props:n,stylesCtx:r,className:o,style:i,rootSelector:a="root",unstyled:l,classNames:u,styles:d,vars:f,varsResolver:m,attributes:g}){const v=Gr(),y=dre(),_=fre(),b=hre(),E=(Array.isArray(e)?e:[e]).filter(M=>M),{withStylesTransform:A,getTransformedStyles:C}=Wre({props:n,stylesCtx:r,themeName:E});return(M,T)=>({className:Ure({theme:v,options:T,themeName:E,selector:M,classNamesPrefix:y,classNames:u,classes:t,unstyled:l,className:o,rootSelector:a,props:n,stylesCtx:r,withStaticClasses:_,headless:b,transformedStyles:C([T==null?void 0:T.styles,d])}),style:Hre({theme:v,themeName:E,selector:M,options:T,props:n,stylesCtx:r,rootSelector:a,styles:d,style:i,vars:f,varsResolver:m,headless:b,withStylesTransform:A}),...g==null?void 0:g[M]})}function sF(e,t){return typeof e=="boolean"?e:t.autoContrast}function Ke(e,t,n){var a;const r=Gr(),o=(a=r.components[e])==null?void 0:a.defaultProps,i=typeof o=="function"?o(r):o;return{...t,...i,...Zd(n)}}function XC(e){return qn(e).reduce((t,n)=>e[n]!==void 0?`${t}${Cne(n)}:${e[n]};`:t,"").trim()}function Jre({selector:e,styles:t,media:n,container:r}){const o=t?XC(t):"",i=Array.isArray(n)?n.map(l=>`@media${l.query}{${e}{${XC(l.styles)}}}`):[],a=Array.isArray(r)?r.map(l=>`@container ${l.query}{${e}{${XC(l.styles)}}}`):[];return`${o?`${e}{${o}}`:""}${i.join("")}${a.join("")}`.trim()}function fg(e){const t=eR();return w.jsx("style",{"data-mantine-styles":"inline",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:Jre(e)}})}function iR(e){const{m:t,mx:n,my:r,mt:o,mb:i,ml:a,mr:l,me:u,ms:d,p:f,px:m,py:g,pt:v,pb:y,pl:_,pr:b,pe:E,ps:A,bd:C,bdrs:M,bg:T,c:I,opacity:P,ff:B,fz:R,fw:x,lts:D,ta:$,lh:U,fs:j,tt:G,td:q,w:Q,miw:F,maw:W,h:Y,mih:N,mah:V,bgsz:X,bgp:oe,bgr:ce,bga:he,pos:ye,top:Fe,left:H,bottom:te,right:le,inset:Ve,display:_e,flex:Ee,hiddenFrom:ft,visibleFrom:Kt,lightHidden:Fn,darkHidden:dn,sx:tn,...Sn}=e;return{styleProps:Zd({m:t,mx:n,my:r,mt:o,mb:i,ml:a,mr:l,me:u,ms:d,p:f,px:m,py:g,pt:v,pb:y,pl:_,pr:b,pe:E,ps:A,bd:C,bg:T,c:I,opacity:P,ff:B,fz:R,fw:x,lts:D,ta:$,lh:U,fs:j,tt:G,td:q,w:Q,miw:F,maw:W,h:Y,mih:N,mah:V,bgsz:X,bgp:oe,bgr:ce,bga:he,pos:ye,top:Fe,left:H,bottom:te,right:le,inset:Ve,display:_e,flex:Ee,bdrs:M,hiddenFrom:ft,visibleFrom:Kt,lightHidden:Fn,darkHidden:dn,sx:tn}),rest:Sn}}const Zre={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bdrs:{type:"radius",property:"borderRadius"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function aR(e,t){const n=rs({color:e,theme:t});return n.color==="dimmed"?"var(--mantine-color-dimmed)":n.color==="bright"?"var(--mantine-color-bright)":n.variable?`var(${n.variable})`:n.color}function Yre(e,t){const n=rs({color:e,theme:t});return n.isThemeColor&&n.shade===void 0?`var(--mantine-color-${n.color}-text)`:aR(e,t)}function Kre(e,t){if(typeof e=="number")return ve(e);if(typeof e=="string"){const[n,r,...o]=e.split(" ").filter(a=>a.trim()!=="");let i=`${ve(n)}`;return r&&(i+=` ${r}`),o.length>0&&(i+=` ${aR(o.join(" "),t)}`),i.trim()}return e}const Q5={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function Xre(e){return typeof e=="string"&&e in Q5?Q5[e]:e}const eoe=["h1","h2","h3","h4","h5","h6"];function toe(e,t){return typeof e=="string"&&e in t.fontSizes?`var(--mantine-font-size-${e})`:typeof e=="string"&&eoe.includes(e)?`var(--mantine-${e}-font-size)`:typeof e=="number"||typeof e=="string"?ve(e):e}function noe(e){return e}const roe=["h1","h2","h3","h4","h5","h6"];function ooe(e,t){return typeof e=="string"&&e in t.lineHeights?`var(--mantine-line-height-${e})`:typeof e=="string"&&roe.includes(e)?`var(--mantine-${e}-line-height)`:e}function ioe(e,t){return typeof e=="string"&&e in t.radius?`var(--mantine-radius-${e})`:typeof e=="number"||typeof e=="string"?ve(e):e}function aoe(e){return typeof e=="number"?ve(e):e}function soe(e,t){if(typeof e=="number")return ve(e);if(typeof e=="string"){const n=e.replace("-","");if(!(n in t.spacing))return ve(e);const r=`--mantine-spacing-${n}`;return e.startsWith("-")?`calc(var(${r}) * -1)`:`var(${r})`}return e}const ek={color:aR,textColor:Yre,fontSize:toe,spacing:soe,radius:ioe,identity:noe,size:aoe,lineHeight:ooe,fontFamily:Xre,border:Kre};function H5(e){return e.replace("(min-width: ","").replace("em)","")}function loe({media:e,...t}){const r=Object.keys(e).sort((o,i)=>Number(H5(o))-Number(H5(i))).map(o=>({query:o,styles:e[o]}));return{...t,media:r}}function coe(e){if(typeof e!="object"||e===null)return!1;const t=Object.keys(e);return!(t.length===1&&t[0]==="base")}function uoe(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function doe(e){return typeof e=="object"&&e!==null?qn(e).filter(t=>t!=="base"):[]}function foe(e,t){return typeof e=="object"&&e!==null&&t in e?e[t]:e}function lF({styleProps:e,data:t,theme:n}){return loe(qn(e).reduce((r,o)=>{if(o==="hiddenFrom"||o==="visibleFrom"||o==="sx")return r;const i=t[o],a=Array.isArray(i.property)?i.property:[i.property],l=uoe(e[o]);if(!coe(e[o]))return a.forEach(d=>{r.inlineStyles[d]=ek[i.type](l,n)}),r;r.hasResponsiveStyles=!0;const u=doe(e[o]);return a.forEach(d=>{l!=null&&(r.styles[d]=ek[i.type](l,n)),u.forEach(f=>{const m=`(min-width: ${n.breakpoints[f]})`;r.media[m]={...r.media[m],[d]:ek[i.type](foe(e[o],f),n)}})}),r},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function Q0(){return`__m__-${O.useId().replace(/[:]/g,"")}`}function cF(e,t){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...cF(r,t)}),{}):typeof e=="function"?e(t):e??{}}function uF(e){return e.startsWith("data-")?e:`data-${e}`}function hoe(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return r===void 0||r===""||r===!1||r===null||(t[uF(n)]=e[n]),t},{})}function dF(e){return e?typeof e=="string"?{[uF(e)]:!0}:Array.isArray(e)?[...e].reduce((t,n)=>({...t,...dF(n)}),{}):hoe(e):null}function ZE(e,t){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...ZE(r,t)}),{}):typeof e=="function"?e(t):e??{}}function moe({theme:e,style:t,vars:n,styleProps:r}){const o=ZE(t,e),i=ZE(n,e);return{...o,...i,...r}}const fF=O.forwardRef(({component:e,style:t,__vars:n,className:r,variant:o,mod:i,size:a,hiddenFrom:l,visibleFrom:u,lightHidden:d,darkHidden:f,renderRoot:m,__size:g,...v},y)=>{var B;const _=Gr(),b=e||"div",{styleProps:E,rest:A}=iR(v),C=mre(),M=(B=C==null?void 0:C())==null?void 0:B(E.sx),T=Q0(),I=lF({styleProps:E,theme:_,data:Zre}),P={ref:y,style:moe({theme:_,style:t,vars:n,styleProps:I.inlineStyles}),className:Li(r,M,{[T]:I.hasResponsiveStyles,"mantine-light-hidden":d,"mantine-dark-hidden":f,[`mantine-hidden-from-${l}`]:l,[`mantine-visible-from-${u}`]:u}),"data-variant":o,"data-size":Q8(a)?void 0:a||void 0,size:g,...dF(i),...A};return w.jsxs(w.Fragment,{children:[I.hasResponsiveStyles&&w.jsx(fg,{selector:`.${T}`,styles:I.styles,media:I.media}),typeof m=="function"?m(P):w.jsx(b,{...P})]})});fF.displayName="@mantine/core/Box";const Qe=fF;function hF(e){return e}function goe(e){const t=e;return n=>{const r=O.forwardRef((o,i)=>w.jsx(t,{...n,...o,ref:i}));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r}}function Lt(e){const t=O.forwardRef(e);return t.extend=hF,t.withProps=n=>{const r=O.forwardRef((o,i)=>w.jsx(t,{...n,...o,ref:i}));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r},t}function jr(e){const t=O.forwardRef(e);return t.withProps=n=>{const r=O.forwardRef((o,i)=>w.jsx(t,{...n,...o,ref:i}));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r},t.extend=hF,t}const poe=O.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function hg(){return O.useContext(poe)}var H0=DN();const Mh=to(H0);function W0(){return typeof window<"u"}function Xd(e){return mF(e)?(e.nodeName||"").toLowerCase():"#document"}function No(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function os(e){var t;return(t=(mF(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function mF(e){return W0()?e instanceof Node||e instanceof No(e).Node:!1}function Ln(e){return W0()?e instanceof Element||e instanceof No(e).Element:!1}function si(e){return W0()?e instanceof HTMLElement||e instanceof No(e).HTMLElement:!1}function YE(e){return!W0()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof No(e).ShadowRoot}const voe=new Set(["inline","contents"]);function mg(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Pi(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!voe.has(o)}const yoe=new Set(["table","td","th"]);function _oe(e){return yoe.has(Xd(e))}const boe=[":popover-open",":modal"];function J0(e){return boe.some(t=>{try{return e.matches(t)}catch{return!1}})}const woe=["transform","translate","scale","rotate","perspective"],Soe=["transform","translate","scale","rotate","perspective","filter"],Aoe=["paint","layout","strict","content"];function sR(e){const t=Z0(),n=Ln(e)?Pi(e):e;return woe.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Soe.some(r=>(n.willChange||"").includes(r))||Aoe.some(r=>(n.contain||"").includes(r))}function Coe(e){let t=Ls(e);for(;si(t)&&!Os(t);){if(sR(t))return t;if(J0(t))return null;t=Ls(t)}return null}function Z0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const koe=new Set(["html","body","#document"]);function Os(e){return koe.has(Xd(e))}function Pi(e){return No(e).getComputedStyle(e)}function Y0(e){return Ln(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ls(e){if(Xd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||YE(e)&&e.host||os(e);return YE(t)?t.host:t}function gF(e){const t=Ls(e);return Os(t)?e.ownerDocument?e.ownerDocument.body:e.body:si(t)&&mg(t)?t:gF(t)}function Ms(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=gF(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),a=No(o);if(i){const l=KE(a);return t.concat(a,a.visualViewport||[],mg(o)?o:[],l&&n?Ms(l):[])}return t.concat(o,Ms(o,[],n))}function KE(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const Eoe=["top","right","bottom","left"],va=Math.min,Yr=Math.max,ky=Math.round,dv=Math.floor,qa=e=>({x:e,y:e}),Boe={left:"right",right:"left",bottom:"top",top:"bottom"},Roe={start:"end",end:"start"};function XE(e,t,n){return Yr(e,va(t,n))}function Za(e,t){return typeof e=="function"?e(t):e}function ya(e){return e.split("-")[0]}function ef(e){return e.split("-")[1]}function lR(e){return e==="x"?"y":"x"}function cR(e){return e==="y"?"height":"width"}const xoe=new Set(["top","bottom"]);function ia(e){return xoe.has(ya(e))?"y":"x"}function uR(e){return lR(ia(e))}function Ooe(e,t,n){n===void 0&&(n=!1);const r=ef(e),o=uR(e),i=cR(o);let a=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=Ey(a)),[a,Ey(a)]}function Moe(e){const t=Ey(e);return[eB(e),t,eB(t)]}function eB(e){return e.replace(/start|end/g,t=>Roe[t])}const W5=["left","right"],J5=["right","left"],Poe=["top","bottom"],Toe=["bottom","top"];function Ioe(e,t,n){switch(e){case"top":case"bottom":return n?t?J5:W5:t?W5:J5;case"left":case"right":return t?Poe:Toe;default:return[]}}function Loe(e,t,n,r){const o=ef(e);let i=Ioe(ya(e),n==="start",r);return o&&(i=i.map(a=>a+"-"+o),t&&(i=i.concat(i.map(eB)))),i}function Ey(e){return e.replace(/left|right|bottom|top/g,t=>Boe[t])}function Doe(e){return{top:0,right:0,bottom:0,left:0,...e}}function dR(e){return typeof e!="number"?Doe(e):{top:e,right:e,bottom:e,left:e}}function Pd(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function Noe(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function Foe(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function Goe(){return/apple/i.test(navigator.vendor)}function joe(){return Noe().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function $oe(){return Foe().includes("jsdom/")}const Z5="data-floating-ui-focusable",zoe="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function Y5(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function pm(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&YE(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function nd(e){return"composedPath"in e?e.composedPath()[0]:e.target}function tk(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function Uoe(e){return e.matches("html,body")}function xc(e){return(e==null?void 0:e.ownerDocument)||document}function Voe(e){return si(e)&&e.matches(zoe)}function qoe(e){if(!e||$oe())return!0;try{return e.matches(":focus-visible")}catch{return!0}}function Qoe(e){return e?e.hasAttribute(Z5)?e:e.querySelector("["+Z5+"]")||e:null}function Nv(e,t,n){return n===void 0&&(n=!0),e.filter(o=>{var i;return o.parentId===t&&(!n||((i=o.context)==null?void 0:i.open))}).flatMap(o=>[o,...Nv(e,o.id,n)])}function Hoe(e){return"nativeEvent"in e}function tB(e,t){const n=["mouse","pen"];return n.push("",void 0),n.includes(e)}var Woe=typeof document<"u",Joe=function(){},Qa=Woe?O.useLayoutEffect:Joe;const Zoe={...f8};function fv(e){const t=O.useRef(e);return Qa(()=>{t.current=e}),t}const Yoe=Zoe.useInsertionEffect,Koe=Yoe||(e=>e());function za(e){const t=O.useRef(()=>{});return Koe(()=>{t.current=e}),O.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function K5(e,t,n){let{reference:r,floating:o}=e;const i=ia(t),a=uR(t),l=cR(a),u=ya(t),d=i==="y",f=r.x+r.width/2-o.width/2,m=r.y+r.height/2-o.height/2,g=r[l]/2-o[l]/2;let v;switch(u){case"top":v={x:f,y:r.y-o.height};break;case"bottom":v={x:f,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:m};break;case"left":v={x:r.x-o.width,y:m};break;default:v={x:r.x,y:r.y}}switch(ef(t)){case"start":v[a]-=g*(n&&d?-1:1);break;case"end":v[a]+=g*(n&&d?-1:1);break}return v}const Xoe=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:a}=n,l=i.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(t));let d=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:f,y:m}=K5(d,r,u),g=r,v={},y=0;for(let _=0;_<l.length;_++){const{name:b,fn:E}=l[_],{x:A,y:C,data:M,reset:T}=await E({x:f,y:m,initialPlacement:r,placement:g,strategy:o,middlewareData:v,rects:d,platform:a,elements:{reference:e,floating:t}});f=A??f,m=C??m,v={...v,[b]:{...v[b],...M}},T&&y<=50&&(y++,typeof T=="object"&&(T.placement&&(g=T.placement),T.rects&&(d=T.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:o}):T.rects),{x:f,y:m}=K5(d,g,u)),_=-1)}return{x:f,y:m,placement:g,strategy:o,middlewareData:v}};async function vm(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:a,elements:l,strategy:u}=e,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:m="floating",altBoundary:g=!1,padding:v=0}=Za(t,e),y=dR(v),b=l[g?m==="floating"?"reference":"floating":m],E=Pd(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:u})),A=m==="floating"?{x:r,y:o,width:a.floating.width,height:a.floating.height}:a.reference,C=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),M=await(i.isElement==null?void 0:i.isElement(C))?await(i.getScale==null?void 0:i.getScale(C))||{x:1,y:1}:{x:1,y:1},T=Pd(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:A,offsetParent:C,strategy:u}):A);return{top:(E.top-T.top+y.top)/M.y,bottom:(T.bottom-E.bottom+y.bottom)/M.y,left:(E.left-T.left+y.left)/M.x,right:(T.right-E.right+y.right)/M.x}}const eie=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:a,elements:l,middlewareData:u}=t,{element:d,padding:f=0}=Za(e,t)||{};if(d==null)return{};const m=dR(f),g={x:n,y:r},v=uR(o),y=cR(v),_=await a.getDimensions(d),b=v==="y",E=b?"top":"left",A=b?"bottom":"right",C=b?"clientHeight":"clientWidth",M=i.reference[y]+i.reference[v]-g[v]-i.floating[y],T=g[v]-i.reference[v],I=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let P=I?I[C]:0;(!P||!await(a.isElement==null?void 0:a.isElement(I)))&&(P=l.floating[C]||i.floating[y]);const B=M/2-T/2,R=P/2-_[y]/2-1,x=va(m[E],R),D=va(m[A],R),$=x,U=P-_[y]-D,j=P/2-_[y]/2+B,G=XE($,j,U),q=!u.arrow&&ef(o)!=null&&j!==G&&i.reference[y]/2-(j<$?x:D)-_[y]/2<0,Q=q?j<$?j-$:j-U:0;return{[v]:g[v]+Q,data:{[v]:G,centerOffset:j-G-Q,...q&&{alignmentOffset:Q}},reset:q}}}),tie=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:a,initialPlacement:l,platform:u,elements:d}=t,{mainAxis:f=!0,crossAxis:m=!0,fallbackPlacements:g,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:_=!0,...b}=Za(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const E=ya(o),A=ia(l),C=ya(l)===l,M=await(u.isRTL==null?void 0:u.isRTL(d.floating)),T=g||(C||!_?[Ey(l)]:Moe(l)),I=y!=="none";!g&&I&&T.push(...Loe(l,_,y,M));const P=[l,...T],B=await vm(t,b),R=[];let x=((r=i.flip)==null?void 0:r.overflows)||[];if(f&&R.push(B[E]),m){const j=Ooe(o,a,M);R.push(B[j[0]],B[j[1]])}if(x=[...x,{placement:o,overflows:R}],!R.every(j=>j<=0)){var D,$;const j=(((D=i.flip)==null?void 0:D.index)||0)+1,G=P[j];if(G&&(!(m==="alignment"?A!==ia(G):!1)||x.every(F=>ia(F.placement)===A?F.overflows[0]>0:!0)))return{data:{index:j,overflows:x},reset:{placement:G}};let q=($=x.filter(Q=>Q.overflows[0]<=0).sort((Q,F)=>Q.overflows[1]-F.overflows[1])[0])==null?void 0:$.placement;if(!q)switch(v){case"bestFit":{var U;const Q=(U=x.filter(F=>{if(I){const W=ia(F.placement);return W===A||W==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(W=>W>0).reduce((W,Y)=>W+Y,0)]).sort((F,W)=>F[1]-W[1])[0])==null?void 0:U[0];Q&&(q=Q);break}case"initialPlacement":q=l;break}if(o!==q)return{reset:{placement:q}}}return{}}}};function X5(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function e6(e){return Eoe.some(t=>e[t]>=0)}const nie=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=Za(e,t);switch(r){case"referenceHidden":{const i=await vm(t,{...o,elementContext:"reference"}),a=X5(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:e6(a)}}}case"escaped":{const i=await vm(t,{...o,altBoundary:!0}),a=X5(i,n.floating);return{data:{escapedOffsets:a,escaped:e6(a)}}}default:return{}}}}};function pF(e){const t=va(...e.map(i=>i.left)),n=va(...e.map(i=>i.top)),r=Yr(...e.map(i=>i.right)),o=Yr(...e.map(i=>i.bottom));return{x:t,y:n,width:r-t,height:o-n}}function rie(e){const t=e.slice().sort((o,i)=>o.y-i.y),n=[];let r=null;for(let o=0;o<t.length;o++){const i=t[o];!r||i.y-r.y>r.height/2?n.push([i]):n[n.length-1].push(i),r=i}return n.map(o=>Pd(pF(o)))}const oie=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:o,platform:i,strategy:a}=t,{padding:l=2,x:u,y:d}=Za(e,t),f=Array.from(await(i.getClientRects==null?void 0:i.getClientRects(r.reference))||[]),m=rie(f),g=Pd(pF(f)),v=dR(l);function y(){if(m.length===2&&m[0].left>m[1].right&&u!=null&&d!=null)return m.find(b=>u>b.left-v.left&&u<b.right+v.right&&d>b.top-v.top&&d<b.bottom+v.bottom)||g;if(m.length>=2){if(ia(n)==="y"){const x=m[0],D=m[m.length-1],$=ya(n)==="top",U=x.top,j=D.bottom,G=$?x.left:D.left,q=$?x.right:D.right,Q=q-G,F=j-U;return{top:U,bottom:j,left:G,right:q,width:Q,height:F,x:G,y:U}}const b=ya(n)==="left",E=Yr(...m.map(x=>x.right)),A=va(...m.map(x=>x.left)),C=m.filter(x=>b?x.left===A:x.right===E),M=C[0].top,T=C[C.length-1].bottom,I=A,P=E,B=P-I,R=T-M;return{top:M,bottom:T,left:I,right:P,width:B,height:R,x:I,y:M}}return g}const _=await i.getElementRects({reference:{getBoundingClientRect:y},floating:r.floating,strategy:a});return o.reference.x!==_.reference.x||o.reference.y!==_.reference.y||o.reference.width!==_.reference.width||o.reference.height!==_.reference.height?{reset:{rects:_}}:{}}}},vF=new Set(["left","top"]);async function iie(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),a=ya(n),l=ef(n),u=ia(n)==="y",d=vF.has(a)?-1:1,f=i&&u?-1:1,m=Za(t,e);let{mainAxis:g,crossAxis:v,alignmentAxis:y}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof y=="number"&&(v=l==="end"?y*-1:y),u?{x:v*f,y:g*d}:{x:g*d,y:v*f}}const aie=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:a,middlewareData:l}=t,u=await iie(t,e);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:o+u.x,y:i+u.y,data:{...u,placement:a}}}}},sie=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:b=>{let{x:E,y:A}=b;return{x:E,y:A}}},...u}=Za(e,t),d={x:n,y:r},f=await vm(t,u),m=ia(ya(o)),g=lR(m);let v=d[g],y=d[m];if(i){const b=g==="y"?"top":"left",E=g==="y"?"bottom":"right",A=v+f[b],C=v-f[E];v=XE(A,v,C)}if(a){const b=m==="y"?"top":"left",E=m==="y"?"bottom":"right",A=y+f[b],C=y-f[E];y=XE(A,y,C)}const _=l.fn({...t,[g]:v,[m]:y});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[g]:i,[m]:a}}}}}},lie=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:i,middlewareData:a}=t,{offset:l=0,mainAxis:u=!0,crossAxis:d=!0}=Za(e,t),f={x:n,y:r},m=ia(o),g=lR(m);let v=f[g],y=f[m];const _=Za(l,t),b=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(u){const C=g==="y"?"height":"width",M=i.reference[g]-i.floating[C]+b.mainAxis,T=i.reference[g]+i.reference[C]-b.mainAxis;v<M?v=M:v>T&&(v=T)}if(d){var E,A;const C=g==="y"?"width":"height",M=vF.has(ya(o)),T=i.reference[m]-i.floating[C]+(M&&((E=a.offset)==null?void 0:E[m])||0)+(M?0:b.crossAxis),I=i.reference[m]+i.reference[C]+(M?0:((A=a.offset)==null?void 0:A[m])||0)-(M?b.crossAxis:0);y<T?y=T:y>I&&(y=I)}return{[g]:v,[m]:y}}}},cie=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:i,platform:a,elements:l}=t,{apply:u=()=>{},...d}=Za(e,t),f=await vm(t,d),m=ya(o),g=ef(o),v=ia(o)==="y",{width:y,height:_}=i.floating;let b,E;m==="top"||m==="bottom"?(b=m,E=g===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(E=m,b=g==="end"?"top":"bottom");const A=_-f.top-f.bottom,C=y-f.left-f.right,M=va(_-f[b],A),T=va(y-f[E],C),I=!t.middlewareData.shift;let P=M,B=T;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(B=C),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(P=A),I&&!g){const x=Yr(f.left,0),D=Yr(f.right,0),$=Yr(f.top,0),U=Yr(f.bottom,0);v?B=y-2*(x!==0||D!==0?x+D:Yr(f.left,f.right)):P=_-2*($!==0||U!==0?$+U:Yr(f.top,f.bottom))}await u({...t,availableWidth:B,availableHeight:P});const R=await a.getDimensions(l.floating);return y!==R.width||_!==R.height?{reset:{rects:!0}}:{}}}};function yF(e){const t=Pi(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=si(e),i=o?e.offsetWidth:n,a=o?e.offsetHeight:r,l=ky(n)!==i||ky(r)!==a;return l&&(n=i,r=a),{width:n,height:r,$:l}}function fR(e){return Ln(e)?e:e.contextElement}function pd(e){const t=fR(e);if(!si(t))return qa(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=yF(t);let a=(i?ky(n.width):n.width)/r,l=(i?ky(n.height):n.height)/o;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const uie=qa(0);function _F(e){const t=No(e);return!Z0()||!t.visualViewport?uie:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function die(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==No(e)?!1:t}function Yc(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=fR(e);let a=qa(1);t&&(r?Ln(r)&&(a=pd(r)):a=pd(e));const l=die(i,n,r)?_F(i):qa(0);let u=(o.left+l.x)/a.x,d=(o.top+l.y)/a.y,f=o.width/a.x,m=o.height/a.y;if(i){const g=No(i),v=r&&Ln(r)?No(r):r;let y=g,_=KE(y);for(;_&&r&&v!==y;){const b=pd(_),E=_.getBoundingClientRect(),A=Pi(_),C=E.left+(_.clientLeft+parseFloat(A.paddingLeft))*b.x,M=E.top+(_.clientTop+parseFloat(A.paddingTop))*b.y;u*=b.x,d*=b.y,f*=b.x,m*=b.y,u+=C,d+=M,y=No(_),_=KE(y)}}return Pd({width:f,height:m,x:u,y:d})}function K0(e,t){const n=Y0(e).scrollLeft;return t?t.left+n:Yc(os(e)).left+n}function bF(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-K0(e,n),o=n.top+t.scrollTop;return{x:r,y:o}}function fie(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i=o==="fixed",a=os(r),l=t?J0(t.floating):!1;if(r===a||l&&i)return n;let u={scrollLeft:0,scrollTop:0},d=qa(1);const f=qa(0),m=si(r);if((m||!m&&!i)&&((Xd(r)!=="body"||mg(a))&&(u=Y0(r)),si(r))){const v=Yc(r);d=pd(r),f.x=v.x+r.clientLeft,f.y=v.y+r.clientTop}const g=a&&!m&&!i?bF(a,u):qa(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-u.scrollLeft*d.x+f.x+g.x,y:n.y*d.y-u.scrollTop*d.y+f.y+g.y}}function hie(e){return Array.from(e.getClientRects())}function mie(e){const t=os(e),n=Y0(e),r=e.ownerDocument.body,o=Yr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Yr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+K0(e);const l=-n.scrollTop;return Pi(r).direction==="rtl"&&(a+=Yr(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:a,y:l}}const t6=25;function gie(e,t){const n=No(e),r=os(e),o=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,l=0,u=0;if(o){i=o.width,a=o.height;const f=Z0();(!f||f&&t==="fixed")&&(l=o.offsetLeft,u=o.offsetTop)}const d=K0(r);if(d<=0){const f=r.ownerDocument,m=f.body,g=getComputedStyle(m),v=f.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,y=Math.abs(r.clientWidth-m.clientWidth-v);y<=t6&&(i-=y)}else d<=t6&&(i+=d);return{width:i,height:a,x:l,y:u}}const pie=new Set(["absolute","fixed"]);function vie(e,t){const n=Yc(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=si(e)?pd(e):qa(1),a=e.clientWidth*i.x,l=e.clientHeight*i.y,u=o*i.x,d=r*i.y;return{width:a,height:l,x:u,y:d}}function n6(e,t,n){let r;if(t==="viewport")r=gie(e,n);else if(t==="document")r=mie(os(e));else if(Ln(t))r=vie(t,n);else{const o=_F(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Pd(r)}function wF(e,t){const n=Ls(e);return n===t||!Ln(n)||Os(n)?!1:Pi(n).position==="fixed"||wF(n,t)}function yie(e,t){const n=t.get(e);if(n)return n;let r=Ms(e,[],!1).filter(l=>Ln(l)&&Xd(l)!=="body"),o=null;const i=Pi(e).position==="fixed";let a=i?Ls(e):e;for(;Ln(a)&&!Os(a);){const l=Pi(a),u=sR(a);!u&&l.position==="fixed"&&(o=null),(i?!u&&!o:!u&&l.position==="static"&&!!o&&pie.has(o.position)||mg(a)&&!u&&wF(e,a))?r=r.filter(f=>f!==a):o=l,a=Ls(a)}return t.set(e,r),r}function _ie(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const a=[...n==="clippingAncestors"?J0(t)?[]:yie(t,this._c):[].concat(n),r],l=a[0],u=a.reduce((d,f)=>{const m=n6(t,f,o);return d.top=Yr(m.top,d.top),d.right=va(m.right,d.right),d.bottom=va(m.bottom,d.bottom),d.left=Yr(m.left,d.left),d},n6(t,l,o));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function bie(e){const{width:t,height:n}=yF(e);return{width:t,height:n}}function wie(e,t,n){const r=si(t),o=os(t),i=n==="fixed",a=Yc(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const u=qa(0);function d(){u.x=K0(o)}if(r||!r&&!i)if((Xd(t)!=="body"||mg(o))&&(l=Y0(t)),r){const v=Yc(t,!0,i,t);u.x=v.x+t.clientLeft,u.y=v.y+t.clientTop}else o&&d();i&&!r&&o&&d();const f=o&&!r&&!i?bF(o,l):qa(0),m=a.left+l.scrollLeft-u.x-f.x,g=a.top+l.scrollTop-u.y-f.y;return{x:m,y:g,width:a.width,height:a.height}}function nk(e){return Pi(e).position==="static"}function r6(e,t){if(!si(e)||Pi(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return os(e)===n&&(n=n.ownerDocument.body),n}function SF(e,t){const n=No(e);if(J0(e))return n;if(!si(e)){let o=Ls(e);for(;o&&!Os(o);){if(Ln(o)&&!nk(o))return o;o=Ls(o)}return n}let r=r6(e,t);for(;r&&_oe(r)&&nk(r);)r=r6(r,t);return r&&Os(r)&&nk(r)&&!sR(r)?n:r||Coe(e)||n}const Sie=async function(e){const t=this.getOffsetParent||SF,n=this.getDimensions,r=await n(e.floating);return{reference:wie(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Aie(e){return Pi(e).direction==="rtl"}const Cie={convertOffsetParentRelativeRectToViewportRelativeRect:fie,getDocumentElement:os,getClippingRect:_ie,getOffsetParent:SF,getElementRects:Sie,getClientRects:hie,getDimensions:bie,getScale:pd,isElement:Ln,isRTL:Aie};function AF(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function kie(e,t){let n=null,r;const o=os(e);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),i();const d=e.getBoundingClientRect(),{left:f,top:m,width:g,height:v}=d;if(l||t(),!g||!v)return;const y=dv(m),_=dv(o.clientWidth-(f+g)),b=dv(o.clientHeight-(m+v)),E=dv(f),C={rootMargin:-y+"px "+-_+"px "+-b+"px "+-E+"px",threshold:Yr(0,va(1,u))||1};let M=!0;function T(I){const P=I[0].intersectionRatio;if(P!==u){if(!M)return a();P?a(!1,P):r=setTimeout(()=>{a(!1,1e-7)},1e3)}P===1&&!AF(d,e.getBoundingClientRect())&&a(),M=!1}try{n=new IntersectionObserver(T,{...C,root:o.ownerDocument})}catch{n=new IntersectionObserver(T,C)}n.observe(e)}return a(!0),i}function nB(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,d=fR(e),f=o||i?[...d?Ms(d):[],...Ms(t)]:[];f.forEach(E=>{o&&E.addEventListener("scroll",n,{passive:!0}),i&&E.addEventListener("resize",n)});const m=d&&l?kie(d,n):null;let g=-1,v=null;a&&(v=new ResizeObserver(E=>{let[A]=E;A&&A.target===d&&v&&(v.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var C;(C=v)==null||C.observe(t)})),n()}),d&&!u&&v.observe(d),v.observe(t));let y,_=u?Yc(e):null;u&&b();function b(){const E=Yc(e);_&&!AF(_,E)&&n(),_=E,y=requestAnimationFrame(b)}return n(),()=>{var E;f.forEach(A=>{o&&A.removeEventListener("scroll",n),i&&A.removeEventListener("resize",n)}),m==null||m(),(E=v)==null||E.disconnect(),v=null,u&&cancelAnimationFrame(y)}}const Eie=aie,Bie=sie,Rie=tie,xie=cie,Oie=nie,o6=eie,Mie=oie,Pie=lie,Tie=(e,t,n)=>{const r=new Map,o={platform:Cie,...n},i={...o.platform,_c:r};return Xoe(e,t,{...o,platform:i})};var Iie=typeof document<"u",Lie=function(){},Fv=Iie?O.useLayoutEffect:Lie;function By(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!By(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!By(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function CF(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function i6(e,t){const n=CF(e);return Math.round(t*n)/n}function rk(e){const t=O.useRef(e);return Fv(()=>{t.current=e}),t}function Die(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:a}={},transform:l=!0,whileElementsMounted:u,open:d}=e,[f,m]=O.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[g,v]=O.useState(r);By(g,r)||v(r);const[y,_]=O.useState(null),[b,E]=O.useState(null),A=O.useCallback(F=>{F!==I.current&&(I.current=F,_(F))},[]),C=O.useCallback(F=>{F!==P.current&&(P.current=F,E(F))},[]),M=i||y,T=a||b,I=O.useRef(null),P=O.useRef(null),B=O.useRef(f),R=u!=null,x=rk(u),D=rk(o),$=rk(d),U=O.useCallback(()=>{if(!I.current||!P.current)return;const F={placement:t,strategy:n,middleware:g};D.current&&(F.platform=D.current),Tie(I.current,P.current,F).then(W=>{const Y={...W,isPositioned:$.current!==!1};j.current&&!By(B.current,Y)&&(B.current=Y,H0.flushSync(()=>{m(Y)}))})},[g,t,n,D,$]);Fv(()=>{d===!1&&B.current.isPositioned&&(B.current.isPositioned=!1,m(F=>({...F,isPositioned:!1})))},[d]);const j=O.useRef(!1);Fv(()=>(j.current=!0,()=>{j.current=!1}),[]),Fv(()=>{if(M&&(I.current=M),T&&(P.current=T),M&&T){if(x.current)return x.current(M,T,U);U()}},[M,T,U,x,R]);const G=O.useMemo(()=>({reference:I,floating:P,setReference:A,setFloating:C}),[A,C]),q=O.useMemo(()=>({reference:M,floating:T}),[M,T]),Q=O.useMemo(()=>{const F={position:n,left:0,top:0};if(!q.floating)return F;const W=i6(q.floating,f.x),Y=i6(q.floating,f.y);return l?{...F,transform:"translate("+W+"px, "+Y+"px)",...CF(q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:W,top:Y}},[n,l,q.floating,f.x,f.y]);return O.useMemo(()=>({...f,update:U,refs:G,elements:q,floatingStyles:Q}),[f,U,G,q,Q])}const Nie=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?o6({element:r.current,padding:o}).fn(n):{}:r?o6({element:r,padding:o}).fn(n):{}}}},kF=(e,t)=>({...Eie(e),options:[e,t]}),hR=(e,t)=>({...Bie(e),options:[e,t]}),a6=(e,t)=>({...Pie(e),options:[e,t]}),Ry=(e,t)=>({...Rie(e),options:[e,t]}),Fie=(e,t)=>({...xie(e),options:[e,t]}),Gie=(e,t)=>({...Oie(e),options:[e,t]}),qh=(e,t)=>({...Mie(e),options:[e,t]}),EF=(e,t)=>({...Nie(e),options:[e,t]});function URe(e){const t=O.useRef(void 0),n=O.useCallback(r=>{const o=e.map(i=>{if(i!=null){if(typeof i=="function"){const a=i,l=a(r);return typeof l=="function"?l:()=>{a(null)}}return i.current=r,()=>{i.current=null}}});return()=>{o.forEach(i=>i==null?void 0:i())}},e);return O.useMemo(()=>e.every(r=>r==null)?null:r=>{t.current&&(t.current(),t.current=void 0),r!=null&&(t.current=n(r))},e)}const jie="data-floating-ui-focusable",s6="active",l6="selected",$ie={...f8};let c6=!1,zie=0;const u6=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+zie++;function Uie(){const[e,t]=O.useState(()=>c6?u6():void 0);return Qa(()=>{e==null&&t(u6())},[]),O.useEffect(()=>{c6=!0},[]),e}const Vie=$ie.useId,BF=Vie||Uie;function qie(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var r;(r=e.get(t))==null||r.delete(n)}}}const Qie=O.createContext(null),Hie=O.createContext(null),mR=()=>{var e;return((e=O.useContext(Qie))==null?void 0:e.id)||null},gR=()=>O.useContext(Hie);function pR(e){return"data-floating-ui-"+e}function Si(e){e.current!==-1&&(clearTimeout(e.current),e.current=-1)}const d6=pR("safe-polygon");function Gv(e,t,n){if(n&&!tB(n))return 0;if(typeof e=="number")return e;if(typeof e=="function"){const r=e();return typeof r=="number"?r:r==null?void 0:r[t]}return e==null?void 0:e[t]}function ok(e){return typeof e=="function"?e():e}function Wie(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,events:i,elements:a}=e,{enabled:l=!0,delay:u=0,handleClose:d=null,mouseOnly:f=!1,restMs:m=0,move:g=!0}=t,v=gR(),y=mR(),_=fv(d),b=fv(u),E=fv(n),A=fv(m),C=O.useRef(),M=O.useRef(-1),T=O.useRef(),I=O.useRef(-1),P=O.useRef(!0),B=O.useRef(!1),R=O.useRef(()=>{}),x=O.useRef(!1),D=za(()=>{var Q;const F=(Q=o.current.openEvent)==null?void 0:Q.type;return(F==null?void 0:F.includes("mouse"))&&F!=="mousedown"});O.useEffect(()=>{if(!l)return;function Q(F){let{open:W}=F;W||(Si(M),Si(I),P.current=!0,x.current=!1)}return i.on("openchange",Q),()=>{i.off("openchange",Q)}},[l,i]),O.useEffect(()=>{if(!l||!_.current||!n)return;function Q(W){D()&&r(!1,W,"hover")}const F=xc(a.floating).documentElement;return F.addEventListener("mouseleave",Q),()=>{F.removeEventListener("mouseleave",Q)}},[a.floating,n,r,l,_,D]);const $=O.useCallback(function(Q,F,W){F===void 0&&(F=!0),W===void 0&&(W="hover");const Y=Gv(b.current,"close",C.current);Y&&!T.current?(Si(M),M.current=window.setTimeout(()=>r(!1,Q,W),Y)):F&&(Si(M),r(!1,Q,W))},[b,r]),U=za(()=>{R.current(),T.current=void 0}),j=za(()=>{if(B.current){const Q=xc(a.floating).body;Q.style.pointerEvents="",Q.removeAttribute(d6),B.current=!1}}),G=za(()=>o.current.openEvent?["click","mousedown"].includes(o.current.openEvent.type):!1);O.useEffect(()=>{if(!l)return;function Q(V){if(Si(M),P.current=!1,f&&!tB(C.current)||ok(A.current)>0&&!Gv(b.current,"open"))return;const X=Gv(b.current,"open",C.current);X?M.current=window.setTimeout(()=>{E.current||r(!0,V,"hover")},X):n||r(!0,V,"hover")}function F(V){if(G()){j();return}R.current();const X=xc(a.floating);if(Si(I),x.current=!1,_.current&&o.current.floatingContext){n||Si(M),T.current=_.current({...o.current.floatingContext,tree:v,x:V.clientX,y:V.clientY,onClose(){j(),U(),G()||$(V,!0,"safe-polygon")}});const ce=T.current;X.addEventListener("mousemove",ce),R.current=()=>{X.removeEventListener("mousemove",ce)};return}(C.current==="touch"?!pm(a.floating,V.relatedTarget):!0)&&$(V)}function W(V){G()||o.current.floatingContext&&(_.current==null||_.current({...o.current.floatingContext,tree:v,x:V.clientX,y:V.clientY,onClose(){j(),U(),G()||$(V)}})(V))}function Y(){Si(M)}function N(V){G()||$(V,!1)}if(Ln(a.domReference)){const V=a.domReference,X=a.floating;return n&&V.addEventListener("mouseleave",W),g&&V.addEventListener("mousemove",Q,{once:!0}),V.addEventListener("mouseenter",Q),V.addEventListener("mouseleave",F),X&&(X.addEventListener("mouseleave",W),X.addEventListener("mouseenter",Y),X.addEventListener("mouseleave",N)),()=>{n&&V.removeEventListener("mouseleave",W),g&&V.removeEventListener("mousemove",Q),V.removeEventListener("mouseenter",Q),V.removeEventListener("mouseleave",F),X&&(X.removeEventListener("mouseleave",W),X.removeEventListener("mouseenter",Y),X.removeEventListener("mouseleave",N))}}},[a,l,e,f,g,$,U,j,r,n,E,v,b,_,o,G,A]),Qa(()=>{var Q;if(l&&n&&(Q=_.current)!=null&&(Q=Q.__options)!=null&&Q.blockPointerEvents&&D()){B.current=!0;const W=a.floating;if(Ln(a.domReference)&&W){var F;const Y=xc(a.floating).body;Y.setAttribute(d6,"");const N=a.domReference,V=v==null||(F=v.nodesRef.current.find(X=>X.id===y))==null||(F=F.context)==null?void 0:F.elements.floating;return V&&(V.style.pointerEvents=""),Y.style.pointerEvents="none",N.style.pointerEvents="auto",W.style.pointerEvents="auto",()=>{Y.style.pointerEvents="",N.style.pointerEvents="",W.style.pointerEvents=""}}}},[l,n,y,a,v,_,D]),Qa(()=>{n||(C.current=void 0,x.current=!1,U(),j())},[n,U,j]),O.useEffect(()=>()=>{U(),Si(M),Si(I),j()},[l,a.domReference,U,j]);const q=O.useMemo(()=>{function Q(F){C.current=F.pointerType}return{onPointerDown:Q,onPointerEnter:Q,onMouseMove(F){const{nativeEvent:W}=F;function Y(){!P.current&&!E.current&&r(!0,W,"hover")}f&&!tB(C.current)||n||ok(A.current)===0||x.current&&F.movementX**2+F.movementY**2<2||(Si(I),C.current==="touch"?Y():(x.current=!0,I.current=window.setTimeout(Y,ok(A.current))))}}},[f,r,n,E,A]);return O.useMemo(()=>l?{reference:q}:{},[l,q])}const rB=()=>{},RF=O.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:rB,setState:rB,isInstantPhase:!1}),Jie=()=>O.useContext(RF);function Zie(e){const{children:t,delay:n,timeoutMs:r=0}=e,[o,i]=O.useReducer((u,d)=>({...u,...d}),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),a=O.useRef(null),l=O.useCallback(u=>{i({currentId:u})},[]);return Qa(()=>{o.currentId?a.current===null?a.current=o.currentId:o.isInstantPhase||i({isInstantPhase:!0}):(o.isInstantPhase&&i({isInstantPhase:!1}),a.current=null)},[o.currentId,o.isInstantPhase]),w.jsx(RF.Provider,{value:O.useMemo(()=>({...o,setState:i,setCurrentId:l}),[o,l]),children:t})}function Yie(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,floatingId:o}=e,{id:i,enabled:a=!0}=t,l=i??o,u=Jie(),{currentId:d,setCurrentId:f,initialDelay:m,setState:g,timeoutMs:v}=u;return Qa(()=>{a&&d&&(g({delay:{open:1,close:Gv(m,"close")}}),d!==l&&r(!1))},[a,l,r,g,d,m]),Qa(()=>{function y(){r(!1),g({delay:m,currentId:null})}if(a&&d&&!n&&d===l){if(v){const _=window.setTimeout(y,v);return()=>{clearTimeout(_)}}y()}},[a,n,g,d,l,r,m,v]),Qa(()=>{a&&(f===rB||!n||f(l))},[a,n,f,l]),u}const Kie={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Xie={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},f6=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function eae(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,elements:o,dataRef:i}=e,{enabled:a=!0,escapeKey:l=!0,outsidePress:u=!0,outsidePressEvent:d="pointerdown",referencePress:f=!1,referencePressEvent:m="pointerdown",ancestorScroll:g=!1,bubbles:v,capture:y}=t,_=gR(),b=za(typeof u=="function"?u:()=>!1),E=typeof u=="function"?b:u,A=O.useRef(!1),{escapeKey:C,outsidePress:M}=f6(v),{escapeKey:T,outsidePress:I}=f6(y),P=O.useRef(!1),B=za(j=>{var G;if(!n||!a||!l||j.key!=="Escape"||P.current)return;const q=(G=i.current.floatingContext)==null?void 0:G.nodeId,Q=_?Nv(_.nodesRef.current,q):[];if(!C&&(j.stopPropagation(),Q.length>0)){let F=!0;if(Q.forEach(W=>{var Y;if((Y=W.context)!=null&&Y.open&&!W.context.dataRef.current.__escapeKeyBubbles){F=!1;return}}),!F)return}r(!1,Hoe(j)?j.nativeEvent:j,"escape-key")}),R=za(j=>{var G;const q=()=>{var Q;B(j),(Q=nd(j))==null||Q.removeEventListener("keydown",q)};(G=nd(j))==null||G.addEventListener("keydown",q)}),x=za(j=>{var G;const q=i.current.insideReactTree;i.current.insideReactTree=!1;const Q=A.current;if(A.current=!1,d==="click"&&Q||q||typeof E=="function"&&!E(j))return;const F=nd(j),W="["+pR("inert")+"]",Y=xc(o.floating).querySelectorAll(W);let N=Ln(F)?F:null;for(;N&&!Os(N);){const ce=Ls(N);if(Os(ce)||!Ln(ce))break;N=ce}if(Y.length&&Ln(F)&&!Uoe(F)&&!pm(F,o.floating)&&Array.from(Y).every(ce=>!pm(N,ce)))return;if(si(F)&&U){const ce=Os(F),he=Pi(F),ye=/auto|scroll/,Fe=ce||ye.test(he.overflowX),H=ce||ye.test(he.overflowY),te=Fe&&F.clientWidth>0&&F.scrollWidth>F.clientWidth,le=H&&F.clientHeight>0&&F.scrollHeight>F.clientHeight,Ve=he.direction==="rtl",_e=le&&(Ve?j.offsetX<=F.offsetWidth-F.clientWidth:j.offsetX>F.clientWidth),Ee=te&&j.offsetY>F.clientHeight;if(_e||Ee)return}const V=(G=i.current.floatingContext)==null?void 0:G.nodeId,X=_&&Nv(_.nodesRef.current,V).some(ce=>{var he;return tk(j,(he=ce.context)==null?void 0:he.elements.floating)});if(tk(j,o.floating)||tk(j,o.domReference)||X)return;const oe=_?Nv(_.nodesRef.current,V):[];if(oe.length>0){let ce=!0;if(oe.forEach(he=>{var ye;if((ye=he.context)!=null&&ye.open&&!he.context.dataRef.current.__outsidePressBubbles){ce=!1;return}}),!ce)return}r(!1,j,"outside-press")}),D=za(j=>{var G;const q=()=>{var Q;x(j),(Q=nd(j))==null||Q.removeEventListener(d,q)};(G=nd(j))==null||G.addEventListener(d,q)});O.useEffect(()=>{if(!n||!a)return;i.current.__escapeKeyBubbles=C,i.current.__outsidePressBubbles=M;let j=-1;function G(Y){r(!1,Y,"ancestor-scroll")}function q(){window.clearTimeout(j),P.current=!0}function Q(){j=window.setTimeout(()=>{P.current=!1},Z0()?5:0)}const F=xc(o.floating);l&&(F.addEventListener("keydown",T?R:B,T),F.addEventListener("compositionstart",q),F.addEventListener("compositionend",Q)),E&&F.addEventListener(d,I?D:x,I);let W=[];return g&&(Ln(o.domReference)&&(W=Ms(o.domReference)),Ln(o.floating)&&(W=W.concat(Ms(o.floating))),!Ln(o.reference)&&o.reference&&o.reference.contextElement&&(W=W.concat(Ms(o.reference.contextElement)))),W=W.filter(Y=>{var N;return Y!==((N=F.defaultView)==null?void 0:N.visualViewport)}),W.forEach(Y=>{Y.addEventListener("scroll",G,{passive:!0})}),()=>{l&&(F.removeEventListener("keydown",T?R:B,T),F.removeEventListener("compositionstart",q),F.removeEventListener("compositionend",Q)),E&&F.removeEventListener(d,I?D:x,I),W.forEach(Y=>{Y.removeEventListener("scroll",G)}),window.clearTimeout(j)}},[i,o,l,E,d,n,r,g,a,C,M,B,T,R,x,I,D]),O.useEffect(()=>{i.current.insideReactTree=!1},[i,E,d]);const $=O.useMemo(()=>({onKeyDown:B,...f&&{[Kie[m]]:j=>{r(!1,j.nativeEvent,"reference-press")},...m!=="click"&&{onClick(j){r(!1,j.nativeEvent,"reference-press")}}}}),[B,r,f,m]),U=O.useMemo(()=>({onKeyDown:B,onMouseDown(){A.current=!0},onMouseUp(){A.current=!0},[Xie[d]]:()=>{i.current.insideReactTree=!0}}),[B,d,i]);return O.useMemo(()=>a?{reference:$,floating:U}:{},[a,$,U])}function tae(e){const{open:t=!1,onOpenChange:n,elements:r}=e,o=BF(),i=O.useRef({}),[a]=O.useState(()=>qie()),l=mR()!=null,[u,d]=O.useState(r.reference),f=za((v,y,_)=>{i.current.openEvent=v?y:void 0,a.emit("openchange",{open:v,event:y,reason:_,nested:l}),n==null||n(v,y,_)}),m=O.useMemo(()=>({setPositionReference:d}),[]),g=O.useMemo(()=>({reference:u||r.reference||null,floating:r.floating||null,domReference:r.reference}),[u,r.reference,r.floating]);return O.useMemo(()=>({dataRef:i,open:t,onOpenChange:f,elements:g,events:a,floatingId:o,refs:m}),[t,f,g,a,o,m])}function vR(e){e===void 0&&(e={});const{nodeId:t}=e,n=tae({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,o=r.elements,[i,a]=O.useState(null),[l,u]=O.useState(null),f=(o==null?void 0:o.domReference)||i,m=O.useRef(null),g=gR();Qa(()=>{f&&(m.current=f)},[f]);const v=Die({...e,elements:{...o,...l&&{reference:l}}}),y=O.useCallback(C=>{const M=Ln(C)?{getBoundingClientRect:()=>C.getBoundingClientRect(),getClientRects:()=>C.getClientRects(),contextElement:C}:C;u(M),v.refs.setReference(M)},[v.refs]),_=O.useCallback(C=>{(Ln(C)||C===null)&&(m.current=C,a(C)),(Ln(v.refs.reference.current)||v.refs.reference.current===null||C!==null&&!Ln(C))&&v.refs.setReference(C)},[v.refs]),b=O.useMemo(()=>({...v.refs,setReference:_,setPositionReference:y,domReference:m}),[v.refs,_,y]),E=O.useMemo(()=>({...v.elements,domReference:f}),[v.elements,f]),A=O.useMemo(()=>({...v,...r,refs:b,elements:E,nodeId:t}),[v,b,E,t,r]);return Qa(()=>{r.dataRef.current.floatingContext=A;const C=g==null?void 0:g.nodesRef.current.find(M=>M.id===t);C&&(C.context=A)}),O.useMemo(()=>({...v,context:A,refs:b,elements:E}),[v,b,E,A])}function ik(){return joe()&&Goe()}function nae(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:o,dataRef:i,elements:a}=e,{enabled:l=!0,visibleOnly:u=!0}=t,d=O.useRef(!1),f=O.useRef(-1),m=O.useRef(!0);O.useEffect(()=>{if(!l)return;const v=No(a.domReference);function y(){!n&&si(a.domReference)&&a.domReference===Y5(xc(a.domReference))&&(d.current=!0)}function _(){m.current=!0}function b(){m.current=!1}return v.addEventListener("blur",y),ik()&&(v.addEventListener("keydown",_,!0),v.addEventListener("pointerdown",b,!0)),()=>{v.removeEventListener("blur",y),ik()&&(v.removeEventListener("keydown",_,!0),v.removeEventListener("pointerdown",b,!0))}},[a.domReference,n,l]),O.useEffect(()=>{if(!l)return;function v(y){let{reason:_}=y;(_==="reference-press"||_==="escape-key")&&(d.current=!0)}return o.on("openchange",v),()=>{o.off("openchange",v)}},[o,l]),O.useEffect(()=>()=>{Si(f)},[]);const g=O.useMemo(()=>({onMouseLeave(){d.current=!1},onFocus(v){if(d.current)return;const y=nd(v.nativeEvent);if(u&&Ln(y)){if(ik()&&!v.relatedTarget){if(!m.current&&!Voe(y))return}else if(!qoe(y))return}r(!0,v.nativeEvent,"focus")},onBlur(v){d.current=!1;const y=v.relatedTarget,_=v.nativeEvent,b=Ln(y)&&y.hasAttribute(pR("focus-guard"))&&y.getAttribute("data-type")==="outside";f.current=window.setTimeout(()=>{var E;const A=Y5(a.domReference?a.domReference.ownerDocument:document);!y&&A===a.domReference||pm((E=i.current.floatingContext)==null?void 0:E.refs.floating.current,A)||pm(a.domReference,A)||b||r(!1,_,"focus")})}}),[i,a.domReference,r,u]);return O.useMemo(()=>l?{reference:g}:{},[l,g])}function ak(e,t,n){const r=new Map,o=n==="item";let i=e;if(o&&e){const{[s6]:a,[l6]:l,...u}=e;i=u}return{...n==="floating"&&{tabIndex:-1,[jie]:""},...i,...t.map(a=>{const l=a?a[n]:null;return typeof l=="function"?e?l(e):null:l}).concat(e).reduce((a,l)=>(l&&Object.entries(l).forEach(u=>{let[d,f]=u;if(!(o&&[s6,l6].includes(d)))if(d.indexOf("on")===0){if(r.has(d)||r.set(d,[]),typeof f=="function"){var m;(m=r.get(d))==null||m.push(f),a[d]=function(){for(var g,v=arguments.length,y=new Array(v),_=0;_<v;_++)y[_]=arguments[_];return(g=r.get(d))==null?void 0:g.map(b=>b(...y)).find(b=>b!==void 0)}}}else a[d]=f}),a),{})}}function rae(e){e===void 0&&(e=[]);const t=e.map(l=>l==null?void 0:l.reference),n=e.map(l=>l==null?void 0:l.floating),r=e.map(l=>l==null?void 0:l.item),o=O.useCallback(l=>ak(l,e,"reference"),t),i=O.useCallback(l=>ak(l,e,"floating"),n),a=O.useCallback(l=>ak(l,e,"item"),r);return O.useMemo(()=>({getReferenceProps:o,getFloatingProps:i,getItemProps:a}),[o,i,a])}const oae=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function iae(e,t){var n,r;t===void 0&&(t={});const{open:o,elements:i,floatingId:a}=e,{enabled:l=!0,role:u="dialog"}=t,d=BF(),f=((n=i.domReference)==null?void 0:n.id)||d,m=O.useMemo(()=>{var A;return((A=Qoe(i.floating))==null?void 0:A.id)||a},[i.floating,a]),g=(r=oae.get(u))!=null?r:u,y=mR()!=null,_=O.useMemo(()=>g==="tooltip"||u==="label"?{["aria-"+(u==="label"?"labelledby":"describedby")]:o?m:void 0}:{"aria-expanded":o?"true":"false","aria-haspopup":g==="alertdialog"?"dialog":g,"aria-controls":o?m:void 0,...g==="listbox"&&{role:"combobox"},...g==="menu"&&{id:f},...g==="menu"&&y&&{role:"menuitem"},...u==="select"&&{"aria-autocomplete":"none"},...u==="combobox"&&{"aria-autocomplete":"list"}},[g,m,y,o,f,u]),b=O.useMemo(()=>{const A={id:m,...g&&{role:g}};return g==="tooltip"||u==="label"?A:{...A,...g==="menu"&&{"aria-labelledby":f}}},[g,m,f,u]),E=O.useCallback(A=>{let{active:C,selected:M}=A;const T={role:"option",...C&&{id:m+"-fui-option"}};switch(u){case"select":case"combobox":return{...T,"aria-selected":M}}return{}},[m,u]);return O.useMemo(()=>l?{reference:_,floating:b,item:E}:{},[l,_,b,E])}function hv(e){return e?parseInt(e,10):0}var xF={root:"m_87cf2631"};const aae={__staticSelector:"UnstyledButton"},zl=jr((e,t)=>{const n=Ke("UnstyledButton",aae,e),{className:r,component:o="button",__staticSelector:i,unstyled:a,classNames:l,styles:u,style:d,attributes:f,...m}=n,g=It({name:i,props:n,classes:xF,className:r,style:d,classNames:l,styles:u,unstyled:a,attributes:f});return w.jsx(Qe,{...g("root",{focusable:!0}),component:o,ref:t,type:o==="button"?"button":void 0,...m})});zl.classes=xF;zl.displayName="@mantine/core/UnstyledButton";var OF={root:"m_515a97f8"};const yR=Lt((e,t)=>{const n=Ke("VisuallyHidden",null,e),{classNames:r,className:o,style:i,styles:a,unstyled:l,vars:u,attributes:d,...f}=n,m=It({name:"VisuallyHidden",classes:OF,props:n,className:o,style:i,classNames:r,styles:a,unstyled:l,attributes:d});return w.jsx(Qe,{component:"span",ref:t,...m("root"),...f})});yR.classes=OF;yR.displayName="@mantine/core/VisuallyHidden";var MF={root:"m_1b7284a3"};const sae=(e,{radius:t,shadow:n})=>({root:{"--paper-radius":t===void 0?void 0:hr(t),"--paper-shadow":W8(n)}}),_R=jr((e,t)=>{const n=Ke("Paper",null,e),{classNames:r,className:o,style:i,styles:a,unstyled:l,withBorder:u,vars:d,radius:f,shadow:m,variant:g,mod:v,attributes:y,..._}=n,b=It({name:"Paper",props:n,classes:MF,className:o,style:i,classNames:r,styles:a,unstyled:l,attributes:y,vars:d,varsResolver:sae});return w.jsx(Qe,{ref:t,mod:[{"data-with-border":u},v],...b("root"),variant:g,..._})});_R.classes=MF;_R.displayName="@mantine/core/Paper";function h6(e,t,n,r){return e==="center"||r==="center"?{top:t}:e==="end"?{bottom:n}:e==="start"?{top:n}:{}}function m6(e,t,n,r,o){return e==="center"||r==="center"?{left:t}:e==="end"?{[o==="ltr"?"right":"left"]:n}:e==="start"?{[o==="ltr"?"left":"right"]:n}:{}}const lae={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function cae({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:o,arrowX:i,arrowY:a,dir:l}){const[u,d="center"]=e.split("-"),f={width:t,height:t,transform:"rotate(45deg)",position:"absolute",[lae[u]]:r},m=-t/2;return u==="left"?{...f,...h6(d,a,n,o),right:m,borderLeftColor:"transparent",borderBottomColor:"transparent",clipPath:"polygon(100% 0, 0 0, 100% 100%)"}:u==="right"?{...f,...h6(d,a,n,o),left:m,borderRightColor:"transparent",borderTopColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 100%)"}:u==="top"?{...f,...m6(d,i,n,o,l),bottom:m,borderTopColor:"transparent",borderLeftColor:"transparent",clipPath:"polygon(0 100%, 100% 100%, 100% 0)"}:u==="bottom"?{...f,...m6(d,i,n,o,l),top:m,borderBottomColor:"transparent",borderRightColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 0)"}:{}}const xy=O.forwardRef(({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:o,visible:i,arrowX:a,arrowY:l,style:u,...d},f)=>{const{dir:m}=hg();return i?w.jsx("div",{...d,ref:f,style:{...u,...cae({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:o,dir:m,arrowX:a,arrowY:l})}}):null});xy.displayName="@mantine/core/FloatingArrow";function PF(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[n,r]=t.split("-"),o=n==="right"?"left":"right";return r===void 0?o:`${o}-${r}`}return t}var TF={root:"m_9814e45f"};const uae={zIndex:uu("modal")},dae=(e,{gradient:t,color:n,backgroundOpacity:r,blur:o,radius:i,zIndex:a})=>({root:{"--overlay-bg":t||(n!==void 0||r!==void 0)&&Ga(n||"#000",r??.6)||void 0,"--overlay-filter":o?`blur(${ve(o)})`:void 0,"--overlay-radius":i===void 0?void 0:hr(i),"--overlay-z-index":a==null?void 0:a.toString()}}),X0=jr((e,t)=>{const n=Ke("Overlay",uae,e),{classNames:r,className:o,style:i,styles:a,unstyled:l,vars:u,fixed:d,center:f,children:m,radius:g,zIndex:v,gradient:y,blur:_,color:b,backgroundOpacity:E,mod:A,attributes:C,...M}=n,T=It({name:"Overlay",props:n,classes:TF,className:o,style:i,classNames:r,styles:a,unstyled:l,attributes:C,vars:u,varsResolver:dae});return w.jsx(Qe,{ref:t,...T("root"),mod:[{center:f,fixed:d},A],...M,children:m})});X0.classes=TF;X0.displayName="@mantine/core/Overlay";function sk(e){const t=document.createElement("div");return t.setAttribute("data-portal","true"),typeof e.className=="string"&&t.classList.add(...e.className.split(" ").filter(Boolean)),typeof e.style=="object"&&Object.assign(t.style,e.style),typeof e.id=="string"&&t.setAttribute("id",e.id),t}function fae({target:e,reuseTargetNode:t,...n}){if(e)return typeof e=="string"?document.querySelector(e)||sk(n):e;if(t){const r=document.querySelector("[data-mantine-shared-portal-node]");if(r)return r;const o=sk(n);return o.setAttribute("data-mantine-shared-portal-node","true"),document.body.appendChild(o),o}return sk(n)}const hae={reuseTargetNode:!0},bR=Lt((e,t)=>{const{children:n,target:r,reuseTargetNode:o,...i}=Ke("Portal",hae,e),[a,l]=O.useState(!1),u=O.useRef(null);return ug(()=>(l(!0),u.current=fae({target:r,reuseTargetNode:o,...i}),HE(t,u.current),!r&&!o&&u.current&&document.body.appendChild(u.current),()=>{!r&&!o&&u.current&&document.body.removeChild(u.current)}),[r]),!a||!u.current?null:H0.createPortal(w.jsx(w.Fragment,{children:n}),u.current)});bR.displayName="@mantine/core/Portal";const Il=Lt(({withinPortal:e=!0,children:t,...n},r)=>V0()==="test"||!e?w.jsx(w.Fragment,{children:t}):w.jsx(bR,{ref:r,...n,children:t}));Il.displayName="@mantine/core/OptionalPortal";const ah=e=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${e==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),mv={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...ah("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...ah("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...ah("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...ah("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...ah("top"),common:{transformOrigin:"top right"}}},g6={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function mae({transition:e,state:t,duration:n,timingFunction:r}){const o={WebkitBackfaceVisibility:"hidden",willChange:"transform, opacity",transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof e=="string"?e in mv?{transitionProperty:mv[e].transitionProperty,...o,...mv[e].common,...mv[e][g6[t]]}:{}:{transitionProperty:e.transitionProperty,...o,...e.common,...e[g6[t]]}}function gae({duration:e,exitDuration:t,timingFunction:n,mounted:r,onEnter:o,onExit:i,onEntered:a,onExited:l,enterDelay:u,exitDelay:d}){const f=Gr(),m=K8(),g=f.respectReducedMotion?m:!1,[v,y]=O.useState(g?0:e),[_,b]=O.useState(r?"entered":"exited"),E=O.useRef(-1),A=O.useRef(-1),C=O.useRef(-1);function M(){window.clearTimeout(E.current),window.clearTimeout(A.current),cancelAnimationFrame(C.current)}const T=P=>{M();const B=P?o:i,R=P?a:l,x=g?0:P?e:t;y(x),x===0?(typeof B=="function"&&B(),typeof R=="function"&&R(),b(P?"entered":"exited")):C.current=requestAnimationFrame(()=>{Mh.flushSync(()=>{b(P?"pre-entering":"pre-exiting")}),C.current=requestAnimationFrame(()=>{typeof B=="function"&&B(),b(P?"entering":"exiting"),E.current=window.setTimeout(()=>{typeof R=="function"&&R(),b(P?"entered":"exited")},x)})})},I=P=>{if(M(),typeof(P?u:d)!="number"){T(P);return}A.current=window.setTimeout(()=>{T(P)},P?u:d)};return Nc(()=>{I(r)},[r]),O.useEffect(()=>()=>{M()},[]),{transitionDuration:v,transitionStatus:_,transitionTimingFunction:n||"ease"}}function Ll({keepMounted:e,transition:t="fade",duration:n=250,exitDuration:r=n,mounted:o,children:i,timingFunction:a="ease",onExit:l,onEntered:u,onEnter:d,onExited:f,enterDelay:m,exitDelay:g}){const v=V0(),{transitionDuration:y,transitionStatus:_,transitionTimingFunction:b}=gae({mounted:o,exitDuration:r,duration:n,timingFunction:a,onExit:l,onEntered:u,onEnter:d,onExited:f,enterDelay:m,exitDelay:g});return y===0||v==="test"?o?w.jsx(w.Fragment,{children:i({})}):e?i({display:"none"}):null:_==="exited"?e?i({display:"none"}):null:w.jsx(w.Fragment,{children:i(mae({transition:t,duration:y,state:_,timingFunction:b}))})}Ll.displayName="@mantine/core/Transition";const[pae,IF]=cg("Popover component was not found in the tree");function wR({children:e,active:t=!0,refProp:n="ref",innerRef:r}){const o=qne(t),i=ka(o,r);return Yd(e)?O.cloneElement(e,{[n]:i}):e}function LF(e){return w.jsx(yR,{tabIndex:-1,"data-autofocus":!0,...e})}wR.displayName="@mantine/core/FocusTrap";LF.displayName="@mantine/core/FocusTrapInitialFocus";wR.InitialFocus=LF;var DF={dropdown:"m_38a85659",arrow:"m_a31dc6c1",overlay:"m_3d7bc908"};const SR=Lt((e,t)=>{var b,E,A,C;const n=Ke("PopoverDropdown",null,e),{className:r,style:o,vars:i,children:a,onKeyDownCapture:l,variant:u,classNames:d,styles:f,...m}=n,g=IF(),v=Gne({opened:g.opened,shouldReturnFocus:g.returnFocus}),y=g.withRoles?{"aria-labelledby":g.getTargetId(),id:g.getDropdownId(),role:"dialog",tabIndex:-1}:{},_=ka(t,g.floating);return g.disabled?null:w.jsx(Il,{...g.portalProps,withinPortal:g.withinPortal,children:w.jsx(Ll,{mounted:g.opened,...g.transitionProps,transition:((b=g.transitionProps)==null?void 0:b.transition)||"fade",duration:((E=g.transitionProps)==null?void 0:E.duration)??150,keepMounted:g.keepMounted,exitDuration:typeof((A=g.transitionProps)==null?void 0:A.exitDuration)=="number"?g.transitionProps.exitDuration:(C=g.transitionProps)==null?void 0:C.duration,children:M=>w.jsx(wR,{active:g.trapFocus&&g.opened,innerRef:_,children:w.jsxs(Qe,{...y,...m,variant:u,onKeyDownCapture:Mne(()=>{var T,I;(T=g.onClose)==null||T.call(g),(I=g.onDismiss)==null||I.call(g)},{active:g.closeOnEscape,onTrigger:v,onKeyDown:l}),"data-position":g.placement,"data-fixed":g.floatingStrategy==="fixed"||void 0,...g.getStyles("dropdown",{className:r,props:n,classNames:d,styles:f,style:[{...M,zIndex:g.zIndex,top:g.y??0,left:g.x??0,width:g.width==="target"?void 0:ve(g.width),...g.referenceHidden?{display:"none"}:null},g.resolvedStyles.dropdown,f==null?void 0:f.dropdown,o]}),children:[a,w.jsx(xy,{ref:g.arrowRef,arrowX:g.arrowX,arrowY:g.arrowY,visible:g.withArrow,position:g.placement,arrowSize:g.arrowSize,arrowRadius:g.arrowRadius,arrowOffset:g.arrowOffset,arrowPosition:g.arrowPosition,...g.getStyles("arrow",{props:n,classNames:d,styles:f})})]})})})})});SR.classes=DF;SR.displayName="@mantine/core/PopoverDropdown";const vae={refProp:"ref",popupType:"dialog"},NF=Lt((e,t)=>{const{children:n,refProp:r,popupType:o,...i}=Ke("PopoverTarget",vae,e);if(!Yd(n))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const a=i,l=IF(),u=ka(l.reference,X2(n),t),d=l.withRoles?{"aria-haspopup":o,"aria-expanded":l.opened,"aria-controls":l.getDropdownId(),id:l.getTargetId()}:{};return O.cloneElement(n,{...a,...d,...l.targetProps,className:Li(l.targetProps.className,a.className,n.props.className),[r]:u,...l.controlled?null:{onClick:()=>{var f,m;l.onToggle(),(m=(f=n.props).onClick)==null||m.call(f)}}})});NF.displayName="@mantine/core/PopoverTarget";function yae(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function _ae(e,t,n){const r=yae(e.middlewares),o=[kF(e.offset),Gie()];return e.dropdownVisible&&n!=="test"&&e.preventPositionChangeWhenVisible&&(r.flip=!1),r.shift&&o.push(hR(typeof r.shift=="boolean"?{limiter:a6(),padding:5}:{limiter:a6(),padding:5,...r.shift})),r.flip&&o.push(typeof r.flip=="boolean"?Ry():Ry(r.flip)),r.inline&&o.push(typeof r.inline=="boolean"?qh():qh(r.inline)),o.push(EF({element:e.arrowRef,padding:e.arrowOffset})),(r.size||e.width==="target")&&o.push(Fie({...typeof r.size=="boolean"?{}:r.size,apply({rects:i,availableWidth:a,availableHeight:l,...u}){var m;const f=((m=t().refs.floating.current)==null?void 0:m.style)??{};r.size&&(typeof r.size=="object"&&r.size.apply?r.size.apply({rects:i,availableWidth:a,availableHeight:l,...u}):Object.assign(f,{maxWidth:`${a}px`,maxHeight:`${l}px`})),e.width==="target"&&Object.assign(f,{width:`${i.reference.width}px`})}})),o}function bae(e){const t=V0(),[n,r]=dg({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),o=O.useRef(n),i=()=>{n&&!e.disabled&&r(!1)},a=()=>{e.disabled||r(!n)},l=vR({strategy:e.strategy,placement:e.preventPositionChangeWhenVisible?e.positionRef.current:e.position,middleware:_ae(e,()=>l,t),whileElementsMounted:e.keepMounted?void 0:nB});return O.useEffect(()=>{if(!(!l.refs.reference.current||!l.refs.floating.current)&&n)return nB(l.refs.reference.current,l.refs.floating.current,l.update)},[n,l.update]),Nc(()=>{var u;(u=e.onPositionChange)==null||u.call(e,l.placement),e.positionRef.current=l.placement},[l.placement,e.preventPositionChangeWhenVisible]),Nc(()=>{var u,d;n!==o.current&&(n?(d=e.onOpen)==null||d.call(e):(u=e.onClose)==null||u.call(e)),o.current=n},[n,e.onClose,e.onOpen]),Nc(()=>{let u=-1;return n&&(u=window.setTimeout(()=>e.setDropdownVisible(!0),4)),()=>{window.clearTimeout(u)}},[n,e.position]),{floating:l,controlled:typeof e.opened=="boolean",opened:n,onClose:i,onToggle:a}}const wae={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,withOverlay:!1,hideDetached:!0,clickOutsideEvents:["mousedown","touchstart"],zIndex:uu("popover"),__staticSelector:"Popover",width:"max-content"},Sae=(e,{radius:t,shadow:n})=>({dropdown:{"--popover-radius":t===void 0?void 0:hr(t),"--popover-shadow":W8(n)}});function is(e){var Fg,mf,gf,Gg,gu,pu,vu;const t=Ke("Popover",wae,e),{children:n,position:r,offset:o,onPositionChange:i,positionDependencies:a,opened:l,transitionProps:u,onExitTransitionEnd:d,onEnterTransitionEnd:f,width:m,middlewares:g,withArrow:v,arrowSize:y,arrowOffset:_,arrowRadius:b,arrowPosition:E,unstyled:A,classNames:C,styles:M,closeOnClickOutside:T,withinPortal:I,portalProps:P,closeOnEscape:B,clickOutsideEvents:R,trapFocus:x,onClose:D,onDismiss:$,onOpen:U,onChange:j,zIndex:G,radius:q,shadow:Q,id:F,defaultOpened:W,__staticSelector:Y,withRoles:N,disabled:V,returnFocus:X,variant:oe,keepMounted:ce,vars:he,floatingStrategy:ye,withOverlay:Fe,overlayProps:H,hideDetached:te,attributes:le,preventPositionChangeWhenVisible:Ve,..._e}=t,Ee=It({name:Y,props:t,classes:DF,classNames:C,styles:M,unstyled:A,attributes:le,rootSelector:"dropdown",vars:he,varsResolver:Sae}),{resolvedStyles:ft}=oR({classNames:C,styles:M,props:t}),[Kt,Fn]=O.useState(l??W??!1),dn=O.useRef(r),tn=O.useRef(null),[Sn,ur]=O.useState(null),[zo,Uo]=O.useState(null),{dir:Vs}=hg(),Wl=V0(),Gi=Kd(F),Dn=bae({middlewares:g,width:m,position:PF(Vs,r),offset:typeof o=="number"?o+(v?y/2:0):o,arrowRef:tn,arrowOffset:_,onPositionChange:i,positionDependencies:a,opened:l,defaultOpened:W,onChange:j,onOpen:U,onClose:D,onDismiss:$,strategy:ye,dropdownVisible:Kt,setDropdownVisible:Fn,positionRef:dn,disabled:V,preventPositionChangeWhenVisible:Ve,keepMounted:ce});Dne(()=>{T&&(Dn.onClose(),$==null||$())},R,[Sn,zo]);const po=O.useCallback(Ir=>{ur(Ir),Dn.floating.refs.setReference(Ir)},[Dn.floating.refs.setReference]),mu=O.useCallback(Ir=>{Uo(Ir),Dn.floating.refs.setFloating(Ir)},[Dn.floating.refs.setFloating]),as=O.useCallback(()=>{var Ir;(Ir=u==null?void 0:u.onExited)==null||Ir.call(u),d==null||d(),Fn(!1),Ve||(dn.current=r)},[u==null?void 0:u.onExited,d,Ve,r]),Jl=O.useCallback(()=>{var Ir;(Ir=u==null?void 0:u.onEntered)==null||Ir.call(u),f==null||f()},[u==null?void 0:u.onEntered,f]);return w.jsxs(pae,{value:{returnFocus:X,disabled:V,controlled:Dn.controlled,reference:po,floating:mu,x:Dn.floating.x,y:Dn.floating.y,arrowX:(gf=(mf=(Fg=Dn.floating)==null?void 0:Fg.middlewareData)==null?void 0:mf.arrow)==null?void 0:gf.x,arrowY:(pu=(gu=(Gg=Dn.floating)==null?void 0:Gg.middlewareData)==null?void 0:gu.arrow)==null?void 0:pu.y,opened:Dn.opened,arrowRef:tn,transitionProps:{...u,onExited:as,onEntered:Jl},width:m,withArrow:v,arrowSize:y,arrowOffset:_,arrowRadius:b,arrowPosition:E,placement:Dn.floating.placement,trapFocus:x,withinPortal:I,portalProps:P,zIndex:G,radius:q,shadow:Q,closeOnEscape:B,onDismiss:$,onClose:Dn.onClose,onToggle:Dn.onToggle,getTargetId:()=>`${Gi}-target`,getDropdownId:()=>`${Gi}-dropdown`,withRoles:N,targetProps:_e,__staticSelector:Y,classNames:C,styles:M,unstyled:A,variant:oe,keepMounted:ce,getStyles:Ee,resolvedStyles:ft,floatingStrategy:ye,referenceHidden:te&&Wl!=="test"?(vu=Dn.floating.middlewareData.hide)==null?void 0:vu.referenceHidden:!1},children:[n,Fe&&w.jsx(Ll,{transition:"fade",mounted:Dn.opened,duration:(u==null?void 0:u.duration)||250,exitDuration:(u==null?void 0:u.exitDuration)||250,children:Ir=>w.jsx(Il,{withinPortal:I,children:w.jsx(X0,{...H,...Ee("overlay",{className:H==null?void 0:H.className,style:[Ir,H==null?void 0:H.style]})})})})]})}is.Target=NF;is.Dropdown=SR;is.displayName="@mantine/core/Popover";is.extend=e=>e;var aa={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const FF=O.forwardRef(({className:e,...t},n)=>w.jsxs(Qe,{component:"span",className:Li(aa.barsLoader,e),...t,ref:n,children:[w.jsx("span",{className:aa.bar}),w.jsx("span",{className:aa.bar}),w.jsx("span",{className:aa.bar})]}));FF.displayName="@mantine/core/Bars";const GF=O.forwardRef(({className:e,...t},n)=>w.jsxs(Qe,{component:"span",className:Li(aa.dotsLoader,e),...t,ref:n,children:[w.jsx("span",{className:aa.dot}),w.jsx("span",{className:aa.dot}),w.jsx("span",{className:aa.dot})]}));GF.displayName="@mantine/core/Dots";const jF=O.forwardRef(({className:e,...t},n)=>w.jsx(Qe,{component:"span",className:Li(aa.ovalLoader,e),...t,ref:n}));jF.displayName="@mantine/core/Oval";const $F={bars:FF,oval:jF,dots:GF},Aae={loaders:$F,type:"oval"},Cae=(e,{size:t,color:n})=>({root:{"--loader-size":tr(t,"loader-size"),"--loader-color":n?pa(n,e):void 0}}),ri=Lt((e,t)=>{const n=Ke("Loader",Aae,e),{size:r,color:o,type:i,vars:a,className:l,style:u,classNames:d,styles:f,unstyled:m,loaders:g,variant:v,children:y,attributes:_,...b}=n,E=It({name:"Loader",props:n,classes:aa,className:l,style:u,classNames:d,styles:f,unstyled:m,attributes:_,vars:a,varsResolver:Cae});return y?w.jsx(Qe,{...E("root"),ref:t,...b,children:y}):w.jsx(Qe,{...E("root"),ref:t,component:g[i],variant:v,size:r,...b})});ri.defaultLoaders=$F;ri.classes=aa;ri.displayName="@mantine/core/Loader";var tf={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21",groupSection:"m_437b6484"};const p6={orientation:"horizontal"},kae=(e,{borderWidth:t})=>({group:{"--ai-border-width":ve(t)}}),AR=Lt((e,t)=>{const n=Ke("ActionIconGroup",p6,e),{className:r,style:o,classNames:i,styles:a,unstyled:l,orientation:u,vars:d,borderWidth:f,variant:m,mod:g,attributes:v,...y}=Ke("ActionIconGroup",p6,e),_=It({name:"ActionIconGroup",props:n,classes:tf,className:r,style:o,classNames:i,styles:a,unstyled:l,attributes:v,vars:d,varsResolver:kae,rootSelector:"group"});return w.jsx(Qe,{..._("group"),ref:t,variant:m,mod:[{"data-orientation":u},g],role:"group",...y})});AR.classes=tf;AR.displayName="@mantine/core/ActionIconGroup";const Eae=(e,{radius:t,color:n,gradient:r,variant:o,autoContrast:i,size:a})=>{const l=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:o||"filled",autoContrast:i});return{groupSection:{"--section-height":tr(a,"section-height"),"--section-padding-x":tr(a,"section-padding-x"),"--section-fz":mo(a),"--section-radius":t===void 0?void 0:hr(t),"--section-bg":n||o?l.background:void 0,"--section-color":l.color,"--section-bd":n||o?l.border:void 0}}},CR=Lt((e,t)=>{const n=Ke("ActionIconGroupSection",null,e),{className:r,style:o,classNames:i,styles:a,unstyled:l,vars:u,variant:d,gradient:f,radius:m,autoContrast:g,attributes:v,...y}=n,_=It({name:"ActionIconGroupSection",props:n,classes:tf,className:r,style:o,classNames:i,styles:a,unstyled:l,attributes:v,vars:u,varsResolver:Eae,rootSelector:"groupSection"});return w.jsx(Qe,{..._("groupSection"),ref:t,variant:d,...y})});CR.classes=tf;CR.displayName="@mantine/core/ActionIconGroupSection";const Bae=(e,{size:t,radius:n,variant:r,gradient:o,color:i,autoContrast:a})=>{const l=e.variantColorResolver({color:i||e.primaryColor,theme:e,gradient:o,variant:r||"filled",autoContrast:a});return{root:{"--ai-size":tr(t,"ai-size"),"--ai-radius":n===void 0?void 0:hr(n),"--ai-bg":i||r?l.background:void 0,"--ai-hover":i||r?l.hover:void 0,"--ai-hover-color":i||r?l.hoverColor:void 0,"--ai-color":l.color,"--ai-bd":i||r?l.border:void 0}}},gg=jr((e,t)=>{const n=Ke("ActionIcon",null,e),{className:r,unstyled:o,variant:i,classNames:a,styles:l,style:u,loading:d,loaderProps:f,size:m,color:g,radius:v,__staticSelector:y,gradient:_,vars:b,children:E,disabled:A,"data-disabled":C,autoContrast:M,mod:T,attributes:I,...P}=n,B=It({name:["ActionIcon",y],props:n,className:r,style:u,classes:tf,classNames:a,styles:l,unstyled:o,attributes:I,vars:b,varsResolver:Bae});return w.jsxs(zl,{...B("root",{active:!A&&!d&&!C}),...P,unstyled:o,variant:i,size:m,disabled:A||d,ref:t,mod:[{loading:d,disabled:A||C},T],children:[typeof d=="boolean"&&w.jsx(Ll,{mounted:d,transition:"slide-down",duration:150,children:R=>w.jsx(Qe,{component:"span",...B("loader",{style:R}),"aria-hidden":!0,children:w.jsx(ri,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...f})})}),w.jsx(Qe,{component:"span",mod:{loading:d},...B("icon"),children:E})]})});gg.classes=tf;gg.displayName="@mantine/core/ActionIcon";gg.Group=AR;gg.GroupSection=CR;const zF=O.forwardRef(({size:e="var(--cb-icon-size, 70%)",style:t,...n},r)=>w.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...t,width:e,height:e},ref:r,...n,children:w.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));zF.displayName="@mantine/core/CloseIcon";var UF={root:"m_86a44da5","root--subtle":"m_220c80f2"};const Rae={variant:"subtle"},xae=(e,{size:t,radius:n,iconSize:r})=>({root:{"--cb-size":tr(t,"cb-size"),"--cb-radius":n===void 0?void 0:hr(n),"--cb-icon-size":ve(r)}}),e1=jr((e,t)=>{const n=Ke("CloseButton",Rae,e),{iconSize:r,children:o,vars:i,radius:a,className:l,classNames:u,style:d,styles:f,unstyled:m,"data-disabled":g,disabled:v,variant:y,icon:_,mod:b,attributes:E,__staticSelector:A,...C}=n,M=It({name:A||"CloseButton",props:n,className:l,style:d,classes:UF,classNames:u,styles:f,unstyled:m,attributes:E,vars:i,varsResolver:xae});return w.jsxs(zl,{ref:t,...C,unstyled:m,variant:y,disabled:v,mod:[{disabled:v||g},b],...M("root",{variant:y,active:!v&&!g}),children:[_||w.jsx(zF,{}),o]})});e1.classes=UF;e1.displayName="@mantine/core/CloseButton";function Oae(e){return O.Children.toArray(e).filter(Boolean)}var VF={root:"m_4081bf90"};const Mae={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},Pae=(e,{grow:t,preventGrowOverflow:n,gap:r,align:o,justify:i,wrap:a},{childWidth:l})=>({root:{"--group-child-width":t&&n?l:void 0,"--group-gap":oa(r),"--group-align":o,"--group-justify":i,"--group-wrap":a}}),Ds=Lt((e,t)=>{const n=Ke("Group",Mae,e),{classNames:r,className:o,style:i,styles:a,unstyled:l,children:u,gap:d,align:f,justify:m,wrap:g,grow:v,preventGrowOverflow:y,vars:_,variant:b,__size:E,mod:A,attributes:C,...M}=n,T=Oae(u),I=T.length,P=oa(d??"md"),R={childWidth:`calc(${100/I}% - (${P} - ${P} / ${I}))`},x=It({name:"Group",props:n,stylesCtx:R,className:o,style:i,classes:VF,classNames:r,styles:a,unstyled:l,attributes:C,vars:_,varsResolver:Pae});return w.jsx(Qe,{...x("root"),ref:t,variant:b,mod:[{grow:v},A],size:E,...M,children:T})});Ds.classes=VF;Ds.displayName="@mantine/core/Group";const[Tae,Iae]=z0({size:"sm"}),qF=Lt((e,t)=>{const n=Ke("InputClearButton",null,e),{size:r,variant:o,vars:i,classNames:a,styles:l,...u}=n,d=Iae(),{resolvedClassNames:f,resolvedStyles:m}=oR({classNames:a,styles:l,props:n});return w.jsx(e1,{variant:o||"transparent",ref:t,size:r||(d==null?void 0:d.size)||"sm",classNames:f,styles:m,__staticSelector:"InputClearButton",style:{pointerEvents:"all",background:"var(--input-bg)",...u.style},...u})});qF.displayName="@mantine/core/InputClearButton";const Lae={xs:7,sm:8,md:10,lg:12,xl:15};function Dae({__clearable:e,__clearSection:t,rightSection:n,__defaultRightSection:r,size:o="sm"}){const i=e&&t;return i&&(n||r)?w.jsxs("div",{"data-combined-clear-section":!0,style:{display:"flex",gap:2,alignItems:"center",paddingInlineEnd:Lae[o]},children:[i,n||r]}):n||i||r}const[Nae,pg]=z0({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var Di={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const Fae=(e,{size:t})=>({description:{"--input-description-size":t===void 0?void 0:`calc(${mo(t)} - ${ve(2)})`}}),t1=Lt((e,t)=>{const n=Ke("InputDescription",null,e),{classNames:r,className:o,style:i,styles:a,unstyled:l,vars:u,size:d,__staticSelector:f,__inheritStyles:m=!0,attributes:g,variant:v,...y}=Ke("InputDescription",null,n),_=pg(),b=It({name:["InputWrapper",f],props:n,classes:Di,className:o,style:i,classNames:r,styles:a,unstyled:l,attributes:g,rootSelector:"description",vars:u,varsResolver:Fae}),E=m&&(_==null?void 0:_.getStyles)||b;return w.jsx(Qe,{component:"p",ref:t,variant:v,size:d,...E("description",_!=null&&_.getStyles?{className:o,style:i}:void 0),...y})});t1.classes=Di;t1.displayName="@mantine/core/InputDescription";const Gae=(e,{size:t})=>({error:{"--input-error-size":t===void 0?void 0:`calc(${mo(t)} - ${ve(2)})`}}),n1=Lt((e,t)=>{const n=Ke("InputError",null,e),{classNames:r,className:o,style:i,styles:a,unstyled:l,vars:u,size:d,attributes:f,__staticSelector:m,__inheritStyles:g=!0,variant:v,...y}=n,_=It({name:["InputWrapper",m],props:n,classes:Di,className:o,style:i,classNames:r,styles:a,unstyled:l,attributes:f,rootSelector:"error",vars:u,varsResolver:Gae}),b=pg(),E=g&&(b==null?void 0:b.getStyles)||_;return w.jsx(Qe,{component:"p",ref:t,variant:v,size:d,...E("error",b!=null&&b.getStyles?{className:o,style:i}:void 0),...y})});n1.classes=Di;n1.displayName="@mantine/core/InputError";const v6={labelElement:"label"},jae=(e,{size:t})=>({label:{"--input-label-size":mo(t),"--input-asterisk-color":void 0}}),r1=Lt((e,t)=>{const n=Ke("InputLabel",v6,e),{classNames:r,className:o,style:i,styles:a,unstyled:l,vars:u,labelElement:d,size:f,required:m,htmlFor:g,onMouseDown:v,children:y,__staticSelector:_,variant:b,mod:E,attributes:A,...C}=Ke("InputLabel",v6,n),M=It({name:["InputWrapper",_],props:n,classes:Di,className:o,style:i,classNames:r,styles:a,unstyled:l,attributes:A,rootSelector:"label",vars:u,varsResolver:jae}),T=pg(),I=(T==null?void 0:T.getStyles)||M;return w.jsxs(Qe,{...I("label",T!=null&&T.getStyles?{className:o,style:i}:void 0),component:d,variant:b,size:f,ref:t,htmlFor:d==="label"?g:void 0,mod:[{required:m},E],onMouseDown:P=>{v==null||v(P),!P.defaultPrevented&&P.detail>1&&P.preventDefault()},...C,children:[y,m&&w.jsx("span",{...I("required"),"aria-hidden":!0,children:" *"})]})});r1.classes=Di;r1.displayName="@mantine/core/InputLabel";const kR=Lt((e,t)=>{const n=Ke("InputPlaceholder",null,e),{classNames:r,className:o,style:i,styles:a,unstyled:l,vars:u,__staticSelector:d,variant:f,error:m,mod:g,attributes:v,...y}=n,_=It({name:["InputPlaceholder",d],props:n,classes:Di,className:o,style:i,classNames:r,styles:a,unstyled:l,attributes:v,rootSelector:"placeholder"});return w.jsx(Qe,{..._("placeholder"),mod:[{error:!!m},g],component:"span",variant:f,ref:t,...y})});kR.classes=Di;kR.displayName="@mantine/core/InputPlaceholder";function $ae(e,{hasDescription:t,hasError:n}){const r=e.findIndex(u=>u==="input"),o=e.slice(0,r),i=e.slice(r+1),a=t&&o.includes("description")||n&&o.includes("error");return{offsetBottom:t&&i.includes("description")||n&&i.includes("error"),offsetTop:a}}const zae={labelElement:"label",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},Uae=(e,{size:t})=>({label:{"--input-label-size":mo(t),"--input-asterisk-color":void 0},error:{"--input-error-size":t===void 0?void 0:`calc(${mo(t)} - ${ve(2)})`},description:{"--input-description-size":t===void 0?void 0:`calc(${mo(t)} - ${ve(2)})`}}),ER=Lt((e,t)=>{const n=Ke("InputWrapper",zae,e),{classNames:r,className:o,style:i,styles:a,unstyled:l,vars:u,size:d,variant:f,__staticSelector:m,inputContainer:g,inputWrapperOrder:v,label:y,error:_,description:b,labelProps:E,descriptionProps:A,errorProps:C,labelElement:M,children:T,withAsterisk:I,id:P,required:B,__stylesApiProps:R,mod:x,attributes:D,...$}=n,U=It({name:["InputWrapper",m],props:R||n,classes:Di,className:o,style:i,classNames:r,styles:a,unstyled:l,attributes:D,vars:u,varsResolver:Uae}),j={size:d,variant:f,__staticSelector:m},G=Kd(P),q=typeof I=="boolean"?I:B,Q=(C==null?void 0:C.id)||`${G}-error`,F=(A==null?void 0:A.id)||`${G}-description`,W=G,Y=!!_&&typeof _!="boolean",N=!!b,V=`${Y?Q:""} ${N?F:""}`,X=V.trim().length>0?V.trim():void 0,oe=(E==null?void 0:E.id)||`${G}-label`,ce=y&&w.jsx(r1,{labelElement:M,id:oe,htmlFor:W,required:q,...j,...E,children:y},"label"),he=N&&w.jsx(t1,{...A,...j,size:(A==null?void 0:A.size)||j.size,id:(A==null?void 0:A.id)||F,children:b},"description"),ye=w.jsx(O.Fragment,{children:g(T)},"input"),Fe=Y&&O.createElement(n1,{...C,...j,size:(C==null?void 0:C.size)||j.size,key:"error",id:(C==null?void 0:C.id)||Q},_),H=v.map(te=>{switch(te){case"label":return ce;case"input":return ye;case"description":return he;case"error":return Fe;default:return null}});return w.jsx(Nae,{value:{getStyles:U,describedBy:X,inputId:W,labelId:oe,...$ae(v,{hasDescription:N,hasError:Y})},children:w.jsx(Qe,{ref:t,variant:f,size:d,mod:[{error:!!_},x],...U("root"),...$,children:H})})});ER.classes=Di;ER.displayName="@mantine/core/InputWrapper";const Vae={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0,size:"sm"},qae=(e,t,n)=>({wrapper:{"--input-margin-top":n.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":n.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":tr(t.size,"input-height"),"--input-fz":mo(t.size),"--input-radius":t.radius===void 0?void 0:hr(t.radius),"--input-left-section-width":t.leftSectionWidth!==void 0?ve(t.leftSectionWidth):void 0,"--input-right-section-width":t.rightSectionWidth!==void 0?ve(t.rightSectionWidth):void 0,"--input-padding-y":t.multiline?tr(t.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":t.leftSectionPointerEvents,"--input-right-section-pointer-events":t.rightSectionPointerEvents}}),Ti=jr((e,t)=>{const n=Ke("Input",Vae,e),{classNames:r,className:o,style:i,styles:a,unstyled:l,required:u,__staticSelector:d,__stylesApiProps:f,size:m,wrapperProps:g,error:v,disabled:y,leftSection:_,leftSectionProps:b,leftSectionWidth:E,rightSection:A,rightSectionProps:C,rightSectionWidth:M,rightSectionPointerEvents:T,leftSectionPointerEvents:I,variant:P,vars:B,pointer:R,multiline:x,radius:D,id:$,withAria:U,withErrorStyles:j,mod:G,inputSize:q,attributes:Q,__clearSection:F,__clearable:W,__defaultRightSection:Y,...N}=n,{styleProps:V,rest:X}=iR(N),oe=pg(),ce={offsetBottom:oe==null?void 0:oe.offsetBottom,offsetTop:oe==null?void 0:oe.offsetTop},he=It({name:["Input",d],props:f||n,classes:Di,className:o,style:i,classNames:r,styles:a,unstyled:l,attributes:Q,stylesCtx:ce,rootSelector:"wrapper",vars:B,varsResolver:qae}),ye=U?{required:u,disabled:y,"aria-invalid":!!v,"aria-describedby":oe==null?void 0:oe.describedBy,id:(oe==null?void 0:oe.inputId)||$}:{},Fe=Dae({__clearable:W,__clearSection:F,rightSection:A,__defaultRightSection:Y,size:m});return w.jsx(Tae,{value:{size:m||"sm"},children:w.jsxs(Qe,{...he("wrapper"),...V,...g,mod:[{error:!!v&&j,pointer:R,disabled:y,multiline:x,"data-with-right-section":!!Fe,"data-with-left-section":!!_},G],variant:P,size:m,children:[_&&w.jsx("div",{...b,"data-position":"left",...he("section",{className:b==null?void 0:b.className,style:b==null?void 0:b.style}),children:_}),w.jsx(Qe,{component:"input",...X,...ye,ref:t,required:u,mod:{disabled:y,error:!!v&&j},variant:P,__size:q,...he("input")}),Fe&&w.jsx("div",{...C,"data-position":"right",...he("section",{className:C==null?void 0:C.className,style:C==null?void 0:C.style}),children:Fe})]})})});Ti.classes=Di;Ti.Wrapper=ER;Ti.Label=r1;Ti.Error=n1;Ti.Description=t1;Ti.Placeholder=kR;Ti.ClearButton=qF;Ti.displayName="@mantine/core/Input";const Qae={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"identity",property:"alignItems"},justify:{type:"identity",property:"justifyContent"},wrap:{type:"identity",property:"flexWrap"},direction:{type:"identity",property:"flexDirection"}};var QF={root:"m_8bffd616"};const ym=jr((e,t)=>{const n=Ke("Flex",null,e),{classNames:r,className:o,style:i,styles:a,unstyled:l,vars:u,gap:d,rowGap:f,columnGap:m,align:g,justify:v,wrap:y,direction:_,attributes:b,...E}=n,A=It({name:"Flex",classes:QF,props:n,className:o,style:i,classNames:r,styles:a,unstyled:l,attributes:b,vars:u}),C=Gr(),M=Q0(),T=lF({styleProps:{gap:d,rowGap:f,columnGap:m,align:g,justify:v,wrap:y,direction:_},theme:C,data:Qae});return w.jsxs(w.Fragment,{children:[T.hasResponsiveStyles&&w.jsx(fg,{selector:`.${M}`,styles:T.styles,media:T.media}),w.jsx(Qe,{ref:t,...A("root",{className:M,style:Zd(T.inlineStyles)}),...E})]})});ym.classes=QF;ym.displayName="@mantine/core/Flex";function Hae(e,t){if(!t||!e)return!1;let n=t.parentNode;for(;n!=null;){if(n===e)return!0;n=n.parentNode}return!1}function Wae({target:e,parent:t,ref:n,displayAfterTransitionEnd:r}){const o=O.useRef(-1),[i,a]=O.useState(!1),[l,u]=O.useState(typeof r=="boolean"?r:!1),d=()=>{if(!e||!t||!n.current)return;const v=e.getBoundingClientRect(),y=t.getBoundingClientRect(),_=window.getComputedStyle(e),b=window.getComputedStyle(t),E=hv(_.borderTopWidth)+hv(b.borderTopWidth),A=hv(_.borderLeftWidth)+hv(b.borderLeftWidth),C={top:v.top-y.top-E,left:v.left-y.left-A,width:v.width,height:v.height};n.current.style.transform=`translateY(${C.top}px) translateX(${C.left}px)`,n.current.style.width=`${C.width}px`,n.current.style.height=`${C.height}px`},f=()=>{window.clearTimeout(o.current),n.current&&(n.current.style.transitionDuration="0ms"),d(),o.current=window.setTimeout(()=>{n.current&&(n.current.style.transitionDuration="")},30)},m=O.useRef(null),g=O.useRef(null);return O.useEffect(()=>{if(d(),e)return m.current=new ResizeObserver(f),m.current.observe(e),t&&(g.current=new ResizeObserver(f),g.current.observe(t)),()=>{var v,y;(v=m.current)==null||v.disconnect(),(y=g.current)==null||y.disconnect()}},[t,e]),O.useEffect(()=>{if(t){const v=y=>{Hae(y.target,t)&&(f(),u(!1))};return t.addEventListener("transitionend",v),()=>{t.removeEventListener("transitionend",v)}}},[t]),rre(()=>{sre()!=="test"&&a(!0)},20,{autoInvoke:!0}),ore(v=>{v.forEach(y=>{y.type==="attributes"&&y.attributeName==="dir"&&f()})},{attributes:!0,attributeFilter:["dir"]},()=>document.documentElement),{initialized:i,hidden:l}}var HF={root:"m_96b553a6"};const Jae=(e,{transitionDuration:t})=>({root:{"--transition-duration":typeof t=="number"?`${t}ms`:t}}),BR=Lt((e,t)=>{const n=Ke("FloatingIndicator",null,e),{classNames:r,className:o,style:i,styles:a,unstyled:l,vars:u,target:d,parent:f,transitionDuration:m,mod:g,displayAfterTransitionEnd:v,attributes:y,..._}=n,b=It({name:"FloatingIndicator",classes:HF,props:n,className:o,style:i,classNames:r,styles:a,unstyled:l,attributes:y,vars:u,varsResolver:Jae}),E=O.useRef(null),{initialized:A,hidden:C}=Wae({target:d,parent:f,ref:E,displayAfterTransitionEnd:v}),M=ka(t,E);return!d||!f?null:w.jsx(Qe,{ref:M,mod:[{initialized:A,hidden:C},g],...b("root"),..._})});BR.displayName="@mantine/core/FloatingIndicator";BR.classes=HF;function WF({open:e,close:t,openDelay:n,closeDelay:r}){const o=O.useRef(-1),i=O.useRef(-1),a=()=>{window.clearTimeout(o.current),window.clearTimeout(i.current)},l=()=>{a(),n===0||n===void 0?e():o.current=window.setTimeout(e,n)},u=()=>{a(),r===0||r===void 0?t():i.current=window.setTimeout(t,r)};return O.useEffect(()=>a,[]),{openDropdown:l,closeDropdown:u}}function JF({style:e,size:t=16,...n}){return w.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:ve(t),height:ve(t),display:"block"},...n,children:w.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}JF.displayName="@mantine/core/AccordionChevron";var ZF={root:"m_7f854edf"};const Zae={position:{bottom:0,right:0},zIndex:uu("modal"),withinPortal:!0},Yae=(e,{zIndex:t,position:n})=>({root:{"--affix-z-index":t==null?void 0:t.toString(),"--affix-top":oa(n==null?void 0:n.top),"--affix-left":oa(n==null?void 0:n.left),"--affix-bottom":oa(n==null?void 0:n.bottom),"--affix-right":oa(n==null?void 0:n.right)}}),vg=Lt((e,t)=>{const n=Ke("Affix",Zae,e),{classNames:r,className:o,style:i,styles:a,unstyled:l,vars:u,portalProps:d,zIndex:f,withinPortal:m,position:g,attributes:v,...y}=n,_=It({name:"Affix",classes:ZF,props:n,className:o,style:i,classNames:r,styles:a,unstyled:l,attributes:v,vars:u,varsResolver:Yae});return w.jsx(Il,{...d,withinPortal:m,children:w.jsx(Qe,{ref:t,..._("root"),...y})})});vg.classes=ZF;vg.displayName="@mantine/core/Affix";var YF={root:"m_b6d8b162"};function Kae(e){if(e==="start")return"start";if(e==="end"||e)return"end"}const Xae={inherit:!1},ese=(e,{variant:t,lineClamp:n,gradient:r,size:o,color:i})=>({root:{"--text-fz":mo(o),"--text-lh":Pne(o),"--text-gradient":t==="gradient"?WE(r,e):void 0,"--text-line-clamp":typeof n=="number"?n.toString():void 0,"--text-color":i?pa(i,e):void 0}}),li=jr((e,t)=>{const n=Ke("Text",Xae,e),{lineClamp:r,truncate:o,inline:i,inherit:a,gradient:l,span:u,__staticSelector:d,vars:f,className:m,style:g,classNames:v,styles:y,unstyled:_,variant:b,mod:E,size:A,attributes:C,...M}=n,T=It({name:["Text",d],props:n,classes:YF,className:m,style:g,classNames:v,styles:y,unstyled:_,attributes:C,vars:f,varsResolver:ese});return w.jsx(Qe,{...T("root",{focusable:!0}),ref:t,component:u?"span":"p",variant:b,mod:[{"data-truncate":Kae(o),"data-line-clamp":typeof r=="number","data-inline":i,"data-inherit":a},E],size:A,...M})});li.classes=YF;li.displayName="@mantine/core/Text";const[tse,nf]=cg("AppShell was not found in tree");var Ul={root:"m_89ab340",navbar:"m_45252eee",aside:"m_9cdde9a",header:"m_3b16f56b",main:"m_8983817",footer:"m_3840c879",section:"m_6dcfc7c7"};const RR=Lt((e,t)=>{const{classNames:n,className:r,style:o,styles:i,unstyled:a,vars:l,withBorder:u,zIndex:d,mod:f,...m}=Ke("AppShellAside",null,e),g=nf();return g.disabled?null:w.jsx(Qe,{component:"aside",ref:t,mod:[{"with-border":u??g.withBorder},f],...g.getStyles("aside",{className:r,classNames:n,styles:i,style:o}),...m,__vars:{"--app-shell-aside-z-index":`calc(${d??g.zIndex} + 1)`}})});RR.classes=Ul;RR.displayName="@mantine/core/AppShellAside";const xR=Lt((e,t)=>{var v;const{classNames:n,className:r,style:o,styles:i,unstyled:a,vars:l,withBorder:u,zIndex:d,mod:f,...m}=Ke("AppShellFooter",null,e),g=nf();return g.disabled?null:w.jsx(Qe,{component:"footer",ref:t,mod:[{"with-border":u??g.withBorder},f],...g.getStyles("footer",{className:Li({[mm.classNames.zeroRight]:g.offsetScrollbars},r),classNames:n,styles:i,style:o}),...m,__vars:{"--app-shell-footer-z-index":(v=d??g.zIndex)==null?void 0:v.toString()}})});xR.classes=Ul;xR.displayName="@mantine/core/AppShellFooter";const OR=Lt((e,t)=>{var v;const{classNames:n,className:r,style:o,styles:i,unstyled:a,vars:l,withBorder:u,zIndex:d,mod:f,...m}=Ke("AppShellHeader",null,e),g=nf();return g.disabled?null:w.jsx(Qe,{component:"header",ref:t,mod:[{"with-border":u??g.withBorder},f],...g.getStyles("header",{className:Li({[mm.classNames.zeroRight]:g.offsetScrollbars},r),classNames:n,styles:i,style:o}),...m,__vars:{"--app-shell-header-z-index":(v=d??g.zIndex)==null?void 0:v.toString()}})});OR.classes=Ul;OR.displayName="@mantine/core/AppShellHeader";const MR=Lt((e,t)=>{const{classNames:n,className:r,style:o,styles:i,vars:a,...l}=Ke("AppShellMain",null,e),u=nf();return w.jsx(Qe,{component:"main",ref:t,...u.getStyles("main",{className:r,style:o,classNames:n,styles:i}),...l})});MR.classes=Ul;MR.displayName="@mantine/core/AppShellMain";function yg(e){return typeof e=="object"?e.base:e}function _g(e){const t=typeof e=="object"&&e!==null&&typeof e.base<"u"&&Object.keys(e).length===1;return typeof e=="number"||typeof e=="string"||t}function bg(e){return!(typeof e!="object"||e===null||Object.keys(e).length===1&&"base"in e)}function nse({baseStyles:e,minMediaStyles:t,maxMediaStyles:n,aside:r,theme:o}){var u,d,f;const i=r==null?void 0:r.width,a="translateX(var(--app-shell-aside-width))",l="translateX(calc(var(--app-shell-aside-width) * -1))";if(r!=null&&r.breakpoint&&!((u=r==null?void 0:r.collapsed)!=null&&u.mobile)&&(n[r==null?void 0:r.breakpoint]=n[r==null?void 0:r.breakpoint]||{},n[r==null?void 0:r.breakpoint]["--app-shell-aside-width"]="100%",n[r==null?void 0:r.breakpoint]["--app-shell-aside-offset"]="0px"),_g(i)){const m=ve(yg(i));e["--app-shell-aside-width"]=m,e["--app-shell-aside-offset"]=m}if(bg(i)&&(typeof i.base<"u"&&(e["--app-shell-aside-width"]=ve(i.base),e["--app-shell-aside-offset"]=ve(i.base)),qn(i).forEach(m=>{m!=="base"&&(t[m]=t[m]||{},t[m]["--app-shell-aside-width"]=ve(i[m]),t[m]["--app-shell-aside-offset"]=ve(i[m]))})),(d=r==null?void 0:r.collapsed)!=null&&d.desktop){const m=r.breakpoint;t[m]=t[m]||{},t[m]["--app-shell-aside-transform"]=a,t[m]["--app-shell-aside-transform-rtl"]=l,t[m]["--app-shell-aside-offset"]="0px !important"}if((f=r==null?void 0:r.collapsed)!=null&&f.mobile){const m=K2(r.breakpoint,o.breakpoints)-.1;n[m]=n[m]||{},n[m]["--app-shell-aside-width"]="100%",n[m]["--app-shell-aside-offset"]="0px",n[m]["--app-shell-aside-transform"]=a,n[m]["--app-shell-aside-transform-rtl"]=l}}function rse({baseStyles:e,minMediaStyles:t,footer:n}){const r=n==null?void 0:n.height,o="translateY(var(--app-shell-footer-height))",i=(n==null?void 0:n.offset)??!0;if(_g(r)){const a=ve(yg(r));e["--app-shell-footer-height"]=a,i&&(e["--app-shell-footer-offset"]=a)}bg(r)&&(typeof r.base<"u"&&(e["--app-shell-footer-height"]=ve(r.base),i&&(e["--app-shell-footer-offset"]=ve(r.base))),qn(r).forEach(a=>{a!=="base"&&(t[a]=t[a]||{},t[a]["--app-shell-footer-height"]=ve(r[a]),i&&(t[a]["--app-shell-footer-offset"]=ve(r[a])))})),n!=null&&n.collapsed&&(e["--app-shell-footer-transform"]=o,e["--app-shell-footer-offset"]="0px !important")}function ose({baseStyles:e,minMediaStyles:t,header:n}){const r=n==null?void 0:n.height,o="translateY(calc(var(--app-shell-header-height) * -1))",i=(n==null?void 0:n.offset)??!0;if(_g(r)){const a=ve(yg(r));e["--app-shell-header-height"]=a,i&&(e["--app-shell-header-offset"]=a)}bg(r)&&(typeof r.base<"u"&&(e["--app-shell-header-height"]=ve(r.base),i&&(e["--app-shell-header-offset"]=ve(r.base))),qn(r).forEach(a=>{a!=="base"&&(t[a]=t[a]||{},t[a]["--app-shell-header-height"]=ve(r[a]),i&&(t[a]["--app-shell-header-offset"]=ve(r[a])))})),n!=null&&n.collapsed&&(e["--app-shell-header-transform"]=o,e["--app-shell-header-offset"]="0px !important")}function ise({baseStyles:e,minMediaStyles:t,maxMediaStyles:n,navbar:r,theme:o}){var u,d,f;const i=r==null?void 0:r.width,a="translateX(calc(var(--app-shell-navbar-width) * -1))",l="translateX(var(--app-shell-navbar-width))";if(r!=null&&r.breakpoint&&!((u=r==null?void 0:r.collapsed)!=null&&u.mobile)&&(n[r==null?void 0:r.breakpoint]=n[r==null?void 0:r.breakpoint]||{},n[r==null?void 0:r.breakpoint]["--app-shell-navbar-width"]="100%",n[r==null?void 0:r.breakpoint]["--app-shell-navbar-offset"]="0px"),_g(i)){const m=ve(yg(i));e["--app-shell-navbar-width"]=m,e["--app-shell-navbar-offset"]=m}if(bg(i)&&(typeof i.base<"u"&&(e["--app-shell-navbar-width"]=ve(i.base),e["--app-shell-navbar-offset"]=ve(i.base)),qn(i).forEach(m=>{m!=="base"&&(t[m]=t[m]||{},t[m]["--app-shell-navbar-width"]=ve(i[m]),t[m]["--app-shell-navbar-offset"]=ve(i[m]))})),(d=r==null?void 0:r.collapsed)!=null&&d.desktop){const m=r.breakpoint;t[m]=t[m]||{},t[m]["--app-shell-navbar-transform"]=a,t[m]["--app-shell-navbar-transform-rtl"]=l,t[m]["--app-shell-navbar-offset"]="0px !important"}if((f=r==null?void 0:r.collapsed)!=null&&f.mobile){const m=K2(r.breakpoint,o.breakpoints)-.1;n[m]=n[m]||{},n[m]["--app-shell-navbar-width"]="100%",n[m]["--app-shell-navbar-offset"]="0px",n[m]["--app-shell-navbar-transform"]=a,n[m]["--app-shell-navbar-transform-rtl"]=l}}function lk(e){return Number(e)===0?"0px":oa(e)}function ase({padding:e,baseStyles:t,minMediaStyles:n}){_g(e)&&(t["--app-shell-padding"]=lk(yg(e))),bg(e)&&(e.base&&(t["--app-shell-padding"]=lk(e.base)),qn(e).forEach(r=>{r!=="base"&&(n[r]=n[r]||{},n[r]["--app-shell-padding"]=lk(e[r]))}))}function sse({navbar:e,header:t,footer:n,aside:r,padding:o,theme:i}){const a={},l={},u={};ise({baseStyles:u,minMediaStyles:a,maxMediaStyles:l,navbar:e,theme:i}),nse({baseStyles:u,minMediaStyles:a,maxMediaStyles:l,aside:r,theme:i}),ose({baseStyles:u,minMediaStyles:a,header:t}),rse({baseStyles:u,minMediaStyles:a,footer:n}),ase({baseStyles:u,minMediaStyles:a,padding:o});const d=Sy(qn(a),i.breakpoints).map(g=>({query:`(min-width: ${by(g.px)})`,styles:a[g.value]})),f=Sy(qn(l),i.breakpoints).map(g=>({query:`(max-width: ${by(g.px)})`,styles:l[g.value]})),m=[...d,...f];return{baseStyles:u,media:m}}function lse({navbar:e,header:t,aside:n,footer:r,padding:o}){const i=Gr(),a=js(),{media:l,baseStyles:u}=sse({navbar:e,header:t,footer:r,aside:n,padding:o,theme:i});return w.jsx(fg,{media:l,styles:u,selector:a.cssVariablesSelector})}const PR=Lt((e,t)=>{const{classNames:n,className:r,style:o,styles:i,unstyled:a,vars:l,withBorder:u,zIndex:d,mod:f,...m}=Ke("AppShellNavbar",null,e),g=nf();return g.disabled?null:w.jsx(Qe,{component:"nav",ref:t,mod:[{"with-border":u??g.withBorder},f],...g.getStyles("navbar",{className:r,classNames:n,styles:i,style:o}),...m,__vars:{"--app-shell-navbar-z-index":`calc(${d??g.zIndex} + 1)`}})});PR.classes=Ul;PR.displayName="@mantine/core/AppShellNavbar";const TR=jr((e,t)=>{const{classNames:n,className:r,style:o,styles:i,vars:a,grow:l,mod:u,...d}=Ke("AppShellSection",null,e),f=nf();return w.jsx(Qe,{ref:t,mod:[{grow:l},u],...f.getStyles("section",{className:r,style:o,classNames:n,styles:i}),...d})});TR.classes=Ul;TR.displayName="@mantine/core/AppShellSection";function cse({transitionDuration:e,disabled:t}){const[n,r]=O.useState(!0),o=O.useRef(-1),i=O.useRef(-1);return Zne("resize",()=>{r(!0),clearTimeout(o.current),o.current=window.setTimeout(()=>O.startTransition(()=>{r(!1)}),200)}),ug(()=>{r(!0),clearTimeout(i.current),i.current=window.setTimeout(()=>O.startTransition(()=>{r(!1)}),e||0)},[t,e]),n}const use={withBorder:!0,padding:0,transitionDuration:200,transitionTimingFunction:"ease",zIndex:uu("app")},dse=(e,{transitionDuration:t,transitionTimingFunction:n})=>({root:{"--app-shell-transition-duration":`${t}ms`,"--app-shell-transition-timing-function":n}}),Ya=Lt((e,t)=>{const n=Ke("AppShell",use,e),{classNames:r,className:o,style:i,styles:a,unstyled:l,vars:u,navbar:d,withBorder:f,padding:m,transitionDuration:g,transitionTimingFunction:v,header:y,zIndex:_,layout:b,disabled:E,aside:A,footer:C,offsetScrollbars:M=b!=="alt",mod:T,attributes:I,...P}=n,B=It({name:"AppShell",classes:Ul,props:n,className:o,style:i,classNames:r,styles:a,unstyled:l,attributes:I,vars:u,varsResolver:dse}),R=cse({disabled:E,transitionDuration:g});return w.jsxs(tse,{value:{getStyles:B,withBorder:f,zIndex:_,disabled:E,offsetScrollbars:M},children:[w.jsx(lse,{navbar:d,header:y,aside:A,footer:C,padding:m}),w.jsx(Qe,{ref:t,...B("root"),mod:[{resizing:R,layout:b,disabled:E},T],...P})]})});Ya.classes=Ul;Ya.displayName="@mantine/core/AppShell";Ya.Navbar=PR;Ya.Header=OR;Ya.Main=MR;Ya.Aside=RR;Ya.Footer=xR;Ya.Section=TR;var KF={root:"m_5f75b09e",body:"m_5f6e695e",labelWrapper:"m_d3ea56bb",label:"m_8ee546b8",description:"m_328f68c0",error:"m_8e8a99cc"};const fse=KF,XF=O.forwardRef(({__staticSelector:e,__stylesApiProps:t,className:n,classNames:r,styles:o,unstyled:i,children:a,label:l,description:u,id:d,disabled:f,error:m,size:g,labelPosition:v="left",bodyElement:y="div",labelElement:_="label",variant:b,style:E,vars:A,mod:C,attributes:M,...T},I)=>{const P=It({name:e,props:t,className:n,style:E,classes:KF,classNames:r,styles:o,unstyled:i,attributes:M});return w.jsx(Qe,{...P("root"),ref:I,__vars:{"--label-fz":mo(g),"--label-lh":tr(g,"label-lh")},mod:[{"label-position":v},C],variant:b,size:g,...T,children:w.jsxs(Qe,{component:y,htmlFor:y==="label"?d:void 0,...P("body"),children:[a,w.jsxs("div",{...P("labelWrapper"),"data-disabled":f||void 0,children:[l&&w.jsx(Qe,{component:_,htmlFor:_==="label"?d:void 0,...P("label"),"data-disabled":f||void 0,children:l}),u&&w.jsx(Ti.Description,{size:g,__inheritStyles:!1,...P("description"),children:u}),m&&typeof m!="boolean"&&w.jsx(Ti.Error,{size:g,__inheritStyles:!1,...P("error"),children:m})]})]})})});XF.displayName="@mantine/core/InlineInput";const e7=O.createContext(null),hse=e7.Provider,t7=()=>O.useContext(e7),[mse,gse]=z0();var n7={card:"m_26775b0a"};const pse={withBorder:!0},vse=(e,{radius:t})=>({card:{"--card-radius":hr(t)}}),IR=Lt((e,t)=>{const n=Ke("CheckboxCard",pse,e),{classNames:r,className:o,style:i,styles:a,unstyled:l,vars:u,checked:d,mod:f,withBorder:m,value:g,onClick:v,defaultChecked:y,onChange:_,attributes:b,...E}=n,A=It({name:"CheckboxCard",classes:n7,props:n,className:o,style:i,classNames:r,styles:a,unstyled:l,attributes:b,vars:u,varsResolver:vse,rootSelector:"card"}),C=t7(),M=typeof d=="boolean"?d:C?C.value.includes(g||""):void 0,[T,I]=dg({value:M,defaultValue:y,finalValue:!1,onChange:_});return w.jsx(mse,{value:{checked:T},children:w.jsx(zl,{ref:t,mod:[{"with-border":m,checked:T},f],...A("card"),...E,role:"checkbox","aria-checked":T,onClick:P=>{v==null||v(P),C==null||C.onChange(g||""),I(!T)}})})});IR.displayName="@mantine/core/CheckboxCard";IR.classes=n7;function yse({children:e,role:t}){const n=pg();return n?w.jsx("div",{role:t,"aria-labelledby":n.labelId,"aria-describedby":n.describedBy,children:e}):w.jsx(w.Fragment,{children:e})}const LR=Lt((e,t)=>{const{value:n,defaultValue:r,onChange:o,size:i,wrapperProps:a,children:l,readOnly:u,...d}=Ke("CheckboxGroup",null,e),[f,m]=dg({value:n,defaultValue:r,finalValue:[],onChange:o}),g=v=>{const y=typeof v=="string"?v:v.currentTarget.value;!u&&m(f.includes(y)?f.filter(_=>_!==y):[...f,y])};return w.jsx(hse,{value:{value:f,onChange:g,size:i},children:w.jsx(Ti.Wrapper,{size:i,ref:t,...a,...d,labelElement:"div",__staticSelector:"CheckboxGroup",children:w.jsx(yse,{role:"group",children:l})})})});LR.classes=Ti.Wrapper.classes;LR.displayName="@mantine/core/CheckboxGroup";function _se({size:e,style:t,...n}){const r=e!==void 0?{width:ve(e),height:ve(e),...t}:t;return w.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:r,"aria-hidden":!0,...n,children:w.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function r7({indeterminate:e,...t}){return e?w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6","aria-hidden":!0,...t,children:w.jsx("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})}):w.jsx(_se,{...t})}var o7={indicator:"m_5e5256ee",icon:"m_1b1c543a","indicator--outline":"m_76e20374"};const bse={icon:r7,variant:"filled"},wse=(e,{radius:t,color:n,size:r,iconColor:o,variant:i,autoContrast:a})=>{const l=rs({color:n||e.primaryColor,theme:e}),u=l.isThemeColor&&l.shade===void 0?`var(--mantine-color-${l.color}-outline)`:l.color;return{indicator:{"--checkbox-size":tr(r,"checkbox-size"),"--checkbox-radius":t===void 0?void 0:hr(t),"--checkbox-color":i==="outline"?u:pa(n,e),"--checkbox-icon-color":o?pa(o,e):sF(a,e)?q0({color:n,theme:e,autoContrast:a}):void 0}}},DR=Lt((e,t)=>{const n=Ke("CheckboxIndicator",bse,e),{classNames:r,className:o,style:i,styles:a,unstyled:l,vars:u,icon:d,indeterminate:f,radius:m,color:g,iconColor:v,autoContrast:y,checked:_,mod:b,variant:E,disabled:A,attributes:C,...M}=n,T=It({name:"CheckboxIndicator",classes:o7,props:n,className:o,style:i,classNames:r,styles:a,unstyled:l,attributes:C,vars:u,varsResolver:wse,rootSelector:"indicator"}),I=gse(),P=typeof _=="boolean"||typeof f=="boolean"?_||f:(I==null?void 0:I.checked)||!1;return w.jsx(Qe,{ref:t,...T("indicator",{variant:E}),variant:E,mod:[{checked:P,disabled:A},b],...M,children:w.jsx(d,{indeterminate:f,...T("icon")})})});DR.displayName="@mantine/core/CheckboxIndicator";DR.classes=o7;var i7={root:"m_bf2d988c",inner:"m_26062bec",input:"m_26063560",icon:"m_bf295423","input--outline":"m_215c4542"};const Sse={labelPosition:"right",icon:r7,variant:"filled"},Ase=(e,{radius:t,color:n,size:r,iconColor:o,variant:i,autoContrast:a})=>{const l=rs({color:n||e.primaryColor,theme:e}),u=l.isThemeColor&&l.shade===void 0?`var(--mantine-color-${l.color}-outline)`:l.color;return{root:{"--checkbox-size":tr(r,"checkbox-size"),"--checkbox-radius":t===void 0?void 0:hr(t),"--checkbox-color":i==="outline"?u:pa(n,e),"--checkbox-icon-color":o?pa(o,e):sF(a,e)?q0({color:n,theme:e,autoContrast:a}):void 0}}},rf=Lt((e,t)=>{const n=Ke("Checkbox",Sse,e),{classNames:r,className:o,style:i,styles:a,unstyled:l,vars:u,color:d,label:f,id:m,size:g,radius:v,wrapperProps:y,checked:_,labelPosition:b,description:E,error:A,disabled:C,variant:M,indeterminate:T,icon:I,rootRef:P,iconColor:B,onChange:R,autoContrast:x,mod:D,attributes:$,...U}=n,j=t7(),G=g||(j==null?void 0:j.size),q=It({name:"Checkbox",props:n,classes:i7,className:o,style:i,classNames:r,styles:a,unstyled:l,attributes:$,vars:u,varsResolver:Ase}),{styleProps:Q,rest:F}=iR(U),W=Kd(m),Y=j?{checked:j.value.includes(F.value),onChange:X=>{j.onChange(X),R==null||R(X)}}:{},N=O.useRef(null),V=t||N;return O.useEffect(()=>{V&&"current"in V&&V.current&&(V.current.indeterminate=T||!1)},[T,V]),w.jsx(XF,{...q("root"),__staticSelector:"Checkbox",__stylesApiProps:n,id:W,size:G,labelPosition:b,label:f,description:E,error:A,disabled:C,classNames:r,styles:a,unstyled:l,"data-checked":Y.checked||_||void 0,variant:M,ref:P,mod:D,...Q,...y,children:w.jsxs(Qe,{...q("inner"),mod:{"data-label-position":b},children:[w.jsx(Qe,{component:"input",id:W,ref:V,checked:_,disabled:C,mod:{error:!!A,indeterminate:T},...q("input",{focusable:!0,variant:M}),onChange:R,...F,...Y,type:"checkbox"}),w.jsx(I,{indeterminate:T,...q("icon")})]})})});rf.classes={...i7,...fse};rf.displayName="@mantine/core/Checkbox";rf.Group=LR;rf.Indicator=DR;rf.Card=IR;const a7=O.createContext(null),Cse=a7.Provider;function kse(){return{withinGroup:!!O.useContext(a7)}}var o1={group:"m_11def92b",root:"m_f85678b6",image:"m_11f8ac07",placeholder:"m_104cd71f"};const Ese=(e,{spacing:t})=>({group:{"--ag-spacing":oa(t)}}),NR=Lt((e,t)=>{const n=Ke("AvatarGroup",null,e),{classNames:r,className:o,style:i,styles:a,unstyled:l,vars:u,spacing:d,attributes:f,...m}=n,g=It({name:"AvatarGroup",classes:o1,props:n,className:o,style:i,classNames:r,styles:a,unstyled:l,attributes:f,vars:u,varsResolver:Ese,rootSelector:"group"});return w.jsx(Cse,{value:!0,children:w.jsx(Qe,{ref:t,...g("group"),...m})})});NR.classes=o1;NR.displayName="@mantine/core/AvatarGroup";function Bse(e){return w.jsx("svg",{...e,"data-avatar-placeholder-icon":!0,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:w.jsx("path",{d:"M0.877014 7.49988C0.877014 3.84219 3.84216 0.877045 7.49985 0.877045C11.1575 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1575 14.1227 7.49985 14.1227C3.84216 14.1227 0.877014 11.1575 0.877014 7.49988ZM7.49985 1.82704C4.36683 1.82704 1.82701 4.36686 1.82701 7.49988C1.82701 8.97196 2.38774 10.3131 3.30727 11.3213C4.19074 9.94119 5.73818 9.02499 7.50023 9.02499C9.26206 9.02499 10.8093 9.94097 11.6929 11.3208C12.6121 10.3127 13.1727 8.97172 13.1727 7.49988C13.1727 4.36686 10.6328 1.82704 7.49985 1.82704ZM10.9818 11.9787C10.2839 10.7795 8.9857 9.97499 7.50023 9.97499C6.01458 9.97499 4.71624 10.7797 4.01845 11.9791C4.97952 12.7272 6.18765 13.1727 7.49985 13.1727C8.81227 13.1727 10.0206 12.727 10.9818 11.9787ZM5.14999 6.50487C5.14999 5.207 6.20212 4.15487 7.49999 4.15487C8.79786 4.15487 9.84999 5.207 9.84999 6.50487C9.84999 7.80274 8.79786 8.85487 7.49999 8.85487C6.20212 8.85487 5.14999 7.80274 5.14999 6.50487ZM7.49999 5.10487C6.72679 5.10487 6.09999 5.73167 6.09999 6.50487C6.09999 7.27807 6.72679 7.90487 7.49999 7.90487C8.27319 7.90487 8.89999 7.27807 8.89999 6.50487C8.89999 5.73167 8.27319 5.10487 7.49999 5.10487Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function Rse(e){let t=0;for(let n=0;n<e.length;n+=1){const r=e.charCodeAt(n);t=(t<<5)-t+r,t|=0}return t}const xse=["blue","cyan","grape","green","indigo","lime","orange","pink","red","teal","violet"];function Ose(e,t=xse){const n=Rse(e),r=Math.abs(n)%t.length;return t[r]}function Mse(e,t=2){const n=e.split(" ");return n.length===1?e.slice(0,t).toUpperCase():n.map(r=>r[0]).slice(0,t).join("").toUpperCase()}const Pse=(e,{size:t,radius:n,variant:r,gradient:o,color:i,autoContrast:a,name:l,allowedInitialsColors:u})=>{const d=i==="initials"&&typeof l=="string"?Ose(l,u):i,f=e.variantColorResolver({color:d||"gray",theme:e,gradient:o,variant:r||"light",autoContrast:a});return{root:{"--avatar-size":tr(t,"avatar-size"),"--avatar-radius":n===void 0?void 0:hr(n),"--avatar-bg":d||r?f.background:void 0,"--avatar-color":d||r?f.color:void 0,"--avatar-bd":d||r?f.border:void 0}}},i1=jr((e,t)=>{const n=Ke("Avatar",null,e),{classNames:r,className:o,style:i,styles:a,unstyled:l,vars:u,src:d,alt:f,radius:m,color:g,gradient:v,imageProps:y,children:_,autoContrast:b,mod:E,name:A,allowedInitialsColors:C,attributes:M,...T}=n,I=kse(),[P,B]=O.useState(!d),R=It({name:"Avatar",props:n,classes:o1,className:o,style:i,classNames:r,styles:a,unstyled:l,attributes:M,vars:u,varsResolver:Pse});return O.useEffect(()=>B(!d),[d]),w.jsx(Qe,{...R("root"),mod:[{"within-group":I.withinGroup},E],ref:t,...T,children:P||!d?w.jsx("span",{...R("placeholder"),title:f,children:_||typeof A=="string"&&Mse(A)||w.jsx(Bse,{})}):w.jsx("img",{...y,...R("image"),src:d,alt:f,onError:x=>{var D;B(!0),(D=y==null?void 0:y.onError)==null||D.call(y,x)}})})});i1.classes=o1;i1.displayName="@mantine/core/Avatar";i1.Group=NR;var s7={root:"m_2ce0de02"};const Tse=(e,{radius:t})=>({root:{"--bi-radius":t===void 0?void 0:hr(t)}}),FR=jr((e,t)=>{const n=Ke("BackgroundImage",null,e),{classNames:r,className:o,style:i,styles:a,unstyled:l,vars:u,radius:d,src:f,variant:m,attributes:g,...v}=n,y=It({name:"BackgroundImage",props:n,classes:s7,className:o,style:i,classNames:r,styles:a,unstyled:l,attributes:g,vars:u,varsResolver:Tse});return w.jsx(Qe,{ref:t,variant:m,...y("root",{style:{backgroundImage:`url(${f})`}}),...v})});FR.classes=s7;FR.displayName="@mantine/core/BackgroundImage";var of={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844",groupSection:"m_70be2a01"};const y6={orientation:"horizontal"},Ise=(e,{borderWidth:t})=>({group:{"--button-border-width":ve(t)}}),GR=Lt((e,t)=>{const n=Ke("ButtonGroup",y6,e),{className:r,style:o,classNames:i,styles:a,unstyled:l,orientation:u,vars:d,borderWidth:f,variant:m,mod:g,attributes:v,...y}=Ke("ButtonGroup",y6,e),_=It({name:"ButtonGroup",props:n,classes:of,className:r,style:o,classNames:i,styles:a,unstyled:l,attributes:v,vars:d,varsResolver:Ise,rootSelector:"group"});return w.jsx(Qe,{..._("group"),ref:t,variant:m,mod:[{"data-orientation":u},g],role:"group",...y})});GR.classes=of;GR.displayName="@mantine/core/ButtonGroup";const Lse=(e,{radius:t,color:n,gradient:r,variant:o,autoContrast:i,size:a})=>{const l=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:o||"filled",autoContrast:i});return{groupSection:{"--section-height":tr(a,"section-height"),"--section-padding-x":tr(a,"section-padding-x"),"--section-fz":a!=null&&a.includes("compact")?mo(a.replace("compact-","")):mo(a),"--section-radius":t===void 0?void 0:hr(t),"--section-bg":n||o?l.background:void 0,"--section-color":l.color,"--section-bd":n||o?l.border:void 0}}},jR=Lt((e,t)=>{const n=Ke("ButtonGroupSection",null,e),{className:r,style:o,classNames:i,styles:a,unstyled:l,vars:u,variant:d,gradient:f,radius:m,autoContrast:g,attributes:v,...y}=n,_=It({name:"ButtonGroupSection",props:n,classes:of,className:r,style:o,classNames:i,styles:a,unstyled:l,attributes:v,vars:u,varsResolver:Lse,rootSelector:"groupSection"});return w.jsx(Qe,{..._("groupSection"),ref:t,variant:d,...y})});jR.classes=of;jR.displayName="@mantine/core/ButtonGroupSection";const Dse={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${ve(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},Nse=(e,{radius:t,color:n,gradient:r,variant:o,size:i,justify:a,autoContrast:l})=>{const u=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:o||"filled",autoContrast:l});return{root:{"--button-justify":a,"--button-height":tr(i,"button-height"),"--button-padding-x":tr(i,"button-padding-x"),"--button-fz":i!=null&&i.includes("compact")?mo(i.replace("compact-","")):mo(i),"--button-radius":t===void 0?void 0:hr(t),"--button-bg":n||o?u.background:void 0,"--button-hover":n||o?u.hover:void 0,"--button-color":u.color,"--button-bd":n||o?u.border:void 0,"--button-hover-color":n||o?u.hoverColor:void 0}}},wg=jr((e,t)=>{const n=Ke("Button",null,e),{style:r,vars:o,className:i,color:a,disabled:l,children:u,leftSection:d,rightSection:f,fullWidth:m,variant:g,radius:v,loading:y,loaderProps:_,gradient:b,classNames:E,styles:A,unstyled:C,"data-disabled":M,autoContrast:T,mod:I,attributes:P,...B}=n,R=It({name:"Button",props:n,classes:of,className:i,style:r,classNames:E,styles:A,unstyled:C,attributes:P,vars:o,varsResolver:Nse}),x=!!d,D=!!f;return w.jsxs(zl,{ref:t,...R("root",{active:!l&&!y&&!M}),unstyled:C,variant:g,disabled:l||y,mod:[{disabled:l||M,loading:y,block:m,"with-left-section":x,"with-right-section":D},I],...B,children:[typeof y=="boolean"&&w.jsx(Ll,{mounted:y,transition:Dse,duration:150,children:$=>w.jsx(Qe,{component:"span",...R("loader",{style:$}),"aria-hidden":!0,children:w.jsx(ri,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",..._})})}),w.jsxs("span",{...R("inner"),children:[d&&w.jsx(Qe,{component:"span",...R("section"),mod:{position:"left"},children:d}),w.jsx(Qe,{component:"span",mod:{loading:y},...R("label"),children:u}),f&&w.jsx(Qe,{component:"span",...R("section"),mod:{position:"right"},children:f})]})]})});wg.classes=of;wg.displayName="@mantine/core/Button";wg.Group=GR;wg.GroupSection=jR;const[Fse,Gse]=cg("Card component was not found in tree");var $R={root:"m_e615b15f",section:"m_599a2148"};const a1=jr((e,t)=>{const n=Ke("CardSection",null,e),{classNames:r,className:o,style:i,styles:a,vars:l,withBorder:u,inheritPadding:d,mod:f,...m}=n,g=Gse();return w.jsx(Qe,{ref:t,mod:[{"with-border":u,"inherit-padding":d},f],...g.getStyles("section",{className:o,style:i,styles:a,classNames:r}),...m})});a1.classes=$R;a1.displayName="@mantine/core/CardSection";const jse=(e,{padding:t})=>({root:{"--card-padding":oa(t)}}),Dl=jr((e,t)=>{const n=Ke("Card",null,e),{classNames:r,className:o,style:i,styles:a,unstyled:l,vars:u,children:d,padding:f,attributes:m,...g}=n,v=It({name:"Card",props:n,classes:$R,className:o,style:i,classNames:r,styles:a,unstyled:l,attributes:m,vars:u,varsResolver:jse}),y=O.Children.toArray(d),_=y.map((b,E)=>typeof b=="object"&&b&&"type"in b&&b.type===a1?O.cloneElement(b,{"data-first-section":E===0||void 0,"data-last-section":E===y.length-1||void 0}):b);return w.jsx(Fse,{value:{getStyles:v},children:w.jsx(_R,{ref:t,unstyled:l,...v("root"),...g,children:_})})});Dl.classes=$R;Dl.displayName="@mantine/core/Card";Dl.Section=a1;const[_6,l7]=cg("Grid component was not found in tree"),oB=(e,t)=>e==="content"?"auto":e==="auto"?"0rem":e?`${100/(t/e)}%`:void 0,b6=(e,t,n)=>n||e==="auto"?"100%":e==="content"?"unset":oB(e,t),w6=(e,t)=>{if(e)return e==="auto"||t?"1":"auto"},S6=(e,t)=>e===0?"0":e?`${100/(t/e)}%`:void 0;function $se({span:e,order:t,offset:n,selector:r}){var v;const o=Gr(),i=l7(),a=i.breakpoints||o.breakpoints,u=xh(e)===void 0?12:xh(e),d=Zd({"--col-order":(v=xh(t))==null?void 0:v.toString(),"--col-flex-grow":w6(u,i.grow),"--col-flex-basis":oB(u,i.columns),"--col-width":u==="content"?"auto":void 0,"--col-max-width":b6(u,i.columns,i.grow),"--col-offset":S6(xh(n),i.columns)}),f=qn(a).reduce((y,_)=>{var b;return y[_]||(y[_]={}),typeof t=="object"&&t[_]!==void 0&&(y[_]["--col-order"]=(b=t[_])==null?void 0:b.toString()),typeof e=="object"&&e[_]!==void 0&&(y[_]["--col-flex-grow"]=w6(e[_],i.grow),y[_]["--col-flex-basis"]=oB(e[_],i.columns),y[_]["--col-width"]=e[_]==="content"?"auto":void 0,y[_]["--col-max-width"]=b6(e[_],i.columns,i.grow)),typeof n=="object"&&n[_]!==void 0&&(y[_]["--col-offset"]=S6(n[_],i.columns)),y},{}),g=Sy(qn(f),a).filter(y=>qn(f[y.value]).length>0).map(y=>({query:i.type==="container"?`mantine-grid (min-width: ${a[y.value]})`:`(min-width: ${a[y.value]})`,styles:f[y.value]}));return w.jsx(fg,{styles:d,media:i.type==="container"?void 0:g,container:i.type==="container"?g:void 0,selector:r})}var zR={container:"m_8478a6da",root:"m_410352e9",inner:"m_dee7bd2f",col:"m_96bdd299"};const zse={span:12},UR=Lt((e,t)=>{const n=Ke("GridCol",zse,e),{classNames:r,className:o,style:i,styles:a,vars:l,span:u,order:d,offset:f,...m}=n,g=l7(),v=Q0();return w.jsxs(w.Fragment,{children:[w.jsx($se,{selector:`.${v}`,span:u,order:d,offset:f}),w.jsx(Qe,{ref:t,...g.getStyles("col",{className:Li(o,v),style:i,classNames:r,styles:a}),...m})]})});UR.classes=zR;UR.displayName="@mantine/core/GridCol";function A6({gutter:e,selector:t,breakpoints:n,type:r}){const o=Gr(),i=n||o.breakpoints,a=Zd({"--grid-gutter":oa(xh(e))}),l=qn(i).reduce((f,m)=>(f[m]||(f[m]={}),typeof e=="object"&&e[m]!==void 0&&(f[m]["--grid-gutter"]=oa(e[m])),f),{}),d=Sy(qn(l),i).filter(f=>qn(l[f.value]).length>0).map(f=>({query:r==="container"?`mantine-grid (min-width: ${i[f.value]})`:`(min-width: ${i[f.value]})`,styles:l[f.value]}));return w.jsx(fg,{styles:a,media:r==="container"?void 0:d,container:r==="container"?d:void 0,selector:t})}const Use={gutter:"md",grow:!1,columns:12},Vse=(e,{justify:t,align:n,overflow:r})=>({root:{"--grid-justify":t,"--grid-align":n,"--grid-overflow":r}}),Cl=Lt((e,t)=>{const n=Ke("Grid",Use,e),{classNames:r,className:o,style:i,styles:a,unstyled:l,vars:u,grow:d,gutter:f,columns:m,align:g,justify:v,children:y,breakpoints:_,type:b,attributes:E,...A}=n,C=It({name:"Grid",classes:zR,props:n,className:o,style:i,classNames:r,styles:a,unstyled:l,attributes:E,vars:u,varsResolver:Vse}),M=Q0();return b==="container"&&_?w.jsxs(_6,{value:{getStyles:C,grow:d,columns:m,breakpoints:_,type:b},children:[w.jsx(A6,{selector:`.${M}`,...n}),w.jsx("div",{...C("container"),children:w.jsx(Qe,{ref:t,...C("root",{className:M}),...A,children:w.jsx("div",{...C("inner"),children:y})})})]}):w.jsxs(_6,{value:{getStyles:C,grow:d,columns:m,breakpoints:_,type:b},children:[w.jsx(A6,{selector:`.${M}`,...n}),w.jsx(Qe,{ref:t,...C("root",{className:M}),...A,children:w.jsx("div",{...C("inner"),children:y})})]})});Cl.classes=zR;Cl.displayName="@mantine/core/Grid";Cl.Col=UR;var c7={root:"m_9e117634"};const qse=(e,{radius:t,fit:n})=>({root:{"--image-radius":t===void 0?void 0:hr(t),"--image-object-fit":n}}),du=jr((e,t)=>{const n=Ke("Image",null,e),{classNames:r,className:o,style:i,styles:a,unstyled:l,vars:u,onError:d,src:f,radius:m,fit:g,fallbackSrc:v,mod:y,attributes:_,...b}=n,[E,A]=O.useState(!f);O.useEffect(()=>A(!f),[f]);const C=It({name:"Image",classes:c7,props:n,className:o,style:i,classNames:r,styles:a,unstyled:l,attributes:_,vars:u,varsResolver:qse});return E&&v?w.jsx(Qe,{component:"img",ref:t,src:v,...C("root"),onError:d,mod:["fallback",y],...b}):w.jsx(Qe,{component:"img",ref:t,...C("root"),src:f,onError:M=>{d==null||d(M),A(!0)},mod:y,...b})});du.classes=c7;du.displayName="@mantine/core/Image";function iB(){return iB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iB.apply(null,arguments)}function u7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}const[Qse,Vl]=cg("Menu component was not found in the tree");var ql={dropdown:"m_dc9b7c9f",label:"m_9bfac126",divider:"m_efdf90cb",item:"m_99ac2aa1",itemLabel:"m_5476e0d3",itemSection:"m_8b75e504",chevron:"m_b85b0bed"};const VR=Lt((e,t)=>{const{classNames:n,className:r,style:o,styles:i,vars:a,...l}=Ke("MenuDivider",null,e),u=Vl();return w.jsx(Qe,{ref:t,...u.getStyles("divider",{className:r,style:o,styles:i,classNames:n}),...l})});VR.classes=ql;VR.displayName="@mantine/core/MenuDivider";const qR=Lt((e,t)=>{const{classNames:n,className:r,style:o,styles:i,vars:a,onMouseEnter:l,onMouseLeave:u,onKeyDown:d,children:f,...m}=Ke("MenuDropdown",null,e),g=O.useRef(null),v=Vl(),y=Io(d,E=>{var A,C;(E.key==="ArrowUp"||E.key==="ArrowDown")&&(E.preventDefault(),(C=(A=g.current)==null?void 0:A.querySelectorAll("[data-menu-item]:not(:disabled)")[0])==null||C.focus())}),_=Io(l,()=>(v.trigger==="hover"||v.trigger==="click-hover")&&v.openDropdown()),b=Io(u,()=>(v.trigger==="hover"||v.trigger==="click-hover")&&v.closeDropdown());return w.jsxs(is.Dropdown,{...m,onMouseEnter:_,onMouseLeave:b,role:"menu","aria-orientation":"vertical",ref:ka(t,g),...v.getStyles("dropdown",{className:r,style:o,styles:i,classNames:n,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:y,children:[v.withInitialFocusPlaceholder&&w.jsx("div",{tabIndex:-1,"data-autofocus":!0,"data-mantine-stop-propagation":!0,style:{outline:0}}),f]})});qR.classes=ql;qR.displayName="@mantine/core/MenuDropdown";const[Hse,s1]=z0(),QR=jr((e,t)=>{const{classNames:n,className:r,style:o,styles:i,vars:a,color:l,closeMenuOnClick:u,leftSection:d,rightSection:f,children:m,disabled:g,"data-disabled":v,...y}=Ke("MenuItem",null,e),_=Vl(),b=s1(),E=Gr(),{dir:A}=hg(),C=O.useRef(null),M=y,T=Io(M.onClick,()=>{v||(typeof u=="boolean"?u&&_.closeDropdownImmediately():_.closeOnItemClick&&_.closeDropdownImmediately())}),I=l?E.variantColorResolver({color:l,theme:E,variant:"light"}):void 0,P=l?rs({color:l,theme:E}):null,B=Io(M.onKeyDown,R=>{R.key==="ArrowLeft"&&b&&(b.close(),b.focusParentItem())});return w.jsxs(zl,{onMouseDown:R=>R.preventDefault(),...y,unstyled:_.unstyled,tabIndex:_.menuItemTabIndex,..._.getStyles("item",{className:r,style:o,styles:i,classNames:n}),ref:ka(C,t),role:"menuitem",disabled:g,"data-menu-item":!0,"data-disabled":g||v||void 0,"data-mantine-stop-propagation":!0,onClick:T,onKeyDown:H8({siblingSelector:"[data-menu-item]:not([data-disabled])",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:_.loop,dir:A,orientation:"vertical",onKeyDown:B}),__vars:{"--menu-item-color":P!=null&&P.isThemeColor&&(P==null?void 0:P.shade)===void 0?`var(--mantine-color-${P.color}-6)`:I==null?void 0:I.color,"--menu-item-hover":I==null?void 0:I.hover},children:[d&&w.jsx("div",{..._.getStyles("itemSection",{styles:i,classNames:n}),"data-position":"left",children:d}),m&&w.jsx("div",{..._.getStyles("itemLabel",{styles:i,classNames:n}),children:m}),f&&w.jsx("div",{..._.getStyles("itemSection",{styles:i,classNames:n}),"data-position":"right",children:f})]})});QR.classes=ql;QR.displayName="@mantine/core/MenuItem";const HR=Lt((e,t)=>{const{classNames:n,className:r,style:o,styles:i,vars:a,...l}=Ke("MenuLabel",null,e),u=Vl();return w.jsx(Qe,{ref:t,...u.getStyles("label",{className:r,style:o,styles:i,classNames:n}),...l})});HR.classes=ql;HR.displayName="@mantine/core/MenuLabel";const WR=Lt((e,t)=>{const{classNames:n,className:r,style:o,styles:i,vars:a,onMouseEnter:l,onMouseLeave:u,onKeyDown:d,children:f,...m}=Ke("MenuSubDropdown",null,e),g=O.useRef(null),v=Vl(),y=s1(),_=Io(l,y==null?void 0:y.open),b=Io(u,y==null?void 0:y.close);return w.jsx(is.Dropdown,{...m,onMouseEnter:_,onMouseLeave:b,role:"menu","aria-orientation":"vertical",ref:ka(t,g),...v.getStyles("dropdown",{className:r,style:o,styles:i,classNames:n,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,children:f})});WR.classes=ql;WR.displayName="@mantine/core/MenuSubDropdown";const JR=jr((e,t)=>{const{classNames:n,className:r,style:o,styles:i,vars:a,color:l,leftSection:u,rightSection:d,children:f,disabled:m,"data-disabled":g,closeMenuOnClick:v,...y}=Ke("MenuSubItem",null,e),_=Vl(),b=s1(),E=Gr(),{dir:A}=hg(),C=O.useRef(null),M=y,T=l?E.variantColorResolver({color:l,theme:E,variant:"light"}):void 0,I=l?rs({color:l,theme:E}):null,P=Io(M.onKeyDown,D=>{D.key==="ArrowRight"&&(b==null||b.open(),b==null||b.focusFirstItem()),D.key==="ArrowLeft"&&(b!=null&&b.parentContext)&&(b.parentContext.close(),b.parentContext.focusParentItem())}),B=Io(M.onClick,()=>{!g&&v&&_.closeDropdownImmediately()}),R=Io(M.onMouseEnter,b==null?void 0:b.open),x=Io(M.onMouseLeave,b==null?void 0:b.close);return w.jsxs(zl,{onMouseDown:D=>D.preventDefault(),...y,unstyled:_.unstyled,tabIndex:_.menuItemTabIndex,..._.getStyles("item",{className:r,style:o,styles:i,classNames:n}),ref:ka(C,t),role:"menuitem",disabled:m,"data-menu-item":!0,"data-sub-menu-item":!0,"data-disabled":m||g||void 0,"data-mantine-stop-propagation":!0,onMouseEnter:R,onMouseLeave:x,onClick:B,onKeyDown:H8({siblingSelector:"[data-menu-item]:not([data-disabled])",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:_.loop,dir:A,orientation:"vertical",onKeyDown:P}),__vars:{"--menu-item-color":I!=null&&I.isThemeColor&&(I==null?void 0:I.shade)===void 0?`var(--mantine-color-${I.color}-6)`:T==null?void 0:T.color,"--menu-item-hover":T==null?void 0:T.hover},children:[u&&w.jsx("div",{..._.getStyles("itemSection",{styles:i,classNames:n}),"data-position":"left",children:u}),f&&w.jsx("div",{..._.getStyles("itemLabel",{styles:i,classNames:n}),children:f}),w.jsx("div",{..._.getStyles("itemSection",{styles:i,classNames:n}),"data-position":"right",children:d||w.jsx(JF,{..._.getStyles("chevron"),size:14})})]})});JR.classes=ql;JR.displayName="@mantine/core/MenuSubItem";function d7({children:e,refProp:t}){if(!Yd(e))throw new Error("Menu.Sub.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return Vl(),w.jsx(is.Target,{refProp:t,popupType:"menu",children:e})}d7.displayName="@mantine/core/MenuSubTarget";const Wse={offset:0,position:"right-start",transitionProps:{duration:0},middlewares:{shift:{crossAxis:!0}}};function af(e){const{children:t,closeDelay:n,...r}=Ke("MenuSub",Wse,e),o=Kd(),[i,{open:a,close:l}]=nre(!1),u=s1(),{openDropdown:d,closeDropdown:f}=WF({open:a,close:l,closeDelay:n,openDelay:0}),m=()=>window.setTimeout(()=>{var v,y;(y=(v=document.getElementById(`${o}-dropdown`))==null?void 0:v.querySelectorAll("[data-menu-item]:not([data-disabled])")[0])==null||y.focus()},16),g=()=>window.setTimeout(()=>{var v;(v=document.getElementById(`${o}-target`))==null||v.focus()},16);return w.jsx(Hse,{value:{opened:i,close:f,open:d,focusFirstItem:m,focusParentItem:g,parentContext:u},children:w.jsx(is,{opened:i,withinPortal:!1,withArrow:!1,id:o,...r,children:t})})}af.extend=e=>e;af.displayName="@mantine/core/MenuSub";af.Target=d7;af.Dropdown=WR;af.Item=JR;const Jse={refProp:"ref"},f7=O.forwardRef((e,t)=>{const{children:n,refProp:r,...o}=Ke("MenuTarget",Jse,e);if(!Yd(n))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const i=Vl(),a=n.props,l=Io(a.onClick,()=>{i.trigger==="click"?i.toggleDropdown():i.trigger==="click-hover"&&(i.setOpenedViaClick(!0),i.opened||i.openDropdown())}),u=Io(a.onMouseEnter,()=>(i.trigger==="hover"||i.trigger==="click-hover")&&i.openDropdown()),d=Io(a.onMouseLeave,()=>{(i.trigger==="hover"||i.trigger==="click-hover"&&!i.openedViaClick)&&i.closeDropdown()});return w.jsx(is.Target,{refProp:r,popupType:"menu",ref:t,...o,children:O.cloneElement(n,{onClick:l,onMouseEnter:u,onMouseLeave:d,"data-expanded":i.opened?!0:void 0})})});f7.displayName="@mantine/core/MenuTarget";const Zse={trapFocus:!0,closeOnItemClick:!0,withInitialFocusPlaceholder:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function fr(e){const t=Ke("Menu",Zse,e),{children:n,onOpen:r,onClose:o,opened:i,defaultOpened:a,trapFocus:l,onChange:u,closeOnItemClick:d,loop:f,closeOnEscape:m,trigger:g,openDelay:v,closeDelay:y,classNames:_,styles:b,unstyled:E,variant:A,vars:C,menuItemTabIndex:M,keepMounted:T,withInitialFocusPlaceholder:I,attributes:P,...B}=t,R=It({name:"Menu",classes:ql,props:t,classNames:_,styles:b,unstyled:E,attributes:P}),[x,D]=dg({value:i,defaultValue:a,finalValue:!1,onChange:u}),[$,U]=O.useState(!1),j=()=>{D(!1),U(!1),x&&(o==null||o())},G=()=>{D(!0),!x&&(r==null||r())},q=()=>{x?j():G()},{openDropdown:Q,closeDropdown:F}=WF({open:G,close:j,closeDelay:y,openDelay:v}),W=V=>Tne("[data-menu-item]","[data-menu-dropdown]",V),{resolvedClassNames:Y,resolvedStyles:N}=oR({classNames:_,styles:b,props:t});return w.jsx(Qse,{value:{getStyles:R,opened:x,toggleDropdown:q,getItemIndex:W,openedViaClick:$,setOpenedViaClick:U,closeOnItemClick:d,closeDropdown:g==="click"?j:F,openDropdown:g==="click"?G:Q,closeDropdownImmediately:j,loop:f,trigger:g,unstyled:E,menuItemTabIndex:M,withInitialFocusPlaceholder:I},children:w.jsx(is,{...B,opened:x,onChange:q,defaultOpened:a,trapFocus:T?!1:l,closeOnEscape:m,__staticSelector:"Menu",classNames:Y,styles:N,unstyled:E,variant:A,keepMounted:T,children:n})})}fr.extend=e=>e;fr.withProps=goe(fr);fr.classes=ql;fr.displayName="@mantine/core/Menu";fr.Item=QR;fr.Label=HR;fr.Dropdown=qR;fr.Target=f7;fr.Divider=VR;fr.Sub=af;var h7={root:"m_a513464",icon:"m_a4ceffb",loader:"m_b0920b15",body:"m_a49ed24",title:"m_3feedf16",description:"m_3d733a3a",closeButton:"m_919a4d88"};const Yse={withCloseButton:!0},Kse=(e,{radius:t,color:n})=>({root:{"--notification-radius":t===void 0?void 0:hr(t),"--notification-color":n?pa(n,e):void 0}}),ZR=Lt((e,t)=>{const n=Ke("Notification",Yse,e),{className:r,color:o,radius:i,loading:a,withCloseButton:l,withBorder:u,title:d,icon:f,children:m,onClose:g,closeButtonProps:v,classNames:y,style:_,styles:b,unstyled:E,variant:A,vars:C,mod:M,loaderProps:T,role:I,attributes:P,...B}=n,R=It({name:"Notification",classes:h7,props:n,className:r,style:_,classNames:y,styles:b,unstyled:E,attributes:P,vars:C,varsResolver:Kse});return w.jsxs(Qe,{...R("root"),mod:[{"data-with-icon":!!f||a,"data-with-border":u},M],ref:t,variant:A,role:I||"alert",...B,children:[f&&!a&&w.jsx("div",{...R("icon"),children:f}),a&&w.jsx(ri,{size:28,color:o,...T,...R("loader")}),w.jsxs("div",{...R("body"),children:[d&&w.jsx("div",{...R("title"),children:d}),w.jsx(Qe,{...R("description"),mod:{"data-with-title":!!d},children:m})]}),l&&w.jsx(e1,{iconSize:16,color:"gray",...v,unstyled:E,onClick:g,...R("closeButton")})]})});ZR.classes=h7;ZR.displayName="@mantine/core/Notification";const Xse={duration:100,transition:"fade"};function C6(e,t){return{...Xse,...t,...e}}function ele({offset:e,position:t,defaultOpened:n}){const[r,o]=O.useState(n),i=O.useRef(null),{x:a,y:l,elements:u,refs:d,update:f,placement:m}=vR({placement:t,middleware:[hR({crossAxis:!0,padding:5,rootBoundary:"document"})]}),g=m.includes("right")?e:t.includes("left")?e*-1:0,v=m.includes("bottom")?e:t.includes("top")?e*-1:0,y=O.useCallback(({clientX:_,clientY:b})=>{d.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x:_,y:b,left:_+g,top:b+v,right:_,bottom:b}}})},[u.reference]);return O.useEffect(()=>{if(d.floating.current){const _=i.current;_.addEventListener("mousemove",y);const b=Ms(d.floating.current);return b.forEach(E=>{E.addEventListener("scroll",f)}),()=>{_.removeEventListener("mousemove",y),b.forEach(E=>{E.removeEventListener("scroll",f)})}}},[u.reference,d.floating.current,f,y,r]),{handleMouseMove:y,x:a,y:l,opened:r,setOpened:o,boundaryRef:i,floating:d.setFloating}}var l1={tooltip:"m_1b3c8819",arrow:"m_f898399f"};const tle={refProp:"ref",withinPortal:!0,offset:10,position:"right",zIndex:uu("popover")},nle=(e,{radius:t,color:n})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:hr(t),"--tooltip-bg":n?pa(n,e):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),YR=Lt((e,t)=>{const n=Ke("TooltipFloating",tle,e),{children:r,refProp:o,withinPortal:i,style:a,className:l,classNames:u,styles:d,unstyled:f,radius:m,color:g,label:v,offset:y,position:_,multiline:b,zIndex:E,disabled:A,defaultOpened:C,variant:M,vars:T,portalProps:I,attributes:P,...B}=n,R=Gr(),x=It({name:"TooltipFloating",props:n,classes:l1,className:l,style:a,classNames:u,styles:d,unstyled:f,attributes:P,rootSelector:"tooltip",vars:T,varsResolver:nle}),{handleMouseMove:D,x:$,y:U,opened:j,boundaryRef:G,floating:q,setOpened:Q}=ele({offset:y,position:_,defaultOpened:C});if(!Yd(r))throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const F=ka(G,X2(r),t),W=r.props,Y=V=>{var X;(X=W.onMouseEnter)==null||X.call(W,V),D(V),Q(!0)},N=V=>{var X;(X=W.onMouseLeave)==null||X.call(W,V),Q(!1)};return w.jsxs(w.Fragment,{children:[w.jsx(Il,{...I,withinPortal:i,children:w.jsx(Qe,{...B,...x("tooltip",{style:{...cF(a,R),zIndex:E,display:!A&&j?"block":"none",top:(U&&Math.round(U))??"",left:($&&Math.round($))??""}}),variant:M,ref:q,mod:{multiline:b},children:v})}),O.cloneElement(r,{...W,[o]:F,onMouseEnter:Y,onMouseLeave:N})]})});YR.classes=l1;YR.displayName="@mantine/core/TooltipFloating";const m7=O.createContext(!1),rle=m7.Provider,ole=()=>O.useContext(m7),ile={openDelay:0,closeDelay:0};function KR(e){const{openDelay:t,closeDelay:n,children:r}=Ke("TooltipGroup",ile,e);return w.jsx(rle,{value:!0,children:w.jsx(Zie,{delay:{open:t,close:n},children:r})})}KR.displayName="@mantine/core/TooltipGroup";KR.extend=e=>e;function ale(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function sle(e){const t=ale(e.middlewares),n=[kF(e.offset)];return t.shift&&n.push(hR(typeof t.shift=="boolean"?{padding:8}:{padding:8,...t.shift})),t.flip&&n.push(typeof t.flip=="boolean"?Ry():Ry(t.flip)),n.push(EF({element:e.arrowRef,padding:e.arrowOffset})),t.inline?n.push(typeof t.inline=="boolean"?qh():qh(t.inline)):e.inline&&n.push(qh()),n}function lle(e){var T,I,P;const[t,n]=O.useState(e.defaultOpened),o=typeof e.opened=="boolean"?e.opened:t,i=ole(),a=Kd(),l=O.useCallback(B=>{n(B),B&&E(a)},[a]),{x:u,y:d,context:f,refs:m,placement:g,middlewareData:{arrow:{x:v,y}={}}}=vR({strategy:e.strategy,placement:e.position,open:o,onOpenChange:l,middleware:sle(e),whileElementsMounted:nB}),{delay:_,currentId:b,setCurrentId:E}=Yie(f,{id:a}),{getReferenceProps:A,getFloatingProps:C}=rae([Wie(f,{enabled:(T=e.events)==null?void 0:T.hover,delay:i?_:{open:e.openDelay,close:e.closeDelay},mouseOnly:!((I=e.events)!=null&&I.touch)}),nae(f,{enabled:(P=e.events)==null?void 0:P.focus,visibleOnly:!0}),iae(f,{role:"tooltip"}),eae(f,{enabled:typeof e.opened>"u"})]);Nc(()=>{var B;(B=e.onPositionChange)==null||B.call(e,g)},[g]);const M=o&&b&&b!==a;return{x:u,y:d,arrowX:v,arrowY:y,reference:m.setReference,floating:m.setFloating,getFloatingProps:C,getReferenceProps:A,isGroupPhase:M,opened:o,placement:g}}const k6={position:"top",refProp:"ref",withinPortal:!0,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:uu("popover"),positionDependencies:[],middlewares:{flip:!0,shift:!0,inline:!1}},cle=(e,{radius:t,color:n,variant:r,autoContrast:o})=>{const i=e.variantColorResolver({theme:e,color:n||e.primaryColor,autoContrast:o,variant:r||"filled"});return{tooltip:{"--tooltip-radius":t===void 0?void 0:hr(t),"--tooltip-bg":n?i.background:void 0,"--tooltip-color":n?i.color:void 0}}},$s=Lt((e,t)=>{const n=Ke("Tooltip",k6,e),{children:r,position:o,refProp:i,label:a,openDelay:l,closeDelay:u,onPositionChange:d,opened:f,defaultOpened:m,withinPortal:g,radius:v,color:y,classNames:_,styles:b,unstyled:E,style:A,className:C,withArrow:M,arrowSize:T,arrowOffset:I,arrowRadius:P,arrowPosition:B,offset:R,transitionProps:x,multiline:D,events:$,zIndex:U,disabled:j,positionDependencies:G,onClick:q,onMouseEnter:Q,onMouseLeave:F,inline:W,variant:Y,keepMounted:N,vars:V,portalProps:X,mod:oe,floatingStrategy:ce,middlewares:he,autoContrast:ye,attributes:Fe,target:H,...te}=Ke("Tooltip",k6,n),{dir:le}=hg(),Ve=O.useRef(null),_e=lle({position:PF(le,o),closeDelay:u,openDelay:l,onPositionChange:d,opened:f,defaultOpened:m,events:$,arrowRef:Ve,arrowOffset:I,offset:typeof R=="number"?R+(M?T/2:0):R,positionDependencies:[...G,H??r],inline:W,strategy:ce,middlewares:he});O.useEffect(()=>{const tn=H instanceof HTMLElement?H:typeof H=="string"?document.querySelector(H):(H==null?void 0:H.current)||null;tn&&_e.reference(tn)},[H,_e]);const Ee=It({name:"Tooltip",props:n,classes:l1,className:C,style:A,classNames:_,styles:b,unstyled:E,attributes:Fe,rootSelector:"tooltip",vars:V,varsResolver:cle});if(!H&&!Yd(r))return null;if(H){const tn=C6(x,{duration:100,transition:"fade"});return w.jsx(w.Fragment,{children:w.jsx(Il,{...X,withinPortal:g,children:w.jsx(Ll,{...tn,keepMounted:N,mounted:!j&&!!_e.opened,duration:_e.isGroupPhase?10:tn.duration,children:Sn=>w.jsxs(Qe,{...te,"data-fixed":ce==="fixed"||void 0,variant:Y,mod:[{multiline:D},oe],..._e.getFloatingProps({ref:_e.floating,className:Ee("tooltip").className,style:{...Ee("tooltip").style,...Sn,zIndex:U,top:_e.y??0,left:_e.x??0}}),children:[a,w.jsx(xy,{ref:Ve,arrowX:_e.arrowX,arrowY:_e.arrowY,visible:M,position:_e.placement,arrowSize:T,arrowOffset:I,arrowRadius:P,arrowPosition:B,...Ee("arrow")})]})})})})}const ft=r,Kt=ft.props,Fn=ka(_e.reference,X2(ft),t),dn=C6(x,{duration:100,transition:"fade"});return w.jsxs(w.Fragment,{children:[w.jsx(Il,{...X,withinPortal:g,children:w.jsx(Ll,{...dn,keepMounted:N,mounted:!j&&!!_e.opened,duration:_e.isGroupPhase?10:dn.duration,children:tn=>w.jsxs(Qe,{...te,"data-fixed":ce==="fixed"||void 0,variant:Y,mod:[{multiline:D},oe],..._e.getFloatingProps({ref:_e.floating,className:Ee("tooltip").className,style:{...Ee("tooltip").style,...tn,zIndex:U,top:_e.y??0,left:_e.x??0}}),children:[a,w.jsx(xy,{ref:Ve,arrowX:_e.arrowX,arrowY:_e.arrowY,visible:M,position:_e.placement,arrowSize:T,arrowOffset:I,arrowRadius:P,arrowPosition:B,...Ee("arrow")})]})})}),O.cloneElement(ft,_e.getReferenceProps({onClick:q,onMouseEnter:Q,onMouseLeave:F,onMouseMove:n.onMouseMove,onPointerDown:n.onPointerDown,onPointerEnter:n.onPointerEnter,className:Li(C,Kt.className),...Kt,[i]:Fn}))]})});$s.classes=l1;$s.displayName="@mantine/core/Tooltip";$s.Floating=YR;$s.Group=KR;var g7={root:"m_cf365364",indicator:"m_9e182ccd",label:"m_1738fcb2",input:"m_1714d588",control:"m_69686b9b",innerLabel:"m_78882f40"};const ule={withItemsBorders:!0},dle=(e,{radius:t,color:n,transitionDuration:r,size:o,transitionTimingFunction:i})=>({root:{"--sc-radius":t===void 0?void 0:hr(t),"--sc-color":n?pa(n,e):void 0,"--sc-shadow":n?void 0:"var(--mantine-shadow-xs)","--sc-transition-duration":r===void 0?void 0:`${r}ms`,"--sc-transition-timing-function":i,"--sc-padding":tr(o,"sc-padding"),"--sc-font-size":mo(o)}}),XR=Lt((e,t)=>{var H,te;const n=Ke("SegmentedControl",ule,e),{classNames:r,className:o,style:i,styles:a,unstyled:l,vars:u,data:d,value:f,defaultValue:m,onChange:g,size:v,name:y,disabled:_,readOnly:b,fullWidth:E,orientation:A,radius:C,color:M,transitionDuration:T,transitionTimingFunction:I,variant:P,autoContrast:B,withItemsBorders:R,mod:x,attributes:D,...$}=n,U=It({name:"SegmentedControl",props:n,classes:g7,className:o,style:i,classNames:r,styles:a,unstyled:l,attributes:D,vars:u,varsResolver:dle}),j=Gr(),G=d.map(le=>typeof le=="string"?{label:le,value:le}:le),q=ire(),[Q,F]=O.useState(Ay()),[W,Y]=O.useState(null),[N,V]=O.useState({}),X=(le,Ve)=>{N[Ve]=le,V(N)},[oe,ce]=dg({value:f,defaultValue:m,finalValue:Array.isArray(d)?((H=G.find(le=>!le.disabled))==null?void 0:H.value)??((te=d[0])==null?void 0:te.value)??null:null,onChange:g}),he=Kd(y),ye=G.map(le=>O.createElement(Qe,{...U("control"),mod:{active:oe===le.value,orientation:A},key:le.value},O.createElement("input",{...U("input"),disabled:_||le.disabled,type:"radio",name:he,value:le.value,id:`${he}-${le.value}`,checked:oe===le.value,onChange:()=>!b&&ce(le.value),"data-focus-ring":j.focusRing,key:`${le.value}-input`}),O.createElement(Qe,{component:"label",...U("label"),mod:{active:oe===le.value&&!(_||le.disabled),disabled:_||le.disabled,"read-only":b},htmlFor:`${he}-${le.value}`,ref:Ve=>X(Ve,le.value),__vars:{"--sc-label-color":M!==void 0?q0({color:M,theme:j,autoContrast:B}):void 0},key:`${le.value}-label`},w.jsx("span",{...U("innerLabel"),children:le.label})))),Fe=ka(t,le=>Y(le));return tre(()=>{F(Ay())},[d.length]),d.length===0?null:w.jsxs(Qe,{...U("root"),variant:P,size:v,ref:Fe,mod:[{"full-width":E,orientation:A,initialized:q,"with-items-borders":R},x],...$,role:"radiogroup","data-disabled":_,children:[typeof oe=="string"&&w.jsx(BR,{target:N[oe],parent:W,component:"span",transitionDuration:"var(--sc-transition-duration)",...U("indicator")},Q),ye]})});XR.classes=g7;XR.displayName="@mantine/core/SegmentedControl";var p7={root:"m_7341320d"};const fle=(e,{size:t,radius:n,variant:r,gradient:o,color:i,autoContrast:a})=>{const l=e.variantColorResolver({color:i||e.primaryColor,theme:e,gradient:o,variant:r||"filled",autoContrast:a});return{root:{"--ti-size":tr(t,"ti-size"),"--ti-radius":n===void 0?void 0:hr(n),"--ti-bg":i||r?l.background:void 0,"--ti-color":i||r?l.color:void 0,"--ti-bd":i||r?l.border:void 0}}},_m=Lt((e,t)=>{const n=Ke("ThemeIcon",null,e),{classNames:r,className:o,style:i,styles:a,unstyled:l,vars:u,autoContrast:d,attributes:f,...m}=n,g=It({name:"ThemeIcon",classes:p7,props:n,className:o,style:i,classNames:r,styles:a,unstyled:l,attributes:f,vars:u,varsResolver:fle});return w.jsx(Qe,{ref:t,...g("root"),...m})});_m.classes=p7;_m.displayName="@mantine/core/ThemeIcon";const hle=["h1","h2","h3","h4","h5","h6"],mle=["xs","sm","md","lg","xl"];function gle(e,t){const n=t!==void 0?t:`h${e}`;return hle.includes(n)?{fontSize:`var(--mantine-${n}-font-size)`,fontWeight:`var(--mantine-${n}-font-weight)`,lineHeight:`var(--mantine-${n}-line-height)`}:mle.includes(n)?{fontSize:`var(--mantine-font-size-${n})`,fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}:{fontSize:ve(n),fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}}var v7={root:"m_8a5d1357"};const ple={order:1},vle=(e,{order:t,size:n,lineClamp:r,textWrap:o})=>{const i=gle(t||1,n);return{root:{"--title-fw":i.fontWeight,"--title-lh":i.lineHeight,"--title-fz":i.fontSize,"--title-line-clamp":typeof r=="number"?r.toString():void 0,"--title-text-wrap":o}}},Sg=Lt((e,t)=>{const n=Ke("Title",ple,e),{classNames:r,className:o,style:i,styles:a,unstyled:l,order:u,vars:d,size:f,variant:m,lineClamp:g,textWrap:v,mod:y,attributes:_,...b}=n,E=It({name:"Title",props:n,classes:v7,className:o,style:i,classNames:r,styles:a,unstyled:l,attributes:_,vars:d,varsResolver:vle});return[1,2,3,4,5,6].includes(u)?w.jsx(Qe,{...E("root"),component:`h${u}`,variant:m,ref:t,mod:[{order:u,"data-line-clamp":typeof g=="number"},y],size:f,...b}):null});Sg.classes=v7;Sg.displayName="@mantine/core/Title";const y7=b8(),Re=y7.useStoreActions,ne=y7.useStoreState,Kc="guest",E6={peer_host:"myhd.info",netlib_host:"wss://netlib.poki.io/v0/signaling",maio_time_to_find_opponent:"15",chat_min_score_to_enable:"10000",chat_ids_by_locale:"{}",promo_image:"https://cdn.eponesh.com/static/images/67c/95b/67c95b551f687ab1d370a4e1-1024x941.webp",promo_icon:"",afk_timeout_1:"15",afk_timeout:"90",active_search_by_rating_enabled:"1",active_search_update_interval_step:"20",start_active_search_timeout:"3",active_search_rating_delta:"250",passive_search_list_limit:"15",priority_negative_limit:"-5",confirmation_duration:"15",online_rating_delta:"2000",score_percentage_to_lose:"92",emoji_computer_probability:"0.05",maio_rating_delta:"250",maio_move_time_spread:"80",maio_move_avg_for_spread:"3",maio_min_time_to_not_giveup:"30",maio_min_giveup_percentage:"75",maio_max_giveup_percentage:"100",maio_max_probability_emoji_answer:"30",maio_emoji_max_probability_platform_modificator:"1",maio_draw_probability_spread:"5",min_moves_not_switch_to_bot:"7",maio_premium_percent:"5",maio_rematch_percent:"0.5"},wr=(e,t,n=0,r=10)=>{if(e===t)return!0;if(n>r)return!1;if(e==null||t==null)return e===t;if(typeof fe<"u"&&fe.isValidElement(e)&&fe.isValidElement(t))return!1;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(e instanceof Date||t instanceof Date)return!1;if(e instanceof RegExp&&t instanceof RegExp)return e.toString()===t.toString();if(e instanceof RegExp||t instanceof RegExp)return!1;if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const o of e)if(!t.has(o))return!1;return!0}else if(e instanceof Set||t instanceof Set)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[o,i]of e)if(!t.has(o)||!wr(i,t.get(o),n+1,r))return!1;return!0}else if(e instanceof Map||t instanceof Map)return!1;if(Array.isArray(e)&&Array.isArray(t))return e.length!==t.length?!1:e.every((o,i)=>wr(o,t[i],n+1,r));if(typeof e=="object"&&typeof t=="object"){const o=Object.keys(e),i=Object.keys(t);return o.length!==i.length?!1:o.every(a=>wr(e[a],t[a],n+1,r))}return!1},yle=()=>ne(e=>yte(e.app.gameResult)),hn=()=>ne(e=>e.config.locale),ex=()=>{const e=hn();return me.isYandex()&&[He.PL,He.VI].includes(e)},VRe=e=>{hn();const t=ne(r=>{var o;return(o=r.modals.modalData[e])==null?void 0:o.data},wr);return{closeModal:Re(r=>()=>r.modals.closeModal(e)),data:t}},_le=(e,t,n=()=>{},r=[])=>{const[o,i]=O.useState(e),a=O.useRef(e),l=O.useRef();O.useEffect(()=>{const d=setInterval(()=>{l.current&&(a.current===0?l.current=!1:a.current-t<=0?(a.current=0,l.current=!1,n()):a.current-=t,i(a.current))},t);return()=>clearInterval(d)},[...r,n]);const u=O.useCallback(()=>{i(e),a.current=e,l.current=!0},[]);return{time:o,reset:u}},Rn=()=>ne(e=>e.config.isPortrait),ble=()=>ne(e=>e.config.isMobile),qRe=()=>ne(e=>e.config.isSmallMobile),Ql=()=>({large:me.isTV()?28:void 0,big:me.isTV()?24:void 0,normal:me.isTV()?16:void 0,small:me.isTV()?12:void 0}),c1=()=>Rn()?30:48,jv=e=>{const t=e.totalHistoryLength;return ca?t!==void 0&&t>=2:oY(e.history())},_7=()=>ne(e=>({result:jv(e.board.gameEngine),trigger:e.board.historyChangeTrigger}),wr).result,QRe=e=>(hn(),e===Kc?be(Kc):e),wle=(e,t=!0)=>(hn(),((e==null?void 0:e.name)===Kc||!(e!=null&&e.name)?be(Kc):e==null?void 0:e.name)||be(t?"opponent":"you")),HRe=()=>{const e=Oh("(max-aspect-ratio: 0.7)"),t=Oh("(max-aspect-ratio: 1)"),n=Oh("(min-aspect-ratio: 1.2)"),r=Oh("(max-height: 750px) or (max-width: 750px)");return{isPort:e,isPortrait:t,isLand:n,isSmall:r,isSmallPort:e&&r}};let mc=_t.modal.friendGame.gameSettings.timeTypeTabs.segmentData;const gc=({id:e,min:t,sec:n})=>(hn(),w.jsx($s,{label:be("timeModeDetails",{0:t,1:n}),openDelay:1e3,children:w.jsxs("div",{id:e,children:[t," + ",n]})})),Ph=[{label:w.jsx(gc,{id:mc.timeVariants.oneMinuteZero,min:1,sec:0}),value:"1 0",type:yn.Bullet},{label:w.jsx(gc,{id:mc.timeVariants.twoMinuteOne,min:2,sec:1}),value:"2 1",type:yn.Bullet},{label:w.jsx(gc,{id:mc.timeVariants.threeMinuteTwo,min:3,sec:2}),value:"3 2",type:yn.Blitz},{label:w.jsx(gc,{id:mc.timeVariants.fiveMinuteThree,min:5,sec:3}),value:"5 3",type:yn.Blitz},{label:w.jsx(gc,{id:mc.timeVariants.tenMinuteZero,min:10,sec:0}),value:"10 0",type:yn.Rapid},{label:w.jsx(gc,{id:mc.timeVariants.fifteenMinuteTen,min:15,sec:10}),value:"15 10",type:yn.Rapid},{label:w.jsx(gc,{id:mc.timeVariants.thirtyMinuteZero,min:30,sec:0}),value:"30 0",type:yn.Classic}],b7={[yn.Bullet]:Ph[1],[yn.Blitz]:Ph[3],[yn.Rapid]:Ph[5],[yn.Classic]:Ph[6]},WRe=e=>{var t;return(t=Ph.filter(n=>n.value===e)[0])==null?void 0:t.type},Bs=e=>{const n=b7[e].value.split(" ");return`${n[0]} + ${n[1]}`},Sle={[ni.Victory]:1,[ni.Draw]:.5,[ni.Defeat]:0},aB=e=>e===ht.Victory?ni.Victory:e===ht.Defeat?ni.Defeat:ni.Draw,Ag=e=>[re.AI,re.FakeOnline].includes(e),Xr=e=>[re.Online,re.TogetherOnline].includes(e),Qn=e=>[re.Online,re.TogetherOnline,re.FakeOnline].includes(e),sB=e=>{const t=aB(e);return t===ni.Victory?ht.Defeat:t===ni.Defeat?ht.Victory:e},sh=(e,t)=>({...t?{[e]:t}:{}});class Ne extends Bn{static trackEvent(t,n={}){super.trackEvent(t,n)}static trackLanguage(t){t===He.RU?this.trackEvent("lang_ru"):t===He.EN?this.trackEvent("lang_en"):this.trackEvent("lang_other")}static trackChangeBoardFading(t){this.trackEvent("change_board_fading",{fading:t})}static trackChangeLanguage(t){this.trackEvent("change_language",{language:t})}static trackChangeName(t){this.trackEvent("change_name",{accepted:t?{false:t}:!0})}static trackChangeAvatar(){this.trackEvent("change_avatar")}static trackChangeDesign(t){this.trackEvent("change_design",{theme:t})}static trackSwitchActiveSearchGameMode(t){this.trackEvent("switch_search_opponent_time_mode",{time_mode:Bs(t)})}static trackShopModalOpened(t){this.trackEvent("shop_modal_opened",{source:t})}static trackClickShop(){this.trackEvent("click_shop")}static trackClickShopItem(t,n){this.trackEvent("click_shop_item",{tag:t,source:n})}static trackChangeBoard(t){this.trackEvent("change_board",{boardTheme:t})}static trackClickRematch(t,n){this.trackEvent("click_rematch",{game_type:t,rematch_started:n})}static trackChangeFigures(t){this.trackEvent("change_figures",{figureTheme:t})}static trackClickRules(t){this.trackEvent("click_rules",{place:t})}static trackSwapRulesPage(t){this.trackEvent("swipe_rules_page",{page_number:t})}static trackRemovePlayedGames(){this.trackEvent("remove_playedGames")}static trackClickOpenChat(t,n){this.trackEvent("click_chat",{place:t,chat_enabled:n})}static trackOpenProfileModal(t){this.trackEvent("click_profile",{type:t})}static trackEmojiSendByAi(){this.trackEvent("emoji_sent_by_ai")}static trackReduceRatingOnStartSessionAfterExit(t){this.trackEvent("reduce_rating_on_start_session_after_exit",{delta_rating:t})}static trackGameProposal(t){this.trackEvent("online_game_proposal",{reaction:t})}static trackStartActiveSearch(t,n){this.trackEvent("start_search_opponent",{by_rating:t,time_mode:n})}static trackReplacePlayerOnAI(t,n){this.trackEvent("replace_player",{replace_reason:{[t]:n}})}static trackWebAssemblyNotSupported(){this.trackEvent("web_assembly_not_supported")}static trackGameStarted(t){const n=t.getStoreState().config.soundEnable,r=t.getStoreState().app.gameType,o=t.getStoreState().engine.optionLevelType;t.getStoreState().session.wasPlayingWithComputer;const i=t.getStoreState().platform.isAuth,a=t.getStoreState().online.gameMode,l=t.getStoreState().p2p.notConnectedWebscoket,u=t.getStoreState().engine.computer,{onlineRatingDelta:d}=t.getStoreState().flags,{player:f,opponent:m}=t.getStoreState().p2p,{boardTheme:g,figureTheme:v,aiGiveUpEnabled:y,settingsByOptionLevelType:_}=t.getStoreState().config,{timeControl:b,stepTime:E,gameTime:A,hintsEnabled:C,handicapEnabled:M}=t.getStoreState().gameSettings,T=t.getStoreState().gameSettings.isMandatoryTaken,I=t.getStoreState().gameSettings.boardType,P=Qn(r)?t.getStoreState().config.onlineBetSize:0,B=(W=wn(),Y=wn())=>Math.abs(W-Y),R=B(f==null?void 0:f.withComputerRating,u==null?void 0:u.rating),x=B(f==null?void 0:f.rating,m==null?void 0:m.rating),D=t.getStoreState().config.strongerThanBots,$=Xr(r)?x<=d:R<=d,U=`${A/60} + ${E}`,j=me.getPlatformType(!0),G=me.getDeviceType();r===re.FakeOnline?this.trackGoal("game_started_fake_online"):r===re.AI?this.trackGoal("game_started_with_computer"):r===re.Together?this.trackGoal("game_started_together_on_single_screen"):r===re.Online?this.trackGoal("game_started_online"):r===re.TogetherOnline&&this.trackGoal("game_started_online_together");let q;if(r===re.FakeOnline){const W=t.getStoreState().online.fakeOnlineOpponent,Y=W==null?void 0:W.opponents.sort((N,V)=>N.chance-V.chance)[0];q=(Y==null?void 0:Y.lvl)||0}const Q=r===re.FakeOnline?q:o,F=typeof Q=="number"?Q:_[Q].rank;this.trackEvent("game_started",{game_type:{[r]:{platform:j,device:G,time_mode:b?U:"unlimited",...D?{stronger_than_bots:D}:{},...[re.TogetherOnline,re.AI,re.Together].includes(r)&&{...sh("handicap",M),...sh("all_hints",C)},...r===re.AI&&{opponent:F,...sh("restrict_give_up",y)},...r===re.FakeOnline&&{...sh("not_connected_webscoket",l),opponent:F},...r===re.Online&&{time_mode:Bs(a)},...r!==re.Together&&{by_rating:$},...r===re.TogetherOnline&&{search_mode:t.getStoreState().online.withFriendOpenedLobby?"public":"private"},...!!I&&{board_type:I},...!!P&&{bet_size:P},...!T&&$l&&{mandatory_taken:!1}}},sound:n?"on":"off",board_theme:g,figures_theme:v,...!i&&{not_authorized:{platform:{[j]:{device:G}},device:{[G]:{platform:j}}}}})}static trackClickPlay(t,n){this.trackEvent("click_play",{game_type:{[t]:{platform:me.getPlatformType(!0),device:me.getDeviceType(),...t===re.AI&&n!==void 0?{place:n===xe.Menu?"start_menu":"online_fallback"}:{}}}}),this.trackGoal({[re.FakeOnline]:"click_play_fake_online",[re.Online]:"click_play_online",[re.TogetherOnline]:"click_play_online_together",[re.AI]:"click_play_with_computer",[re.Together]:"click_play_together_on_single_screen"}[t])}static trackGameContinued(t){this.trackEvent("game_continued",{game_type:{[t]:{platform:me.getPlatformType(!0),device:me.getDeviceType()}}})}static trackContinueGameFromModal(t){this.trackEvent("continue_game_modal",{reaction:t})}static trackComputerGiveUp(t){this.trackEvent("computer_give_up",{player_choice:t})}static trackPayingStatus(t){this.trackEvent("player_paying_status",{status:t})}static trackClickHistoryIcon(t){this.trackEvent("click_history_icon",{hide:t})}static trackDailyReward(t){this.trackEvent("daily_reward",{day:t})}static trackChangeSound(t){this.trackEvent("change_sound",{status:t?"on":"off"})}static trackChangeMusic(t){this.trackEvent("change_music",{status:t?"on":"off"})}static trackRestrictGiveUp(t,n){this.trackEvent("restrict_give_up",{...sh("restrict_give_up",t),place:n})}static trackGameCompleted(t){const{gameType:n,result:r,reason:o,gameEngine:i,turn:a}=t,l=i.history().length,u=o?null:i.fen(),d=l<2?ht.Draw:r===ht.Victory?"winner":r===ht.Defeat?"looser":r;this.trackEvent("game_completed",{game_type:{[n]:{...n===re.AI?{result:r}:{},platform:me.getPlatformType(!0),device:me.getDeviceType(),reason:{[o||"undefined"]:{...o?{}:{fen:u},for:d,movesCnt:l,canceledGame:l<2,turn:a,...Xr(n)?{rating_change:l<2?0:t.rating_change}:{}}}}}}),n===re.Online?this.trackGoal("game_completed_online"):n===re.TogetherOnline?this.trackGoal("game_completed_online_together"):n===re.FakeOnline?this.trackGoal("game_completed_fake_online"):n===re.Together?this.trackGoal("game_completed_together_on_single_screen"):n===re.AI&&(r===ht.Victory?this.trackGoal("game_victory_with_computer"):r===ht.Defeat?this.trackGoal("game_defeat_with_computer"):this.trackGoal("game_draw_with_computer"))}static trackGameCanceled(t){this.trackEvent("game_canceled",{game_type:t})}static trackAfkModalShown(t){this.trackEvent("afk_modal_shown",{reaction:t})}static trackAfkModalShownFirstMove(t){this.trackEvent("afk_modal_shown_1",{reaction:t})}static trackSwitchActiveSearchMode(t){this.trackEvent("switch_search_opponent_mode",{by_rating:t})}static trackClickAvatar(t,n){this.trackEvent("click_avatar",{game_type:t,whose:n})}static trackOpenResultInfoModal(t){this.trackEvent("click_modres_i",{game_type:t})}static trackOpenDesignModal(t){this.trackEvent("open_design_modal",{source:t})}static trackShowAuthModal(t){this.trackEvent("show_auth_modal",{game_type:t})}static trackOpenLeaderboard(t,n,r,o){this.trackEvent("click_leaders",{type:t,mode:n,...r&&r===xe.Menu?{place:"main_menu"}:{place:"game_result_modal",...o?{game_type:o}:{}}})}static trackAuthorized(t){this.trackEvent("authorized",{game_type:t})}static trackShare(){this.trackEvent("click_share")}static trackClickOtherGamesCustom(t){this.trackEvent("click_other_games",{place:t})}static trackSwitchLeadersTab(t,n){this.trackEvent("switch_leaders_tab",{type:t,mode:n})}static trackSwitchLeaderboardMode(t){this.trackEvent("switch_leaderboard_mode",{mode:t})}static trackOnlineRejectedPeerConnect(t,n){this.trackEvent("online_rejected_peer_connection",{[t]:{...n,onlineState:bte[n.onlineState]}})}static trackCalledAllPassivePlayersBeforeNextPing(t){this.trackEvent("called_all_passive_players_before_next_ping",{peer_ids_count:t})}static trackOpenEmojiDialog(t,n){this.trackEvent("open_emoji_dialog",{...t?{emoji_sent:t,game_type:n}:{game_type:n}})}static trackSwitchOpponentEmojiMode(t,n){const r=t===da.DEFAULT?"emoji_with_sound_enabled":t===da.MUTE?"emoji_enabled":"disabled";this.trackEvent("switch_opponent_emoji_mode",{mode:r,game_type:n})}}function w7(e,t){return function(){return e.apply(t,arguments)}}const{toString:Ale}=Object.prototype,{getPrototypeOf:tx}=Object,{iterator:u1,toStringTag:S7}=Symbol,d1=(e=>t=>{const n=Ale.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ea=e=>(e=e.toLowerCase(),t=>d1(t)===e),f1=e=>t=>typeof t===e,{isArray:sf}=Array,bm=f1("undefined");function Cle(e){return e!==null&&!bm(e)&&e.constructor!==null&&!bm(e.constructor)&&Fo(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const A7=Ea("ArrayBuffer");function kle(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&A7(e.buffer),t}const Ele=f1("string"),Fo=f1("function"),C7=f1("number"),h1=e=>e!==null&&typeof e=="object",Ble=e=>e===!0||e===!1,$v=e=>{if(d1(e)!=="object")return!1;const t=tx(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(S7 in e)&&!(u1 in e)},Rle=Ea("Date"),xle=Ea("File"),Ole=Ea("Blob"),Mle=Ea("FileList"),Ple=e=>h1(e)&&Fo(e.pipe),Tle=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Fo(e.append)&&((t=d1(e))==="formdata"||t==="object"&&Fo(e.toString)&&e.toString()==="[object FormData]"))},Ile=Ea("URLSearchParams"),[Lle,Dle,Nle,Fle]=["ReadableStream","Request","Response","Headers"].map(Ea),Gle=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Cg(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,o;if(typeof e!="object"&&(e=[e]),sf(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),a=i.length;let l;for(r=0;r<a;r++)l=i[r],t.call(null,e[l],l,e)}}function k7(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,o;for(;r-- >0;)if(o=n[r],t===o.toLowerCase())return o;return null}const Oc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,E7=e=>!bm(e)&&e!==Oc;function lB(){const{caseless:e}=E7(this)&&this||{},t={},n=(r,o)=>{const i=e&&k7(t,o)||o;$v(t[i])&&$v(r)?t[i]=lB(t[i],r):$v(r)?t[i]=lB({},r):sf(r)?t[i]=r.slice():t[i]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&Cg(arguments[r],n);return t}const jle=(e,t,n,{allOwnKeys:r}={})=>(Cg(t,(o,i)=>{n&&Fo(o)?e[i]=w7(o,n):e[i]=o},{allOwnKeys:r}),e),$le=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),zle=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Ule=(e,t,n,r)=>{let o,i,a;const l={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)a=o[i],(!r||r(a,e,t))&&!l[a]&&(t[a]=e[a],l[a]=!0);e=n!==!1&&tx(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Vle=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},qle=e=>{if(!e)return null;if(sf(e))return e;let t=e.length;if(!C7(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Qle=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&tx(Uint8Array)),Hle=(e,t)=>{const r=(e&&e[u1]).call(e);let o;for(;(o=r.next())&&!o.done;){const i=o.value;t.call(e,i[0],i[1])}},Wle=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},Jle=Ea("HTMLFormElement"),Zle=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,o){return r.toUpperCase()+o}),B6=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Yle=Ea("RegExp"),B7=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Cg(n,(o,i)=>{let a;(a=t(o,i,e))!==!1&&(r[i]=a||o)}),Object.defineProperties(e,r)},Kle=e=>{B7(e,(t,n)=>{if(Fo(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Fo(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Xle=(e,t)=>{const n={},r=o=>{o.forEach(i=>{n[i]=!0})};return sf(e)?r(e):r(String(e).split(t)),n},ece=()=>{},tce=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function nce(e){return!!(e&&Fo(e.append)&&e[S7]==="FormData"&&e[u1])}const rce=e=>{const t=new Array(10),n=(r,o)=>{if(h1(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[o]=r;const i=sf(r)?[]:{};return Cg(r,(a,l)=>{const u=n(a,o+1);!bm(u)&&(i[l]=u)}),t[o]=void 0,i}}return r};return n(e,0)},oce=Ea("AsyncFunction"),ice=e=>e&&(h1(e)||Fo(e))&&Fo(e.then)&&Fo(e.catch),R7=((e,t)=>e?setImmediate:t?((n,r)=>(Oc.addEventListener("message",({source:o,data:i})=>{o===Oc&&i===n&&r.length&&r.shift()()},!1),o=>{r.push(o),Oc.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Fo(Oc.postMessage)),ace=typeof queueMicrotask<"u"?queueMicrotask.bind(Oc):typeof process<"u"&&process.nextTick||R7,sce=e=>e!=null&&Fo(e[u1]),ge={isArray:sf,isArrayBuffer:A7,isBuffer:Cle,isFormData:Tle,isArrayBufferView:kle,isString:Ele,isNumber:C7,isBoolean:Ble,isObject:h1,isPlainObject:$v,isReadableStream:Lle,isRequest:Dle,isResponse:Nle,isHeaders:Fle,isUndefined:bm,isDate:Rle,isFile:xle,isBlob:Ole,isRegExp:Yle,isFunction:Fo,isStream:Ple,isURLSearchParams:Ile,isTypedArray:Qle,isFileList:Mle,forEach:Cg,merge:lB,extend:jle,trim:Gle,stripBOM:$le,inherits:zle,toFlatObject:Ule,kindOf:d1,kindOfTest:Ea,endsWith:Vle,toArray:qle,forEachEntry:Hle,matchAll:Wle,isHTMLForm:Jle,hasOwnProperty:B6,hasOwnProp:B6,reduceDescriptors:B7,freezeMethods:Kle,toObjectSet:Xle,toCamelCase:Zle,noop:ece,toFiniteNumber:tce,findKey:k7,global:Oc,isContextDefined:E7,isSpecCompliantForm:nce,toJSONObject:rce,isAsyncFn:oce,isThenable:ice,setImmediate:R7,asap:ace,isIterable:sce};function Gt(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}ge.inherits(Gt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ge.toJSONObject(this.config),code:this.code,status:this.status}}});const x7=Gt.prototype,O7={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{O7[e]={value:e}});Object.defineProperties(Gt,O7);Object.defineProperty(x7,"isAxiosError",{value:!0});Gt.from=(e,t,n,r,o,i)=>{const a=Object.create(x7);return ge.toFlatObject(e,a,function(u){return u!==Error.prototype},l=>l!=="isAxiosError"),Gt.call(a,e.message,t,n,r,o),a.cause=e,a.name=e.name,i&&Object.assign(a,i),a};const lce=null;function cB(e){return ge.isPlainObject(e)||ge.isArray(e)}function M7(e){return ge.endsWith(e,"[]")?e.slice(0,-2):e}function R6(e,t,n){return e?e.concat(t).map(function(o,i){return o=M7(o),!n&&i?"["+o+"]":o}).join(n?".":""):t}function cce(e){return ge.isArray(e)&&!e.some(cB)}const uce=ge.toFlatObject(ge,{},null,function(t){return/^is[A-Z]/.test(t)});function m1(e,t,n){if(!ge.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=ge.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,b){return!ge.isUndefined(b[_])});const r=n.metaTokens,o=n.visitor||f,i=n.dots,a=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&ge.isSpecCompliantForm(t);if(!ge.isFunction(o))throw new TypeError("visitor must be a function");function d(y){if(y===null)return"";if(ge.isDate(y))return y.toISOString();if(!u&&ge.isBlob(y))throw new Gt("Blob is not supported. Use a Buffer instead.");return ge.isArrayBuffer(y)||ge.isTypedArray(y)?u&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function f(y,_,b){let E=y;if(y&&!b&&typeof y=="object"){if(ge.endsWith(_,"{}"))_=r?_:_.slice(0,-2),y=JSON.stringify(y);else if(ge.isArray(y)&&cce(y)||(ge.isFileList(y)||ge.endsWith(_,"[]"))&&(E=ge.toArray(y)))return _=M7(_),E.forEach(function(C,M){!(ge.isUndefined(C)||C===null)&&t.append(a===!0?R6([_],M,i):a===null?_:_+"[]",d(C))}),!1}return cB(y)?!0:(t.append(R6(b,_,i),d(y)),!1)}const m=[],g=Object.assign(uce,{defaultVisitor:f,convertValue:d,isVisitable:cB});function v(y,_){if(!ge.isUndefined(y)){if(m.indexOf(y)!==-1)throw Error("Circular reference detected in "+_.join("."));m.push(y),ge.forEach(y,function(E,A){(!(ge.isUndefined(E)||E===null)&&o.call(t,E,ge.isString(A)?A.trim():A,_,g))===!0&&v(E,_?_.concat(A):[A])}),m.pop()}}if(!ge.isObject(e))throw new TypeError("data must be an object");return v(e),t}function x6(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function nx(e,t){this._pairs=[],e&&m1(e,this,t)}const P7=nx.prototype;P7.append=function(t,n){this._pairs.push([t,n])};P7.toString=function(t){const n=t?function(r){return t.call(this,r,x6)}:x6;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function dce(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function T7(e,t,n){if(!t)return e;const r=n&&n.encode||dce;ge.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let i;if(o?i=o(t,n):i=ge.isURLSearchParams(t)?t.toString():new nx(t,n).toString(r),i){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class O6{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ge.forEach(this.handlers,function(r){r!==null&&t(r)})}}const I7={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},fce=typeof URLSearchParams<"u"?URLSearchParams:nx,hce=typeof FormData<"u"?FormData:null,mce=typeof Blob<"u"?Blob:null,gce={isBrowser:!0,classes:{URLSearchParams:fce,FormData:hce,Blob:mce},protocols:["http","https","file","blob","url","data"]},rx=typeof window<"u"&&typeof document<"u",uB=typeof navigator=="object"&&navigator||void 0,pce=rx&&(!uB||["ReactNative","NativeScript","NS"].indexOf(uB.product)<0),vce=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",yce=rx&&window.location.href||"http://localhost",_ce=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:rx,hasStandardBrowserEnv:pce,hasStandardBrowserWebWorkerEnv:vce,navigator:uB,origin:yce},Symbol.toStringTag,{value:"Module"})),Kr={..._ce,...gce};function bce(e,t){return m1(e,new Kr.classes.URLSearchParams,Object.assign({visitor:function(n,r,o,i){return Kr.isNode&&ge.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function wce(e){return ge.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Sce(e){const t={},n=Object.keys(e);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],t[i]=e[i];return t}function L7(e){function t(n,r,o,i){let a=n[i++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),u=i>=n.length;return a=!a&&ge.isArray(o)?o.length:a,u?(ge.hasOwnProp(o,a)?o[a]=[o[a],r]:o[a]=r,!l):((!o[a]||!ge.isObject(o[a]))&&(o[a]=[]),t(n,r,o[a],i)&&ge.isArray(o[a])&&(o[a]=Sce(o[a])),!l)}if(ge.isFormData(e)&&ge.isFunction(e.entries)){const n={};return ge.forEachEntry(e,(r,o)=>{t(wce(r),o,n,0)}),n}return null}function Ace(e,t,n){if(ge.isString(e))try{return(t||JSON.parse)(e),ge.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const kg={transitional:I7,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",o=r.indexOf("application/json")>-1,i=ge.isObject(t);if(i&&ge.isHTMLForm(t)&&(t=new FormData(t)),ge.isFormData(t))return o?JSON.stringify(L7(t)):t;if(ge.isArrayBuffer(t)||ge.isBuffer(t)||ge.isStream(t)||ge.isFile(t)||ge.isBlob(t)||ge.isReadableStream(t))return t;if(ge.isArrayBufferView(t))return t.buffer;if(ge.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return bce(t,this.formSerializer).toString();if((l=ge.isFileList(t))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return m1(l?{"files[]":t}:t,u&&new u,this.formSerializer)}}return i||o?(n.setContentType("application/json",!1),Ace(t)):t}],transformResponse:[function(t){const n=this.transitional||kg.transitional,r=n&&n.forcedJSONParsing,o=this.responseType==="json";if(ge.isResponse(t)||ge.isReadableStream(t))return t;if(t&&ge.isString(t)&&(r&&!this.responseType||o)){const a=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(l){if(a)throw l.name==="SyntaxError"?Gt.from(l,Gt.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Kr.classes.FormData,Blob:Kr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ge.forEach(["delete","get","head","post","put","patch"],e=>{kg.headers[e]={}});const Cce=ge.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),kce=e=>{const t={};let n,r,o;return e&&e.split(`
`).forEach(function(a){o=a.indexOf(":"),n=a.substring(0,o).trim().toLowerCase(),r=a.substring(o+1).trim(),!(!n||t[n]&&Cce[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},M6=Symbol("internals");function lh(e){return e&&String(e).trim().toLowerCase()}function zv(e){return e===!1||e==null?e:ge.isArray(e)?e.map(zv):String(e)}function Ece(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const Bce=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ck(e,t,n,r,o){if(ge.isFunction(r))return r.call(this,t,n);if(o&&(t=n),!!ge.isString(t)){if(ge.isString(r))return t.indexOf(r)!==-1;if(ge.isRegExp(r))return r.test(t)}}function Rce(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function xce(e,t){const n=ge.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(o,i,a){return this[r].call(this,t,o,i,a)},configurable:!0})})}let Go=class{constructor(t){t&&this.set(t)}set(t,n,r){const o=this;function i(l,u,d){const f=lh(u);if(!f)throw new Error("header name must be a non-empty string");const m=ge.findKey(o,f);(!m||o[m]===void 0||d===!0||d===void 0&&o[m]!==!1)&&(o[m||u]=zv(l))}const a=(l,u)=>ge.forEach(l,(d,f)=>i(d,f,u));if(ge.isPlainObject(t)||t instanceof this.constructor)a(t,n);else if(ge.isString(t)&&(t=t.trim())&&!Bce(t))a(kce(t),n);else if(ge.isObject(t)&&ge.isIterable(t)){let l={},u,d;for(const f of t){if(!ge.isArray(f))throw TypeError("Object iterator must return a key-value pair");l[d=f[0]]=(u=l[d])?ge.isArray(u)?[...u,f[1]]:[u,f[1]]:f[1]}a(l,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=lh(t),t){const r=ge.findKey(this,t);if(r){const o=this[r];if(!n)return o;if(n===!0)return Ece(o);if(ge.isFunction(n))return n.call(this,o,r);if(ge.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=lh(t),t){const r=ge.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||ck(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let o=!1;function i(a){if(a=lh(a),a){const l=ge.findKey(r,a);l&&(!n||ck(r,r[l],l,n))&&(delete r[l],o=!0)}}return ge.isArray(t)?t.forEach(i):i(t),o}clear(t){const n=Object.keys(this);let r=n.length,o=!1;for(;r--;){const i=n[r];(!t||ck(this,this[i],i,t,!0))&&(delete this[i],o=!0)}return o}normalize(t){const n=this,r={};return ge.forEach(this,(o,i)=>{const a=ge.findKey(r,i);if(a){n[a]=zv(o),delete n[i];return}const l=t?Rce(i):String(i).trim();l!==i&&delete n[i],n[l]=zv(o),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return ge.forEach(this,(r,o)=>{r!=null&&r!==!1&&(n[o]=t&&ge.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(o=>r.set(o)),r}static accessor(t){const r=(this[M6]=this[M6]={accessors:{}}).accessors,o=this.prototype;function i(a){const l=lh(a);r[l]||(xce(o,a),r[l]=!0)}return ge.isArray(t)?t.forEach(i):i(t),this}};Go.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ge.reduceDescriptors(Go.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});ge.freezeMethods(Go);function uk(e,t){const n=this||kg,r=t||n,o=Go.from(r.headers);let i=r.data;return ge.forEach(e,function(l){i=l.call(n,i,o.normalize(),t?t.status:void 0)}),o.normalize(),i}function D7(e){return!!(e&&e.__CANCEL__)}function lf(e,t,n){Gt.call(this,e??"canceled",Gt.ERR_CANCELED,t,n),this.name="CanceledError"}ge.inherits(lf,Gt,{__CANCEL__:!0});function N7(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Gt("Request failed with status code "+n.status,[Gt.ERR_BAD_REQUEST,Gt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Oce(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Mce(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o=0,i=0,a;return t=t!==void 0?t:1e3,function(u){const d=Date.now(),f=r[i];a||(a=d),n[o]=u,r[o]=d;let m=i,g=0;for(;m!==o;)g+=n[m++],m=m%e;if(o=(o+1)%e,o===i&&(i=(i+1)%e),d-a<t)return;const v=f&&d-f;return v?Math.round(g*1e3/v):void 0}}function Pce(e,t){let n=0,r=1e3/t,o,i;const a=(d,f=Date.now())=>{n=f,o=null,i&&(clearTimeout(i),i=null),e.apply(null,d)};return[(...d)=>{const f=Date.now(),m=f-n;m>=r?a(d,f):(o=d,i||(i=setTimeout(()=>{i=null,a(o)},r-m)))},()=>o&&a(o)]}const Oy=(e,t,n=3)=>{let r=0;const o=Mce(50,250);return Pce(i=>{const a=i.loaded,l=i.lengthComputable?i.total:void 0,u=a-r,d=o(u),f=a<=l;r=a;const m={loaded:a,total:l,progress:l?a/l:void 0,bytes:u,rate:d||void 0,estimated:d&&l&&f?(l-a)/d:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(m)},n)},P6=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},T6=e=>(...t)=>ge.asap(()=>e(...t)),Tce=Kr.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Kr.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Kr.origin),Kr.navigator&&/(msie|trident)/i.test(Kr.navigator.userAgent)):()=>!0,Ice=Kr.hasStandardBrowserEnv?{write(e,t,n,r,o,i){const a=[e+"="+encodeURIComponent(t)];ge.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),ge.isString(r)&&a.push("path="+r),ge.isString(o)&&a.push("domain="+o),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Lce(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Dce(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function F7(e,t,n){let r=!Lce(t);return e&&(r||n==!1)?Dce(e,t):t}const I6=e=>e instanceof Go?{...e}:e;function Xc(e,t){t=t||{};const n={};function r(d,f,m,g){return ge.isPlainObject(d)&&ge.isPlainObject(f)?ge.merge.call({caseless:g},d,f):ge.isPlainObject(f)?ge.merge({},f):ge.isArray(f)?f.slice():f}function o(d,f,m,g){if(ge.isUndefined(f)){if(!ge.isUndefined(d))return r(void 0,d,m,g)}else return r(d,f,m,g)}function i(d,f){if(!ge.isUndefined(f))return r(void 0,f)}function a(d,f){if(ge.isUndefined(f)){if(!ge.isUndefined(d))return r(void 0,d)}else return r(void 0,f)}function l(d,f,m){if(m in t)return r(d,f);if(m in e)return r(void 0,d)}const u={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(d,f,m)=>o(I6(d),I6(f),m,!0)};return ge.forEach(Object.keys(Object.assign({},e,t)),function(f){const m=u[f]||o,g=m(e[f],t[f],f);ge.isUndefined(g)&&m!==l||(n[f]=g)}),n}const G7=e=>{const t=Xc({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:i,headers:a,auth:l}=t;t.headers=a=Go.from(a),t.url=T7(F7(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let u;if(ge.isFormData(n)){if(Kr.hasStandardBrowserEnv||Kr.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((u=a.getContentType())!==!1){const[d,...f]=u?u.split(";").map(m=>m.trim()).filter(Boolean):[];a.setContentType([d||"multipart/form-data",...f].join("; "))}}if(Kr.hasStandardBrowserEnv&&(r&&ge.isFunction(r)&&(r=r(t)),r||r!==!1&&Tce(t.url))){const d=o&&i&&Ice.read(i);d&&a.set(o,d)}return t},Nce=typeof XMLHttpRequest<"u",Fce=Nce&&function(e){return new Promise(function(n,r){const o=G7(e);let i=o.data;const a=Go.from(o.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:d}=o,f,m,g,v,y;function _(){v&&v(),y&&y(),o.cancelToken&&o.cancelToken.unsubscribe(f),o.signal&&o.signal.removeEventListener("abort",f)}let b=new XMLHttpRequest;b.open(o.method.toUpperCase(),o.url,!0),b.timeout=o.timeout;function E(){if(!b)return;const C=Go.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),T={data:!l||l==="text"||l==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:C,config:e,request:b};N7(function(P){n(P),_()},function(P){r(P),_()},T),b=null}"onloadend"in b?b.onloadend=E:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(E)},b.onabort=function(){b&&(r(new Gt("Request aborted",Gt.ECONNABORTED,e,b)),b=null)},b.onerror=function(){r(new Gt("Network Error",Gt.ERR_NETWORK,e,b)),b=null},b.ontimeout=function(){let M=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const T=o.transitional||I7;o.timeoutErrorMessage&&(M=o.timeoutErrorMessage),r(new Gt(M,T.clarifyTimeoutError?Gt.ETIMEDOUT:Gt.ECONNABORTED,e,b)),b=null},i===void 0&&a.setContentType(null),"setRequestHeader"in b&&ge.forEach(a.toJSON(),function(M,T){b.setRequestHeader(T,M)}),ge.isUndefined(o.withCredentials)||(b.withCredentials=!!o.withCredentials),l&&l!=="json"&&(b.responseType=o.responseType),d&&([g,y]=Oy(d,!0),b.addEventListener("progress",g)),u&&b.upload&&([m,v]=Oy(u),b.upload.addEventListener("progress",m),b.upload.addEventListener("loadend",v)),(o.cancelToken||o.signal)&&(f=C=>{b&&(r(!C||C.type?new lf(null,e,b):C),b.abort(),b=null)},o.cancelToken&&o.cancelToken.subscribe(f),o.signal&&(o.signal.aborted?f():o.signal.addEventListener("abort",f)));const A=Oce(o.url);if(A&&Kr.protocols.indexOf(A)===-1){r(new Gt("Unsupported protocol "+A+":",Gt.ERR_BAD_REQUEST,e));return}b.send(i||null)})},Gce=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,o;const i=function(d){if(!o){o=!0,l();const f=d instanceof Error?d:this.reason;r.abort(f instanceof Gt?f:new lf(f instanceof Error?f.message:f))}};let a=t&&setTimeout(()=>{a=null,i(new Gt(`timeout ${t} of ms exceeded`,Gt.ETIMEDOUT))},t);const l=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:u}=r;return u.unsubscribe=()=>ge.asap(l),u}},jce=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,o;for(;r<n;)o=r+t,yield e.slice(r,o),r=o},$ce=async function*(e,t){for await(const n of zce(e))yield*jce(n,t)},zce=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},L6=(e,t,n,r)=>{const o=$ce(e,t);let i=0,a,l=u=>{a||(a=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:d,value:f}=await o.next();if(d){l(),u.close();return}let m=f.byteLength;if(n){let g=i+=m;n(g)}u.enqueue(new Uint8Array(f))}catch(d){throw l(d),d}},cancel(u){return l(u),o.return()}},{highWaterMark:2})},g1=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",j7=g1&&typeof ReadableStream=="function",Uce=g1&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),$7=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Vce=j7&&$7(()=>{let e=!1;const t=new Request(Kr.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),D6=64*1024,dB=j7&&$7(()=>ge.isReadableStream(new Response("").body)),My={stream:dB&&(e=>e.body)};g1&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!My[t]&&(My[t]=ge.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new Gt(`Response type '${t}' is not supported`,Gt.ERR_NOT_SUPPORT,r)})})})(new Response);const qce=async e=>{if(e==null)return 0;if(ge.isBlob(e))return e.size;if(ge.isSpecCompliantForm(e))return(await new Request(Kr.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(ge.isArrayBufferView(e)||ge.isArrayBuffer(e))return e.byteLength;if(ge.isURLSearchParams(e)&&(e=e+""),ge.isString(e))return(await Uce(e)).byteLength},Qce=async(e,t)=>{const n=ge.toFiniteNumber(e.getContentLength());return n??qce(t)},Hce=g1&&(async e=>{let{url:t,method:n,data:r,signal:o,cancelToken:i,timeout:a,onDownloadProgress:l,onUploadProgress:u,responseType:d,headers:f,withCredentials:m="same-origin",fetchOptions:g}=G7(e);d=d?(d+"").toLowerCase():"text";let v=Gce([o,i&&i.toAbortSignal()],a),y;const _=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let b;try{if(u&&Vce&&n!=="get"&&n!=="head"&&(b=await Qce(f,r))!==0){let T=new Request(t,{method:"POST",body:r,duplex:"half"}),I;if(ge.isFormData(r)&&(I=T.headers.get("content-type"))&&f.setContentType(I),T.body){const[P,B]=P6(b,Oy(T6(u)));r=L6(T.body,D6,P,B)}}ge.isString(m)||(m=m?"include":"omit");const E="credentials"in Request.prototype;y=new Request(t,{...g,signal:v,method:n.toUpperCase(),headers:f.normalize().toJSON(),body:r,duplex:"half",credentials:E?m:void 0});let A=await fetch(y);const C=dB&&(d==="stream"||d==="response");if(dB&&(l||C&&_)){const T={};["status","statusText","headers"].forEach(R=>{T[R]=A[R]});const I=ge.toFiniteNumber(A.headers.get("content-length")),[P,B]=l&&P6(I,Oy(T6(l),!0))||[];A=new Response(L6(A.body,D6,P,()=>{B&&B(),_&&_()}),T)}d=d||"text";let M=await My[ge.findKey(My,d)||"text"](A,e);return!C&&_&&_(),await new Promise((T,I)=>{N7(T,I,{data:M,headers:Go.from(A.headers),status:A.status,statusText:A.statusText,config:e,request:y})})}catch(E){throw _&&_(),E&&E.name==="TypeError"&&/Load failed|fetch/i.test(E.message)?Object.assign(new Gt("Network Error",Gt.ERR_NETWORK,e,y),{cause:E.cause||E}):Gt.from(E,E&&E.code,e,y)}}),fB={http:lce,xhr:Fce,fetch:Hce};ge.forEach(fB,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const N6=e=>`- ${e}`,Wce=e=>ge.isFunction(e)||e===null||e===!1,z7={getAdapter:e=>{e=ge.isArray(e)?e:[e];const{length:t}=e;let n,r;const o={};for(let i=0;i<t;i++){n=e[i];let a;if(r=n,!Wce(n)&&(r=fB[(a=String(n)).toLowerCase()],r===void 0))throw new Gt(`Unknown adapter '${a}'`);if(r)break;o[a||"#"+i]=r}if(!r){const i=Object.entries(o).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=t?i.length>1?`since :
`+i.map(N6).join(`
`):" "+N6(i[0]):"as no adapter specified";throw new Gt("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:fB};function dk(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new lf(null,e)}function F6(e){return dk(e),e.headers=Go.from(e.headers),e.data=uk.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),z7.getAdapter(e.adapter||kg.adapter)(e).then(function(r){return dk(e),r.data=uk.call(e,e.transformResponse,r),r.headers=Go.from(r.headers),r},function(r){return D7(r)||(dk(e),r&&r.response&&(r.response.data=uk.call(e,e.transformResponse,r.response),r.response.headers=Go.from(r.response.headers))),Promise.reject(r)})}const U7="1.9.0",p1={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{p1[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const G6={};p1.transitional=function(t,n,r){function o(i,a){return"[Axios v"+U7+"] Transitional option '"+i+"'"+a+(r?". "+r:"")}return(i,a,l)=>{if(t===!1)throw new Gt(o(a," has been removed"+(n?" in "+n:"")),Gt.ERR_DEPRECATED);return n&&!G6[a]&&(G6[a]=!0,console.warn(o(a," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,a,l):!0}};p1.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function Jce(e,t,n){if(typeof e!="object")throw new Gt("options must be an object",Gt.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const i=r[o],a=t[i];if(a){const l=e[i],u=l===void 0||a(l,i,e);if(u!==!0)throw new Gt("option "+i+" must be "+u,Gt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Gt("Unknown option "+i,Gt.ERR_BAD_OPTION)}}const Uv={assertOptions:Jce,validators:p1},Ta=Uv.validators;let Fc=class{constructor(t){this.defaults=t||{},this.interceptors={request:new O6,response:new O6}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const i=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Xc(this.defaults,n);const{transitional:r,paramsSerializer:o,headers:i}=n;r!==void 0&&Uv.assertOptions(r,{silentJSONParsing:Ta.transitional(Ta.boolean),forcedJSONParsing:Ta.transitional(Ta.boolean),clarifyTimeoutError:Ta.transitional(Ta.boolean)},!1),o!=null&&(ge.isFunction(o)?n.paramsSerializer={serialize:o}:Uv.assertOptions(o,{encode:Ta.function,serialize:Ta.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Uv.assertOptions(n,{baseUrl:Ta.spelling("baseURL"),withXsrfToken:Ta.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=i&&ge.merge(i.common,i[n.method]);i&&ge.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),n.headers=Go.concat(a,i);const l=[];let u=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(n)===!1||(u=u&&_.synchronous,l.unshift(_.fulfilled,_.rejected))});const d=[];this.interceptors.response.forEach(function(_){d.push(_.fulfilled,_.rejected)});let f,m=0,g;if(!u){const y=[F6.bind(this),void 0];for(y.unshift.apply(y,l),y.push.apply(y,d),g=y.length,f=Promise.resolve(n);m<g;)f=f.then(y[m++],y[m++]);return f}g=l.length;let v=n;for(m=0;m<g;){const y=l[m++],_=l[m++];try{v=y(v)}catch(b){_.call(this,b);break}}try{f=F6.call(this,v)}catch(y){return Promise.reject(y)}for(m=0,g=d.length;m<g;)f=f.then(d[m++],d[m++]);return f}getUri(t){t=Xc(this.defaults,t);const n=F7(t.baseURL,t.url,t.allowAbsoluteUrls);return T7(n,t.params,t.paramsSerializer)}};ge.forEach(["delete","get","head","options"],function(t){Fc.prototype[t]=function(n,r){return this.request(Xc(r||{},{method:t,url:n,data:(r||{}).data}))}});ge.forEach(["post","put","patch"],function(t){function n(r){return function(i,a,l){return this.request(Xc(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}Fc.prototype[t]=n(),Fc.prototype[t+"Form"]=n(!0)});let Zce=class V7{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(o=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](o);r._listeners=null}),this.promise.then=o=>{let i;const a=new Promise(l=>{r.subscribe(l),i=l}).then(o);return a.cancel=function(){r.unsubscribe(i)},a},t(function(i,a,l){r.reason||(r.reason=new lf(i,a,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new V7(function(o){t=o}),cancel:t}}};function Yce(e){return function(n){return e.apply(null,n)}}function Kce(e){return ge.isObject(e)&&e.isAxiosError===!0}const hB={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(hB).forEach(([e,t])=>{hB[t]=e});function q7(e){const t=new Fc(e),n=w7(Fc.prototype.request,t);return ge.extend(n,Fc.prototype,t,{allOwnKeys:!0}),ge.extend(n,t,null,{allOwnKeys:!0}),n.create=function(o){return q7(Xc(e,o))},n}const nr=q7(kg);nr.Axios=Fc;nr.CanceledError=lf;nr.CancelToken=Zce;nr.isCancel=D7;nr.VERSION=U7;nr.toFormData=m1;nr.AxiosError=Gt;nr.Cancel=nr.CanceledError;nr.all=function(t){return Promise.all(t)};nr.spread=Yce;nr.isAxiosError=Kce;nr.mergeConfig=Xc;nr.AxiosHeaders=Go;nr.formToJSON=e=>L7(ge.isHTMLForm(e)?new FormData(e):e);nr.getAdapter=z7.getAdapter;nr.HttpStatusCode=hB;nr.default=nr;const{Axios:YRe,AxiosError:Xce,CanceledError:KRe,isCancel:XRe,CancelToken:exe,VERSION:txe,all:nxe,Cancel:rxe,isAxiosError:oxe,spread:ixe,toFormData:axe,AxiosHeaders:sxe,HttpStatusCode:lxe,formToJSON:cxe,getAdapter:uxe,mergeConfig:dxe}=nr;class xo{constructor(t=""){z(this,"prefix");this.prefix=t}static assembleMessage(t,n,r,...o){return[`${n?n+"/":""}${r||""}`,...o]}static trackMessage(t,n,r={}){const o=n.substring(0,450);t==="-ERROR-"&&Ne.trackEvent("console.error",{message:{[o]:r}}),t==="-WARN--"&&Ne.trackEvent("console.warn",{message:{[o]:r}})}static consoleLog(t,n,r,...o){if(h0()||eg()){const i=xo.assembleMessage(t,n,r,...o);console.log(...i)}}static formatErrorFieldsForTracking(t,n){return{...t,...n?{details:n}:{}}}static consoleErrorLog(t,n,r,o,i,a){const l=xo.assembleMessage(t,n,r,o,{details:i});a||console.error(...l);const u=`${n?n+"/":""}${r||""}`,d=xo.formatErrorFieldsForTracking(o,i);xo.trackMessage(t,u,d)}static errorFormat(t){var r,o;let n={};return t instanceof Xce&&t.response?n={message:(r=t.response.data)==null?void 0:r.message,code:(o=t.response.data)==null?void 0:o.code,status:t.response.status}:t instanceof Error?n={message:t.message,name:t.name}:t&&(n={message:t}),n}error(t="",n,r,o){let i=xo.errorFormat(n);xo.consoleErrorLog("-ERROR-",this.prefix,t,i,r,o)}info(t,...n){xo.consoleLog("-INFO--",this.prefix,t,...n)}success(t,...n){xo.consoleLog("SUCCESS",this.prefix,t,...n)}warn(t,...n){xo.consoleLog("-WARN--",this.prefix,t,...n)}debug(t,...n){}}class xn{static getLogger(t){return new xo(t)}}window.errorLogTrackingFn=(e,t,n)=>{const r=xo.errorFormat(t),o=xo.formatErrorFieldsForTracking(r,n);xo.trackMessage("-ERROR-",e,o)};var At=(e=>(e.MainMenuPlayButtonClick="MainMenuPlayButtonClick",e.GameResultModalButtonClick="GameResultModalButtonClick",e.StartGame="StartGame",e.ActiveSearchChangeMode="ActiveSearchChangeMode",e.CompleteGame="CompleteGame",e.ExitModalConfirmClick="ExitModalConfirmClick",e.NonGameButton="NonGameButton",e.DuringGameWithNoTimer="DuringGameWithNoTimer",e.AfterStageContinueButtonClick="AfterStageContinueButtonClick",e))(At||{}),Eg=(e=>(e.ByLink="ByLink",e.ById="ById",e))(Eg||{}),we=(e=>(e.OnlineTogether="onlineTogether",e.SingleGame="SingleGame",e.Online="online",e.Maio="maio",e.Analyze="analyze",e.Handicap="handicap",e.Hints="hints",e.UndoMove="undo_move",e.Rules="rules",e.NotMandatoryCapture="notMandatoryCapture",e.GameSave="gameSave",e.HistorySurf="historySurf",e.OnlineGameFullTimeControlEnabled="onlineGameFullTimeControlEnabled",e.UserTurnHightlight="userTurnHightlight",e))(we||{}),Bg=(e=>(e.Single="playSingleShort",e.Computer="playWithComputerShort",e.Online="leaderboardOnline",e))(Bg||{});const _a=()=>({feature:{[we.Online]:!1,[we.OnlineTogether]:!1,[we.Analyze]:!1,[we.Handicap]:!1,[we.Rules]:!1,[we.UndoMove]:!1,[we.Hints]:!1,[we.GameSave]:!1,[we.Maio]:!1,[we.HistorySurf]:!0,[we.OnlineGameFullTimeControlEnabled]:!0,[we.UserTurnHightlight]:!1},isColorSelectorEnable:!0,isDesignSelectorEnable:!0,isRotateBoardEnable:!0,whiteAndBlackSides:!0,isPaymentsAvailable:!0,aiGiveUpEnabled:!0,profile:{defaultTab:Bg.Computer},isBackgroundMusicInGameEnabled:!jd()}),eue=()=>({..._a(),feature:{..._a().feature,[we.OnlineTogether]:!me.isPoki(),[we.Online]:!0,[we.Analyze]:!0,[we.Handicap]:!0,[we.UndoMove]:!0,[we.Hints]:!0,[we.GameSave]:!0,[we.Rules]:!0,[we.Maio]:!me.isPoki()},applyZeroBetSize:!0,fastStartForNewPlayers:!0,isBackgroundMusicInGameEnabled:!1}),tue=()=>({..._a(),feature:{..._a().feature,[we.Online]:!0,[we.OnlineTogether]:!0,[we.Analyze]:!0,[we.Handicap]:!0,[we.Rules]:!0,[we.NotMandatoryCapture]:!0,[we.UndoMove]:!0,[we.Hints]:!0,[we.GameSave]:!0,[we.Maio]:!0},aiGiveUpEnabled:!1}),nue=()=>{const e=_a(),t=e.isBackgroundMusicInGameEnabled&&!p0()&&!g0();return{...e,feature:{...e.feature,[we.Online]:!0,[we.OnlineTogether]:!0,[we.Analyze]:!0,[we.Handicap]:!0,[we.Rules]:!0,[we.NotMandatoryCapture]:!0,[we.UndoMove]:!0,[we.Hints]:!0,[we.GameSave]:!0,[we.Maio]:!0},aiGiveUpEnabled:!1,isBackgroundMusicInGameEnabled:t}},rue=()=>{const e=_a(),t=e.isBackgroundMusicInGameEnabled&&!p0()&&!g0();return{...e,feature:{...e.feature,[we.Online]:!0,[we.OnlineTogether]:!0,[we.Analyze]:!0,[we.Handicap]:!0,[we.Rules]:!0,[we.UndoMove]:!0,[we.Hints]:!0,[we.GameSave]:!0,[we.Maio]:!0},aiGiveUpEnabled:!1,isBackgroundMusicInGameEnabled:t}},oue=()=>({..._a(),feature:{..._a().feature,[we.Online]:!0,[we.OnlineTogether]:!0,[we.SingleGame]:!0,[we.Rules]:!0,[we.UndoMove]:!0,[we.Hints]:!0,[we.GameSave]:!0,[we.Maio]:!0,[we.HistorySurf]:!1,[we.UserTurnHightlight]:!0},applyZeroBetSize:!0,fastStartForNewPlayers:!0,isRotateBoardEnable:!1,whiteAndBlackSides:!1,aiGiveUpEnabled:!1,profile:{defaultTab:Bg.Single}}),iue=()=>({..._a(),feature:{..._a().feature,[we.Online]:!0,[we.OnlineTogether]:!0,[we.SingleGame]:!1,[we.Rules]:!0,[we.UndoMove]:!0,[we.Hints]:!0,[we.GameSave]:!0,[we.Maio]:!0,[we.HistorySurf]:!1,[we.UserTurnHightlight]:!0},applyZeroBetSize:!0,fastStartForNewPlayers:!0,isPaymentsAvailable:!0,isRotateBoardEnable:!1,isColorSelectorEnable:!1,whiteAndBlackSides:!1,aiGiveUpEnabled:!1,isScoreColorInverted:!0,profile:{defaultTab:Bg.Computer}}),Bt=()=>({[En.Chess]:eue(),[En.CheckersEn]:tue(),[En.CheckersRu]:nue(),[En.CheckersPoddavki]:rue(),[En.Saper]:oue(),[En.Domino]:iue()})[ts]??_a(),Ni=()=>({isPreloaderAdvEnabled:!0,isOtherGamesButtonEnabled:!1,advOverlayEnabled:!1,fullscreenSilenceAtStart:0}),pc=()=>({...Ni(),isOtherGamesButtonEnabled:!0,fullscreenSilenceAtStart:60}),aue=()=>({...Ni(),isPreloaderAdvEnabled:!1}),sue=()=>({...Ni(),isPreloaderAdvEnabled:!1,isOtherGamesButtonEnabled:!0}),lue=()=>({...Ni(),isOtherGamesButtonEnabled:!1}),cue=()=>({...Ni(),isOtherGamesButtonEnabled:!0,advOverlayEnabled:!0}),uue=()=>({...Ni(),isOtherGamesButtonEnabled:!0}),due=()=>({...Ni(),isOtherGamesButtonEnabled:!0,isPreloaderAdvEnabled:!1,advOverlayEnabled:!0,fullscreenSilenceAtStart:120}),fue=()=>({...Ni(),isPreloaderAdvEnabled:!1}),hue=()=>({...Ni(),isPreloaderAdvEnabled:!1,fullscreenSilenceAtStart:120,isOtherGamesButtonEnabled:!0,advOverlayEnabled:!0}),gv=()=>({...Ni(),isOtherGamesButtonEnabled:!0}),mue=()=>({...Ni(),isPreloaderAdvEnabled:!0,isOtherGamesButtonEnabled:!0}),Sl=class Sl{constructor(){z(this,"defaultConfig",Ni);z(this,"configs",{[at.POKI]:fue,[at.CRAZY_GAMES]:aue,[at.GAME_MONETIZE]:sue,[at.OK]:cue,[at.VK]:hue,[at.YANDEX]:mue,[at.GAME_PIX]:lue,[at.PLAYGAMA]:due,[at.PLAY_DECK]:uue,[at.BEELINE]:gv,[at.VK_PLAY]:gv,[at.CUSTOM]:gv,[at.KONGREGATE]:gv,[at.ANDROID]:pc,[at.GOOGLE_PLAY]:pc,[at.APP_GALLERY]:pc,[at.GALAXY_STORE]:pc,[at.AMAZON_APPSTORE]:pc,[at.XIAOMI_GET_APPS]:pc,[at.RU_STORE]:pc});Sl.instance=Sl.instance??this}static updateConfigByType(t,n){Sl.instance.configs[t]=n}static updateDefaultConfig(t){Sl.instance.defaultConfig=t}getConfigForPlatform(t){const n=this.configs[t];return typeof n=="function"?n():n??this.defaultConfig()}getConfig(){return this.getConfigForPlatform(me.getPlatformType())}};z(Sl,"instance",new Sl);let Mt=Sl;var Yt=(e=>(e.Primary="primary",e.Secondary="secondary",e.Reject="reject",e.Success="success",e.Neutral="neutral",e.LightNeutral="light-neutral",e))(Yt||{}),fo=(e=>(e.Reject2="reject-2",e.Reject3="reject-3",e.Success2="success-2",e.Success3="success-3",e.Neutral2="neutral-2",e.Neutral3="neutral-3",e))(fo||{}),Sr=(e=>(e.Default="default",e.Blue="blue",e.Purple="purple",e))(Sr||{});const gue=Mt.instance.defaultConfig(),Hn=()=>({...gue,fullscreen:{[At.MainMenuPlayButtonClick]:!0,[At.ActiveSearchChangeMode]:!0,[At.GameResultModalButtonClick]:!0,[At.ExitModalConfirmClick]:!0,[At.CompleteGame]:!1,[At.StartGame]:!0,[At.NonGameButton]:!0,[At.DuringGameWithNoTimer]:!0,[At.AfterStageContinueButtonClick]:!0},advOverlayEnabled:!0,connectionTypeForTogetherOnline:Eg.ByLink,withOutAuth:!0,isPlayerNameEditable:!0,isPlayerAvatarEditable:!0,isPaymentsAvailable:!0,fullscreenTimeoutMs:120*1e3,fullscreenTimeoutAfterRewardedMs:2*60*1e3,fullscreenTimeoutInGameWithOutTimerSeconds:120,rewardedLimitH:10,rewardedLimitD:50,useExternalAPIForPlayerState:!0});Mt.updateDefaultConfig(Hn);const pue=Mt.instance.getConfigForPlatform(at.ANDROID),fu=()=>({...Hn(),...pue,fullscreen:{...Hn().fullscreen,[At.DuringGameWithNoTimer]:!1},isPlayerNameEditable:!0,connectionTypeForTogetherOnline:Eg.ById,isPaymentsAvailable:!1,rewardedLimitD:10,fullscreenTimeoutInGameWithOutTimerSeconds:240}),vue=()=>({...fu(),themeType:{[En.CheckersPoddavki]:Sr.Blue}});Mt.updateConfigByType(at.ANDROID,fu);Mt.updateConfigByType(at.GOOGLE_PLAY,fu);Mt.updateConfigByType(at.APP_GALLERY,vue);Mt.updateConfigByType(at.GALAXY_STORE,fu);Mt.updateConfigByType(at.AMAZON_APPSTORE,fu);Mt.updateConfigByType(at.XIAOMI_GET_APPS,fu);Mt.updateConfigByType(at.RU_STORE,fu);const yue=Mt.instance.getConfigForPlatform(at.CRAZY_GAMES),_ue=()=>({...Hn(),...yue,fullscreen:{[At.MainMenuPlayButtonClick]:!1,[At.ActiveSearchChangeMode]:!1,[At.GameResultModalButtonClick]:{[En.Domino]:!0,[En.Saper]:!0,default:!1},[At.ExitModalConfirmClick]:!1,[At.CompleteGame]:!1,[At.StartGame]:{[En.Saper]:!0,default:!1},[At.NonGameButton]:!1,[At.DuringGameWithNoTimer]:!1,[At.AfterStageContinueButtonClick]:!0},isPlayerAvatarEditable:!1,isPaymentsAvailable:a2(),rewardedLimitD:50,privacyPolicy:"./cg-privacy.html",fullscreenTimeoutMs:0,fullscreenTimeoutAfterRewardedMs:0,applyOtherRewardCalendar:$l&&!y0()});Mt.updateConfigByType(at.CRAZY_GAMES,_ue);const bue=Mt.instance.getConfigForPlatform(at.FOTOSTRANA),wue=()=>({...Hn(),...bue,isAdvDisabled:!0,fullscreenTimeoutMs:0});Mt.updateConfigByType(at.FOTOSTRANA,wue);const Sue=Mt.instance.getConfigForPlatform(at.GAME_DISTRIBUTION),Aue=()=>({...Hn(),...Sue,isPaymentsAvailable:!1,gamePushOverlayDisabled:!0});Mt.updateConfigByType(at.GAME_DISTRIBUTION,Aue);const Cue=Mt.instance.getConfigForPlatform(at.GAME_MONETIZE),kue=()=>({...Hn(),...Cue,isPaymentsAvailable:!1});Mt.updateConfigByType(at.GAME_MONETIZE,kue);const Eue=Mt.instance.getConfigForPlatform(at.GAME_PIX),Bue=()=>({...Hn(),...Eue,shareDisabled:!0,isPaymentsAvailable:!1});Mt.updateConfigByType(at.GAME_PIX,Bue);const Rue=Mt.instance.getConfigForPlatform(at.OK),xue=()=>({...Hn(),...Rue,withOutAuth:!1,fullscreenTimeoutAfterRewardedMs:2*60*1e3,applyOtherRewardCalendar:v0()});Mt.updateConfigByType(at.OK,xue);const Oue=Mt.instance.getConfigForPlatform(at.PLAY_DECK),Mue=()=>({...Hn(),...Oue,fullscreen:{...Hn().fullscreen,[At.MainMenuPlayButtonClick]:!1},connectionTypeForTogetherOnline:Eg.ById,fullscreenTimeoutAfterRewardedMs:2*60*1e3,rewardedLimitD:wte()?10:Hn().rewardedLimitD});Mt.updateConfigByType(at.PLAY_DECK,Mue);const Pue=Mt.instance.getConfigForPlatform(at.PLAYGAMA),Tue=()=>({...Hn(),...Pue,fullscreen:{...Hn().fullscreen,[At.DuringGameWithNoTimer]:!1},withOutAuth:!1,fullscreenSilenceAtStart:120,themeType:Sr.Blue});Mt.updateConfigByType(at.PLAYGAMA,Tue);const Iue=Mt.instance.getConfigForPlatform(at.POKI),Lue=()=>({...Hn(),...Iue,fullscreen:{...Hn().fullscreen,[At.MainMenuPlayButtonClick]:!1,[At.ExitModalConfirmClick]:!1,[At.NonGameButton]:!1,[At.DuringGameWithNoTimer]:!1},isPlayerNameEditable:!1,isPlayerAvatarEditable:!1,isPaymentsAvailable:!1,backgroundImageEnabled:!0,privacyPolicy:"./poki-privacy.html",themeType:Sr.Blue,useExternalAPIForPlayerState:!1});Mt.updateConfigByType(at.POKI,Lue);const Due=Mt.instance.getConfigForPlatform(at.VK),Nue=()=>({...Hn(),...Due,fullscreen:{...Hn().fullscreen,[At.ActiveSearchChangeMode]:!1,[At.CompleteGame]:!0,[At.DuringGameWithNoTimer]:!1},withOutAuth:!1,applyOtherRewardCalendar:v0()});Mt.updateConfigByType(at.VK,Nue);const Fue=Mt.instance.getConfigForPlatform(at.VK_PLAY),v1=()=>({...Hn(),...Fue,isAdvDisabled:!0,fullscreenTimeoutMs:0});Mt.updateConfigByType(at.VK_PLAY,v1);Mt.updateConfigByType(at.BEELINE,v1);Mt.updateConfigByType(at.CUSTOM,v1);Mt.updateConfigByType(at.KONGREGATE,v1);const Gue=Mt.instance.getConfigForPlatform(at.YANDEX),jue=()=>({...Hn(),...Gue,fullscreen:{...Hn().fullscreen,[At.ActiveSearchChangeMode]:!1},withOutAuth:!1,fullscreenTimeoutMs:0,rewardedLimitD:10,themeType:{[En.CheckersPoddavki]:Sr.Blue},fullscreenTimeoutInGameWithOutTimerSeconds:320});Mt.updateConfigByType(at.YANDEX,jue);const ox=()=>({...Hn(),isPaymentsAvailable:!1});Mt.updateConfigByType(at.Y8,ox);Mt.updateConfigByType(at.COOLMATH,ox);Mt.updateConfigByType(at.WG_PLAYGROUND,ox);const $ue=()=>Hn(),pn=()=>{const e=me.getPlatformType(),t=Mt.instance.configs[e];return typeof t=="function"?t():t??$ue()},zue={flags:{}},Uue=xn.getLogger("FLAGS_STORE"),Vue={...zue,setFlags:ue((e,t)=>{e.flags=t,Uue.info("setFlags",t)}),peerHost:ze([e=>e.flags.peer_host],e=>e),confirmationDuration:ze([e=>e.flags.confirmation_duration],e=>e),getEmojiComputerProbability:Z((e,t,n)=>{const{emoji_computer_probability:r}=n.getState().flags;return me.isVk()||me.isOk()||me.isYandex()?.075:r}),scorePercentageToLose:ze([e=>e.flags.score_percentage_to_lose],e=>e),onlineRatingDelta:ze([e=>e.flags.online_rating_delta],e=>e),afkTimeout1:ze([e=>e.flags.afk_timeout_1],e=>e),afkTimeout:ze([e=>e.flags.afk_timeout],e=>e),passiveSearchListLimit:ze([e=>e.flags.passive_search_list_limit],e=>e),activeSearchUpdateIntervalStep:ze([e=>e.flags.active_search_update_interval_step],e=>e),activeSearchByRatingEnabled:ze([e=>e.flags.active_search_by_rating_enabled],e=>e===1),priorityNegativeLimit:ze([e=>e.flags.priority_negative_limit],e=>e),startActiveSearchTimeout:ze([e=>e.flags.start_active_search_timeout],e=>e*1e3),maioEnabled:ze([],()=>!!Bt().feature[we.Maio]),maioTimeToFindOpponent:ze([e=>e.flags.maio_time_to_find_opponent],e=>e),maioRatingDelta:ze([e=>e.flags.maio_rating_delta],e=>e),maioMoveTimeSpread:ze([e=>e.flags.maio_move_time_spread],e=>e),maioMoveAvgForSpread:ze([e=>e.flags.maio_move_avg_for_spread],e=>e),maioMinTimeToNotGiviUp:ze([e=>e.flags.maio_min_time_to_not_giveup],e=>e),maioRangeGiveUpPercentage:ze([e=>e.flags.maio_min_giveup_percentage,e=>e.flags.maio_max_giveup_percentage],(e,t)=>[e/100,t/100]),maioEmojiMaxProbabilityPlatformModificator:ze([e=>e.flags.maio_emoji_max_probability_platform_modificator],e=>e),maioMaxProbabilityEmojiAnswer:ze([e=>e.flags.maio_max_probability_emoji_answer],e=>e/100),maioDrawProbabilitySpread:ze([e=>e.flags.maio_draw_probability_spread],e=>e),minMovesNotSwitchToBot:ze([e=>e.flags.min_moves_not_switch_to_bot],e=>e),maioPremiumPercent:ze([e=>e.flags.maio_premium_percent],e=>e),maioRematchPercent:ze([e=>e.flags.maio_rematch_percent],e=>e),isChatEnabled:ze([e=>e.chatIdsByLocale,(e,t)=>t.config.locale],(e,t)=>t===He.VI&&me.isYandex()||pn().gamePushOverlayDisabled?!1:e!==null&&!me.isPoki()),minScoreToEnableChat:ze([e=>e.flags.chat_min_score_to_enable],e=>e),promoImage:ze([e=>e.flags.promo_image],e=>e),promoIcon:ze([e=>e.flags.promo_icon],e=>e),chatIdsByLocale:ze([e=>e.flags.chat_ids_by_locale],e=>{try{const t=JSON.parse(e);return t!=null&&t[He.EN]?t:null}catch{return null}}),isScreenshotTest:ze([],()=>{const e=window.location.search,t=new URLSearchParams(e);return["","1","true"].includes(t.get("isScreenshotTest"))})};class que{constructor(t){z(this,"prefix");this.prefix=t}setItem(t,n){try{const r=typeof n=="string"?n:JSON.stringify(n);localStorage.setItem(`${this.prefix}-${t}`,r)}catch(r){console.error("Error setting localStorage item",r,{key:t,prefix:this.prefix})}}getItem(t){const n=localStorage.getItem(`${this.prefix}-${t}`);if(n===null)return null;try{return JSON.parse(n)}catch(r){return console.error("Error parsing localStorage item",r,{key:t,prefix:this.prefix}),this.removeItem(t),null}}key(t){return localStorage.key(t)}clear(){localStorage.clear()}removeItem(t){localStorage.removeItem(`${this.prefix}-${t}`)}}const pv=new que("checkers_en");let mB=Date.now();const Que=()=>Date.now()-mB>=0,j6=(e=!1)=>{const t=pn();e?t.fullscreenTimeoutMs&&(mB=Date.now()+t.fullscreenTimeoutMs):t.fullscreenTimeoutAfterRewardedMs&&(mB=Date.now()+t.fullscreenTimeoutAfterRewardedMs)},Q7=1e3*60*60,Hue=Q7*24;class ix{constructor(t,n){z(this,"time");z(this,"tag");z(this,"list");this.tag=t,this.time=n;const r=localStorage.getItem(this.tag);this.list=r?JSON.parse(r):[]}get length(){return this.list.length}get timeLeft(){return this.list[0]?Math.round((this.time-(Date.now()-this.list[0]))/1e3):0}update(){localStorage.setItem(this.tag,JSON.stringify(this.list))}filter(){this.list=this.list.filter(t=>Date.now()-t<this.time),this.update()}add(t){this.list.push(t),this.update()}}const wm=new ix("rewarded_per_hour",Q7),Sm=new ix("rewarded_per_day",Hue),Wue=3e4,Am=new ix("rewarded_per_short_delay",Wue),Jue=(e=!1)=>{const t=pn();return wm.filter(),Sm.filter(),Am.filter(),Sm.length<t.rewardedLimitD&&wm.length<t.rewardedLimitH&&(e?Am.length<1:!0)},fxe=(e=!1)=>{const t=pn();return Sm.length>=t.rewardedLimitD?Sm.timeLeft:wm.length>=t.rewardedLimitH?wm.timeLeft:e&&Am.length>=1?Am.timeLeft:0},Zue=()=>{wm.add(Date.now()),Sm.add(Date.now()),Am.add(Date.now())};var Py;(function(e){e.impressions="impressions",e.click="click",e.detail="detail",e.purchase="purchase"})(Py||(Py={}));const gB=()=>{var e,t;return pn().isPaymentsAvailable&&Bt().isPaymentsAvailable&&((t=(e=window.gp)==null?void 0:e.payments)==null?void 0:t.isAvailable)},Yue=[Me.CRYSTAL_1,Me.CRYSTAL_2,Me.CRYSTAL_3,Me.CRYSTAL_4],Kue=[Me.CASH_1,Me.CASH_2,Me.CASH_3],Xue=[Me.NEW_PREMIUM_1,Me.NEW_PREMIUM_2,Me.NEW_PREMIUM_3],ede=[Me.PREMIUM_1,Me.PREMIUM_2,Me.PREMIUM_3],tde=e=>e.filter(t=>Yue.includes(t.tag)).map(t=>({...t,...k0[t.tag]})),nde=e=>e.filter(t=>Kue.includes(t.tag)).map(t=>({...t,...k0[t.tag]})),rde=e=>e.filter(t=>(me.isCrazyGames()?ede:Xue).includes(t.tag)).map(t=>({...t,...k0[t.tag]})),$6=(e,t)=>{console.log("SendImpressions",e),window.ecommerceLayer.push({ecommerce:{currencyCode:e[0].currency||"UNKNOWN",[Py.impressions]:e.map(n=>({id:n.id,variant:n.tag,name:n.name,price:n.price,category:E0(n.tag),currencyCode:n.currency,position:p2(n.tag),list:t}))}})},z6=e=>{console.log("SendEcommerceClick",e);const t=E0(e.tag),n=t==="PREMIUM"?"PREMIUM":"COMMON",r=p2(e.tag);window.ecommerceLayer.push({ecommerce:{currencyCode:e.currency||"UNKNOWN",[Py.click]:{products:[{id:e.id,variant:e.tag,name:e.name,price:e.price,category:t,currencyCode:e.currency,position:r,list:n}]}}})};var Xi=(e=>(e.Temp="temp",e.Life="life",e))(Xi||{}),Tr=(e=>(e.MenuItemInSettings="menu_item_in_settings",e.OfferOnStart="offer_on_start",e.NoAvailableRewarded="no_available_rewarded",e.NoAvailableGems="no_available_gems",e.LimitRewarded="limit_rewarded",e.InGameShopButton="in_game_shop_button",e.InGameGold="in_game_gold",e.AfterGameShopButton="after_game_shop_button",e.MainMenuButton="main_menu_shop_button",e.GameResultButton="game_result_shop_button",e.PlayerGoldSelectDown="gold_button_in_online_settings",e.PlayerZeroGoldButton="no_gold_in_online_settings",e.ProfileGold="profile_gold",e))(Tr||{}),Rg=(e=>(e.mainScreen="main_screen",e.desktopCornerMenu="desktop_corner_menu",e.desktopAction="desktop_action",e.mobileMenuDialog="mobile_menu_dialog",e.mobileIcon="mobile_icon",e))(Rg||{});const ode=async(e,t)=>{var r;const n=await me.showRewardedAd({rewardType:e.rewardType,gameType:e.gameType??"undefined",prefix:void 0,unlockedFiguresDesignNumber:e.unlockedFiguresDesignNumber,unlockedBoardDesignNumber:e.unlockedBoardDesignNumber});return typeof n=="object"?((r=n==null?void 0:n.error)!=null&&r.adblockEnabled?t.getStoreActions().modals.openRewardedVideoAdBlockErrorModal():gB()?t.getStoreActions().modals.openPaymentsModal({place:Tr.NoAvailableRewarded}):t.getStoreActions().modals.openRewardedVideoErrorModal(),!1):n},ide=async(e,t)=>!!await me.showFullscreenAd(e),ade=async e=>!!await me.showPreloaderAd(),sde=()=>!pn().isAdvDisabled&&!me.isPremium(),lde=()=>!pn().isAdvDisabled&&!me.isPremium()&&Que(),ch={showPreloaderAdv:ade,showFullscreenAdv:ide,showRewardedVideo:ode,preloaderAvailable:sde,fulscreenAvailable:lde},cde=""+new URL("Move-CX0pz_x1.wav",import.meta.url).href,ude=""+new URL("Capture-BEU4p7FD.wav",import.meta.url).href,dde=""+new URL("GenericNotify-DrgdFLN4.wav",import.meta.url).href,fde="data:audio/mpeg;base64,/+NAxAAAAAAAAAAAAFhpbmcAAAAPAAAAEAAADDIABAQEBAQECQkJCQkJGxsbGxsbMjIyMjIyVlZWVlZWVmlpaWlpaXt7e3t7e42NjY2NjZubm5ubm5utra2tra3AwMDAwMDNzc3Nzc3g4ODg4ODg7e3t7e3t+/v7+/v7////////AAAAUExBTUUzLjEwMAQ3AAAAAAAAAAAVCCQCQCEAAeAAAAwy+ZpsVQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/jEMQAAAADSAAAAACkq3DD//IQlwgACBkg2UdoacLnyjj+Qk8Th5QIBif1An5QEDIgBOv/4xDEJwAAA/wAAAAAD/////y+sPwfvPw3G42Fx2Fo2AuuVzyzdl3jCB4zY6lFM/Cng4gP/+NAxE4MAFYgVUIAABpa3Rs3XQbo6G0ExRMDwaQFz5DgPjJgDZrlAYTykzRRoaIngtyBhkQgFCsWxbIrRSQSN0wsTAaAYGDgQGCQbFrY2OZUNz7FQvhQwgYvHICg3AxaGwJAdKgtVVFJnRog2NkKaCxiOBOAaW7G59CimigcOJlxnPGoGAgoAUIAMKAwBoAF0PUIhIJ//pu11WwbmClA+cXGZgDAQTQQTDVA4Dyey66TX62p1zFToMjem5FCAEQDjQMBgcLexKZEzdE3pvWq3//jUMThQFQWTl+bqACp6TfehWmj1JOhQTpybHPJMTufQJ8vm5gyhKZB3EEzZBUiEEAAQAdVAV1tfswRCYwgD0gAowDDEkAYvUYTlSZQAIYtDiYHg88zbmJBGmVKsgkYTXyvYmZRqoZDxLJhvhNGCyA6aKpJRguAOgkCY0SiPyICli5ggADiQBIGAKUBR5RVazKUN4Kkj+IotIW2WxMCwAr6GadoKgDUnb3W7kgIZgtArAYEIqADF/l4EoHhgAB9mBYAqglSFSJBQAxhRheEQDUuuxkwMwFDA3ASIgCxkDgwRQKDAkAPMA8GLUCtJmVUQYAG7ririZOxClEAAbbGAWDMNCMo+v/jgMTXZvQOZh+d8AFUANUJgWMu7WFQKzA2ADR9cWdlMd/xAAqYGoBaDl+IXf78DV6zCzADADMFUBEMAMlv1aW1+/fFEUwFwAB4Amk5//+UJgllRgOgIgoD+g+9+e95QcoeYBAAJgLAGIROB+8su7/fVlKRAIFwkA+mHDE5////+MvjSCMFADJJRO9///zscRIfwKAEIpY5zWUujO07FJp2LyEgKn6y5BIhACWMsO3Pf/++6UCQkkwBJMBcNAEWKKjsPRDpbtrHP///4JZ9H5TakYAACAYp6jwtQ/BDirvVUa6NAMu22RVix5iIQ2IAkXlMFhU7SaFaUbn6iycrHEVidHETg9GRQI8iJkgXjVBaj5pPGZsgnRPG6ZiI5C4UBkDLpIlU4gp6DqRPutCpFM167LUz1TMmyQELkSKhqLCTJqcMy+iZqYySOHP//sg5OGBJnCHFdCdVSPObN9B/sfNiyWjFa0TEdZsXUUGS2///Wl+oqmZoXkzEhyKjX///+plTiy6RYpmVapQkIAS83z5J8OBwkoiEHC4oDC8QDikjDf/jQMTPLZv6hZ/cgAEXNidjExk2lSNWNxGDNflObIV8hQDH2FdMw/MW5AemqiIWDg1z49S9lErpbW+Uv6tx2kUNEYI2kUrV7F/HVh/ZDPRnDPuP37igE4AqRCyTZVhxqBjj2HiEyDDIOLzGqayH0+yxw8zwSQTh8AYLTZuor///0x68se6lB6HSd2X+plb//W5Z21BxgQGCJGyvv//rKrq9mFjjwIUNE1Kd1I92//6ntR4gHxg9i1WAARgOEpJpbD1ZuE1KWbggJMJKD3OcxAH/40DE2zCL/pr+2suNWOtClkvgUwMAAwEIn4289EIIuV0nkaQ6z8sbAQMGITNorWmxh3amr7zT7uN0OZYjb+ceCooFH2//uAd5cYtd11rcDLC0dyVqsw/MEcLB/i2aK8pj9VOFMxLEIORaYeZnf8w8anq3HCZpQbDa/KRKHS3//lS42rmkQ2g6YeNWuKxuWL//1c5JB30G5x5Akt7lDR7//mOaeeP03io5EKGis4AAgKjwG/vKo1A0QebEvKvQwMCzPcGXhHKCX2VgVSKBmCww/+NAxNsuBAKBntvPFWixszdqMth6UyVksPM6KB3nUpjYnJGvOVFyhcocBKHoBkdqcXzCrBWyWdegXJqEtJrfu//MNKCFTr/mibpflgIKJ//XGv9zGUOob4iON//3QTIPbGB0MAEOmBmKwgMExIOf/6lKU5ejou95So7t/tv3cep3VxN4QSaKMojk1TfXZmXRuvKUqDEcDDRiRRotWF1W7QJGk5TAYBgsKYQRCpWzM5gJeMyiE3gIAwFC88NTabWS9J3xxYIIeYPc8y6w4PJbX//jMMTmJ0POgb7iyxXtHsTkJgh2u19kh3/jpykEowJ1bfKTQmNO/HZ0P4Bq1R////4sERy/s28EFTX9P9////8W6XNf0HQnGmk1y1DSn////+DHw6l1vt5NYmbj3WIZa/uVU6SLtDao0sk5ykHmlq9QPZKqwAAQaIMPZ/79a/jK4y9IgAQxcEUzV0Ax8AxJObd2LVnKQlEi53Foqv/jQMTYK8wOZF7q0Rni63yJO03QKkCTVyj9EPKzkQ8x9NQNh3AhqAiGh53CZoO8dzf/xFANG6h1PPnXMcihf/tNA9H//6g83XKNAuagWjtWmvn///VRXX/+HKPr/5li9f//y75rSPZ19EonFxskopR5x49x6f/Xd7742tfT73TNQ1V39Ksjdfse6pdbr7e1xtZnxWlSiVqqk0mAAcAcuSN7prNG7KGQMADMAsFYxBQhjF3i9MdAIswXwMjAMAJLZKCs6gsKALl+l3thhq/zepf/40DE6y08Bl3e7lZxKqs+kG41f5jSY09u//GkWJdR9Zkmanzb1rFiDZMh2FEwLqzIolh4+VIyqtItLyb9TmRszGPmA8yav7P/yKSyRknUmsxTWeR+VcGJGm1/9wv8M8ulGMlZm+3+NeGO3eN6zLhGcfdD+mxqTZmNuoo4YxRTKlMkvkjjB3FnHRXbn9/9ZlXiDtsoRvBgIGDY0mXA4nDjgG3IIiQ2kQFKRbaK3GAv+XacGcPbNaDUJhKFpztL/uT3/Na29MQxicVrY+9KiL16/+MwxPksdA49HvNHObuTM29CEItDixi76NPQNfMzmQEkDE26bJj4nGrnrQ/kHixQiFr2HnuOnXFyh0jrbKg6RUag/Hf9jA6VVlWfvQQG8YLC19fUY6O7mJkbGsW93ak6xxVW7RMJePz1QSPFIKJEY12HLOt29sWrnVTvdGzRs0jQafAWS7bX/NX8KeMO+uwtGBg4MTw1Nl4kMtRY/+NAxNYvPBZAfusQ3CoAq+oBj1XN658BBbMzp3eoSkFQCTW+Oe4909OuTQtWbv2OBPAdHqVrmcpRq21yyorj+ZQaCayYbdpMLzl94pMxfZ/2KWDUYRI9vDGkDMjDGQUjIMS0yMjMwIIGCYIf+FOvdYTqpklxtHZTLnD/8yPv5aE3YSGxqy5PbPpyvfSG5KDxzWCKgAGu223/8k7IpBbnIu9qgw6cOBhOIDLpMRf6M02PWlKDQfeFw6k5156hO21WVmICrKwVgwUEKmyyeFBCvf/jMMTcJ6P2OH7qxt2m1I/ndY5H9KlVWQ4cP5/SqM0FdKk4km+OtWMU8mi6zyb4xq3P9rqXYcpUrSON6rmpcpHyquFJzhrrt/+zbKRk1L2+yiWP+xtlpNhSFLRwKbJ1K/2lTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/jMMTMI5vuPb7TBsVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/jEMTMALACGAAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=",H7=""+new URL("Bonus-j8Sw-BYe.mp3",import.meta.url).href,hde=""+new URL("Coin-BfTYTip7.mp3",import.meta.url).href,mde=""+new URL("gem-9-P7gP-q.mp3",import.meta.url).href,gde=""+new URL("UndoMove-DRxAJiw8.mp3",import.meta.url).href,pde=""+new URL("NewDesign-D5i8JvL6.mp3",import.meta.url).href,vde=""+new URL("BuyBonus-ChKi1s8n.mp3",import.meta.url).href,$o=new ty(.3),pB=new ty(.3),W7=new Po(!0),ax=new Po(!0),Ba=()=>W7.value,yde=()=>ax.value,_de=()=>{var i;const e=ne(a=>a.config.soundEnable),t=ne(a=>a.config.musicEnable),n=Re(a=>a.config.setMusicEnabled),r=Re(a=>a.config.setSoundEnabled),o=(i=window.gp)==null?void 0:i.sounds;O.useEffect(()=>{if(o){const a=()=>r(!1),l=()=>r(!0),u=()=>n(!1),d=()=>n(!0);return o==null||o.on("mute:sfx",a),o==null||o.on("unmute:sfx",l),o==null||o.on("mute:music",u),o==null||o.on("unmute:music",d),()=>{o==null||o.off("mute:sfx",a),o==null||o.off("unmute:sfx",l),o==null||o.off("mute:music",u),o==null||o.off("unmute:music",d)}}},[o]),O.useEffect(()=>{W7.next(e),e?($o.unmute(),o==null||o.unmuteSFX()):($o.mute(),o==null||o.muteSFX())},[e]),O.useEffect(()=>{ax.next(t),t?(pB.unmute(),o==null||o.unmuteMusic()):(pB.mute(),o==null||o.muteMusic())},[t])},bde=e=>{Ba()&&$o.playAudioFile({stopOnPlayAgain:!0,delayMs:e,url:cde})},wde=e=>{Ba()&&$o.playAudioFile({stopOnPlayAgain:!0,delayMs:e,url:ude})},Sde=e=>{Ba()&&$o.playAudioFile({delayMs:e,url:fde})},Ade=e=>{Ba()&&$o.playAudioFile({stopOnPlayAgain:!0,delayMs:e,url:dde})},sx=e=>{Ba()&&$o.playAudioFile({stopOnPlayAgain:!0,delayMs:e,url:H7})},J7=e=>{Ba()&&$o.playAudioFile({stopOnPlayAgain:!1,delayMs:e,url:mde,volume:.1})},Z7=e=>{Ba()&&$o.playAudioFile({stopOnPlayAgain:!1,delayMs:e,url:hde})},Ac=()=>{Ba()&&$o.playAudioFile({stopOnPlayAgain:!0,delayMs:0,url:gde})},U6=()=>{Ba()&&$o.playAudioFile({stopOnPlayAgain:!0,delayMs:0,url:pde})},Y7=()=>{Ba()&&$o.playAudioFile({stopOnPlayAgain:!0,delayMs:0,url:vde})},Cde=()=>{Ba()&&(Y7(),$o.playAudioFile({stopOnPlayAgain:!0,delayMs:0,url:H7}))},kde=(e,t=0)=>Math.floor(Math.random()*(e-t)+t),Ede=(e,t)=>{if(!t)return!0;const n=kde(e.s+1,1),r=`${e.e}${n===1?"":n}`;return $o.playAudioExternalFile({url:`https://storage.yandexcloud.net/game-emotions/emotions/${r}.mp3`})},vB=["https://s3.eponesh.com/games/files/11406/ron-gelinas-chillout-lounge-soul-searching.mp3","https://s3.eponesh.com/games/files/11406/keys-of-moon-courage-and-willpower.mp3","https://s3.eponesh.com/games/files/11406/le-gang-it-meant-everything-to-me.mp3","https://s3.eponesh.com/games/files/11406/alexander-nakarada-untold-stories.mp3","https://s3.eponesh.com/games/files/11406/le-gang-lay-on-the-couch-all-day.mp3"],K7="audio-file-index",fk=Number(localStorage.getItem(K7)||0)||0,Bde=fk<=vB.length-1&&fk>=0?fk:0;class Rde{constructor(){z(this,"audioFile",null);z(this,"index",Bde);z(this,"needRunAfterUnmute",!1);ax.subscribe(t=>this.onUnmute(t))}onUnmute(t){if(this.needRunAfterUnmute&&t){setTimeout(()=>this.play(),0);return}}updateIdnex(){this.index++,this.index>vB.length-1&&(this.index=0),localStorage.setItem(K7,this.index.toString())}async play(){if(this.stop(),!yde()){this.needRunAfterUnmute=!0;return}const t=vB[this.index];this.updateIdnex(),this.audioFile=await pB.playAudioExternalFile({url:t,loop:!0,volume:.1})}stop(){var n;if(this.needRunAfterUnmute=!1,!this.audioFile)return;this.audioFile.stop();const t=(n=this.audioFile)==null?void 0:n.getSource();t&&(t.onended=null)}}const V6=new Rde,Ty=new Po(!1);let vv=null;const xde=Ty.pipe(Oi(),md(e=>{vv&&(clearTimeout(vv),vv=null),e&&(vv=setTimeout(()=>{Ty.next(!1)},3e4))})),fd=class fd{static show(){Ty.next(!0)}static hide(){Ty.next(!1)}static init(){var t,n;if(!(this._init||this.waitInterval)){if(!((n=(t=window.gp)==null?void 0:t.ads)!=null&&n.on)){this.waitInterval=setInterval(()=>{var r,o;(o=(r=window.gp)==null?void 0:r.ads)!=null&&o.on&&(clearInterval(this.waitInterval),this.waitInterval=null,this.init())},100);return}this._init=!0,window.gp.ads.on(Mi.FULLSCREEN_START,fd.hide),window.gp.ads.on(Mi.REWARDED_START,fd.hide)}}};z(fd,"_init",!1),z(fd,"waitInterval");let Cc=fd;const Ode=()=>{const[e,t]=O.useState(!1);return O.useEffect(()=>{const n=xde.subscribe(r=>t(r));return()=>n.unsubscribe()},[]),e},Mde=({title:e})=>{const t=Ode();return Mt.instance.getConfig().advOverlayEnabled?w.jsx(bR,{children:w.jsx(ym,{style:{backgroundColor:"rgba(0,0,0,0.8)",pointerEvents:t?"auto":"none",opacity:t?1:0,position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:1e3,display:"flex"},align:"center",justify:"center",children:w.jsx(li,{fz:"7vw",fw:700,fs:"italic",c:"white",style:{transform:"rotate(-8deg)"},children:e.toUpperCase()})})}):null},Pde={isRewardedVideoPlaying:!1,isFullscreenVideoPlaying:!1,isOverlayAdvHidden:!1},Zu=xn.getLogger("ADS_STORE"),Tde={...Pde,setRewardedVideoPlaying:ue((e,t)=>{t?Cc.show():Cc.hide(),e.isRewardedVideoPlaying=t}),setFullscreenVideoPlaying:ue((e,t)=>{t?Cc.show():Cc.hide(),e.isFullscreenVideoPlaying=t}),onAdvOpened:Z(async(e,t,n)=>{window.gp.ads.once(t,()=>{Cc.hide()})}),showRewardedVideo:Z(async(e,t,n)=>{if(n.getState().isRewardedVideoPlaying)return Zu.warn("showRewardedVideo","already is open"),!1;const r=n.getStoreActions().modals.openPaymentsModal;if(!t.forseRewarded&&n.getStoreState().platform.playerCoins>0&&await me.spendCoins())return J7(0),Ne.trackSpendGem({...t,gameType:t.gameType||"undefined",prefix:void 0}),!0;if(pn().isAdvDisabled)return t.forseRewarded||!gB()?n.getStoreActions().modals.openRewardedVideoErrorModal():r({place:Tr.NoAvailableGems}),!1;if(!Jue(t.delayEnabled))return gB()&&!t.forseRewarded?r({place:Tr.LimitRewarded}):n.getStoreActions().modals.openRewardedVideoErrorModal(),!1;e.onAdvOpened(Mi.REWARDED_START),Zu.info("showRewardedVideo"),n.getStoreActions().app.pauseGame(!0),e.setRewardedVideoPlaying(!0);const o=await ch.showRewardedVideo(t,n);return o&&(Zue(),j6(!1)),e.setRewardedVideoPlaying(!1),n.getStoreActions().app.pauseGame(!1),o}),showFullscreenAdv:Z(async(e,t,n)=>{if(!ch.fulscreenAvailable())return!1;if(n.getState().isFullscreenVideoPlaying)return Zu.warn("showFullscreenAdv","already is open"),!1;e.onAdvOpened(Mi.FULLSCREEN_START),Zu.info("showFullscreenAdv"),n.getStoreActions().app.pauseGame(!0),e.setFullscreenVideoPlaying(!0);const[r]=await Promise.all([ch.showFullscreenAdv(t,n),lr(me.isYandex()?500:0)]);return e.setFullscreenVideoPlaying(!1),n.getStoreActions().app.pauseGame(!1),j6(!0),r}),showPreloaderAdv:Z(async(e,t,n)=>{if(!ch.preloaderAvailable())return!1;if(n.getState().isFullscreenVideoPlaying)return Zu.warn("showPreloaderAdv","already is open"),!1;e.onAdvOpened(Mi.PRELOADER_START),Zu.info("showPreloaderAdv"),n.getStoreActions().app.pauseGame(!0),e.setFullscreenVideoPlaying(!0);const r=await ch.showPreloaderAdv(n);return e.setFullscreenVideoPlaying(!1),n.getStoreActions().app.pauseGame(!1),r})};var Gc=(e=>(e.Leaders="leaders",e.Default="default",e))(Gc||{}),Tn=(e=>(e.Cash="cash",e.Rating="rating",e.TotalScore="score",e.WithComputerScore="withComputerScore",e.WithComputerRating="withComputerRating",e.OnlineScore="onlineScore",e.SingleScore="singleScore",e.SingleTimeLvl1="singleTimeLvl1",e.SingleTimeLvl2="singleTimeLvl2",e.SingleTimeLvl3="singleTimeLvl3",e))(Tn||{});const q6={cash:[],rating:[],score:[],withComputerScore:[],withComputerRating:[],onlineScore:[],singleScore:[],singleTimeLvl1:[],singleTimeLvl2:[],singleTimeLvl3:[]},X7=()=>({default:{...q6},leaders:{...q6}});var eG=(e=>(e.toggle="toggle",e))(eG||{});const Ide=e=>[Tn.SingleTimeLvl1,Tn.SingleTimeLvl2,Tn.SingleTimeLvl3].includes(e),Q6=async(e,t)=>{try{return await yt.leaderboard(e,t,Ide(e)?"ASC":"DESC")}catch{return null}},H6={:"a",:"b",:"v",:"g",:"d",:"e",:"yo",:"zh",:"z",:"i",:"y",:"k",:"l",:"m",:"n",:"o",:"p",:"r",:"s",:"t",:"u",:"f",:"kh",:"ts",:"ch",:"sh",:"shch",:"",:"y",:"",:"e",:"yu",:"ya",:"A",:"B",:"V",:"G",:"D",:"E",:"YO",:"Zh",:"Z",:"I",:"Y",:"K",:"L",:"M",:"N",:"O",:"P",:"R",:"S",:"T",:"U",:"F",:"Kh",:"Ts",:"Ch",:"Sh",:"Shch",:"",:"Y",:"",:"E",:"Yu",:"Ya"},Lde=e=>e.split("").map(t=>H6[t]===void 0?t:H6[t]).join(""),Dde=(e,t,n=void 0)=>({id:n||t,name:`name-${t}`,avatar:null,position:t,score:e}),yB=(e,t,n=1,r=0)=>new Array(e).fill(0).map((o,i)=>Dde(t-n*i,i+1+r)),Nde=yB(20,1e5,4e3),Fde=[...yB(3,1e5,4e3),...yB(13,1e4,400,100)],Gde={leaderboardEntriesByType:X7()},uh=xn.getLogger("LEADERBOARD_STORE"),jde={...Gde,setLeaderboardEntriesByType:ue((e,t)=>{e.leaderboardEntriesByType[t.mode][t.type]=t.value,uh.info("setLeaderboardEntriesByType",t)}),resetLeaderboardEntries:ue(e=>{e.leaderboardEntriesByType=X7(),uh.info("resetLeaderboardEntries")}),updateLeaderboardByType:Z(async(e,t,n)=>{const r=n.getStoreState().flags.isScreenshotTest,o=n.getStoreState().config.leaderboardMode===Gc.Leaders;let i=await(r?(o?Nde:Fde).map(l=>{var u;return l.position===(o?8:108)?{...l,id:`${(u=n.getStoreState().platform.player)==null?void 0:u.id}`}:l}):Q6(t,n.getStoreState().config.leaderboardMode));if(i===null){uh.warn("updateLeaderboard","entries is null",{type:t}),e.setLeaderboardEntriesByType({mode:n.getStoreState().config.leaderboardMode,type:t,value:null});return}(i==null?void 0:i.find(l=>{var u;return r?l.position===(o?8:108):`${l.id}`==`${(u=n.getStoreState().platform.player)==null?void 0:u.id}`}))||(uh.warn("updateLeaderboard","not isPlayerInLeaderBoard",i),n.getStoreActions().config.switchLeaderboardMode(Gc.Leaders),i=await Q6(t,n.getStoreState().config.leaderboardMode)),n.getStoreState().config.locale!==He.RU&&(i=(i||[]).map(l=>({...l,name:Lde(l.name)}))),e.setLeaderboardEntriesByType({mode:n.getStoreState().config.leaderboardMode,type:t,value:i}),uh.success("updateLeaderboardByType",{type:t,leaderboardPlayers:i})})},lx=""+new URL("noneAvatar-CrWQ90U6.png",import.meta.url).href;var tt=(e=>(e.AFKCancelGameModal="AFKCancelGameModal",e.AvatarDetailsModal="AvatarDetailsModal",e.LangSettingsModal="LangSettingsModal",e.BoardSettingsModal="BoardSettingsModal",e.ConfirmDefeatModal="ConfirmDefeatModal",e.ConfirmDrawRequestModal="ConfirmDrawRequestModal",e.ConfirmExitModal="ConfirmExitModal",e.ConfirmFriendGameModal="ConfirmFriendGameModal",e.ConfirmGameQuitModal="ConfirmGameQuitModal",e.ConfirmRematchRequestModal="ConfirmRematchRequestModal",e.ConfirmVictoryModal="ConfirmVictoryModal",e.ConfirmOnlineGamesModal="ConfirmOnlineGamesModal",e.ConnectionByInviteLinkModal="ConnectionByInviteLinkModal",e.ConnectionByPeerIdModal="ConnectionByPeerIdModal",e.CustomConfirmModal="CustomConfirmModal",e.CustomContinueModal="CustomContinueModal",e.DeleteLastSavedGameModal="DeleteLastSavedGameModal",e.GameAISettingsModal="GameAISettingsModal",e.GameCustomizeBoardModal="GameCustomizeBoardModal",e.GameFriendSettingsModal="GameFriendSettingsModal",e.GameResultModal="GameResultModal",e.GameResultModalAfterLoadGame="GameResultModalAfterLoadGame",e.GameSingleSettingsModal="GameSingleSettingsModal",e.LeaderboardModal="LeaderboardModal",e.OnlineGameStatusModal="OnlineGameStatusModal",e.OnlineTogetherGameStatusModal="OnlineTogetherGameStatusModal",e.OnlineTogetherModeSelectModal="OnlineTogetherModeSelectModal",e.PromotionFigureSelector="PromotionFigureSelector",e.RatingChangeDetailsModal="RatingChangeDetailsModal",e.RejectedByOpponentModal="RejectedByOpponentModal",e.RewardedVideoAdBlockErrorModal="RewardedVideoAdBlockErrorModal",e.RewardedVideoErrorModal="RewardedVideoErrorModal",e.RulesModal="RulesModal",e.UserProfileModal="UserProfileModal",e.ChatOpenErrorModal="ChatOpenErrorModal",e.PaymentsModal="PaymentsModal",e.PremiumModal="PremiumModal",e.PaymentErrorModal="PaymentErrorModal",e.PaymentSuccessModal="PaymentSuccessModal",e.RewardAcceptModal="RewardAcceptModal",e.OnlineGameErrorModal="OnlineGameErrorModal",e.ChatSelectModal="ChatSelectModal",e.SchedulersModal="SchedulersModal",e.CashValueIsZeroModal="CashValueIsZeroModal",e.TimeFormatDetailsModal="TimeFormatDetailsModal",e))(tt||{});const $de={modalVisibility:{},lastClosedModal:null,modalData:{AvatarDetailsModal:{type:Xi.Temp},PromotionFigureSelector:{type:Xi.Temp},CustomConfirmModal:{type:Xi.Temp},CustomContinueModal:{type:Xi.Temp},PaymentSuccessModal:{type:Xi.Temp},RewardAcceptModal:{type:Xi.Temp},UserProfileModal:{type:Xi.Temp},PaymentsModal:{type:Xi.Temp}}},bt=xn.getLogger("MODAL_STORE"),zde={...$de,setModalData:ue((e,t)=>{var n;(n=e.modalData[t.modal])!=null&&n.type?(e.modalData[t.modal].data=t.data,bt.info("setModalVisible",t)):(e.modalData[t.modal]={type:Xi.Temp,data:t.data},bt.warn("modalData for ",t.modal," in undefined"))}),openNewModal:ue((e,t)=>{var r;if(e.modalVisibility[t])return;const n=Math.max(...Object.values(e.modalVisibility),0)||0;e.modalVisibility[t]=n+1,((r=e.modalData[t])==null?void 0:r.type)===Xi.Temp&&(e.modalData[t].data=void 0),bt.info("openNewModal",t,n)}),closeModal:ue((e,t)=>{const n=t||(()=>{let r=0,o=null;return Object.entries(e.modalVisibility).forEach(([i,a])=>{a>r&&(r=a,o=i)}),o})();n&&(e.lastClosedModal=n,e.modalVisibility[n]=0),bt.info("closeLastModal",n)}),closeModalIfOpened:Z((e,t,n)=>{n.getState().modalVisibility[t]&&e.closeModal(t)},!0),closeAllModals:ue(e=>{Object.keys(e.modalVisibility).forEach(t=>{e.modalVisibility[t]=0}),bt.info("closeAllModals")}),openUserProfileModal:Z((e,t,n)=>{var o;e.openNewModal("UserProfileModal"),e.setModalData({modal:"UserProfileModal",data:t});const r=((o=n.getStoreState().platform.player)==null?void 0:o.id)===t.player.state.id;Ne.trackOpenProfileModal(r?"player":"other"),bt.info("openUserProfileModal")}),openGameResultModal:Z((e,t,n)=>{e.openNewModal("GameResultModal"),bt.info("openGameResultModal")}),openGameResultModalAfterLoadGame:Z((e,t,n)=>{e.openNewModal("GameResultModalAfterLoadGame"),bt.info("openGameResultModalAfterLoadGame")}),openConfirmDefeatModal:Z((e,t,n)=>{e.openNewModal("ConfirmDefeatModal"),bt.info("openConfirmDefeatModal")}),openConfirmVictoryModal:Z((e,t,n)=>{e.openNewModal("ConfirmVictoryModal"),bt.info("openConfirmVictoryModal")}),openConfirmExitModal:Z((e,t,n)=>{e.openNewModal("ConfirmExitModal"),bt.info("openConfirmExitModal")}),openConfirmFriendGameModal:Z((e,t,n)=>{e.openNewModal("ConfirmFriendGameModal"),bt.info("openConfirmFriendGameModal")}),openLangSettingsModal:Z((e,t,n)=>{e.openNewModal("LangSettingsModal"),bt.info("openLangSettingsModal")}),toggleLangSettingsModal:Z((e,t,n)=>{const r=n.getState().modalVisibility.LangSettingsModal,{openLangSettingsModal:o,closeModal:i}=e;r?i():o(),bt.info("toggleLangSettingsModal")}),openBoardSettingsModal:Z((e,t,n)=>{e.openNewModal("BoardSettingsModal"),Ne.trackOpenDesignModal(t),bt.info("openBoardSettingsModal")}),openRewardedVideoErrorModal:Z((e,t,n)=>{e.openNewModal("RewardedVideoErrorModal"),bt.info("openRewardedVideoErrorModal")}),openRewardedVideoAdBlockErrorModal:Z((e,t,n)=>{e.openNewModal("RewardedVideoAdBlockErrorModal"),bt.info("openRewardedVideoAdBlockErrorModal")}),openOnlineGameStatusModal:Z((e,t,n)=>{e.openNewModal("OnlineGameStatusModal"),bt.info("openOnlineGameStatusModal")}),openOnlineTogetherGameStatusModal:Z((e,t,n)=>{e.openNewModal("OnlineTogetherGameStatusModal"),bt.info("openOnlineTogetherGameStatusModal")}),openOnlineTogetherModeSelectModal:Z((e,t,n)=>{e.openNewModal("OnlineTogetherModeSelectModal"),bt.info("openOnlineTogetherModeSelectModal")}),openConnectionByInviteLinkModal:Z((e,t,n)=>{e.openNewModal("ConnectionByInviteLinkModal"),bt.info("openConnectionByInviteLinkModal")}),openConnectionByPeerIdModal:Z((e,t,n)=>{e.openNewModal("ConnectionByPeerIdModal"),bt.info("openConnectionByPeerIdModal")}),openConfirmDrawRequestModal:Z((e,t,n)=>{e.openNewModal("ConfirmDrawRequestModal"),bt.info("openConfirmDrawRequestModal")}),openConfirmRematchRequestModal:Z((e,t,n)=>{e.openNewModal("ConfirmRematchRequestModal"),bt.info("openConfirmRematchRequestModal")}),openConfirmGameQuitModal:Z((e,t,n)=>{e.openNewModal("ConfirmGameQuitModal"),bt.info("openConfirmGameQuitModal")}),openRejectedByOpponentModal:Z((e,t,n)=>{e.openNewModal("RejectedByOpponentModal"),bt.info("openRejectedByOpponentModal")}),openAFKCancelGameModal:Z((e,t,n)=>{e.openNewModal("AFKCancelGameModal"),bt.info("openAFKCancelGameModal")}),openLeaderboardModal:Z((e,t,n)=>{e.openNewModal("LeaderboardModal");const r=n.getStoreState().app.gameState,o=n.getStoreState().app.gameType,i=r===xe.Menu,a=r===xe.AfterGame;Ne.trackOpenLeaderboard(n.getStoreState().config.leaderboardSelectedTab,n.getStoreState().config.leaderboardMode,i||a?r:void 0,a?o:void 0),bt.info("openLeaderboardModal")}),openRatingChangeDetailsModal:Z((e,t,n)=>{e.openNewModal("RatingChangeDetailsModal"),bt.info("openRatingChangeDetailsModal")}),openDeleteLastSavedGameModal:Z((e,t,n)=>{e.openNewModal("DeleteLastSavedGameModal"),bt.info("openDeleteLastSavedGameModal")}),openRulesModal:Z((e,t,n)=>{e.openNewModal("RulesModal"),bt.info("openRulesModal")}),openChatOpenErrorModal:Z((e,t,n)=>{e.openNewModal("ChatOpenErrorModal"),bt.info("openChatOpenErrorModal")}),openOnlineGameErrorModal:Z((e,t,n)=>{e.openNewModal("OnlineGameErrorModal"),bt.info("openOnlineGameErrorModal")}),openFriendGameSettingsModal:Z((e,t,n)=>{e.openNewModal("GameFriendSettingsModal"),n.getStoreActions().app.setGameType(re.Together),n.getStoreActions().gameSettings.setDefaultSettingsForOneScreenGame(),bt.info("openFriendGameSettingsModal")}),openSingleGameSettingsModal:Z((e,t,n)=>{e.openNewModal("GameSingleSettingsModal"),n.getStoreActions().app.setGameType(re.Single),n.getStoreActions().gameSettings.setDefaultSettingsForOneScreenGame(),bt.info("openSingleGameSettingsModal")}),openAIGameSettingsModal:Z((e,t,n)=>{e.openNewModal("GameAISettingsModal"),n.getStoreActions().app.setGameType(re.AI),n.getStoreActions().gameSettings.setDefaultSettingsForAI(),bt.info("openAIGameSettingsModal")}),openPaymentsModal:Z((e,t,n)=>{e.openNewModal("PaymentsModal"),e.setModalData({modal:"PaymentsModal",data:t}),n.getStoreActions().payment.loadProducts().then(()=>{var u,d;const r=tde(((u=n.getStoreState().payment.products)==null?void 0:u.products)||[]),o=nde(((d=n.getStoreState().payment.products)==null?void 0:d.products)||[]),a=!me.isCrazyGames(),l=[...r,...a?o:[]];$6(l,"COMMON")}),Ne.trackShopModalOpened(t.place),Ne.trackClickShop(),bt.info("openPaymentsModal")}),openPremiumModal:Z((e,t,n)=>{var o;e.openNewModal("PremiumModal");const r=rde(((o=n.getStoreState().payment.products)==null?void 0:o.products)||[]);$6(r,"PREMIUM"),bt.info("openPremiumModal")}),openPaymentSuccessModal:Z((e,t,n)=>{e.openNewModal("PaymentSuccessModal"),e.setModalData({modal:"PaymentSuccessModal",data:t}),bt.info("openPaymentSuccessModal")}),openRewardAcceptModal:Z((e,t,n)=>{var o,i,a;t.rewards[0].mutations[0].key==="cash"&&J7(0),t.rewards[0].mutations[0].key==="coins"&&Z7(0);const r=n.getState().modalData.RewardAcceptModal;(((i=(o=r==null?void 0:r.data)==null?void 0:o.rewards)==null?void 0:i.length)||0)<=2&&(n.getState().modalVisibility.RewardAcceptModal?e.setModalData({modal:"RewardAcceptModal",data:{rewards:[...((a=r.data)==null?void 0:a.rewards)||[],...t.rewards]}}):(e.openNewModal("RewardAcceptModal"),e.setModalData({modal:"RewardAcceptModal",data:t}))),n.getStoreActions().platform.firePlayerCashChangeTrigger(),n.getStoreActions().platform.firePlayerCoinsChangeTrigger(),n.getStoreActions().platform.firePremiumChangeTrigger(),bt.info("openRewardAcceptModal")}),openPaymentErrorModal:Z((e,t,n)=>{e.openNewModal("PaymentErrorModal"),bt.info("openPaymentErrorModal")}),openChatSelectModal:Z((e,t,n)=>{e.openNewModal("ChatSelectModal"),bt.info("openChatSelectModal")}),openSchedulersModal:Z((e,t,n)=>{e.openNewModal("SchedulersModal"),bt.info("openSchedulersModal")}),openConfirmOnlineGamesModal:Z((e,t,n)=>{e.openNewModal("ConfirmOnlineGamesModal"),bt.info("openConfirmOnlineGamesModal")}),openCashValueIsZeroModal:Z((e,t,n)=>{e.openNewModal("CashValueIsZeroModal"),bt.info("openCashValueIsZeroModal")}),openTimeFormatDetailsModal:Z((e,t,n)=>{e.openNewModal("TimeFormatDetailsModal"),bt.info("openTimeFormatDetailsModal")}),waitCustomConfirmModal:Z((e,t,n)=>new Promise(r=>{const o=t.timeOut?setTimeout(()=>{r(!1),e.closeModal()},t.timeOut):null;e.openNewModal("CustomConfirmModal"),e.setModalData({modal:"CustomConfirmModal",data:{callback:i=>{o&&clearTimeout(o),r(i),e.closeModal()},...t||{}}}),bt.info("waitCustomConfirmModal")})),waitCustomContinueModal:Z((e,t,n)=>new Promise(r=>{e.openNewModal("CustomContinueModal"),e.setModalData({modal:"CustomContinueModal",data:{...t,title:t.title,callback:r}}),bt.info("waitCustomContinueModal")})),openAvatarDetailsModal:Z((e,t,n)=>{n.getStoreState().flags.isScreenshotTest&&(t={title:"",avatar:lx,rating:1111,isMyAvatar:!0}),e.openNewModal("AvatarDetailsModal"),e.setModalData({modal:"AvatarDetailsModal",data:t});const{gameType:o}=n.getStoreState().app,i=t.isMyAvatar?"my":"opponent";o!==null&&Ne.trackClickAvatar(o,i),bt.info("openAvatarDetailsModal")})};function Ude(e){let t=e,n=!1;const r=new Set;return{getState(){return t},updateState(o){t=typeof o=="function"?o(t):o},setState(o){this.updateState(o),r.forEach(i=>i(t))},initialize(o){n||(t=o,n=!0)},subscribe(o){return r.add(o),()=>r.delete(o)}}}function Vde(e){return O.useSyncExternalStore(e.subscribe,()=>e.getState(),()=>e.getState())}function qde(e,t,n){const r=[],o=[],i={};for(const a of e){const l=a.position||t;i[l]=i[l]||0,i[l]+=1,i[l]<=n?o.push(a):r.push(a)}return{notifications:o,queue:r}}const Qde=()=>Ude({notifications:[],queue:[],defaultPosition:"bottom-right",limit:5}),hu=Qde(),Hde=(e=hu)=>Vde(e);function cf(e,t){const n=e.getState(),r=t([...n.notifications,...n.queue]),o=qde(r,n.defaultPosition,n.limit);e.setState({notifications:o.notifications,queue:o.queue,limit:n.limit,defaultPosition:n.defaultPosition})}function Wde(e,t=hu){const n=e.id||Ay();return cf(t,r=>e.id&&r.some(o=>o.id===e.id)?r:[...r,{...e,id:n}]),n}function tG(e,t=hu){return cf(t,n=>n.filter(r=>{var o;return r.id===e?((o=r.onClose)==null||o.call(r,r),!1):!0})),e}function Jde(e,t=hu){return cf(t,n=>n.map(r=>r.id===e.id?{...r,...e}:r)),e.id}function Zde(e=hu){cf(e,()=>[])}function Yde(e=hu){cf(e,t=>t.slice(0,e.getState().limit))}const Fr={show:Wde,hide:tG,update:Jde,clean:Zde,cleanQueue:Yde,updateState:cf};function _B(e,t){return _B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},_B(e,t)}function nG(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,_B(e,t)}const W6={disabled:!1},Iy=fe.createContext(null);var Kde=function(t){return t.scrollTop},Th="unmounted",wc="exited",Sc="entering",rd="entered",bB="exiting",zs=function(e){nG(t,e);function t(r,o){var i;i=e.call(this,r,o)||this;var a=o,l=a&&!a.isMounting?r.enter:r.appear,u;return i.appearStatus=null,r.in?l?(u=wc,i.appearStatus=Sc):u=rd:r.unmountOnExit||r.mountOnEnter?u=Th:u=wc,i.state={status:u},i.nextCallback=null,i}t.getDerivedStateFromProps=function(o,i){var a=o.in;return a&&i.status===Th?{status:wc}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(o){var i=null;if(o!==this.props){var a=this.state.status;this.props.in?a!==Sc&&a!==rd&&(i=Sc):(a===Sc||a===rd)&&(i=bB)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var o=this.props.timeout,i,a,l;return i=a=l=o,o!=null&&typeof o!="number"&&(i=o.exit,a=o.enter,l=o.appear!==void 0?o.appear:a),{exit:i,enter:a,appear:l}},n.updateStatus=function(o,i){if(o===void 0&&(o=!1),i!==null)if(this.cancelNextCallback(),i===Sc){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:Mh.findDOMNode(this);a&&Kde(a)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===wc&&this.setState({status:Th})},n.performEnter=function(o){var i=this,a=this.props.enter,l=this.context?this.context.isMounting:o,u=this.props.nodeRef?[l]:[Mh.findDOMNode(this),l],d=u[0],f=u[1],m=this.getTimeouts(),g=l?m.appear:m.enter;if(!o&&!a||W6.disabled){this.safeSetState({status:rd},function(){i.props.onEntered(d)});return}this.props.onEnter(d,f),this.safeSetState({status:Sc},function(){i.props.onEntering(d,f),i.onTransitionEnd(g,function(){i.safeSetState({status:rd},function(){i.props.onEntered(d,f)})})})},n.performExit=function(){var o=this,i=this.props.exit,a=this.getTimeouts(),l=this.props.nodeRef?void 0:Mh.findDOMNode(this);if(!i||W6.disabled){this.safeSetState({status:wc},function(){o.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:bB},function(){o.props.onExiting(l),o.onTransitionEnd(a.exit,function(){o.safeSetState({status:wc},function(){o.props.onExited(l)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(o,i){i=this.setNextCallback(i),this.setState(o,i)},n.setNextCallback=function(o){var i=this,a=!0;return this.nextCallback=function(l){a&&(a=!1,i.nextCallback=null,o(l))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},n.onTransitionEnd=function(o,i){this.setNextCallback(i);var a=this.props.nodeRef?this.props.nodeRef.current:Mh.findDOMNode(this),l=o==null&&!this.props.addEndListener;if(!a||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],d=u[0],f=u[1];this.props.addEndListener(d,f)}o!=null&&setTimeout(this.nextCallback,o)},n.render=function(){var o=this.state.status;if(o===Th)return null;var i=this.props,a=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var l=u7(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return fe.createElement(Iy.Provider,{value:null},typeof a=="function"?a(o,l):fe.cloneElement(fe.Children.only(a),l))},t}(fe.Component);zs.contextType=Iy;zs.propTypes={};function Yu(){}zs.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Yu,onEntering:Yu,onEntered:Yu,onExit:Yu,onExiting:Yu,onExited:Yu};zs.UNMOUNTED=Th;zs.EXITED=wc;zs.ENTERING=Sc;zs.ENTERED=rd;zs.EXITING=bB;function Xde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cx(e,t){var n=function(i){return t&&O.isValidElement(i)?t(i):i},r=Object.create(null);return e&&O.Children.map(e,function(o){return o}).forEach(function(o){r[o.key]=n(o)}),r}function efe(e,t){e=e||{},t=t||{};function n(f){return f in t?t[f]:e[f]}var r=Object.create(null),o=[];for(var i in e)i in t?o.length&&(r[i]=o,o=[]):o.push(i);var a,l={};for(var u in t){if(r[u])for(a=0;a<r[u].length;a++){var d=r[u][a];l[r[u][a]]=n(d)}l[u]=n(u)}for(a=0;a<o.length;a++)l[o[a]]=n(o[a]);return l}function Mc(e,t,n){return n[t]!=null?n[t]:e.props[t]}function tfe(e,t){return cx(e.children,function(n){return O.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:Mc(n,"appear",e),enter:Mc(n,"enter",e),exit:Mc(n,"exit",e)})})}function nfe(e,t,n){var r=cx(e.children),o=efe(t,r);return Object.keys(o).forEach(function(i){var a=o[i];if(O.isValidElement(a)){var l=i in t,u=i in r,d=t[i],f=O.isValidElement(d)&&!d.props.in;u&&(!l||f)?o[i]=O.cloneElement(a,{onExited:n.bind(null,a),in:!0,exit:Mc(a,"exit",e),enter:Mc(a,"enter",e)}):!u&&l&&!f?o[i]=O.cloneElement(a,{in:!1}):u&&l&&O.isValidElement(d)&&(o[i]=O.cloneElement(a,{onExited:n.bind(null,a),in:d.props.in,exit:Mc(a,"exit",e),enter:Mc(a,"enter",e)}))}}),o}var rfe=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},ofe={component:"div",childFactory:function(t){return t}},wl=function(e){nG(t,e);function t(r,o){var i;i=e.call(this,r,o)||this;var a=i.handleExited.bind(Xde(i));return i.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},i}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(o,i){var a=i.children,l=i.handleExited,u=i.firstRender;return{children:u?tfe(o,l):nfe(o,a,l),firstRender:!1}},n.handleExited=function(o,i){var a=cx(this.props.children);o.key in a||(o.props.onExited&&o.props.onExited(i),this.mounted&&this.setState(function(l){var u=iB({},l.children);return delete u[o.key],{children:u}}))},n.render=function(){var o=this.props,i=o.component,a=o.childFactory,l=u7(o,["component","childFactory"]),u=this.state.contextValue,d=rfe(this.state.children).map(a);return delete l.appear,delete l.enter,delete l.exit,i===null?fe.createElement(Iy.Provider,{value:u},d):fe.createElement(Iy.Provider,{value:u},fe.createElement(i,l,d))},t}(fe.Component);wl.propTypes={};wl.defaultProps=ofe;const rG=["bottom-center","bottom-left","bottom-right","top-center","top-left","top-right"];function ife(e,t){return e.reduce((n,r)=>(n[r.position||t].push(r),n),rG.reduce((n,r)=>(n[r]=[],n),{}))}const J6={left:"translateX(-100%)",right:"translateX(100%)","top-center":"translateY(-100%)","bottom-center":"translateY(100%)"},afe={left:"translateX(0)",right:"translateX(0)","top-center":"translateY(0)","bottom-center":"translateY(0)"};function sfe({state:e,maxHeight:t,position:n,transitionDuration:r}){const[o,i]=n.split("-"),a=i==="center"?`${o}-center`:i,l={opacity:0,maxHeight:t,transform:J6[a],transitionDuration:`${r}ms, ${r}ms, ${r}ms`,transitionTimingFunction:"cubic-bezier(.51,.3,0,1.21), cubic-bezier(.51,.3,0,1.21), linear",transitionProperty:"opacity, transform, max-height"},u={opacity:1,transform:afe[a]},d={opacity:0,maxHeight:0,transform:J6[a]};return{...l,...{entering:u,entered:u,exiting:d,exited:d}[e]}}function lfe(e,t){return typeof t=="number"?t:t===!1||e===!1?!1:e}const oG=O.forwardRef(({data:e,onHide:t,autoClose:n,...r},o)=>{const{autoClose:i,message:a,...l}=e,u=lfe(n,e.autoClose),d=O.useRef(-1),f=()=>window.clearTimeout(d.current),m=()=>{t(e.id),f()},g=()=>{typeof u=="number"&&(d.current=window.setTimeout(m,u))};return O.useEffect(()=>{var v;(v=e.onOpen)==null||v.call(e,e)},[]),O.useEffect(()=>(g(),f),[u]),w.jsx(ZR,{...r,...l,onClose:m,ref:o,onMouseEnter:f,onMouseLeave:g,children:a})});oG.displayName="@mantine/notifications/NotificationContainer";var iG={root:"m_b37d9ac7",notification:"m_5ed0edd0"};const cfe=zs,ufe={position:"bottom-right",autoClose:4e3,transitionDuration:250,containerWidth:440,notificationMaxHeight:200,limit:5,zIndex:uu("overlay"),store:hu,withinPortal:!0},dfe=(e,{zIndex:t,containerWidth:n})=>({root:{"--notifications-z-index":t==null?void 0:t.toString(),"--notifications-container-width":ve(n)}}),Us=Lt((e,t)=>{const n=Ke("Notifications",ufe,e),{classNames:r,className:o,style:i,styles:a,unstyled:l,vars:u,position:d,autoClose:f,transitionDuration:m,containerWidth:g,notificationMaxHeight:v,limit:y,zIndex:_,store:b,portalProps:E,withinPortal:A,...C}=n,M=Gr(),T=Hde(b),I=Hne(),P=K8(),B=O.useRef({}),R=O.useRef(0),D=(M.respectReducedMotion?P:!1)?1:m,$=It({name:"Notifications",classes:iG,props:n,className:o,style:i,classNames:r,styles:a,unstyled:l,vars:u,varsResolver:dfe});O.useEffect(()=>{b==null||b.updateState(G=>({...G,limit:y||5,defaultPosition:d}))},[y,d]),Nc(()=>{T.notifications.length>R.current&&setTimeout(()=>I(),0),R.current=T.notifications.length},[T.notifications]);const U=ife(T.notifications,d),j=rG.reduce((G,q)=>(G[q]=U[q].map(({style:Q,...F})=>w.jsx(cfe,{timeout:D,onEnter:()=>B.current[F.id].offsetHeight,nodeRef:{current:B.current[F.id]},children:W=>w.jsx(oG,{ref:Y=>{Y&&(B.current[F.id]=Y)},data:F,onHide:Y=>tG(Y,b),autoClose:f,...$("notification",{style:{...sfe({state:W,position:q,transitionDuration:D,maxHeight:v}),...Q}})})},F.id)),G),{});return w.jsxs(Il,{withinPortal:A,...E,children:[w.jsx(Qe,{...$("root"),"data-position":"top-center",ref:t,...C,children:w.jsx(wl,{children:j["top-center"]})}),w.jsx(Qe,{...$("root"),"data-position":"top-left",...C,children:w.jsx(wl,{children:j["top-left"]})}),w.jsx(Qe,{...$("root",{className:mm.classNames.fullWidth}),"data-position":"top-right",...C,children:w.jsx(wl,{children:j["top-right"]})}),w.jsx(Qe,{...$("root",{className:mm.classNames.fullWidth}),"data-position":"bottom-right",...C,children:w.jsx(wl,{children:j["bottom-right"]})}),w.jsx(Qe,{...$("root"),"data-position":"bottom-left",...C,children:w.jsx(wl,{children:j["bottom-left"]})}),w.jsx(Qe,{...$("root"),"data-position":"bottom-center",...C,children:w.jsx(wl,{children:j["bottom-center"]})})]})});Us.classes=iG;Us.displayName="@mantine/notifications/Notifications";Us.show=Fr.show;Us.hide=Fr.hide;Us.update=Fr.update;Us.clean=Fr.clean;Us.cleanQueue=Fr.cleanQueue;Us.updateState=Fr.updateState;const kc="peerInvite",aG="instantJoin",hk=e=>new URLSearchParams(e).get(kc),ffe=()=>{var e,t,n;if(me.isCrazyGames()){const r=(n=(t=(e=window.CrazyGames)==null?void 0:e.SDK)==null?void 0:t.game)==null?void 0:n.getInviteParam;return typeof r!="function"?!1:r(aG)==="true"}return!1},wB=()=>{var t,n,r,o,i;const e=hk(window.location.search);if(me.isCrazyGames()){const a=(r=(n=(t=window.CrazyGames)==null?void 0:t.SDK)==null?void 0:n.game)==null?void 0:r.getInviteParam;return a?a(kc):null}if(me.isVk()){const a=window.location.hash;return a?hk(a.substring(1,a.length)):null}if(me.isOk()){const a=me.getNativeSdk(),l=(i=(o=a==null?void 0:a.Util)==null?void 0:o.getRequestParameters())==null?void 0:i.custom_args;return l?hk(l):null}return e},Z6=(e,t)=>{var a,l,u,d;const n=new URLSearchParams(window.location.search);n.delete(e),n.set(e,t);const r=n.toString();return`${((d=(u=(l=(a=window.gp)==null?void 0:a.platform)==null?void 0:l.adapter)==null?void 0:u.sdk)==null?void 0:d.appUrl)||window.location.ancestorOrigins[window.location.ancestorOrigins.length-1]||window.location.href.split("?")[0]}${r?"?"+r:""}`},hfe=async(e,t)=>{var n,r,o,i,a,l,u,d,f,m,g,v,y,_,b,E;if(me.isCrazyGames()){const A={[kc]:e,[aG]:t},C=(o=(r=(n=window.CrazyGames)==null?void 0:n.SDK)==null?void 0:r.game)==null?void 0:o.showInviteButton,M=(l=(a=(i=window.CrazyGames)==null?void 0:i.SDK)==null?void 0:a.game)==null?void 0:l.inviteLink;return typeof C!="function"||typeof M!="function"?null:(C(A),M(A))}if(me.isYandex()){const A=me.getNativeSdk(),C=(d=(u=A==null?void 0:A.environment)==null?void 0:u.app)==null?void 0:d.id,M=await((g=(m=(f=me.getNativeSdk())==null?void 0:f.features)==null?void 0:m.GamesAPI)==null?void 0:g.getGameByID(C));return!(M!=null&&M.isAvailable)||!((v=M==null?void 0:M.game)!=null&&v.url)?Z6(kc,e):`${M.game.url}?${kc}=${e}`}if(me.isVk()||me.isOk()){const A=(E=(b=(_=(y=window.gp)==null?void 0:y.platform)==null?void 0:_.adapter)==null?void 0:b.sdk)==null?void 0:E.appUrl,C=me.isVk()?"#":"?";return`${A}${C}${kc}=${e}`}return Z6(kc,e)},mfe={playerInterface:null,player:null,playerCoinsChangeTrigger:0,playerCashChangeTrigger:0,premiumChangeTrigger:0},Rr=xn.getLogger("PLATFORM_STORE"),gfe={...Tde,...jde,...mfe,isPlayerReady:ze([e=>e.player],e=>!!e),isAuth:ze([e=>e.playerInterface,e=>e.player],(e,t)=>e!==null&&(me.isLoggedIn()||!!pn().withOutAuth)&&t!==null),isAuthOrGuest:ze([e=>e.playerInterface,e=>e.player],(e,t)=>e!==null&&t!==null),passivePriority:ze([e=>{var t,n,r;return(r=(n=(t=e.player)==null?void 0:t.playerData)==null?void 0:n.config)==null?void 0:r.passivePriority}],e=>e||0),playerCoins:ze([e=>e.playerCoinsChangeTrigger],e=>yt.get("coins")??0),playerCash:ze([e=>e.playerCashChangeTrigger],e=>yt.get("cash")??0),firePlayerCoinsChangeTrigger:ue(e=>{if(e.playerCoinsChangeTrigger=e.playerCoinsChangeTrigger+=1,e.player){const t=yt.get("coins");e.player={...e.player,coins:t??e.player.coins}}}),firePlayerCashChangeTrigger:ue(e=>{if(e.playerCashChangeTrigger=e.playerCashChangeTrigger+=1,e.player){const t=yt.get("cash");e.player={...e.player,cash:t??e.player.cash}}}),firePremiumChangeTrigger:ue(e=>{e.premiumChangeTrigger=e.premiumChangeTrigger+=1}),setPlayer:ue((e,t)=>{e.player=t,Rr.info("setPlayer",t)}),updatePlayerName:Z(async(e,t,n)=>{const r=n.getState().player;if(!r)return Rr.warn("updatePlayerName","player is absent"),"player_not_found";if(!t)return Rr.warn("updatePlayerName","name is empty"),"bad_value_filter_censor";try{const o=`${ts}-username`,i=window.gp,a=await i.uniques.check({tag:o,value:t});return Ne.trackGPRequest(_r.UniquesCheck),a?(e.setPlayer({...r,name:t}),await i.uniques.register({tag:o,value:t}),Ne.trackGPRequest(_r.UniquesRegister),await me.savePlayerName(t),n.getStoreActions().modals.setModalData({modal:tt.UserProfileModal,data:{player:{state:{...r,name:t}}}}),Ne.trackChangeName(),null):"already_exists"}catch(o){return["already_exists","bad_value_filter_censor"].includes(o)?(Ne.trackChangeName(o),o):(Rr.error("updatePlayerName catch",o),o)}}),updatePlayerAvatar:Z(async(e,t,n)=>{var i;const r=n.getState().player;if(!r)return Rr.warn("updatePlayerAvatar","player is absent"),Fr.show({id:"avatarUpload",autoClose:3e3,color:"red",message:be("playerNotFound")}),null;if(!t||!(t instanceof File))return Rr.warn("updatePlayerAvatar","invalid file object"),Fr.show({id:"avatarUpload",autoClose:3e3,color:"red",message:be("invalidFile")}),null;const o="avatarUpload";try{if(t.size>5242880)return Fr.show({id:o,autoClose:5e3,color:"red",message:be("fileIsTooBig")}),null;if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(t.type))return Fr.show({id:o,autoClose:5e3,color:"red",message:be("invalidImageFormat")}),null;const u=window.gp;if(!((i=u==null?void 0:u.images)!=null&&i.upload))return Rr.error("updatePlayerAvatar",new Error("Upload API not available")),Fr.show({id:o,autoClose:3e3,color:"red",message:be("uploadApiNotAvailable")}),null;Fr.show({id:o,autoClose:!1,loading:!0,message:be("loading")});const d=await u.images.upload({file:t,tags:["user-files",...NM()?["user-files-test"]:[]]}).catch(m=>{throw Rr.error("updatePlayerAvatar",m,{type:"uploadFailed"}),new Error("uploadFailed")});Ne.trackGPRequest(_r.ImagesUpload);const f=(d==null?void 0:d.src)??null;if(!f)return Fr.update({id:o,autoClose:3e3,loading:!1,color:"red",message:be("noImageUrl")}),null;Ne.trackChangeAvatar(),Fr.update({id:o,autoClose:3e3,loading:!1,color:"green",message:be("loadingSuccess")}),e.setPlayer({...r,avatar:f}),n.getStoreActions().modals.setModalData({modal:tt.UserProfileModal,data:{player:{state:{...r,avatar:f}}}});try{yt.set("avatar",f),await yt.sync(),Fr.update({id:o,autoClose:3e3,loading:!1,color:"green",message:be("avatarUpdateSuccess")})}catch(m){Rr.error("updatePlayerAvatar",m,{type:"syncFailed"}),Fr.update({id:o,autoClose:3e3,loading:!1,color:"yellow",message:be("avatarSyncFailed")})}return f}catch(a){const l=(a==null?void 0:a.message)==="uploadFailed"?be("uploadFailed"):be("loadingError");return Rr.error("updatePlayerAvatar catch",a),Fr.update({id:o,autoClose:3e3,loading:!1,color:"red",message:l}),null}}),setPlayerInterface:Z(async(e,t,n)=>{n.getState().playerInterface=t;const r=n.getStoreState().flags.isScreenshotTest,o=t.name||t.state.name||NM()||Kc;let i={...t.state,name:o,playerData:Is()},[a,l]=await Promise.all([me.getPlayerAvatar(),me.getPlayerData(i)]);const u=P5(l.playerData,!0);e.setPlayer({...i,playerData:u,avatar:a||i.avatar,...r&&{name:Kc,avatar:lx}}),Rr.info("setPlayerInterface",t)}),updatePlayerData:Z(async(e,t,n)=>{var r;try{const{playerInterface:o,player:i}=n.getState();if(o===null||i===null){Rr.warn("updatePlayerData","playerInterface is null");return}const a=P5(t.playerData,!0);e.setPlayer({...i,...t,playerData:a}),await me.savePlayerData(t),Rr.success("updatePlayerData")}catch(o){Rr.error("updatePlayerData catch",o,{playerId:(r=n.getState().player)==null?void 0:r.id})}}),login:Z(async(e,t,n)=>{var l,u,d,f,m;const{force:r,saveGuestDataState:o,showModal:i,title:a="toPlayOnlineYouNeedToLogIn"}=t||{};try{const{waitCustomConfirmModal:g}=n.getStoreActions().modals,{isAuth:v}=n.getState(),{gameType:y}=n.getStoreState().app,_={...(l=window==null?void 0:window.gp)==null?void 0:l.player.state,...Bte()},b=()=>(Ne.trackShowAuthModal(y),g({title:be(a),applyText:be("login"),cancelText:be("cancel")}).then(T=>me.login(T,_)));let E=!1;const C=await(!v&&r&&!pn().withOutAuth&&((d=(u=window.gp)==null?void 0:u.platform)==null?void 0:d.hasIntegratedAuth)?i?b():me.login(!0,_):me.login(!1,_));await C.ready,me.isFirstLaunchGame&&C.state.rating===1100&&C.state.withComputerRating===1100&&(yt.set("rating",wn()),yt.set("withComputerRating",wn()),E=!0);try{yt.get("platform")||(yt.set("platform",me.getPlatformType()||"NONE"),E=!0)}catch(T){Rr.error("Login (get | set) platform catch",T)}!v&&r&&Ne.trackAuthorized(y),await e.setPlayerInterface(C);const M={...C.state,playerData:((f=n.getState().player)==null?void 0:f.playerData)??Is()};if(o&&Mte((m=n.getState().player)==null?void 0:m.playerData)&&(E=!1,await e.updatePlayerData(M)),Bt().feature[we.Online]){if(wB())return!1;!r&&me.isLoggedIn()&&n.getStoreActions().online.startPassiveSearch()}return E&&await yt.sync(),Rr.success("login"),n.getState().isAuthOrGuest}catch(g){return Rr.error("login catch",g),!1}}),onUserChange:Z(async(e,t,n)=>{Rr.info("onUserChange",t),t&&window.location.reload()})},sG={hintsEnabled:null,isMandatoryTaken:null,pgn:null,gameType:null,myColor:null,myTimeLeft:null,opponentTimeLeft:null};var SB=(e=>(e.id="guest0",e))(SB||{});const pfe={_lastSavedGames:{}},vfe=xn.getLogger("PROGRESS_STORE"),yfe={...pfe,isLastGameSaved:ze([(e,t)=>e.lastSavedGame],e=>e&&(e.pgn!==null||e.gameType!==null)),lastSavedGame:ze([e=>e._lastSavedGames,(e,t)=>t.platform.player],(e,t)=>{const n=t&&t.name!=="guest"?t.id:SB.id;return e[n]||sG}),setLastSavedGame:Z(async(e,t,n)=>{const r=n.getStoreState().platform.player,o=r&&r.name!=="guest"?r.id:SB.id;n.getState()._lastSavedGames[o]=t,vfe.info("setLastSavedGame",t)})},ux=e=>{if(!ca)return!1;const t=window.gameArena;try{if(t)return e(t)}catch(n){console.log(n)}return!1},_fe={lastInitLocale:null,afkTimer:null,gameCompleteReason:null,isPause:!1,isPlayerAFK:!1,savedAIMove:null,onlineIndicatorVisible:!1,isGameStartedFromSave:!1,isGameGiveUpFromSave:!1,gameStartedFromAnalytics:!1,timesUp:!1,playedFromAnalyze:!1,playedAfterFatalMove:!1,isImagesLoad:!1,numberOfGamesPlayed:0,isNicksGenerated:!1,isNicksGenerationProcess:!1,isPassiveSearchDisabled:!1,wasPlayingWithComputer:!1},xr=xn.getLogger("SESSION_STORE"),bfe={..._fe,saveAIMove:ue((e,t)=>{e.savedAIMove=t,xr.info("saveAIMove",e.savedAIMove)}),setGameCompleteReason:ue((e,t)=>{e.gameCompleteReason=t,xr.info("setGameCompleteReason",t)}),setPlayedFromAnalyze:ue((e,t)=>{e.playedFromAnalyze=t,xr.info("setPlayedFromAnalyze",t)}),setPlayedAfterFatalMove:ue((e,t)=>{e.playedAfterFatalMove=t,xr.info("setPlayedAfterFatalMove",t)}),setTimesUp:ue((e,t)=>{e.timesUp=t,xr.info("setTimesUp",t)}),setAfkTimer:ue((e,t)=>{e.afkTimer=t,xr.info("setAfkTimer",t)}),setIsGameStartedFromSave:ue((e,t)=>{e.isGameStartedFromSave=t,xr.info("setIsGameStartedFromSave",t)}),setIsGameGiveUpFromSave:ue((e,t)=>{e.isGameGiveUpFromSave=t,xr.info("setIsGameGiveUpFromSave",t)}),setGameStartedFromAnalytics:ue((e,t)=>{e.gameStartedFromAnalytics=t,xr.info("setGameStartedFromAnalytics",t)}),setPassiveSearchDisabled:ue((e,t)=>{e.isPassiveSearchDisabled=t,xr.info("setPassiveSearchDisabled",t)}),setWasPlayingWithComputer:ue((e,t)=>{e.wasPlayingWithComputer=t,xr.info("setWasPlayingWithComputer",t)}),setOnlineIndicatorVisible:ue((e,t)=>{e.onlineIndicatorVisible=t,xr.info("setOnlineIndicatorVisible",e.onlineIndicatorVisible)}),setLastInitLocale:ue((e,t)=>{e.lastInitLocale=t,xr.info("setLastInitLocale",t)}),_setPause:ue((e,t)=>{e.isPause=t}),setPause:Z(async(e,t,n)=>{t?me.gameplayPause(!0):me.gameplayContinue(!0),ux(r=>{t?r.onSoundOff():n.getStoreState().config.saveSoundEnable&&r.onSoundOn()}),e._setPause(t),n.getStoreState().config.saveSoundEnable&&n.getStoreActions().config.setSoundEnabled(!t),n.getStoreState().config.saveMusicEnable&&n.getStoreActions().config.setMusicEnabled(!t),xr.info("setPause",t)}),setIsPlayerAFK:ue((e,t)=>{e.isPlayerAFK=t,xr.info("setIsPlayerAFK",t)}),setIsImagesLoad:ue((e,t)=>{e.isImagesLoad=t,xr.info("setIsImagesLoad",t)}),handlerUserActivity:Z((e,t,n)=>{let r=n.getStoreState().flags.afkTimeout;n.getStoreState().board.gameEngine.history().length<2&&(r=n.getStoreState().flags.afkTimeout1),clearTimeout(n.getState().afkTimer),n.getStoreActions().session.setAfkTimer(setTimeout(()=>{Xr(n.getStoreState().app.gameType)&&n.getStoreState().app.gameState===xe.InGame&&n.getStoreActions().modals.openAFKCancelGameModal()},r*1e3))}),incrementNumberOfGamesPlayed:ue((e,t)=>{e.numberOfGamesPlayed=e.numberOfGamesPlayed+1,xr.info("incrementNumberOfGamesPlayed")}),setNickGenerationProcess:ue((e,t)=>{e.isNicksGenerationProcess=t,t&&(e.isNicksGenerated=!0),xr.info("setNickGenerationProcess",t)}),updateAFKTimer:Z((e,t,n)=>{n.getStoreState().app.gameState===xe.InGame&&n.getStoreState().board.gameEngine.turn()===n.getStoreState().board.myColor&&n.getStoreState().app.gameState===xe.InGame?(["keypress","touchstart","click"].forEach(o=>{window.addEventListener(o,n.getStoreActions().session.handlerUserActivity,!1)}),n.getStoreActions().session.handlerUserActivity()):(clearTimeout(n.getState().afkTimer),["keypress","touchstart","click"].forEach(o=>{window.removeEventListener(o,n.getStoreActions().session.handlerUserActivity,!1)}),n.getStoreActions().session.setAfkTimer(null))})},wfe={products:null},yv=xn.getLogger("PAYMENT_STORE"),Sfe={...wfe,setProducts:ue((e,t)=>{e.products=t,yv.info("setProducts",t)}),loadProducts:Z(async(e,t,n)=>{const r=await me.fetchProducts();yv.success("loadProducts",r),e.setProducts(r)}),purscasePremium:Z(async(e,t,n)=>{z6(t.product);const r=await me.payProduct(t.product);if(typeof r=="object"&&(r!=null&&r.id)){Ne.trackBuyShopItem(t.product.tag,t.source),Y7(),me.isYandex()||n.getStoreActions().modals.openPaymentSuccessModal(r);try{window.gp.ads.closeSticky(),ra.playing}catch{}}else typeof r=="string"&&[Na.EmptyIdOrTag,Na.PlayerNotFound,Na.ProductNotFound,Na.PurchasesNotAllovedOnPlatform].includes(r)&&n.getStoreActions().modals.openPaymentErrorModal();n.getStoreActions().platform.firePremiumChangeTrigger(),yv.success("purscasePremium")}),purscaseProduct:Z(async(e,t,n)=>{z6(t.product);const r=await me.payProduct(t.product);typeof r=="object"&&(r!=null&&r.id)?(Ne.trackBuyShopItem(t.product.tag,t.source),Cde(),me.isYandex()||n.getStoreActions().modals.openPaymentSuccessModal(r)):typeof r=="string"&&[Na.EmptyIdOrTag,Na.PlayerNotFound,Na.ProductNotFound,Na.PurchasesNotAllovedOnPlatform].includes(r)&&n.getStoreActions().modals.openPaymentErrorModal(),n.getStoreActions().platform.firePlayerCoinsChangeTrigger(),n.getStoreActions().platform.firePlayerCashChangeTrigger(),yv.success("purscaseProduct")})},Afe=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""];var Td;(function(e){e.Single="Single",e.AI="AI",e.FakeOnline="FakeOnline",e.TogetherOnline="TogetherOnline",e.Together="Together",e.Online="Online"})(Td||(Td={}));var Y6;(function(e){e.EN="en",e.RU="ru",e.AR="ar",e.DE="de",e.ES="es",e.FR="fr",e.HI="hi",e.ID="id",e.IT="it",e.JA="ja",e.KO="ko",e.PL="pl",e.PT="pt",e.TR="tr",e.VI="vi",e.ZH="zh"})(Y6||(Y6={}));var Lo;(function(e){e.PlayerGiveUp="player_give_up",e.ComputerGiveUp="computer_give_up",e.DrawByAgreement="draw_by_agreement",e.AFK1="afk_1",e.AFK="afk",e.TimeIsUp="time_is_up",e.BrokenConnection="broken_connection",e.BadConnection="bad_connection",e.Custom="custom_reason",e.CompletedOnBoard="complete_on_board"})(Lo||(Lo={}));var K6;(function(e){e.Victory="Victory",e.Defeat="Defeat",e.Draw="Draw"})(K6||(K6={}));var rn;(function(e){e.assertEqual=o=>o;function t(o){}e.assertIs=t;function n(o){throw new Error}e.assertNever=n,e.arrayToEnum=o=>{const i={};for(const a of o)i[a]=a;return i},e.getValidEnumValues=o=>{const i=e.objectKeys(o).filter(l=>typeof o[o[l]]!="number"),a={};for(const l of i)a[l]=o[l];return e.objectValues(a)},e.objectValues=o=>e.objectKeys(o).map(function(i){return o[i]}),e.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const i=[];for(const a in o)Object.prototype.hasOwnProperty.call(o,a)&&i.push(a);return i},e.find=(o,i)=>{for(const a of o)if(i(a))return a},e.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&isFinite(o)&&Math.floor(o)===o;function r(o,i=" | "){return o.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}e.joinValues=r,e.jsonStringifyReplacer=(o,i)=>typeof i=="bigint"?i.toString():i})(rn||(rn={}));var AB;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(AB||(AB={}));const Ye=rn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Cs=e=>{switch(typeof e){case"undefined":return Ye.undefined;case"string":return Ye.string;case"number":return isNaN(e)?Ye.nan:Ye.number;case"boolean":return Ye.boolean;case"function":return Ye.function;case"bigint":return Ye.bigint;case"symbol":return Ye.symbol;case"object":return Array.isArray(e)?Ye.array:e===null?Ye.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Ye.promise:typeof Map<"u"&&e instanceof Map?Ye.map:typeof Set<"u"&&e instanceof Set?Ye.set:typeof Date<"u"&&e instanceof Date?Ye.date:Ye.object;default:return Ye.unknown}},Be=rn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Cfe=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class oi extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(i){return i.message},r={_errors:[]},o=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(o);else if(a.code==="invalid_return_type")o(a.returnTypeError);else if(a.code==="invalid_arguments")o(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let l=r,u=0;for(;u<a.path.length;){const d=a.path[u];u===a.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(a))):l[d]=l[d]||{_errors:[]},l=l[d],u++}}};return o(this),r}static assert(t){if(!(t instanceof oi))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,rn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const o of this.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(t(o))):r.push(t(o));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}oi.create=e=>new oi(e);const Id=(e,t)=>{let n;switch(e.code){case Be.invalid_type:e.received===Ye.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case Be.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,rn.jsonStringifyReplacer)}`;break;case Be.unrecognized_keys:n=`Unrecognized key(s) in object: ${rn.joinValues(e.keys,", ")}`;break;case Be.invalid_union:n="Invalid input";break;case Be.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${rn.joinValues(e.options)}`;break;case Be.invalid_enum_value:n=`Invalid enum value. Expected ${rn.joinValues(e.options)}, received '${e.received}'`;break;case Be.invalid_arguments:n="Invalid function arguments";break;case Be.invalid_return_type:n="Invalid function return type";break;case Be.invalid_date:n="Invalid date";break;case Be.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:rn.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case Be.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case Be.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case Be.custom:n="Invalid input";break;case Be.invalid_intersection_types:n="Intersection results could not be merged";break;case Be.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case Be.not_finite:n="Number must be finite";break;default:n=t.defaultError,rn.assertNever(e)}return{message:n}};let lG=Id;function kfe(e){lG=e}function Ly(){return lG}const Dy=e=>{const{data:t,path:n,errorMaps:r,issueData:o}=e,i=[...n,...o.path||[]],a={...o,path:i};if(o.message!==void 0)return{...o,path:i,message:o.message};let l="";const u=r.filter(d=>!!d).slice().reverse();for(const d of u)l=d(a,{data:t,defaultError:l}).message;return{...o,path:i,message:l}},Efe=[];function Ue(e,t){const n=Ly(),r=Dy({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Id?void 0:Id].filter(o=>!!o)});e.common.issues.push(r)}class eo{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const o of n){if(o.status==="aborted")return Ct;o.status==="dirty"&&t.dirty(),r.push(o.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const o of n){const i=await o.key,a=await o.value;r.push({key:i,value:a})}return eo.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const o of n){const{key:i,value:a}=o;if(i.status==="aborted"||a.status==="aborted")return Ct;i.status==="dirty"&&t.dirty(),a.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||o.alwaysSet)&&(r[i.value]=a.value)}return{status:t.value,value:r}}}const Ct=Object.freeze({status:"aborted"}),sd=e=>({status:"dirty",value:e}),go=e=>({status:"valid",value:e}),CB=e=>e.status==="aborted",kB=e=>e.status==="dirty",eu=e=>e.status==="valid",Cm=e=>typeof Promise<"u"&&e instanceof Promise;function Ny(e,t,n,r){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function cG(e,t,n,r,o){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var dt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(dt||(dt={}));var Ih,Lh;class Ka{constructor(t,n,r,o){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=o}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const X6=(e,t)=>{if(eu(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new oi(e.common.issues);return this._error=n,this._error}}};function $t(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:o}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:o}:{errorMap:(a,l)=>{var u,d;const{message:f}=e;return a.code==="invalid_enum_value"?{message:f??l.defaultError}:typeof l.data>"u"?{message:(u=f??r)!==null&&u!==void 0?u:l.defaultError}:a.code!=="invalid_type"?{message:l.defaultError}:{message:(d=f??n)!==null&&d!==void 0?d:l.defaultError}},description:o}}class Vt{get description(){return this._def.description}_getType(t){return Cs(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Cs(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new eo,ctx:{common:t.parent.common,data:t.data,parsedType:Cs(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Cm(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const o={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Cs(t)},i=this._parseSync({data:t,path:o.path,parent:o});return X6(o,i)}"~validate"(t){var n,r;const o={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Cs(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:o});return eu(i)?{value:i.value}:{issues:o.common.issues}}catch(i){!((r=(n=i==null?void 0:i.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),o.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:o}).then(i=>eu(i)?{value:i.value}:{issues:o.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Cs(t)},o=this._parse({data:t,path:r.path,parent:r}),i=await(Cm(o)?o:Promise.resolve(o));return X6(r,i)}refine(t,n){const r=o=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(o):n;return this._refinement((o,i)=>{const a=t(o),l=()=>i.addIssue({code:Be.custom,...r(o)});return typeof Promise<"u"&&a instanceof Promise?a.then(u=>u?!0:(l(),!1)):a?!0:(l(),!1)})}refinement(t,n){return this._refinement((r,o)=>t(r)?!0:(o.addIssue(typeof n=="function"?n(r,o):n),!1))}_refinement(t){return new ba({schema:this,typeName:wt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Ha.create(this,this._def)}nullable(){return jl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return fa.create(this)}promise(){return Dd.create(this,this._def)}or(t){return Rm.create([this,t],this._def)}and(t){return xm.create(this,t,this._def)}transform(t){return new ba({...$t(this._def),schema:this,typeName:wt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Im({...$t(this._def),innerType:this,defaultValue:n,typeName:wt.ZodDefault})}brand(){return new dx({typeName:wt.ZodBranded,type:this,...$t(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new Lm({...$t(this._def),innerType:this,catchValue:n,typeName:wt.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return xg.create(this,t)}readonly(){return Dm.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Bfe=/^c[^\s-]{8,}$/i,Rfe=/^[0-9a-z]+$/,xfe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Ofe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Mfe=/^[a-z0-9_-]{21}$/i,Pfe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Tfe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Ife=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Lfe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let mk;const Dfe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Nfe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Ffe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Gfe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,jfe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,$fe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,uG="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",zfe=new RegExp(`^${uG}$`);function dG(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function Ufe(e){return new RegExp(`^${dG(e)}$`)}function fG(e){let t=`${uG}T${dG(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function Vfe(e,t){return!!((t==="v4"||!t)&&Dfe.test(e)||(t==="v6"||!t)&&Ffe.test(e))}function qfe(e,t){if(!Pfe.test(e))return!1;try{const[n]=e.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),o=JSON.parse(atob(r));return!(typeof o!="object"||o===null||!o.typ||!o.alg||t&&o.alg!==t)}catch{return!1}}function Qfe(e,t){return!!((t==="v4"||!t)&&Nfe.test(e)||(t==="v6"||!t)&&Gfe.test(e))}class sa extends Vt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Ye.string){const i=this._getOrReturnCtx(t);return Ue(i,{code:Be.invalid_type,expected:Ye.string,received:i.parsedType}),Ct}const r=new eo;let o;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(o=this._getOrReturnCtx(t,o),Ue(o,{code:Be.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")t.data.length>i.value&&(o=this._getOrReturnCtx(t,o),Ue(o,{code:Be.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const a=t.data.length>i.value,l=t.data.length<i.value;(a||l)&&(o=this._getOrReturnCtx(t,o),a?Ue(o,{code:Be.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Ue(o,{code:Be.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")Ife.test(t.data)||(o=this._getOrReturnCtx(t,o),Ue(o,{validation:"email",code:Be.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")mk||(mk=new RegExp(Lfe,"u")),mk.test(t.data)||(o=this._getOrReturnCtx(t,o),Ue(o,{validation:"emoji",code:Be.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")Ofe.test(t.data)||(o=this._getOrReturnCtx(t,o),Ue(o,{validation:"uuid",code:Be.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")Mfe.test(t.data)||(o=this._getOrReturnCtx(t,o),Ue(o,{validation:"nanoid",code:Be.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")Bfe.test(t.data)||(o=this._getOrReturnCtx(t,o),Ue(o,{validation:"cuid",code:Be.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")Rfe.test(t.data)||(o=this._getOrReturnCtx(t,o),Ue(o,{validation:"cuid2",code:Be.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")xfe.test(t.data)||(o=this._getOrReturnCtx(t,o),Ue(o,{validation:"ulid",code:Be.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{o=this._getOrReturnCtx(t,o),Ue(o,{validation:"url",code:Be.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(o=this._getOrReturnCtx(t,o),Ue(o,{validation:"regex",code:Be.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(o=this._getOrReturnCtx(t,o),Ue(o,{code:Be.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(o=this._getOrReturnCtx(t,o),Ue(o,{code:Be.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(o=this._getOrReturnCtx(t,o),Ue(o,{code:Be.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?fG(i).test(t.data)||(o=this._getOrReturnCtx(t,o),Ue(o,{code:Be.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?zfe.test(t.data)||(o=this._getOrReturnCtx(t,o),Ue(o,{code:Be.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?Ufe(i).test(t.data)||(o=this._getOrReturnCtx(t,o),Ue(o,{code:Be.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?Tfe.test(t.data)||(o=this._getOrReturnCtx(t,o),Ue(o,{validation:"duration",code:Be.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?Vfe(t.data,i.version)||(o=this._getOrReturnCtx(t,o),Ue(o,{validation:"ip",code:Be.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?qfe(t.data,i.alg)||(o=this._getOrReturnCtx(t,o),Ue(o,{validation:"jwt",code:Be.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?Qfe(t.data,i.version)||(o=this._getOrReturnCtx(t,o),Ue(o,{validation:"cidr",code:Be.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?jfe.test(t.data)||(o=this._getOrReturnCtx(t,o),Ue(o,{validation:"base64",code:Be.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?$fe.test(t.data)||(o=this._getOrReturnCtx(t,o),Ue(o,{validation:"base64url",code:Be.invalid_string,message:i.message}),r.dirty()):rn.assertNever(i);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(o=>t.test(o),{validation:n,code:Be.invalid_string,...dt.errToObj(r)})}_addCheck(t){return new sa({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...dt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...dt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...dt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...dt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...dt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...dt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...dt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...dt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...dt.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...dt.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...dt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...dt.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...dt.errToObj(t)})}datetime(t){var n,r;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,local:(r=t==null?void 0:t.local)!==null&&r!==void 0?r:!1,...dt.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...dt.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...dt.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...dt.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...dt.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...dt.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...dt.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...dt.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...dt.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...dt.errToObj(n)})}nonempty(t){return this.min(1,dt.errToObj(t))}trim(){return new sa({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new sa({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new sa({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}sa.create=e=>{var t;return new sa({checks:[],typeName:wt.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...$t(e)})};function Hfe(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,o=n>r?n:r,i=parseInt(e.toFixed(o).replace(".","")),a=parseInt(t.toFixed(o).replace(".",""));return i%a/Math.pow(10,o)}class Nl extends Vt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Ye.number){const i=this._getOrReturnCtx(t);return Ue(i,{code:Be.invalid_type,expected:Ye.number,received:i.parsedType}),Ct}let r;const o=new eo;for(const i of this._def.checks)i.kind==="int"?rn.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),Ue(r,{code:Be.invalid_type,expected:"integer",received:"float",message:i.message}),o.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),Ue(r,{code:Be.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),o.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),Ue(r,{code:Be.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),o.dirty()):i.kind==="multipleOf"?Hfe(t.data,i.value)!==0&&(r=this._getOrReturnCtx(t,r),Ue(r,{code:Be.not_multiple_of,multipleOf:i.value,message:i.message}),o.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),Ue(r,{code:Be.not_finite,message:i.message}),o.dirty()):rn.assertNever(i);return{status:o.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,dt.toString(n))}gt(t,n){return this.setLimit("min",t,!1,dt.toString(n))}lte(t,n){return this.setLimit("max",t,!0,dt.toString(n))}lt(t,n){return this.setLimit("max",t,!1,dt.toString(n))}setLimit(t,n,r,o){return new Nl({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:dt.toString(o)}]})}_addCheck(t){return new Nl({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:dt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:dt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:dt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:dt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:dt.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:dt.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:dt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:dt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:dt.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&rn.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Nl.create=e=>new Nl({checks:[],typeName:wt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...$t(e)});class Fl extends Vt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Ye.bigint)return this._getInvalidInput(t);let r;const o=new eo;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),Ue(r,{code:Be.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),o.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),Ue(r,{code:Be.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),o.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),Ue(r,{code:Be.not_multiple_of,multipleOf:i.value,message:i.message}),o.dirty()):rn.assertNever(i);return{status:o.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return Ue(n,{code:Be.invalid_type,expected:Ye.bigint,received:n.parsedType}),Ct}gte(t,n){return this.setLimit("min",t,!0,dt.toString(n))}gt(t,n){return this.setLimit("min",t,!1,dt.toString(n))}lte(t,n){return this.setLimit("max",t,!0,dt.toString(n))}lt(t,n){return this.setLimit("max",t,!1,dt.toString(n))}setLimit(t,n,r,o){return new Fl({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:dt.toString(o)}]})}_addCheck(t){return new Fl({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:dt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:dt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:dt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:dt.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:dt.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Fl.create=e=>{var t;return new Fl({checks:[],typeName:wt.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...$t(e)})};class km extends Vt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Ye.boolean){const r=this._getOrReturnCtx(t);return Ue(r,{code:Be.invalid_type,expected:Ye.boolean,received:r.parsedType}),Ct}return go(t.data)}}km.create=e=>new km({typeName:wt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...$t(e)});class tu extends Vt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Ye.date){const i=this._getOrReturnCtx(t);return Ue(i,{code:Be.invalid_type,expected:Ye.date,received:i.parsedType}),Ct}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Ue(i,{code:Be.invalid_date}),Ct}const r=new eo;let o;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(o=this._getOrReturnCtx(t,o),Ue(o,{code:Be.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(o=this._getOrReturnCtx(t,o),Ue(o,{code:Be.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):rn.assertNever(i);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new tu({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:dt.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:dt.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}tu.create=e=>new tu({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:wt.ZodDate,...$t(e)});class Fy extends Vt{_parse(t){if(this._getType(t)!==Ye.symbol){const r=this._getOrReturnCtx(t);return Ue(r,{code:Be.invalid_type,expected:Ye.symbol,received:r.parsedType}),Ct}return go(t.data)}}Fy.create=e=>new Fy({typeName:wt.ZodSymbol,...$t(e)});class Em extends Vt{_parse(t){if(this._getType(t)!==Ye.undefined){const r=this._getOrReturnCtx(t);return Ue(r,{code:Be.invalid_type,expected:Ye.undefined,received:r.parsedType}),Ct}return go(t.data)}}Em.create=e=>new Em({typeName:wt.ZodUndefined,...$t(e)});class Bm extends Vt{_parse(t){if(this._getType(t)!==Ye.null){const r=this._getOrReturnCtx(t);return Ue(r,{code:Be.invalid_type,expected:Ye.null,received:r.parsedType}),Ct}return go(t.data)}}Bm.create=e=>new Bm({typeName:wt.ZodNull,...$t(e)});class Ld extends Vt{constructor(){super(...arguments),this._any=!0}_parse(t){return go(t.data)}}Ld.create=e=>new Ld({typeName:wt.ZodAny,...$t(e)});class jc extends Vt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return go(t.data)}}jc.create=e=>new jc({typeName:wt.ZodUnknown,...$t(e)});class Ns extends Vt{_parse(t){const n=this._getOrReturnCtx(t);return Ue(n,{code:Be.invalid_type,expected:Ye.never,received:n.parsedType}),Ct}}Ns.create=e=>new Ns({typeName:wt.ZodNever,...$t(e)});class Gy extends Vt{_parse(t){if(this._getType(t)!==Ye.undefined){const r=this._getOrReturnCtx(t);return Ue(r,{code:Be.invalid_type,expected:Ye.void,received:r.parsedType}),Ct}return go(t.data)}}Gy.create=e=>new Gy({typeName:wt.ZodVoid,...$t(e)});class fa extends Vt{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),o=this._def;if(n.parsedType!==Ye.array)return Ue(n,{code:Be.invalid_type,expected:Ye.array,received:n.parsedType}),Ct;if(o.exactLength!==null){const a=n.data.length>o.exactLength.value,l=n.data.length<o.exactLength.value;(a||l)&&(Ue(n,{code:a?Be.too_big:Be.too_small,minimum:l?o.exactLength.value:void 0,maximum:a?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),r.dirty())}if(o.minLength!==null&&n.data.length<o.minLength.value&&(Ue(n,{code:Be.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),r.dirty()),o.maxLength!==null&&n.data.length>o.maxLength.value&&(Ue(n,{code:Be.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,l)=>o.type._parseAsync(new Ka(n,a,n.path,l)))).then(a=>eo.mergeArray(r,a));const i=[...n.data].map((a,l)=>o.type._parseSync(new Ka(n,a,n.path,l)));return eo.mergeArray(r,i)}get element(){return this._def.type}min(t,n){return new fa({...this._def,minLength:{value:t,message:dt.toString(n)}})}max(t,n){return new fa({...this._def,maxLength:{value:t,message:dt.toString(n)}})}length(t,n){return new fa({...this._def,exactLength:{value:t,message:dt.toString(n)}})}nonempty(t){return this.min(1,t)}}fa.create=(e,t)=>new fa({type:e,minLength:null,maxLength:null,exactLength:null,typeName:wt.ZodArray,...$t(t)});function od(e){if(e instanceof zn){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Ha.create(od(r))}return new zn({...e._def,shape:()=>t})}else return e instanceof fa?new fa({...e._def,type:od(e.element)}):e instanceof Ha?Ha.create(od(e.unwrap())):e instanceof jl?jl.create(od(e.unwrap())):e instanceof Xa?Xa.create(e.items.map(t=>od(t))):e}class zn extends Vt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=rn.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==Ye.object){const d=this._getOrReturnCtx(t);return Ue(d,{code:Be.invalid_type,expected:Ye.object,received:d.parsedType}),Ct}const{status:r,ctx:o}=this._processInputParams(t),{shape:i,keys:a}=this._getCached(),l=[];if(!(this._def.catchall instanceof Ns&&this._def.unknownKeys==="strip"))for(const d in o.data)a.includes(d)||l.push(d);const u=[];for(const d of a){const f=i[d],m=o.data[d];u.push({key:{status:"valid",value:d},value:f._parse(new Ka(o,m,o.path,d)),alwaysSet:d in o.data})}if(this._def.catchall instanceof Ns){const d=this._def.unknownKeys;if(d==="passthrough")for(const f of l)u.push({key:{status:"valid",value:f},value:{status:"valid",value:o.data[f]}});else if(d==="strict")l.length>0&&(Ue(o,{code:Be.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const f of l){const m=o.data[f];u.push({key:{status:"valid",value:f},value:d._parse(new Ka(o,m,o.path,f)),alwaysSet:f in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const d=[];for(const f of u){const m=await f.key,g=await f.value;d.push({key:m,value:g,alwaysSet:f.alwaysSet})}return d}).then(d=>eo.mergeObjectSync(r,d)):eo.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(t){return dt.errToObj,new zn({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var o,i,a,l;const u=(a=(i=(o=this._def).errorMap)===null||i===void 0?void 0:i.call(o,n,r).message)!==null&&a!==void 0?a:r.defaultError;return n.code==="unrecognized_keys"?{message:(l=dt.errToObj(t).message)!==null&&l!==void 0?l:u}:{message:u}}}:{}})}strip(){return new zn({...this._def,unknownKeys:"strip"})}passthrough(){return new zn({...this._def,unknownKeys:"passthrough"})}extend(t){return new zn({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new zn({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:wt.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new zn({...this._def,catchall:t})}pick(t){const n={};return rn.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new zn({...this._def,shape:()=>n})}omit(t){const n={};return rn.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new zn({...this._def,shape:()=>n})}deepPartial(){return od(this)}partial(t){const n={};return rn.objectKeys(this.shape).forEach(r=>{const o=this.shape[r];t&&!t[r]?n[r]=o:n[r]=o.optional()}),new zn({...this._def,shape:()=>n})}required(t){const n={};return rn.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Ha;)i=i._def.innerType;n[r]=i}}),new zn({...this._def,shape:()=>n})}keyof(){return hG(rn.objectKeys(this.shape))}}zn.create=(e,t)=>new zn({shape:()=>e,unknownKeys:"strip",catchall:Ns.create(),typeName:wt.ZodObject,...$t(t)});zn.strictCreate=(e,t)=>new zn({shape:()=>e,unknownKeys:"strict",catchall:Ns.create(),typeName:wt.ZodObject,...$t(t)});zn.lazycreate=(e,t)=>new zn({shape:e,unknownKeys:"strip",catchall:Ns.create(),typeName:wt.ZodObject,...$t(t)});class Rm extends Vt{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function o(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const a=i.map(l=>new oi(l.ctx.common.issues));return Ue(n,{code:Be.invalid_union,unionErrors:a}),Ct}if(n.common.async)return Promise.all(r.map(async i=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(o);{let i;const a=[];for(const u of r){const d={...n,common:{...n.common,issues:[]},parent:null},f=u._parseSync({data:n.data,path:n.path,parent:d});if(f.status==="valid")return f;f.status==="dirty"&&!i&&(i={result:f,ctx:d}),d.common.issues.length&&a.push(d.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const l=a.map(u=>new oi(u));return Ue(n,{code:Be.invalid_union,unionErrors:l}),Ct}}get options(){return this._def.options}}Rm.create=(e,t)=>new Rm({options:e,typeName:wt.ZodUnion,...$t(t)});const ws=e=>e instanceof Mm?ws(e.schema):e instanceof ba?ws(e.innerType()):e instanceof Pm?[e.value]:e instanceof Gl?e.options:e instanceof Tm?rn.objectValues(e.enum):e instanceof Im?ws(e._def.innerType):e instanceof Em?[void 0]:e instanceof Bm?[null]:e instanceof Ha?[void 0,...ws(e.unwrap())]:e instanceof jl?[null,...ws(e.unwrap())]:e instanceof dx||e instanceof Dm?ws(e.unwrap()):e instanceof Lm?ws(e._def.innerType):[];class y1 extends Vt{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Ye.object)return Ue(n,{code:Be.invalid_type,expected:Ye.object,received:n.parsedType}),Ct;const r=this.discriminator,o=n.data[r],i=this.optionsMap.get(o);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(Ue(n,{code:Be.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Ct)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const o=new Map;for(const i of n){const a=ws(i.shape[t]);if(!a.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of a){if(o.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);o.set(l,i)}}return new y1({typeName:wt.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:o,...$t(r)})}}function EB(e,t){const n=Cs(e),r=Cs(t);if(e===t)return{valid:!0,data:e};if(n===Ye.object&&r===Ye.object){const o=rn.objectKeys(t),i=rn.objectKeys(e).filter(l=>o.indexOf(l)!==-1),a={...e,...t};for(const l of i){const u=EB(e[l],t[l]);if(!u.valid)return{valid:!1};a[l]=u.data}return{valid:!0,data:a}}else if(n===Ye.array&&r===Ye.array){if(e.length!==t.length)return{valid:!1};const o=[];for(let i=0;i<e.length;i++){const a=e[i],l=t[i],u=EB(a,l);if(!u.valid)return{valid:!1};o.push(u.data)}return{valid:!0,data:o}}else return n===Ye.date&&r===Ye.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class xm extends Vt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),o=(i,a)=>{if(CB(i)||CB(a))return Ct;const l=EB(i.value,a.value);return l.valid?((kB(i)||kB(a))&&n.dirty(),{status:n.value,value:l.data}):(Ue(r,{code:Be.invalid_intersection_types}),Ct)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,a])=>o(i,a)):o(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}xm.create=(e,t,n)=>new xm({left:e,right:t,typeName:wt.ZodIntersection,...$t(n)});class Xa extends Vt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Ye.array)return Ue(r,{code:Be.invalid_type,expected:Ye.array,received:r.parsedType}),Ct;if(r.data.length<this._def.items.length)return Ue(r,{code:Be.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ct;!this._def.rest&&r.data.length>this._def.items.length&&(Ue(r,{code:Be.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((a,l)=>{const u=this._def.items[l]||this._def.rest;return u?u._parse(new Ka(r,a,r.path,l)):null}).filter(a=>!!a);return r.common.async?Promise.all(i).then(a=>eo.mergeArray(n,a)):eo.mergeArray(n,i)}get items(){return this._def.items}rest(t){return new Xa({...this._def,rest:t})}}Xa.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Xa({items:e,typeName:wt.ZodTuple,rest:null,...$t(t)})};class Om extends Vt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Ye.object)return Ue(r,{code:Be.invalid_type,expected:Ye.object,received:r.parsedType}),Ct;const o=[],i=this._def.keyType,a=this._def.valueType;for(const l in r.data)o.push({key:i._parse(new Ka(r,l,r.path,l)),value:a._parse(new Ka(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?eo.mergeObjectAsync(n,o):eo.mergeObjectSync(n,o)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof Vt?new Om({keyType:t,valueType:n,typeName:wt.ZodRecord,...$t(r)}):new Om({keyType:sa.create(),valueType:t,typeName:wt.ZodRecord,...$t(n)})}}class jy extends Vt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Ye.map)return Ue(r,{code:Be.invalid_type,expected:Ye.map,received:r.parsedType}),Ct;const o=this._def.keyType,i=this._def.valueType,a=[...r.data.entries()].map(([l,u],d)=>({key:o._parse(new Ka(r,l,r.path,[d,"key"])),value:i._parse(new Ka(r,u,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const u of a){const d=await u.key,f=await u.value;if(d.status==="aborted"||f.status==="aborted")return Ct;(d.status==="dirty"||f.status==="dirty")&&n.dirty(),l.set(d.value,f.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const u of a){const d=u.key,f=u.value;if(d.status==="aborted"||f.status==="aborted")return Ct;(d.status==="dirty"||f.status==="dirty")&&n.dirty(),l.set(d.value,f.value)}return{status:n.value,value:l}}}}jy.create=(e,t,n)=>new jy({valueType:t,keyType:e,typeName:wt.ZodMap,...$t(n)});class nu extends Vt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Ye.set)return Ue(r,{code:Be.invalid_type,expected:Ye.set,received:r.parsedType}),Ct;const o=this._def;o.minSize!==null&&r.data.size<o.minSize.value&&(Ue(r,{code:Be.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),n.dirty()),o.maxSize!==null&&r.data.size>o.maxSize.value&&(Ue(r,{code:Be.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),n.dirty());const i=this._def.valueType;function a(u){const d=new Set;for(const f of u){if(f.status==="aborted")return Ct;f.status==="dirty"&&n.dirty(),d.add(f.value)}return{status:n.value,value:d}}const l=[...r.data.values()].map((u,d)=>i._parse(new Ka(r,u,r.path,d)));return r.common.async?Promise.all(l).then(u=>a(u)):a(l)}min(t,n){return new nu({...this._def,minSize:{value:t,message:dt.toString(n)}})}max(t,n){return new nu({...this._def,maxSize:{value:t,message:dt.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}nu.create=(e,t)=>new nu({valueType:e,minSize:null,maxSize:null,typeName:wt.ZodSet,...$t(t)});class vd extends Vt{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Ye.function)return Ue(n,{code:Be.invalid_type,expected:Ye.function,received:n.parsedType}),Ct;function r(l,u){return Dy({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Ly(),Id].filter(d=>!!d),issueData:{code:Be.invalid_arguments,argumentsError:u}})}function o(l,u){return Dy({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Ly(),Id].filter(d=>!!d),issueData:{code:Be.invalid_return_type,returnTypeError:u}})}const i={errorMap:n.common.contextualErrorMap},a=n.data;if(this._def.returns instanceof Dd){const l=this;return go(async function(...u){const d=new oi([]),f=await l._def.args.parseAsync(u,i).catch(v=>{throw d.addIssue(r(u,v)),d}),m=await Reflect.apply(a,this,f);return await l._def.returns._def.type.parseAsync(m,i).catch(v=>{throw d.addIssue(o(m,v)),d})})}else{const l=this;return go(function(...u){const d=l._def.args.safeParse(u,i);if(!d.success)throw new oi([r(u,d.error)]);const f=Reflect.apply(a,this,d.data),m=l._def.returns.safeParse(f,i);if(!m.success)throw new oi([o(f,m.error)]);return m.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new vd({...this._def,args:Xa.create(t).rest(jc.create())})}returns(t){return new vd({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new vd({args:t||Xa.create([]).rest(jc.create()),returns:n||jc.create(),typeName:wt.ZodFunction,...$t(r)})}}class Mm extends Vt{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Mm.create=(e,t)=>new Mm({getter:e,typeName:wt.ZodLazy,...$t(t)});class Pm extends Vt{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return Ue(n,{received:n.data,code:Be.invalid_literal,expected:this._def.value}),Ct}return{status:"valid",value:t.data}}get value(){return this._def.value}}Pm.create=(e,t)=>new Pm({value:e,typeName:wt.ZodLiteral,...$t(t)});function hG(e,t){return new Gl({values:e,typeName:wt.ZodEnum,...$t(t)})}class Gl extends Vt{constructor(){super(...arguments),Ih.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return Ue(n,{expected:rn.joinValues(r),received:n.parsedType,code:Be.invalid_type}),Ct}if(Ny(this,Ih)||cG(this,Ih,new Set(this._def.values)),!Ny(this,Ih).has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return Ue(n,{received:n.data,code:Be.invalid_enum_value,options:r}),Ct}return go(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Gl.create(t,{...this._def,...n})}exclude(t,n=this._def){return Gl.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}Ih=new WeakMap;Gl.create=hG;class Tm extends Vt{constructor(){super(...arguments),Lh.set(this,void 0)}_parse(t){const n=rn.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==Ye.string&&r.parsedType!==Ye.number){const o=rn.objectValues(n);return Ue(r,{expected:rn.joinValues(o),received:r.parsedType,code:Be.invalid_type}),Ct}if(Ny(this,Lh)||cG(this,Lh,new Set(rn.getValidEnumValues(this._def.values))),!Ny(this,Lh).has(t.data)){const o=rn.objectValues(n);return Ue(r,{received:r.data,code:Be.invalid_enum_value,options:o}),Ct}return go(t.data)}get enum(){return this._def.values}}Lh=new WeakMap;Tm.create=(e,t)=>new Tm({values:e,typeName:wt.ZodNativeEnum,...$t(t)});class Dd extends Vt{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Ye.promise&&n.common.async===!1)return Ue(n,{code:Be.invalid_type,expected:Ye.promise,received:n.parsedType}),Ct;const r=n.parsedType===Ye.promise?n.data:Promise.resolve(n.data);return go(r.then(o=>this._def.type.parseAsync(o,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Dd.create=(e,t)=>new Dd({type:e,typeName:wt.ZodPromise,...$t(t)});class ba extends Vt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===wt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),o=this._def.effect||null,i={addIssue:a=>{Ue(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),o.type==="preprocess"){const a=o.transform(r.data,i);if(r.common.async)return Promise.resolve(a).then(async l=>{if(n.value==="aborted")return Ct;const u=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return u.status==="aborted"?Ct:u.status==="dirty"||n.value==="dirty"?sd(u.value):u});{if(n.value==="aborted")return Ct;const l=this._def.schema._parseSync({data:a,path:r.path,parent:r});return l.status==="aborted"?Ct:l.status==="dirty"||n.value==="dirty"?sd(l.value):l}}if(o.type==="refinement"){const a=l=>{const u=o.refinement(l,i);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?Ct:(l.status==="dirty"&&n.dirty(),a(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?Ct:(l.status==="dirty"&&n.dirty(),a(l.value).then(()=>({status:n.value,value:l.value}))))}if(o.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!eu(a))return a;const l=o.transform(a.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>eu(a)?Promise.resolve(o.transform(a.value,i)).then(l=>({status:n.value,value:l})):a);rn.assertNever(o)}}ba.create=(e,t,n)=>new ba({schema:e,typeName:wt.ZodEffects,effect:t,...$t(n)});ba.createWithPreprocess=(e,t,n)=>new ba({schema:t,effect:{type:"preprocess",transform:e},typeName:wt.ZodEffects,...$t(n)});class Ha extends Vt{_parse(t){return this._getType(t)===Ye.undefined?go(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ha.create=(e,t)=>new Ha({innerType:e,typeName:wt.ZodOptional,...$t(t)});class jl extends Vt{_parse(t){return this._getType(t)===Ye.null?go(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}jl.create=(e,t)=>new jl({innerType:e,typeName:wt.ZodNullable,...$t(t)});class Im extends Vt{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===Ye.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Im.create=(e,t)=>new Im({innerType:e,typeName:wt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...$t(t)});class Lm extends Vt{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},o=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Cm(o)?o.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new oi(r.common.issues)},input:r.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new oi(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Lm.create=(e,t)=>new Lm({innerType:e,typeName:wt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...$t(t)});class $y extends Vt{_parse(t){if(this._getType(t)!==Ye.nan){const r=this._getOrReturnCtx(t);return Ue(r,{code:Be.invalid_type,expected:Ye.nan,received:r.parsedType}),Ct}return{status:"valid",value:t.data}}}$y.create=e=>new $y({typeName:wt.ZodNaN,...$t(e)});const Wfe=Symbol("zod_brand");class dx extends Vt{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class xg extends Vt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Ct:i.status==="dirty"?(n.dirty(),sd(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const o=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Ct:o.status==="dirty"?(n.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:r.path,parent:r})}}static create(t,n){return new xg({in:t,out:n,typeName:wt.ZodPipeline})}}class Dm extends Vt{_parse(t){const n=this._def.innerType._parse(t),r=o=>(eu(o)&&(o.value=Object.freeze(o.value)),o);return Cm(n)?n.then(o=>r(o)):r(n)}unwrap(){return this._def.innerType}}Dm.create=(e,t)=>new Dm({innerType:e,typeName:wt.ZodReadonly,...$t(t)});function eD(e,t){const n=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof n=="string"?{message:n}:n}function mG(e,t={},n){return e?Ld.create().superRefine((r,o)=>{var i,a;const l=e(r);if(l instanceof Promise)return l.then(u=>{var d,f;if(!u){const m=eD(t,r),g=(f=(d=m.fatal)!==null&&d!==void 0?d:n)!==null&&f!==void 0?f:!0;o.addIssue({code:"custom",...m,fatal:g})}});if(!l){const u=eD(t,r),d=(a=(i=u.fatal)!==null&&i!==void 0?i:n)!==null&&a!==void 0?a:!0;o.addIssue({code:"custom",...u,fatal:d})}}):Ld.create()}const Jfe={object:zn.lazycreate};var wt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(wt||(wt={}));const Zfe=(e,t={message:`Input not instance of ${e.name}`})=>mG(n=>n instanceof e,t),gG=sa.create,pG=Nl.create,Yfe=$y.create,Kfe=Fl.create,vG=km.create,Xfe=tu.create,ehe=Fy.create,the=Em.create,nhe=Bm.create,rhe=Ld.create,ohe=jc.create,ihe=Ns.create,ahe=Gy.create,she=fa.create,lhe=zn.create,che=zn.strictCreate,uhe=Rm.create,dhe=y1.create,fhe=xm.create,hhe=Xa.create,mhe=Om.create,ghe=jy.create,phe=nu.create,vhe=vd.create,yhe=Mm.create,_he=Pm.create,bhe=Gl.create,whe=Tm.create,She=Dd.create,tD=ba.create,Ahe=Ha.create,Che=jl.create,khe=ba.createWithPreprocess,Ehe=xg.create,Bhe=()=>gG().optional(),Rhe=()=>pG().optional(),xhe=()=>vG().optional(),Ohe={string:e=>sa.create({...e,coerce:!0}),number:e=>Nl.create({...e,coerce:!0}),boolean:e=>km.create({...e,coerce:!0}),bigint:e=>Fl.create({...e,coerce:!0}),date:e=>tu.create({...e,coerce:!0})},Mhe=Ct;var qe=Object.freeze({__proto__:null,defaultErrorMap:Id,setErrorMap:kfe,getErrorMap:Ly,makeIssue:Dy,EMPTY_PATH:Efe,addIssueToContext:Ue,ParseStatus:eo,INVALID:Ct,DIRTY:sd,OK:go,isAborted:CB,isDirty:kB,isValid:eu,isAsync:Cm,get util(){return rn},get objectUtil(){return AB},ZodParsedType:Ye,getParsedType:Cs,ZodType:Vt,datetimeRegex:fG,ZodString:sa,ZodNumber:Nl,ZodBigInt:Fl,ZodBoolean:km,ZodDate:tu,ZodSymbol:Fy,ZodUndefined:Em,ZodNull:Bm,ZodAny:Ld,ZodUnknown:jc,ZodNever:Ns,ZodVoid:Gy,ZodArray:fa,ZodObject:zn,ZodUnion:Rm,ZodDiscriminatedUnion:y1,ZodIntersection:xm,ZodTuple:Xa,ZodRecord:Om,ZodMap:jy,ZodSet:nu,ZodFunction:vd,ZodLazy:Mm,ZodLiteral:Pm,ZodEnum:Gl,ZodNativeEnum:Tm,ZodPromise:Dd,ZodEffects:ba,ZodTransformer:ba,ZodOptional:Ha,ZodNullable:jl,ZodDefault:Im,ZodCatch:Lm,ZodNaN:$y,BRAND:Wfe,ZodBranded:dx,ZodPipeline:xg,ZodReadonly:Dm,custom:mG,Schema:Vt,ZodSchema:Vt,late:Jfe,get ZodFirstPartyTypeKind(){return wt},coerce:Ohe,any:rhe,array:she,bigint:Kfe,boolean:vG,date:Xfe,discriminatedUnion:dhe,effect:tD,enum:bhe,function:vhe,instanceof:Zfe,intersection:fhe,lazy:yhe,literal:_he,map:ghe,nan:Yfe,nativeEnum:whe,never:ihe,null:nhe,nullable:Che,number:pG,object:lhe,oboolean:xhe,onumber:Rhe,optional:Ahe,ostring:Bhe,pipeline:Ehe,preprocess:khe,promise:She,record:mhe,set:phe,strictObject:che,string:gG,symbol:ehe,transformer:tD,tuple:hhe,undefined:the,union:uhe,unknown:ohe,void:ahe,NEVER:Mhe,ZodIssueCode:Be,quotelessJson:Cfe,ZodError:oi}),Yn=(e=>(e.OpponentConnected="opponent-connected",e.MakeEmotion="make-emotion",e.MoveEnded="move-ended",e.OnlineCustomEvent="online-custom-event",e.MakeMove="make-move",e.GameEnded="game-ended",e.Ready="ready",e.NewStageStarted="newStageStarted",e.ArenaReady="arenaReady",e))(Yn||{});const Phe={"opponent-connected":qe.object({player:qe.object({id:qe.string().or(qe.number()),name:qe.string(),avatar:qe.string().nullable(),rating:qe.number().int().min(0).max(1e4),isPremium:qe.boolean(),playedCountOnlineGames:qe.number().int().min(0),withComputerRating:qe.number().int().min(0).max(1e4),gameMode:qe.nativeEnum(yn),timeMode:qe.string().refine(e=>{if(e==="-1 -1")return!0;const t=e.split(" ");if(t.length!==2)return!1;const[n,r]=t.map(Number);return!isNaN(n)&&!isNaN(r)&&n>=0&&n<=1800&&r>=0&&r<=20},"  timeMode.   '-1 -1'  'gameTime stepTime',  0 <= gameTime <= 1800  0 <= stepTime <= 20"),boardType:qe.string().or(qe.number()).optional(),betSize:qe.number().min(0).max(2500).optional()}),type:qe.nativeEnum(Dc)}),ready:qe.object({turn:qe.nativeEnum(lt),gameType:qe.nativeEnum(re),inviteSettings:qe.object({timeControl:qe.boolean(),stepTime:qe.number().nonnegative(),gameTime:qe.number().nonnegative(),hintsEnabled:qe.boolean(),handicapEnabled:qe.boolean(),handicapBoardFen:qe.string(),isMandatoryTaken:qe.boolean().optional()}).optional()}),arenaReady:qe.object({position:qe.string(),gameType:qe.enum([re.Online,re.TogetherOnline]),isAllHintsActive:qe.boolean(),boardType:qe.string().optional(),isPlayerTurn:qe.boolean()}),"make-move":qe.object({move:qe.string().min(1),timeLeft:qe.number().nonnegative()}),"move-ended":qe.object({isGameInProcess:qe.boolean()}),"make-emotion":qe.object({emotion:qe.object({e:qe.enum(Afe),s:qe.number().nonnegative().max(100)})}),newStageStarted:qe.object({isPlayerTurn:qe.boolean(),position:qe.string().min(1)}),"game-ended":qe.object({result:qe.nativeEnum(ht),reason:qe.nativeEnum(Lo).or(qe.nativeEnum(Jr)).nullable(),isTimeOut:qe.boolean()}),"online-custom-event":qe.record(qe.unknown())},The={"make-emotion":{...An.moveLimit(5),...An.timeLimit(5)},"move-ended":{...An.moveLimit(1)},"online-custom-event":{...An.moveLimit(15)},"make-move":{...An.moveLimit(1)},"opponent-connected":{...An.gameLimit(1)},ready:{...An.gameLimit(1),...An.timeLimit(15)},arenaReady:{...An.gameLimit(1),...An.timeLimit(15)},newStageStarted:{...An.gameLimit(20),...An.timeLimit(10)},"game-ended":{...An.gameLimit(1),...An.timeLimit(15)}};var fx=(e=>(e.Timeout="timeout",e.Reject="reject",e.Accept="accept",e))(fx||{});const nD=75e3,Ihe=5e3,Lhe=.2;class hx{constructor(t){z(this,"core",uy.getInstance());z(this,"logger");z(this,"name");z(this,"events");z(this,"eventLimiter");z(this,"validator");z(this,"messageReceived$");z(this,"status$");z(this,"data$");z(this,"tcpSender$");z(this,"udpSender$");z(this,"subscriptions",[]);this.logger=cu.getLogger(`PeerMessagesNode/${t.name||"main"}`),this.name=t.name,this.events=t.events,this.eventLimiter=new uY(t.eventLimits),this.validator=new CE(t.validatorSchema),this.messageReceived$=new xi,this.data$=this.messageReceived$.pipe(ta(n=>this.isNodeEvent(n.packet.eventType)),ta(n=>this.validatePacketLimits(n.packet)&&this.isValidPacketFields(n.packet)),uo(n=>n.packet),md(n=>this.logger.debug(" ",n.eventType,n.payload)),uo(n=>{const{event:r}=this.parseEventName(n.eventType);return{...n,eventType:r}}),sm()),this.tcpSender$=new xi,this.udpSender$=new xi,this.udpSender$.pipe(WQ(1e3/60),Oi(),ey(n=>{const r=this.contructEventName(n.eventType);return this.core.sendUDP(r,n.payload)})).subscribe(),this.tcpSender$.pipe(Oi(),ey(n=>{const r=this.contructEventName(n.eventType);return this.core.sendTCP(r,n.payload)})).subscribe(),this.status$=new Po(Un.Closed)}parseEventName(t){const n=t.split("/");return n.length===1?{node:void 0,event:n[0]}:{node:n[0],event:n[1]}}contructEventName(t){return this.name?`${this.name}/${t}`:t}get validation$(){return this.core.validation$}initialize(t){this.logger.info(" ",this.name||"main"),this.core.initialize(t),this.subscriptions.push(this.core.message$.subscribe({next:n=>this.messageReceived$.next(n),error:n=>this.logger.error("   ",n)}))}dispose(){this.logger.info(" ",this.name||"main"),this.core.dispose(),this.subscriptions.forEach(t=>t.unsubscribe())}isNodeEvent(t){const{node:n,event:r}=this.parseEventName(t);return!(this.name!==n||!this.events.includes(r))}validatePacketLimits(t){const n=this.parseEventName(t.eventType).event;return this.eventLimiter.isEventAllowed(n)?!0:(this.logger.error("   ",t.eventType),this.core.validation$.next({eventType:n,payload:t.payload,type:cy.Limit,error:"  "}),!1)}isValidPacketFields(t){const n=this.parseEventName(t.eventType).event,r=this.validator.validate(n,t.payload);return r.valid?!0:(this.logger.error("   ",t.eventType),this.core.validation$.next({eventType:n,payload:t.payload,type:cy.Validation,error:r.error||"Unknown error"}),!1)}resetLimits(t){this.eventLimiter.resetLimits(t)}resetAllLimits(){this.eventLimiter.resetAllLimits()}}var BB=(e=>(e.Question="question",e.Accept="accept",e.Reject="reject",e.Progress="progress",e.Done="done",e.Fail="fail",e))(BB||{}),ho=(e=>(e.DrawRequest="draw-request",e.RematchRequest="rematch-request",e.UndoRequest="undo-request",e.HintRequest="hint-request",e))(ho||{});const Dhe={"draw-request":qe.object({confirm:qe.boolean()}),"rematch-request":qe.object({confirm:qe.boolean()}),"undo-request":qe.object({stage:qe.nativeEnum(BB)}),"hint-request":qe.object({stage:qe.nativeEnum(BB)})},Nhe={"draw-request":{...An.moveLimit(3)},"rematch-request":{...An.gameLimit(1),...An.timeLimit(15)},"undo-request":{...An.moveLimit(1),...An.timeLimit(15)},"hint-request":{...An.moveLimit(1),...An.timeLimit(15)}},RB=new hx({name:"confirmation",events:Object.values(ho),eventLimits:Nhe,validatorSchema:Dhe});var rt=(e=>(e.Question="question",e.Accept="accept",e.Reject="reject",e.Done="done",e.Fail="fail",e))(rt||{}),kn=(e=>(e.UndoRequest="undo-request",e.HintRequest="hint-request",e.FatalUndoRequest="fatal-undo-request",e))(kn||{}),Qh=(e=>(e.UndoProgress="undo-progress",e.HintProgress="hint-progress",e.FatalUndoProgress="fatal-undo=progress",e))(Qh||{});const gk=qe.object({stage:qe.enum(["accept","reject","fail"])}).or(qe.object({stage:qe.literal("done"),payload:qe.record(qe.unknown())})),Fhe={"undo-request":qe.object({stage:qe.literal("question")}),"hint-request":qe.object({stage:qe.literal("question")}),"fatal-undo-request":qe.object({stage:qe.literal("question")}),"undo-progress":gk,"hint-progress":gk,"fatal-undo=progress":gk},yG={"undo-request":{...An.moveLimit(1),...An.gameLimit(5)},"hint-request":{...An.moveLimit(1),...An.gameLimit(5)},"fatal-undo-request":{...An.moveLimit(1),...An.gameLimit(2)},"undo-progress":{},"hint-progress":{},"fatal-undo=progress":{}},ks=new hx({name:"multistage",events:[...Object.values(kn),...Object.values(Qh)],eventLimits:yG,validatorSchema:Fhe}),pk=[rt.Done,rt.Fail,rt.Reject],Ghe=[Un.Closed,Un.Disconnected,Un.Error,Un.Failed];class vk{constructor(t,n){z(this,"stage$",new Po(rt.Done));z(this,"data$");z(this,"question$");z(this,"progress$");z(this,"initLimits");z(this,"currLimits$");z(this,"limited$");z(this,"notAvailable$");z(this,"subs",[]);z(this,"timeout",15e3);z(this,"questionType");z(this,"progressType");z(this,"request",null);this.questionType=t,this.progressType=n,this.initLimits=yG[t],this.currLimits$=new Po(this.initLimits),this.resetAllLimits(),this.data$=ks.data$.pipe(ta(r=>r.eventType===this.progressType),ta(r=>r.payload.stage!==rt.Question),uo(r=>r.payload),uo(r=>r.stage===rt.Done?{stage:rt.Done,payload:r.payload}:{stage:r.stage})),this.question$=ks.data$.pipe(ta(r=>r.eventType===this.questionType),uo(r=>r.payload.stage),ta(r=>r===rt.Question),ta(()=>pk.includes(this.stage$.value)),md(()=>{this.stage$.next(rt.Question)})),this.progress$=this.stage$.pipe(uo(r=>r===rt.Question?this.request!==null:!pk.includes(r)),Oi()),this.limited$=this.currLimits$.pipe(uo(r=>Object.values(r).some(o=>o<=0)),Oi()),this.notAvailable$=ks.status$.pipe(uo(r=>!Ghe.includes(r)),Oi(),ta(r=>!r),uo(()=>{}))}initRequest(t){const n=(o,i)=>{this.stage$.next(o),this.request&&(o===rt.Done?this.request.resolve({stage:o,payload:i||{}}):this.request.resolve({stage:o})),this.clearRequest()},r=()=>{this.stage$.next(rt.Fail),this.request&&this.request.reject({stage:rt.Fail}),this.clearRequest()};pk.includes(t)&&n(t),this.subs.push(this.data$.subscribe(o=>{if(o.stage===rt.Fail)return r();o.stage===rt.Done?n(o.stage,o.payload):n(o.stage)})),this.subs.push(this.notAvailable$.pipe(xv(1)).subscribe(r)),[rt.Accept,rt.Question].includes(t)&&this.subs.push(m2(this.timeout).subscribe(()=>r()))}clearRequest(){this.subs.forEach(t=>t.unsubscribe()),this.subs=[],this.request=null}send(t,n){if(t===rt.Question){if(this.limitReached())return Promise.reject({stage:rt.Fail});this.decrementLimit()}return this.request&&(this.stage$.next(rt.Fail),this.request.reject({stage:rt.Fail}),this.clearRequest()),new Promise((r,o)=>{this.request={resolve:r,reject:o},this.initRequest(t),t===rt.Question?(this.stage$.next(rt.Question),ks.tcpSender$.next({eventType:this.questionType,payload:{stage:t}})):t===rt.Done?ks.tcpSender$.next({eventType:this.progressType,payload:{stage:rt.Done,payload:n||{}}}):ks.tcpSender$.next({eventType:this.progressType,payload:{stage:t}})}).catch(r=>(this.clearRequest(),this.stage$.next(rt.Fail),{stage:rt.Fail}))}decrementLimit(){const t={...this.currLimits$.value};Object.keys(t).forEach(n=>{t[n]=(t[n]||0)-1}),this.currLimits$.next(t)}limitReached(){return Object.values(this.currLimits$.value).some(t=>t<=0)}resetAllLimits(){this.currLimits$.next(this.initLimits)}resetLimits(t){this.initLimits[t]&&this.currLimits$.next({...this.currLimits$.value,[t]:this.initLimits[t]})}fakeRequest(t){if(t===rt.Question){if(this.limitReached())return;this.decrementLimit(),this.request={resolve:()=>{},reject:()=>{}},this.stage$.next(rt.Question)}else this.stage$.next(t)}}class jhe{constructor(){z(this,"states",{[kn.UndoRequest]:new vk(kn.UndoRequest,Qh.UndoProgress),[kn.HintRequest]:new vk(kn.HintRequest,Qh.HintProgress),[kn.FatalUndoRequest]:new vk(kn.FatalUndoRequest,Qh.FatalUndoProgress)});z(this,"undoQuestion$",this.states[kn.UndoRequest].question$);z(this,"hintQuestion$",this.states[kn.HintRequest].question$);z(this,"fatalUndoQuestion$",this.states[kn.FatalUndoRequest].question$);z(this,"undo",{fakeRequest:t=>this.states[kn.UndoRequest].fakeRequest(t),question:()=>this.sendUndoRequest(rt.Question),accept:()=>this.sendUndoRequest(rt.Accept),reject:()=>this.sendUndoRequest(rt.Reject),done:t=>this.sendUndoRequest(rt.Done,t),fail:()=>this.sendUndoRequest(rt.Fail),progress$:this.states[kn.UndoRequest].progress$,limited$:this.states[kn.UndoRequest].limited$,notAvailable$:this.states[kn.UndoRequest].notAvailable$});z(this,"fatalUndo",{fakeRequest:t=>this.states[kn.FatalUndoRequest].fakeRequest(t),question:()=>this.sendFatalUndoRequest(rt.Question),accept:()=>this.sendFatalUndoRequest(rt.Accept),reject:()=>this.sendFatalUndoRequest(rt.Reject),done:t=>this.sendFatalUndoRequest(rt.Done,t),fail:()=>this.sendFatalUndoRequest(rt.Fail),progress$:this.states[kn.FatalUndoRequest].progress$,limited$:this.states[kn.FatalUndoRequest].limited$,notAvailable$:this.states[kn.FatalUndoRequest].notAvailable$});z(this,"hint",{fakeRequest:t=>this.states[kn.HintRequest].fakeRequest(t),question:()=>this.sendHintRequest(rt.Question),accept:()=>this.sendHintRequest(rt.Accept),reject:()=>this.sendHintRequest(rt.Reject),done:t=>this.sendHintRequest(rt.Done,t),fail:()=>this.sendHintRequest(rt.Fail),progress$:this.states[kn.HintRequest].progress$,limited$:this.states[kn.HintRequest].limited$,notAvailable$:this.states[kn.HintRequest].notAvailable$})}async sendUndoRequest(t,n){return this.states[kn.UndoRequest].send(t,n)}async sendHintRequest(t,n){return this.states[kn.HintRequest].send(t,n)}async sendFatalUndoRequest(t,n){return this.states[kn.FatalUndoRequest].send(t,n)}resetAllLimits(){Object.keys(this.states).forEach(t=>{this.states[t].resetAllLimits()})}resetLimits(t){Object.keys(this.states).forEach(n=>{this.states[n].resetLimits(t)})}}const Nt=new jhe;window.multistageService=Nt;const _G=()=>Math.random()*1e3+1e3,yd=()=>Bt().applyZeroBetSize,$he=()=>pn().applyOtherRewardCalendar?"EVERY_DAY_REWARD_7_EXP":"EVERY_DAY_REWARD_7",zhe={[En.Chess]:"810b7fb6-f8f3-41aa-a01e-d0df4974af03",[En.CheckersEn]:"44e91d91-bd06-47af-ab85-a532548d548a",[En.CheckersRu]:"a82204aa-4720-433b-88e6-05f863d1deca",[En.CheckersPoddavki]:"ca652118-0f45-464b-b8b0-0fec759e7bf2",[En.Domino]:"77ab4bc8-8857-4884-82e0-980378df0b07",[En.Saper]:"194abf69-6232-4bd5-aa68-c823460b68c0"}[ts],Vv=new hx({events:Object.values(Yn),eventLimits:The,validatorSchema:Phe}),kl=-1;class Uhe extends u8{constructor(){super(...arguments);z(this,"dataConfirm$",RB.data$);z(this,"confirmSender$",RB.tcpSender$);z(this,"dataMultistage$",ks.data$);z(this,"multistageSender$",ks.tcpSender$);z(this,"ratingDelta",2e3);z(this,"data$",Vv.data$);z(this,"tcpSender$",Vv.tcpSender$);z(this,"udpSender$",Vv.udpSender$);z(this,"_passiveAnswerDisabled",!1)}get ping(){return this.ping$.value}get isLobbyWithAnyTimeMode(){var n,r,o,i;return((r=(n=this.lobby$.value)==null?void 0:n.customData)==null?void 0:r.gameTime)===kl&&((i=(o=this.lobby$.value)==null?void 0:o.customData)==null?void 0:i.stepTime)===kl}updateLobbiesFilter(n){this.lobbiesFilter={$and:[{playerCount:{$eq:"1"}},{activeSearch:{$eq:"true"}},{betSize:{$gte:yd()?0:10,$lte:2500}},this.byRatingFilter(!1,n)]}}byRatingFilter(n,r){const o={rating:{$gte:r-this.ratingDelta,$lte:r+this.ratingDelta}};return n?o:{$or:[{$and:[{byRating:{$eq:"true"}},o]},{$or:[{byRating:{$eq:"false"}},{byRating:{$exists:!1}}]}]}}async activeSearchLobbies(n){this.logger.info("activeSearchLobbies",n);const r=["boardType"],o=Object.keys(n).filter(f=>r.includes(f)),i={$or:[{$and:[{stepTime:{$gte:n.stepTime,$lte:n.stepTime}},{gameTime:{$gte:n.gameTime,$lte:n.gameTime}}]},{$and:[{stepTime:{$eq:kl.toString()}},{gameTime:{$eq:kl.toString()}}]}]},a=o.map(f=>n[f]===Hh?{[f]:{$exists:!0}}:{$or:[{[f]:{$eq:`${n[f]}`}},{[f]:{$eq:Hh}}]}),l=f=>({$and:[{playerCount:{$eq:"1"}},{$and:[{activeSearch:{$eq:f.toString()}},i,this.byRatingFilter((n==null?void 0:n.byRating)||!1,n.rating),...a]}]});console.log(l(!0));const u=await this.getLobbies(l(!0));if(this.logger.info("activeLobbies",u),u.length>0)return{success:!0,activeSearch:!0,lobbies:[u[0].code]};const d=await this.getLobbies(l(!1));return this.logger.info("passiveLobbies",d),d.length>0?{success:!0,activeSearch:!1,lobbies:d.sort((f,m)=>{var g,v;return(((g=f.customData)==null?void 0:g.priority)||0)-(((v=m.customData)==null?void 0:v.priority)||0)}).map(f=>f.code).slice(0,10)}:(this.lobbyCreate$.next({public:!0,payload:n}),{success:!1,activeSearch:!1,lobbies:[]})}get passiveAnswerDisabled(){return this._passiveAnswerDisabled}set passiveAnswerDisabled(n){n&&!this._passiveAnswerDisabled&&this.events.emit(ea.PassiveAnswerDisabled),this._passiveAnswerDisabled=n}async passiveAnswer(n){return this.logger.info("passiveAnswer",n),new Promise(async(r,o)=>{let i=()=>{};const a=[],l=()=>{a.forEach(f=>f.unsubscribe()),this.events.off(ea.Close,i),this.events.off(ea.Disconnected,i),this.events.off(ea.PassiveAnswerDisabled,i)},u=f=>{f.eventType==="ready"&&(this.logger.success("passiveAnswer","success"),r(!0),l())};i=()=>{this.logger.error("passiveAnswer",new Error("handlerError error")),r(!1),l()},a.push(this.data$.subscribe(u)),a.push(this.validation$.subscribe(i)),a.push(this.error$.subscribe(i)),this.events.on(ea.Close,i),this.events.on(ea.Disconnected,i),this.events.on(ea.PassiveAnswerDisabled,i),await this.joinLobby(n)||i()})}resetAllEventLimits(){super.resetAllEventLimits(),Nt.resetAllLimits()}resetEventLimiter(n){super.resetEventLimiter(n),Nt.resetLimits(n)}}const gt=new Uhe({gameId:zhe,nodes:[Vv,RB,ks]});window.p2pService=gt;var In=(e=>(e.Confirmed="Confirmed",e.UnKnown="UnKnown",e.UnConfirmed="UnConfirmed",e))(In||{});class rD{constructor(t=Number.POSITIVE_INFINITY,n=In.UnKnown,r=In.UnKnown){z(this,"initialTimesLeft",Number.POSITIVE_INFINITY);this.timesLeft=t,this.opponent=n,this.player=r,this.initialTimesLeft=this.timesLeft}isConfirmed(){return this.player===In.Confirmed&&this.opponent===In.Confirmed}update(t){return this.opponent=t.opponent??this.opponent,this.player=t.player??this.player,this.isConfirmed()}decrementTimesLeft(){this.timesLeft--}resetTimesLeft(){this.timesLeft=this.initialTimesLeft}reset(){this.opponent=In.UnKnown,this.player=In.UnKnown}isPlayerWaiting(){return this.player===In.UnKnown&&this.opponent!==In.UnKnown}isOpponentWaiting(){return this.opponent===In.UnKnown&&this.player!==In.UnKnown}isConfirmationNow(){return this.isPlayerWaiting()||this.isOpponentWaiting()}}class Vhe{constructor(){z(this,"state$",new xi);z(this,"state",{[ho.DrawRequest]:new rD(3),[ho.RematchRequest]:new rD(1)});z(this,"draw",this.getEventObject(ho.DrawRequest));z(this,"rematch",this.getEventObject(ho.RematchRequest))}update(t,n){const r=this.state[t].update(n);return this.state$.next(this.state),r}reset(t){this.state[t].reset(),this.state$.next(this.state)}getState(t){return this.state[t]}getEventObject(t){return{update:n=>this.update(t,n),player:{confirm:n=>this.update(t,{player:n?In.Confirmed:In.UnConfirmed}),isConfirmed:()=>this.getState(t).player===In.Confirmed,isDefined:()=>this.getState(t).player!==In.UnKnown},opponent:{confirm:n=>this.update(t,{opponent:n?In.Confirmed:In.UnConfirmed}),isConfirmed:()=>this.getState(t).opponent===In.Confirmed,isDefined:()=>this.getState(t).opponent!==In.UnKnown},isConfirmed:()=>this.getState(t).isConfirmed(),reset:()=>this.reset(t),get:()=>this.getState(t),isNow:()=>this.getState(t).isConfirmationNow(),decrementTimesLeft:()=>this.getState(t).decrementTimesLeft(),resetTimesLeft:()=>this.getState(t).resetTimesLeft()}}}const bn=new Vhe,qhe={opponent:null,newOpponent:null,opponentMoveTimeOut:null,opponentFirstMoveTimeOut:null,isSendingMoveProcess:!1,notConnectedWebscoket:!1},qv="-1 -1",Hh="any",qr=xn.getLogger("P2P_STORE"),Qhe={...qhe,player:ze([(e,t)=>t.platform.player,(e,t)=>t.online.gameMode,(e,t)=>t.gameSettings.gameTime,(e,t)=>t.gameSettings.stepTime,(e,t)=>t.gameSettings.anyTimeMode,(e,t)=>t.config.onlineBetSize,(e,t)=>t.platform.premiumChangeTrigger,(e,t)=>t.platform.playerCash],(e,t,n,r,o,i)=>{if(e===null)return null;const a=e.rating??wn(),l=e.withComputerRating??wn();return{id:e.id,name:e.name,avatar:e.avatar,playedCountOnlineGames:e.playerData.blitz.games.total.counts.total,rating:a,withComputerRating:l,gameMode:t,timeMode:o?qv:`${n/60} ${r}`,isPremium:me.isPremium(),betSize:i}}),setSendingMoveProcess:ue((e,t)=>{e.isSendingMoveProcess=t,qr.info("setSendingMoveProcess",t)}),setOpponent:ue((e,t)=>{e.opponent=t,qr.info("setOpponent",t)}),setNotConnectedWebscoket:ue((e,t)=>{e.notConnectedWebscoket=t,qr.info("setNotConnectedWebscoket",t)}),setNewOpponent:ue((e,t)=>{e.newOpponent=t,qr.info("setNewOpponent",t)}),applyNewOpponentIfNeed:Z((e,t,n)=>{const{opponent:r,newOpponent:o}=n.getState();if(o||qr.warn("applyNewOpponentIfNeed","newOpponent is null"),r===null){e.setOpponent(o);return}if((r==null?void 0:r.id)!==(o==null?void 0:o.id)){e.setOpponent(o);return}qr.info("applyNewOpponentIfNeed")}),init:Z(async(e,t,n)=>{try{if(await gt.initialize(),!gt.eventListenersActive){gt.on(ea.Connected,e.onConOpen),gt.on(ea.Close,e.onConClose),gt.on(ea.Disconnected,e.onConClose),gt.error$.subscribe(e.onPeerError),gt.validation$.subscribe(e.onValidationFailed);const r=[];gt.status$.subscribe(o=>{o===Un.Connected&&(r.forEach(i=>i.unsubscribe()),r.length=0,r.push(gt.data$.pipe(uo(i=>({data:i,isCriminal:e.isCriminalDetected(i)})),QQ(i=>!i.isCriminal),uo(i=>i.data)).subscribe(e.onConData)),r.push(Nt.undoQuestion$.subscribe(n.getStoreActions().online.onUndoRequest)),r.push(Nt.hintQuestion$.subscribe(n.getStoreActions().online.onHintRequest)),r.push(Nt.fatalUndoQuestion$.subscribe(n.getStoreActions().online.onFatalUndoRequest)))}),gt.dataConfirm$.subscribe(e.onConConfirmData),gt.eventListenersActive=!0}return e.setNotConnectedWebscoket(!1),!0}catch(r){qr.error("init error",r);try{await gt.dispose()}catch(o){qr.error("init dispose error",o)}return e.setNotConnectedWebscoket(!0),Ne.trackOnlineRejectedPeerConnect(r.message,{deviceType:me.getDeviceType(),onlineState:n.getStoreState().online.onlineState}),!1}}),tryOpenConnectionStepByStep:Z(async(e,t,n)=>{gt.passiveAnswerDisabled=!1;let r=0;do{const o=t[r];if(await gt.passiveAnswer(o))break;r+=1}while(r<t.length&&!gt.passiveAnswerDisabled);r===t.length&&Ne.trackCalledAllPassivePlayersBeforeNextPing(t.length)}),onConOpen:Z((e,t,n)=>{qr.info("onConOpen");const r=n.getState().player;if(r===null){qr.warn("onConOpen","player is null");return}const{onlineState:o}=n.getStoreState().online,{gameType:i}=n.getStoreState().app;e.send({eventType:Yn.OpponentConnected,payload:{player:{...r,...n.getStoreActions().online.serilizeOnlineGameSettings()},type:i===re.TogetherOnline?Dc.Invite:o>xt.OFFLINE&&o<=xt.PASSIVE_SEARCH?Dc.Passive:Dc.Active}})}),onConClose:Z((e,t,n)=>{qr.info("onConClose");const{onlineState:r}=n.getStoreState().online,{gameState:o}=n.getStoreState().app;if(r===xt.PASSIVE_GAME_CONFIRMATION){n.getStoreActions().online.rejectPassiveGameConfirmation(fx.Timeout),!n.getStoreState().session.isPause&&n.getStoreState().online.isPassiveGameConfirmed&&n.getStoreActions().modals.openOnlineGameErrorModal();return}if(o===xe.InGame&&n.getStoreState().session.gameCompleteReason===null){if(e.isCriminalDetected())return;n.getStoreActions().session.setGameCompleteReason(Lo.BrokenConnection)}r>=xt.GAME_PLAY&&n.getStoreActions().online.onExit(ht.Victory)}),onValidationFailed:Z((e,t,n)=>{n.getStoreState().app.gameType!==re.TogetherOnline&&e.replaceGameByCriminal({reason:`validation_failed_${t.type}`,payload:{event:t.eventType}})}),onConData:Z((e,t,n)=>{switch(t.eventType){case Yn.Ready:n.getStoreActions().online.onReady(t.payload);break;case Yn.ArenaReady:n.getStoreActions().online.onArenaReady(t.payload);break;case Yn.NewStageStarted:n.getStoreActions().online.onNewStageStarted(t.payload);break;case Yn.OpponentConnected:n.getStoreActions().online.onOpponentConnected(t.payload);break;case Yn.MakeMove:n.getStoreActions().online.onMakeMove(t.payload);break;case Yn.MakeEmotion:n.getStoreActions().online.onMakeEmotion(t.payload);break;case Yn.OnlineCustomEvent:n.getStoreActions().online.onOnlineCustomEvent(t.payload);break;case Yn.MoveEnded:n.getStoreActions().online.onMoveEnded(t.payload);break;case Yn.GameEnded:e.onGameEnded(t.payload);break;default:qr.warn("unKnownEvent",{data:t})}}),onConConfirmData:Z((e,t,n)=>{switch(t.eventType){case ho.DrawRequest:n.getStoreActions().online.onDrawRequest(t.payload);break;case ho.RematchRequest:n.getStoreActions().online.onRematchRequest(t.payload);break;default:qr.warn("unKnownConfirmationEvent",{payload:t})}}),onPeerError:Z(async(e,t,n)=>{qr.info("onPeerError",t),!(n.getStoreState().online.onlineState===xt.GAME_PLAY&&e.isCriminalDetected())&&n.getStoreState().online.onlineState===xt.WAIT_FRIEND&&!gt.isLobbyCreator&&n.getStoreActions().online.setOfflineState({ignoreGameState:!0,ignorePassive:!0,reason:"con-error-when-invite"})}),send:Z((e,t,n)=>{t.eventType===Yn.MakeMove&&(gt.resetEventLimiter(Bd.Move),t.payload.timeLeft=n.getStoreState().board.playerTimeLeft+gt.ping/1e3*2+.5),gt.tcpSender$.next({eventType:t.eventType,payload:t.payload})}),sendMoveEnded:Z((e,t,n)=>{e.send({eventType:Yn.MoveEnded,payload:{isGameInProcess:t}})}),sendDrawRequest:Z(async(e,t,n)=>{if(bn.draw.player.confirm(t),n.getStoreState().app.gameType===re.FakeOnline){const[r]=await Promise.all([n.getStoreActions().engine.getCurrentScore(),Ic(Math.random()*3e3+1500)]);if(bn.draw.opponent.isConfirmed()){t&&n.getStoreActions().online.setDrawGame();return}const i=50+n.getStoreState().flags.maioDrawProbabilitySpread,a=50-n.getStoreState().flags.maioDrawProbabilitySpread;if($l){const l=r<a||r<i&&Math.random()>.5;n.getStoreActions().online.onDrawRequest({confirm:l})}else{const l=r>i||r>a&&Math.random()>.5;n.getStoreActions().online.onDrawRequest({confirm:l})}}else gt.confirmSender$.next({eventType:ho.DrawRequest,payload:{confirm:t}})}),sendRematchRequest:Z((e,t,n)=>{gt.confirmSender$.next({eventType:ho.RematchRequest,payload:{confirm:t}})}),sendEmotion:Z((e,t,n)=>{e.send({eventType:Yn.MakeEmotion,payload:{emotion:t}})}),isCriminalDetected:Z((e,t,n)=>{if(!n.getStoreState().flags.maioEnabled||n.getStoreState().config.strongerThanBots)return!1;const r=n.getStoreState().online.onlineState,o=n.getStoreState().app.gameState,i=n.getStoreState().app.gameType,a=n.getStoreState().board.playerTimeLeft;if(i===re.TogetherOnline)return!1;const u=n.getStoreState().board.history.length>=n.getStoreState().flags.minMovesNotSwitchToBot,d=r===xt.GAME_PLAY&&o===xe.InGame,f=()=>n.getStoreState().app.gameState===xe.InGame&&n.getStoreState().app.gameType===re.Online,m=n.getStoreActions().board.getEndGameResult(),g=n.getStoreState().board.optionTimeLeft<=0||n.getStoreState().board.playerTimeLeft<=0,v=n.getStoreState().board.timeControl;let y=!1,_="",b={};const E=()=>{const A=n.getStoreState().gameSettings.gameTime*Lhe*1e3;clearTimeout(n.getState().opponentMoveTimeOut),n.getState().opponentMoveTimeOut=setTimeout(()=>{f()&&e.replaceGameByCriminal({reason:"validation_failed",payload:{validation:"too_long_thinking"}})},A)};if(t)switch(t.eventType){case Yn.MakeMove:{gt.ping>5e3?(y=!0,b={validation:"bad_ping"},_="validation_failed"):t.payload.timeLeft>n.getStoreState().board.optionTimeLeft+5&&(y=!0,b={validation:"bad_timeleft"},_="validation_failed"),clearTimeout(n.getState().opponentMoveTimeOut);break}case Yn.MoveEnded:{E();break}case Yn.OpponentConnected:{E();break}case Yn.GameEnded:{d&&!u?(y=!0,_="cancel_game"):d&&t.payload.isTimeOut&&a>0&&(y=!0,b={playerTimeLeft:a},_="bad_time_sync");break}}else d&&!u&&!(m!==null||g&&v)&&(y=!0,_="peer_error",b={});return y?(clearTimeout(n.getState().opponentMoveTimeOut),e.replaceGameByCriminal({reason:_,payload:b})):qr.info("isCriminalNotDetected"),y}),replaceGameByCriminal:Z(async(e,{reason:t,payload:n={}},r)=>{if(!r.getStoreState().flags.maioEnabled||r.getStoreState().config.strongerThanBots)return!1;Ne.trackReplacePlayerOnAI(t,n),r.getStoreActions().online.setOfflineState({reason:"criminal_detected",ignoreGameState:!0,ignorePassive:!0}),await r.getStoreActions().app.replaceFakeOnlineGame(),qr.info("replaceGameByCriminal")}),sendResult:Z(async(e,t,n)=>{throw new Error("   sendResult  ")}),sendMove:Z((e,t,n)=>{e.setSendingMoveProcess(!0),e.send({eventType:Yn.MakeMove,payload:{move:t}})}),onGameEnded:Z(async(e,t,n)=>{if(n.getStoreActions().session.setGameCompleteReason(t.reason),n.getStoreState().app.gameState===xe.InGame&&t.isTimeOut){e.setSendingMoveProcess(!1),clearInterval(n.getStoreState().board.timer);const r=n.getStoreState().board;t.result===ht.Victory?r.optionTimeLeft<10&&n.getStoreActions().board.setOptionTimeLeft(0):t.result===ht.Defeat&&r.playerTimeLeft<10&&n.getStoreActions().board.setPlayerTimeLeft(0),n.getStoreActions().board.setIsTimeRemaining(!1),await n.getStoreActions().app.completeGame(t.result)}}),onReadyTrigger:Hc((e,t)=>t.online.onReady,()=>{gt.resetEventLimiter(Bd.Game)})},Hhe={...Qhe,sendResult:Z((e,t,n)=>{if(!Xr(n.getStoreState().app.gameType))return;const r=n.getStoreState().session.gameCompleteReason;let o=r;r===Lo.PlayerGiveUp&&(o=Lo.ComputerGiveUp),r===Lo.ComputerGiveUp&&(o=Lo.PlayerGiveUp);const i=n.getStoreState().board;e.send({eventType:Yn.GameEnded,payload:{result:t,reason:o,isTimeOut:!i.gameEngine.isGameOver()}})})},Whe={isAnalyticsProgress:!1,moveAnalyzeCache:{},moveArrowsCache:{},analyzeEngines:{},fromOnlineRestart:!1},Jhe=xn.getLogger("ANALYZE_STORE"),Zhe={...Whe,isAnalyzeMode:ze([(e,t)=>t.app.gameState===xe.GameAnalyze],e=>e),restartDisabled:ze([(e,t)=>t.board.history,(e,t)=>t.board.historyOffset,(e,t)=>t.board.myColor],(e,t,n)=>{const r=e[t||0];return t===e.length-2?r.color===n:t===e.length-1}),moveAnalyzeDetails:ze([e=>e.moveAnalyzeCache,(e,t)=>t.board.history,(e,t)=>t.board.historyOffset],(e,t,n)=>{var i;const r=n===null?t.length-1:n,o=(i=t[r])==null?void 0:i.after;return e[o]||{}}),setFromOnlineRestart:ue((e,t)=>{e.fromOnlineRestart=t}),setAnalyticsProgress:ue((e,t)=>{e.isAnalyticsProgress=t}),setMoveAnalyzeCache:ue((e,t)=>{e.moveAnalyzeCache=t}),setMoveAnalyzeCacheByFen:ue((e,{details:t,fen:n})=>{e.moveAnalyzeCache[n]=t}),setMoveArrowsCache:ue((e,t)=>{e.moveArrowsCache=t}),setMoveArrowsCacheByFen:ue((e,{arrows:t,fen:n})=>{e.moveArrowsCache[n]=t}),startAnalyze:Wr(async(e,t,n)=>{const r=n.getStoreState().app.gameType,o=await n.getStoreActions().platform.showRewardedVideo({rewardType:Ja.Analysis,gameType:r}),i=async()=>{const{history:a}=n.getStoreState().board;n.getState().analyzeEngines={},e.setMoveAnalyzeCache({}),e.setMoveArrowsCache({}),await n.getStoreActions().app.setGameState(xe.GameAnalyze),n.getStoreActions().board.setMoveForView({fen:a[0].before,offset:0}),Jhe.info("Analyze started")};o&&await i()}),analyzeCurrentMove:Wr(async(e,t,n)=>{throw new Error("   analyzeCurrentMove   ")}),restartFromCurrPos:Wr(async(e,t,n)=>{throw new Error("   restartFromCurrPos   ")}),onSetMoveForView:Hc((e,t)=>t.board.setMoveForView,async(e,t,n)=>{n.getStoreState().app.gameState===xe.GameAnalyze&&(e.setAnalyticsProgress(!1),await e.analyzeCurrentMove())})};class _1 extends Ne{static trackScrollBackToHistory(){this.trackEvent("scroll_back_to_history")}static trackSwitchMandatoryCapture(t,n){this.trackEvent("switch_mandatory_taken",{mandatory:t,place:n})}static trackResetPriorityToZero(){this.trackEvent("reset_priority_to_0")}static trackPlayerBanned(){this.trackEvent("player_banned")}static trackAnalysisReplay(t){this.trackEvent("analysis_replay",{game_type:t})}}var Xo=(e=>(e.PLAYING="playing",e.DRAW="draw",e.LIGHT_WON="light_won",e.DARK_WON="dark_won",e))(Xo||{}),_n=(e=>(e.LIGHT="0",e.DARK="1",e))(_n||{});class mx{constructor(t,n){z(this,"data");z(this,"strategy");z(this,"_moves");z(this,"_status");this.data=t,this.strategy=n}get status(){return this._status??(this._status=this.strategy.status(this))}get moves(){return this._moves??(this._moves=this.strategy.moves(this))}clone(){return new mx(this.serialize(),this.strategy)}serialize(){return{board:{...this.data.board},store:this.strategy.serializeStore(this.data.store),player:this.data.player,isMandatoryTaken:this.data.isMandatoryTaken}}movesChain(t){return this.strategy.movesChain(this,t)}move(t){this.data=this.strategy.move(this,t),this._moves=void 0,this._status=void 0}isValidMove(t){return this.strategy.isValidMove(this,t)}}const Nm=32,Ie=[];Ie[0]=1;for(let e=1;e<Nm;e++)Ie[e]=Ie[e-1]*2;const bG=4294967295;function vi(e,t){const n=t%Nm;return(e>>>n|e<<Nm-n&bG)>>>0}function yi(e,t){const n=t%Nm;return(e<<n&bG|e>>>Nm-n)>>>0}function xB(e){const t=[];for(let n=1;e;n<<=1)e&n&&(t.push(n>>>0),e^=n);return t}function Ku(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=(e+(e>>>4)&252645135)*16843009>>>24,e}const Yhe="11 05 31 25 10 04 30 24 03 29 23 17 02 28 22 16 27 21 15 09 26 20 14 08 19 13 07 01 18 12 06 00",OB=Yhe.split(" ").map(e=>Number(e)),oD=e=>{const t=(e>>>0).toString(2);return`${new Array(32-t.length).fill(0).join("")}${t}`},Khe=()=>{Error.stackTraceLimit=1/0;const e=new Error().stack;return(e==null?void 0:e.includes("isGameOver"))||(e==null?void 0:e.includes("fromFen"))},Xhe=(e,t)=>{const o=oD(e).split("").reverse().reduce((d,f,m)=>f==="1"?[...d,m]:d,[]).map(d=>OB.indexOf(d)),i=oD(o.reduce((d,f)=>d+2**f,0)),a=Math.floor(Math.sqrt(64)),l="-".repeat(1+a*4);let u=`
${l}
`;for(let d=0;d<64;d++)d%a===0&&(u="|"+u),d%2===(Math.floor(d/8)%2===1?0:1)&&i[Math.floor(d/2)]==="1"?u="  |"+u:u=` ${d%2===(Math.floor(d/8)%2===1?0:1)?"x":" "} |`+u,d%a===a-1&&(u=` 
${l}
`+u);Khe()||console.log(`${t}${u}`)};typeof window<"u"&&(window.visualizeBinaryNum=Xhe);const $c=e=>{const t=Math.floor(e/4),n=(e*2+1-t%2)%8;return`${Wa[n]}${8-t}`},yk=e=>{const t=Wa.indexOf(e[0]),n=8-Number(e[1]);return(t+n%2-1)/2+n*4},Qv=e=>{var t;return{captures:((t=e.captures)==null?void 0:t.map($c))??[],from:$c(e.origin),to:$c(e.destination),_base:!0}},eme=e=>{var t;return{captures:((t=e.captures)==null?void 0:t.map(yk))??[],origin:yk(e.from),destination:yk(e.to)}},Fm=e=>{const t=Object.keys(e).includes("_base")?e:Qv(e),n=t.captures.join(":");return t.captures.length?`${t.from}${t.to}-${n}`:`${t.from}${t.to}`},gx=e=>{const n=(e.split("-")[1]||"").split(":").filter(r=>!!r);return{from:`${e[0]}${e[1]}`,to:`${e[2]}${e[3]}`,captures:n,_base:!0}};var zy=(e=>(e.origin="Or",e.destination="De",e.captures="Ca",e.before="Be",e.after="Af",e.player="Pl",e.board="Bo",e.dark="Da",e.light="Li",e.king="Ki",e.piece="Pi",e.position="Po",e.moves="Ms",e.boards="Bs",e))(zy||{});const tme=e=>Object.keys(zy).filter(t=>zy[t]===e)[0],Uy=(e,t=!1)=>{if(Array.isArray(e))return e.map(n=>Uy(n,t));if(typeof e=="object"){const n={};return Object.keys(e).forEach(r=>{n[t?tme(r):zy[r]]=Uy(e[r],t)}),n}return e};var _k={},iD;function nme(){return iD||(iD=1,function(e,t){if(e.setImmediate)return;var n=1,r={},o=!1,i=e.document,a;function l(A){typeof A!="function"&&(A=new Function(""+A));for(var C=new Array(arguments.length-1),M=0;M<C.length;M++)C[M]=arguments[M+1];var T={callback:A,args:C};return r[n]=T,a(n),n++}function u(A){delete r[A]}function d(A){var C=A.callback,M=A.args;switch(M.length){case 0:C();break;case 1:C(M[0]);break;case 2:C(M[0],M[1]);break;case 3:C(M[0],M[1],M[2]);break;default:C.apply(t,M);break}}function f(A){if(o)setTimeout(f,0,A);else{var C=r[A];if(C){o=!0;try{d(C)}finally{u(A),o=!1}}}}function m(){a=function(A){process.nextTick(function(){f(A)})}}function g(){if(e.postMessage&&!e.importScripts){var A=!0,C=e.onmessage;return e.onmessage=function(){A=!1},e.postMessage("","*"),e.onmessage=C,A}}function v(){var A="setImmediate$"+Math.random()+"$",C=function(M){M.source===e&&typeof M.data=="string"&&M.data.indexOf(A)===0&&f(+M.data.slice(A.length))};e.addEventListener?e.addEventListener("message",C,!1):e.attachEvent("onmessage",C),a=function(M){e.postMessage(A+M,"*")}}function y(){var A=new MessageChannel;A.port1.onmessage=function(C){var M=C.data;f(M)},a=function(C){A.port2.postMessage(C)}}function _(){var A=i.documentElement;a=function(C){var M=i.createElement("script");M.onreadystatechange=function(){f(C),M.onreadystatechange=null,A.removeChild(M),M=null},A.appendChild(M)}}function b(){a=function(A){setTimeout(f,0,A)}}var E=Object.getPrototypeOf&&Object.getPrototypeOf(e);E=E&&E.setTimeout?E:e,{}.toString.call(e.process)==="[object process]"?m():g()?v():e.MessageChannel?y():i&&"onreadystatechange"in i.createElement("script")?_():b(),E.setImmediate=l,E.clearImmediate=u}(typeof self>"u"?typeof Es>"u"?_k:Es:self)),_k}nme();class rme{constructor(t){const n=ome();this.c=1,this.s0=n(" "),this.s1=n(" "),this.s2=n(" "),this.s0-=n(t),this.s0<0&&(this.s0+=1),this.s1-=n(t),this.s1<0&&(this.s1+=1),this.s2-=n(t),this.s2<0&&(this.s2+=1)}next(){const t=2091639*this.s0+this.c*23283064365386963e-26;return this.s0=this.s1,this.s1=this.s2,this.s2=t-(this.c=Math.trunc(t))}}function ome(){let e=4022871197;return function(n){const r=n.toString();for(let o=0;o<r.length;o++){e+=r.charCodeAt(o);let i=.02519603282416938*e;e=i>>>0,i-=e,i*=e,e=i>>>0,i-=e,e+=i*4294967296}return(e>>>0)*23283064365386963e-26}}function aD(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function wG(e,t){const n=new rme(e),r=n.next.bind(n);return t&&aD(t,n),r.state=()=>aD(n,{}),r}class sD{constructor(t){this.state=t||{seed:"0"},this.used=!1}static seed(){return Date.now().toString(36).slice(-10)}isUsed(){return this.used}getState(){return this.state}_random(){this.used=!0;const t=this.state,n=t.prngstate?"":t.seed,r=wG(n,t.prngstate),o=r();return this.state={...t,prngstate:r.state()},o}api(){const t=this._random.bind(this),n={D4:4,D6:6,D8:8,D10:10,D12:12,D20:20},r={};for(const i in n){const a=n[i];r[i]=l=>l===void 0?Math.floor(t()*a)+1:Array.from({length:l}).map(()=>Math.floor(t()*a)+1)}function o(i=6,a){return a===void 0?Math.floor(t()*i)+1:Array.from({length:a}).map(()=>Math.floor(t()*i)+1)}return{...r,Die:o,Number:()=>t(),Shuffle:i=>{const a=[...i];let l=i.length,u=0;const d=Array.from({length:l});for(;l;){const f=Math.trunc(l*t());d[u++]=a[f],a[f]=a[--l]}return d},_private:this}}}const ime={name:"random",noClient:({api:e})=>e._private.isUsed(),flush:({api:e})=>e._private.getState(),api:({data:e})=>new sD(e).api(),setup:({game:e})=>{let{seed:t}=e;return t===void 0&&(t=sD.seed()),{seed:t}},playerView:()=>{}};var bk,lD;function ame(){if(lD)return bk;lD=1;var e="[object Object]";function t(g){var v=!1;if(g!=null&&typeof g.toString!="function")try{v=!!(g+"")}catch{}return v}function n(g,v){return function(y){return g(v(y))}}var r=Function.prototype,o=Object.prototype,i=r.toString,a=o.hasOwnProperty,l=i.call(Object),u=o.toString,d=n(Object.getPrototypeOf,Object);function f(g){return!!g&&typeof g=="object"}function m(g){if(!f(g)||u.call(g)!=e||t(g))return!1;var v=d(g);if(v===null)return!0;var y=a.call(v,"constructor")&&v.constructor;return typeof y=="function"&&y instanceof y&&i.call(y)==l}return bk=m,bk}ame();const px="MAKE_MOVE",b1="GAME_EVENT",vx="REDO",yx="RESET",_x="SYNC",bx="UNDO",wx="UPDATE",Sx="PATCH",SG="PLUGIN",w1="STRIP_TRANSIENTS",AG=(e,t,n,r)=>({type:px,payload:{type:e,args:t,playerID:n,credentials:r}}),Wh=(e,t,n,r)=>({type:b1,payload:{type:e,args:t,playerID:n,credentials:r}}),CG=(e,t,n,r)=>({type:b1,payload:{type:e,args:t,playerID:n,credentials:r},automatic:!0}),kG=e=>({type:_x,state:e.state,log:e.log,initialState:e.initialState,clientOnly:!0}),EG=(e,t,n,r)=>({type:Sx,prevStateID:e,stateID:t,patch:n,deltalog:r,clientOnly:!0}),BG=(e,t)=>({type:wx,state:e,deltalog:t,clientOnly:!0}),RG=e=>({type:yx,state:e,clientOnly:!0}),xG=(e,t)=>({type:bx,payload:{type:null,args:null,playerID:e,credentials:t}}),OG=(e,t)=>({type:vx,payload:{type:null,args:null,playerID:e,credentials:t}}),sme=(e,t,n,r)=>({type:SG,payload:{type:e,args:t,playerID:n,credentials:r}}),MG=()=>({type:w1});var lme=Object.freeze({__proto__:null,makeMove:AG,gameEvent:Wh,automaticGameEvent:CG,sync:kG,patch:EG,update:BG,reset:RG,undo:xG,redo:OG,plugin:sme,stripTransients:MG});const MB="INVALID_MOVE",cme={name:"plugin-immer",fnWrap:e=>(t,...n)=>{let r=!1;const o=y8(t.G,i=>{const a=e({...t,G:i},...n);if(a===MB){r=!0;return}return a});return r?MB:o}};var Zr;(function(e){e.MOVE="MOVE",e.GAME_ON_END="GAME_ON_END",e.PHASE_ON_BEGIN="PHASE_ON_BEGIN",e.PHASE_ON_END="PHASE_ON_END",e.TURN_ON_BEGIN="TURN_ON_BEGIN",e.TURN_ON_MOVE="TURN_ON_MOVE",e.TURN_ON_END="TURN_ON_END"})(Zr||(Zr={}));var Ss;(function(e){e.CalledOutsideHook="Events must be called from moves or the `onBegin`, `onEnd`, and `onMove` hooks.\nThis error probably means you called an event from other game code, like an `endIf` trigger or one of the `turn.order` methods.",e.EndTurnInOnEnd="`endTurn` is disallowed in `onEnd` hooks  the turn is already ending.",e.MaxTurnEndings=`Maximum number of turn endings exceeded for this update.
This likely means game code is triggering an infinite loop.`,e.PhaseEventInOnEnd="`setPhase` & `endPhase` are disallowed in a phases `onEnd` hook  the phase is already ending.\nIf youre trying to dynamically choose the next phase when a phase ends, use the phases `next` trigger.",e.StageEventInOnEnd="`setStage`, `endStage` & `setActivePlayers` are disallowed in `onEnd` hooks.",e.StageEventInPhaseBegin="`setStage`, `endStage` & `setActivePlayers` are disallowed in a phases `onBegin` hook.\nUse `setActivePlayers` in a `turn.onBegin` hook or declare stages with `turn.activePlayers` instead.",e.StageEventInTurnBegin="`setStage` & `endStage` are disallowed in `turn.onBegin`.\nUse `setActivePlayers` or declare stages with `turn.activePlayers` instead."})(Ss||(Ss={}));class ume{constructor(t,n,r){this.flow=t,this.playerID=r,this.dispatch=[],this.initialTurn=n.turn,this.updateTurnContext(n,void 0),this.maxEndedTurnsPerAction=n.numPlayers*100}api(){const t={_private:this};for(const n of this.flow.eventNames)t[n]=(...r)=>{this.dispatch.push({type:n,args:r,phase:this.currentPhase,turn:this.currentTurn,calledFrom:this.currentMethod,error:new Error("Events Plugin Error")})};return t}isUsed(){return this.dispatch.length>0}updateTurnContext(t,n){this.currentPhase=t.phase,this.currentTurn=t.turn,this.currentMethod=n}unsetCurrentMethod(){this.currentMethod=void 0}update(t){const n=t,r=({stack:o},i)=>({...n,plugins:{...n.plugins,events:{...n.plugins.events,data:{error:i+`
`+o}}}});e:for(let o=0;o<this.dispatch.length;o++){const i=this.dispatch[o],a=i.turn!==t.ctx.turn;if(this.currentTurn-this.initialTurn>=this.maxEndedTurnsPerAction)return r(i.error,Ss.MaxTurnEndings);if(i.calledFrom===void 0)return r(i.error,Ss.CalledOutsideHook);if(t.ctx.gameover)break e;switch(i.type){case"endStage":case"setStage":case"setActivePlayers":{switch(i.calledFrom){case Zr.TURN_ON_END:case Zr.PHASE_ON_END:return r(i.error,Ss.StageEventInOnEnd);case Zr.PHASE_ON_BEGIN:return r(i.error,Ss.StageEventInPhaseBegin);case Zr.TURN_ON_BEGIN:if(i.type==="setActivePlayers")break;return r(i.error,Ss.StageEventInTurnBegin)}if(a)continue e;break}case"endTurn":{if(i.calledFrom===Zr.TURN_ON_END||i.calledFrom===Zr.PHASE_ON_END)return r(i.error,Ss.EndTurnInOnEnd);if(a)continue e;break}case"endPhase":case"setPhase":{if(i.calledFrom===Zr.PHASE_ON_END)return r(i.error,Ss.PhaseEventInOnEnd);if(i.phase!==t.ctx.phase)continue e;break}}const u=CG(i.type,i.args,this.playerID);t=this.flow.processEvent(t,u)}return t}}const Ax={name:"events",noClient:({api:e})=>e._private.isUsed(),isInvalid:({data:e})=>e.error||!1,fnWrap:(e,t)=>(n,...r)=>{const o=n.events;o&&o._private.updateTurnContext(n.ctx,t);const i=e(n,...r);return o&&o._private.unsetCurrentMethod(),i},dangerouslyFlushRawState:({state:e,api:t})=>t._private.update(e),api:({game:e,ctx:t,playerID:n})=>new ume(e.flow,t,n).api()},dme={name:"log",flush:()=>({}),api:({data:e})=>({setMetadata:t=>{e.metadata=t}}),setup:()=>({})},fme={name:"plugin-serializable",fnWrap:e=>(t,...n)=>e(t,...n)},hme=(...e)=>console.error(...e);function Kn(e){hme("ERROR:",e)}const Cx=[cme,ime,dme,fme],Og=[...Cx,Ax],mme=(e,t,n)=>(n.game.plugins.filter(r=>r.action!==void 0).filter(r=>r.name===t.payload.type).forEach(r=>{const o=r.name,i=e.plugins[o]||{data:{}},a=r.action(i.data,t.payload);e={...e,plugins:{...e.plugins,[o]:{...i,data:a}}}}),e),Nd=({plugins:e})=>Object.entries(e||{}).reduce((t,[n,{api:r}])=>(t[n]=r,t),{}),PG=(e,t,n)=>[...Cx,...n,Ax].filter(r=>r.fnWrap!==void 0).reduce((r,{fnWrap:o})=>o(r,t),e),gme=(e,t)=>([...Og,...t.game.plugins].filter(n=>n.setup!==void 0).forEach(n=>{const r=n.name,o=n.setup({G:e.G,ctx:e.ctx,game:t.game});e={...e,plugins:{...e.plugins,[r]:{data:o}}}}),e),PB=(e,t)=>([...Og,...t.game.plugins].filter(n=>n.api!==void 0).forEach(n=>{const r=n.name,o=e.plugins[r]||{data:{}},i=n.api({G:e.G,ctx:e.ctx,data:o.data,game:t.game,playerID:t.playerID});e={...e,plugins:{...e.plugins,[r]:{...o,api:i}}}}),e),pme=(e,t)=>([...Cx,...t.game.plugins,Ax].reverse().forEach(n=>{const r=n.name,o=e.plugins[r]||{data:{}};if(n.flush){const i=n.flush({G:e.G,ctx:e.ctx,game:t.game,api:o.api,data:o.data});e={...e,plugins:{...e.plugins,[n.name]:{data:i}}}}else if(n.dangerouslyFlushRawState){e=n.dangerouslyFlushRawState({state:e,game:t.game,api:o.api,data:o.data});const i=e.plugins[r].data;e={...e,plugins:{...e.plugins,[n.name]:{data:i}}}}}),e),vme=(e,t)=>[...Og,...t.game.plugins].filter(n=>n.noClient!==void 0).map(n=>{const r=n.name,o=e.plugins[r];return o?n.noClient({G:e.G,ctx:e.ctx,game:t.game,api:o.api,data:o.data}):!1}).includes(!0),yme=(e,t)=>[...Og,...t.game.plugins].filter(r=>r.isInvalid!==void 0).map(r=>{const{name:o}=r,i=e.plugins[o],a=r.isInvalid({G:e.G,ctx:e.ctx,game:t.game,data:i&&i.data});return a?{plugin:o,message:a}:!1}).find(r=>r)||!1,TG=(e,t)=>{const n=pme(e,t),r=yme(n,t);if(!r)return[n];const{plugin:o,message:i}=r;return Kn(`${o} plugin declared action invalid:
${i}`),[e,r]},_me=({G:e,ctx:t,plugins:n={}},{game:r,playerID:o})=>([...Og,...r.plugins].forEach(({name:i,playerView:a})=>{if(!a)return;const{data:l}=n[i]||{data:{}},u=a({G:e,ctx:t,game:r,data:l,playerID:o});n={...n,[i]:{data:u}}}),n);function Vy(e,t=!1){e.moveLimit&&(t&&(e.minMoves=e.moveLimit),e.maxMoves=e.moveLimit,delete e.moveLimit)}function qy(e,t){let n={},r=[],o=null,i={},a={};if(Array.isArray(t)){const u={};t.forEach(d=>u[d]=Qy.NULL),n=u}else{if(Vy(t),t.next&&(o=t.next),t.revert&&(r=[...e._prevActivePlayers,{activePlayers:e.activePlayers,_activePlayersMinMoves:e._activePlayersMinMoves,_activePlayersMaxMoves:e._activePlayersMaxMoves,_activePlayersNumMoves:e._activePlayersNumMoves}]),t.currentPlayer!==void 0&&_v(n,i,a,e.currentPlayer,t.currentPlayer),t.others!==void 0)for(let u=0;u<e.playOrder.length;u++){const d=e.playOrder[u];d!==e.currentPlayer&&_v(n,i,a,d,t.others)}if(t.all!==void 0)for(let u=0;u<e.playOrder.length;u++){const d=e.playOrder[u];_v(n,i,a,d,t.all)}if(t.value)for(const u in t.value)_v(n,i,a,u,t.value[u]);if(t.minMoves)for(const u in n)i[u]===void 0&&(i[u]=t.minMoves);if(t.maxMoves)for(const u in n)a[u]===void 0&&(a[u]=t.maxMoves)}Object.keys(n).length===0&&(n=null),Object.keys(i).length===0&&(i=null),Object.keys(a).length===0&&(a=null);const l={};for(const u in n)l[u]=0;return{...e,activePlayers:n,_activePlayersMinMoves:i,_activePlayersMaxMoves:a,_activePlayersNumMoves:l,_prevActivePlayers:r,_nextActivePlayers:o}}function bme(e){let{activePlayers:t,_activePlayersMinMoves:n,_activePlayersMaxMoves:r,_activePlayersNumMoves:o,_prevActivePlayers:i,_nextActivePlayers:a}=e;if(t&&Object.keys(t).length===0)if(a)e=qy(e,a),{activePlayers:t,_activePlayersMinMoves:n,_activePlayersMaxMoves:r,_activePlayersNumMoves:o,_prevActivePlayers:i}=e;else if(i.length>0){const l=i.length-1;({activePlayers:t,_activePlayersMinMoves:n,_activePlayersMaxMoves:r,_activePlayersNumMoves:o}=i[l]),i=i.slice(0,l)}else t=null,n=null,r=null;return{...e,activePlayers:t,_activePlayersMinMoves:n,_activePlayersMaxMoves:r,_activePlayersNumMoves:o,_prevActivePlayers:i}}function _v(e,t,n,r,o){(typeof o!="object"||o===Qy.NULL)&&(o={stage:o}),o.stage!==void 0&&(Vy(o),e[r]=o.stage,o.minMoves&&(t[r]=o.minMoves),o.maxMoves&&(n[r]=o.maxMoves))}function TB(e,t){return e[t]+""}function wme(e,t){let{G:n,ctx:r}=e;const{numPlayers:o}=r,a={...Nd(e),G:n,ctx:r},l=t.order;let u=[...Array.from({length:o})].map((g,v)=>v+"");l.playOrder!==void 0&&(u=l.playOrder(a));const d=l.first(a),f=typeof d;f!=="number"&&Kn(`invalid value returned by turn.order.first  expected number got ${f} ${d}.`);const m=TB(u,d);return r={...r,currentPlayer:m,playOrderPos:d,playOrder:u},r=qy(r,t.activePlayers||{}),r}function Sme(e,t,n,r){const o=n.order;let{G:i,ctx:a}=e,l=a.playOrderPos,u=!1;if(r&&r!==!0)typeof r!="object"&&Kn(`invalid argument to endTurn: ${r}`),Object.keys(r).forEach(d=>{switch(d){case"remove":t=TB(a.playOrder,l);break;case"next":l=a.playOrder.indexOf(r.next),t=r.next;break;default:Kn(`invalid argument to endTurn: ${d}`)}});else{const f={...Nd(e),G:i,ctx:a},m=o.next(f),g=typeof m;m!==void 0&&g!=="number"&&Kn(`invalid value returned by turn.order.next  expected number or undefined got ${g} ${m}.`),m===void 0?u=!0:(l=m,t=TB(a.playOrder,l))}return a={...a,playOrderPos:l,currentPlayer:t},{endPhase:u,ctx:a}}const IB={DEFAULT:{first:({ctx:e})=>e.turn===0?e.playOrderPos:(e.playOrderPos+1)%e.playOrder.length,next:({ctx:e})=>(e.playOrderPos+1)%e.playOrder.length},RESET:{first:()=>0,next:({ctx:e})=>(e.playOrderPos+1)%e.playOrder.length},CONTINUE:{first:({ctx:e})=>e.playOrderPos,next:({ctx:e})=>(e.playOrderPos+1)%e.playOrder.length},ONCE:{first:()=>0,next:({ctx:e})=>{if(e.playOrderPos<e.playOrder.length-1)return e.playOrderPos+1}},CUSTOM:e=>({playOrder:()=>e,first:()=>0,next:({ctx:t})=>(t.playOrderPos+1)%t.playOrder.length}),CUSTOM_FROM:e=>({playOrder:({G:t})=>t[e],first:()=>0,next:({ctx:t})=>(t.playOrderPos+1)%t.playOrder.length})},Qy={NULL:null};var wk={},ys={},cD;function IG(){if(cD)return ys;cD=1,Object.defineProperty(ys,"__esModule",{value:!0}),ys.Pointer=ys.escapeToken=ys.unescapeToken=void 0;function e(r){return r.replace(/~1/g,"/").replace(/~0/g,"~")}ys.unescapeToken=e;function t(r){return r.replace(/~/g,"~0").replace(/\//g,"~1")}ys.escapeToken=t;var n=function(){function r(o){o===void 0&&(o=[""]),this.tokens=o}return r.fromJSON=function(o){var i=o.split("/").map(e);if(i[0]!=="")throw new Error("Invalid JSON Pointer: ".concat(o));return new r(i)},r.prototype.toString=function(){return this.tokens.map(t).join("/")},r.prototype.evaluate=function(o){for(var i=null,a="",l=o,u=1,d=this.tokens.length;u<d;u++)i=l,a=this.tokens[u],!(a=="__proto__"||a=="constructor"||a=="prototype")&&(l=(i||{})[a]);return{parent:i,key:a,value:l}},r.prototype.get=function(o){return this.evaluate(o).value},r.prototype.set=function(o,i){var a=this.evaluate(o);a.parent&&(a.parent[a.key]=i)},r.prototype.push=function(o){this.tokens.push(o)},r.prototype.add=function(o){var i=this.tokens.concat(String(o));return new r(i)},r}();return ys.Pointer=n,ys}var Pn={},Sk={},uD;function LG(){return uD||(uD=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.clone=e.objectType=e.hasOwnProperty=void 0,e.hasOwnProperty=Object.prototype.hasOwnProperty;function t(o){return o===void 0?"undefined":o===null?"null":Array.isArray(o)?"array":typeof o}e.objectType=t;function n(o){return o!=null&&typeof o=="object"}function r(o){if(!n(o))return o;if(o.constructor==Array){for(var i=o.length,a=new Array(i),l=0;l<i;l++)a[l]=r(o[l]);return a}if(o.constructor==Date){var u=new Date(+o);return u}var d={};for(var f in o)e.hasOwnProperty.call(o,f)&&(d[f]=r(o[f]));return d}e.clone=r}(Sk)),Sk}var oo={},dD;function DG(){if(dD)return oo;dD=1,Object.defineProperty(oo,"__esModule",{value:!0}),oo.diffAny=oo.diffObjects=oo.diffArrays=oo.intersection=oo.subtract=oo.isDestructive=void 0;var e=LG();function t(f){var m=f.op;return m==="remove"||m==="replace"||m==="copy"||m==="move"}oo.isDestructive=t;function n(f,m){var g={};for(var v in f)e.hasOwnProperty.call(f,v)&&f[v]!==void 0&&(g[v]=1);for(var y in m)e.hasOwnProperty.call(m,y)&&m[y]!==void 0&&delete g[y];return Object.keys(g)}oo.subtract=n;function r(f){for(var m=f.length,g={},v=0;v<m;v++){var y=f[v];for(var _ in y)e.hasOwnProperty.call(y,_)&&y[_]!==void 0&&(g[_]=(g[_]||0)+1)}for(var _ in g)g[_]<m&&delete g[_];return Object.keys(g)}oo.intersection=r;function o(f){return f.op==="add"}function i(f){return f.op==="remove"}function a(f,m){return{operations:f.operations.concat(m),cost:f.cost+1}}function l(f,m,g,v){v===void 0&&(v=d);var y={"0,0":{operations:[],cost:0}};function _(M,T){var I="".concat(M,",").concat(T),P=y[I];if(P===void 0){if(M>0&&T>0&&!v(f[M-1],m[T-1],g.add(String(M-1))).length)P=_(M-1,T-1);else{var B=[];if(M>0){var R=_(M-1,T),x={op:"remove",index:M-1};B.push(a(R,x))}if(T>0){var D=_(M,T-1),$={op:"add",index:M-1,value:m[T-1]};B.push(a(D,$))}if(M>0&&T>0){var U=_(M-1,T-1),j={op:"replace",index:M-1,original:f[M-1],value:m[T-1]};B.push(a(U,j))}var G=B.sort(function(q,Q){return q.cost-Q.cost})[0];P=G}y[I]=P}return P}var b=isNaN(f.length)||f.length<=0?0:f.length,E=isNaN(m.length)||m.length<=0?0:m.length,A=_(b,E).operations,C=A.reduce(function(M,T){var I=M[0],P=M[1];if(o(T)){var B=T.index+1+P,R=B<b+P?String(B):"-",x={op:T.op,path:g.add(R).toString(),value:T.value};return[I.concat(x),P+1]}else if(i(T)){var x={op:T.op,path:g.add(String(T.index+P)).toString()};return[I.concat(x),P-1]}else{var D=g.add(String(T.index+P)),$=v(T.original,T.value,D);return[I.concat.apply(I,$),P]}},[[],0])[0];return C}oo.diffArrays=l;function u(f,m,g,v){v===void 0&&(v=d);var y=[];return n(f,m).forEach(function(_){y.push({op:"remove",path:g.add(_).toString()})}),n(m,f).forEach(function(_){y.push({op:"add",path:g.add(_).toString(),value:m[_]})}),r([f,m]).forEach(function(_){y.push.apply(y,v(f[_],m[_],g.add(_)))}),y}oo.diffObjects=u;function d(f,m,g,v){if(v===void 0&&(v=d),f===m)return[];var y=(0,e.objectType)(f),_=(0,e.objectType)(m);return y=="array"&&_=="array"?l(f,m,g,v):y=="object"&&_=="object"?u(f,m,g,v):[{op:"replace",path:g.toString(),value:m}]}return oo.diffAny=d,oo}var fD;function Ame(){if(fD)return Pn;fD=1;var e=Pn&&Pn.__extends||function(){var b=function(E,A){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,M){C.__proto__=M}||function(C,M){for(var T in M)Object.prototype.hasOwnProperty.call(M,T)&&(C[T]=M[T])},b(E,A)};return function(E,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");b(E,A);function C(){this.constructor=E}E.prototype=A===null?Object.create(A):(C.prototype=A.prototype,new C)}}();Object.defineProperty(Pn,"__esModule",{value:!0}),Pn.apply=Pn.InvalidOperationError=Pn.test=Pn.copy=Pn.move=Pn.replace=Pn.remove=Pn.add=Pn.TestError=Pn.MissingError=void 0;var t=IG(),n=LG(),r=DG(),o=function(b){e(E,b);function E(A){var C=b.call(this,"Value required at path: ".concat(A))||this;return C.path=A,C.name="MissingError",C}return E}(Error);Pn.MissingError=o;var i=function(b){e(E,b);function E(A,C){var M=b.call(this,"Test failed: ".concat(A," != ").concat(C))||this;return M.actual=A,M.expected=C,M.name="TestError",M}return E}(Error);Pn.TestError=i;function a(b,E,A){if(Array.isArray(b))if(E=="-")b.push(A);else{var C=parseInt(E,10);b.splice(C,0,A)}else b[E]=A}function l(b,E){if(Array.isArray(b)){var A=parseInt(E,10);b.splice(A,1)}else delete b[E]}function u(b,E){var A=t.Pointer.fromJSON(E.path).evaluate(b);return A.parent===void 0?new o(E.path):(a(A.parent,A.key,(0,n.clone)(E.value)),null)}Pn.add=u;function d(b,E){var A=t.Pointer.fromJSON(E.path).evaluate(b);return A.value===void 0?new o(E.path):(l(A.parent,A.key),null)}Pn.remove=d;function f(b,E){var A=t.Pointer.fromJSON(E.path).evaluate(b);if(A.parent===null)return new o(E.path);if(Array.isArray(A.parent)){if(parseInt(A.key,10)>=A.parent.length)return new o(E.path)}else if(A.value===void 0)return new o(E.path);return A.parent[A.key]=(0,n.clone)(E.value),null}Pn.replace=f;function m(b,E){var A=t.Pointer.fromJSON(E.from).evaluate(b);if(A.value===void 0)return new o(E.from);var C=t.Pointer.fromJSON(E.path).evaluate(b);return C.parent===void 0?new o(E.path):(l(A.parent,A.key),a(C.parent,C.key,A.value),null)}Pn.move=m;function g(b,E){var A=t.Pointer.fromJSON(E.from).evaluate(b);if(A.value===void 0)return new o(E.from);var C=t.Pointer.fromJSON(E.path).evaluate(b);return C.parent===void 0?new o(E.path):(a(C.parent,C.key,(0,n.clone)(A.value)),null)}Pn.copy=g;function v(b,E){var A=t.Pointer.fromJSON(E.path).evaluate(b);return(0,r.diffAny)(A.value,E.value,new t.Pointer).length?new i(A.value,E.value):null}Pn.test=v;var y=function(b){e(E,b);function E(A){var C=b.call(this,"Invalid operation: ".concat(A.op))||this;return C.operation=A,C.name="InvalidOperationError",C}return E}(Error);Pn.InvalidOperationError=y;function _(b,E){switch(E.op){case"add":return u(b,E);case"remove":return d(b,E);case"replace":return f(b,E);case"move":return m(b,E);case"copy":return g(b,E);case"test":return v(b,E)}return new y(E)}return Pn.apply=_,Pn}var hD;function Cme(){return hD||(hD=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createTests=e.createPatch=e.applyPatch=e.Pointer=void 0;var t=IG();Object.defineProperty(e,"Pointer",{enumerable:!0,get:function(){return t.Pointer}});var n=Ame(),r=DG();function o(d,f){return f.map(function(m){return(0,n.apply)(d,m)})}e.applyPatch=o;function i(d){function f(m,g,v){var y=d(m,g,v);return Array.isArray(y)?y:(0,r.diffAny)(m,g,v,f)}return f}function a(d,f,m){var g=new t.Pointer;return(m?i(m):r.diffAny)(d,f,g)}e.createPatch=a;function l(d,f){var m=t.Pointer.fromJSON(f).evaluate(d);if(m!==void 0)return{op:"test",path:f,value:m.value}}function u(d,f){var m=new Array;return f.filter(r.isDestructive).forEach(function(g){var v=l(d,g.path);if(v&&m.push(v),"from"in g){var y=l(d,g.from);y&&m.push(y)}}),m}e.createTests=u}(wk)),wk}var kme=Cme();function Eme({moves:e,phases:t,endIf:n,onEnd:r,turn:o,events:i,plugins:a}){e===void 0&&(e={}),i===void 0&&(i={}),a===void 0&&(a=[]),t===void 0&&(t={}),n||(n=()=>{}),r||(r=({G:H})=>H),o||(o={});const l={...t};""in l&&Kn("cannot specify phase with empty name"),l[""]={};const u={},d=new Set;let f=null;Object.keys(e).forEach(H=>d.add(H));const m=(H,te)=>{const le=PG(H,te,a);return Ve=>{const _e=Nd(Ve);return le({..._e,G:Ve.G,ctx:Ve.ctx,playerID:Ve.playerID})}},g=H=>te=>{const le=Nd(te);return H({...le,G:te.G,ctx:te.ctx})},v={onEnd:m(r,Zr.GAME_ON_END),endIf:g(n)};for(const H in l){const te=l[H];if(te.start===!0&&(f=H),te.moves!==void 0)for(const le of Object.keys(te.moves))u[H+"."+le]=te.moves[le],d.add(le);te.endIf===void 0&&(te.endIf=()=>{}),te.onBegin===void 0&&(te.onBegin=({G:le})=>le),te.onEnd===void 0&&(te.onEnd=({G:le})=>le),te.turn===void 0&&(te.turn=o),te.turn.order===void 0&&(te.turn.order=IB.DEFAULT),te.turn.onBegin===void 0&&(te.turn.onBegin=({G:le})=>le),te.turn.onEnd===void 0&&(te.turn.onEnd=({G:le})=>le),te.turn.endIf===void 0&&(te.turn.endIf=()=>!1),te.turn.onMove===void 0&&(te.turn.onMove=({G:le})=>le),te.turn.stages===void 0&&(te.turn.stages={}),Vy(te.turn,!0);for(const le in te.turn.stages){const _e=te.turn.stages[le].moves||{};for(const Ee of Object.keys(_e)){const ft=H+"."+le+"."+Ee;u[ft]=_e[Ee],d.add(Ee)}}if(te.wrapped={onBegin:m(te.onBegin,Zr.PHASE_ON_BEGIN),onEnd:m(te.onEnd,Zr.PHASE_ON_END),endIf:g(te.endIf)},te.turn.wrapped={onMove:m(te.turn.onMove,Zr.TURN_ON_MOVE),onBegin:m(te.turn.onBegin,Zr.TURN_ON_BEGIN),onEnd:m(te.turn.onEnd,Zr.TURN_ON_END),endIf:g(te.turn.endIf)},typeof te.next!="function"){const{next:le}=te;te.next=()=>le||null}te.wrapped.next=g(te.next)}function y(H){return H.phase?l[H.phase]:l[""]}function _(H){return H}function b(H,te){const le=new Set,Ve=new Set;for(let _e=0;_e<te.length;_e++){const{fn:Ee,arg:ft,...Kt}=te[_e];if(Ee===$){Ve.clear();const Sn=H.ctx.phase;if(le.has(Sn)){const ur={...H.ctx,phase:null};return{...H,ctx:ur}}le.add(Sn)}const Fn=[];if(H=Ee(H,{...Kt,arg:ft,next:Fn}),Ee===D)break;const dn=B(H);if(dn){te.push({fn:D,arg:dn,turn:H.ctx.turn,phase:H.ctx.phase,automatic:!0});continue}const tn=R(H);if(tn){te.push({fn:$,arg:tn,turn:H.ctx.turn,phase:H.ctx.phase,automatic:!0});continue}if([_,I,P].includes(Ee)){const Sn=x(H);if(Sn){te.push({fn:U,arg:Sn,turn:H.ctx.turn,phase:H.ctx.phase,automatic:!0});continue}}te.push(...Fn)}return H}function E(H,{next:te}){return te.push({fn:A}),H}function A(H,{next:te}){let{G:le,ctx:Ve}=H;return le=y(Ve).wrapped.onBegin(H),te.push({fn:C}),{...H,G:le,ctx:Ve}}function C(H,{currentPlayer:te}){let{ctx:le}=H;const Ve=y(le);te?(le={...le,currentPlayer:te},Ve.turn.activePlayers&&(le=qy(le,Ve.turn.activePlayers))):le=wme(H,Ve.turn);const _e=le.turn+1;le={...le,turn:_e,numMoves:0,_prevActivePlayers:[]};const Ee=Ve.turn.wrapped.onBegin({...H,ctx:le});return{...H,G:Ee,ctx:le,_undo:[],_redo:[]}}function M(H,{arg:te,next:le,phase:Ve}){const _e=y({phase:Ve});let{ctx:Ee}=H;if(te&&te.next)if(te.next in l)Ee={...Ee,phase:te.next};else return Kn("invalid phase: "+te.next),H;else Ee={...Ee,phase:_e.wrapped.next(H)||null};return H={...H,ctx:Ee},le.push({fn:A}),H}function T(H,{arg:te,currentPlayer:le,next:Ve}){let{G:_e,ctx:Ee}=H;const ft=y(Ee),{endPhase:Kt,ctx:Fn}=Sme(H,le,ft.turn,te);return Ee=Fn,H={...H,G:_e,ctx:Ee},Kt?Ve.push({fn:$,turn:Ee.turn,phase:Ee.phase}):Ve.push({fn:C,currentPlayer:Ee.currentPlayer}),H}function I(H,{arg:te,playerID:le}){if((typeof te=="string"||te===Qy.NULL)&&(te={stage:te}),typeof te!="object")return H;Vy(te);let{ctx:Ve}=H,{activePlayers:_e,_activePlayersMinMoves:Ee,_activePlayersMaxMoves:ft,_activePlayersNumMoves:Kt}=Ve;return te.stage!==void 0&&(_e===null&&(_e={}),_e[le]=te.stage,Kt[le]=0,te.minMoves&&(Ee===null&&(Ee={}),Ee[le]=te.minMoves),te.maxMoves&&(ft===null&&(ft={}),ft[le]=te.maxMoves)),Ve={...Ve,activePlayers:_e,_activePlayersMinMoves:Ee,_activePlayersMaxMoves:ft,_activePlayersNumMoves:Kt},{...H,ctx:Ve}}function P(H,{arg:te}){return{...H,ctx:qy(H.ctx,te)}}function B(H){return v.endIf(H)}function R(H){return y(H.ctx).wrapped.endIf(H)}function x(H){const te=y(H.ctx),le=H.ctx.numMoves||0;return te.turn.maxMoves&&le>=te.turn.maxMoves?!0:te.turn.wrapped.endIf(H)}function D(H,{arg:te,phase:le}){H=$(H,{}),te===void 0&&(te=!0),H={...H,ctx:{...H.ctx,gameover:te}};const Ve=v.onEnd(H);return{...H,G:Ve}}function $(H,{arg:te,next:le,turn:Ve,automatic:_e}){H=U(H,{turn:Ve,force:!0,automatic:!0});const{phase:Ee,turn:ft}=H.ctx;if(le&&le.push({fn:M,arg:te,phase:Ee}),Ee===null)return H;const Fn=y(H.ctx).wrapped.onEnd(H),dn={...H.ctx,phase:null},tn=Wh("endPhase",te),{_stateID:Sn}=H,ur={action:tn,_stateID:Sn,turn:ft,phase:Ee};_e&&(ur.automatic=!0);const zo=[...H.deltalog||[],ur];return{...H,G:Fn,ctx:dn,deltalog:zo}}function U(H,{arg:te,next:le,turn:Ve,force:_e,automatic:Ee,playerID:ft}){if(Ve!==H.ctx.turn)return H;const{currentPlayer:Kt,numMoves:Fn,phase:dn,turn:tn}=H.ctx,Sn=y(H.ctx),ur=Fn||0;if(!_e&&Sn.turn.minMoves&&ur<Sn.turn.minMoves)return`${Sn.turn.minMoves}`,H;const zo=Sn.turn.wrapped.onEnd(H);le&&le.push({fn:T,arg:te,currentPlayer:Kt});let Uo={...H.ctx,activePlayers:null};if(te&&te.remove){ft=ft||Kt;const po=Uo.playOrder.filter(as=>as!=ft),mu=Uo.playOrderPos>po.length-1?0:Uo.playOrderPos;if(Uo={...Uo,playOrder:po,playOrderPos:mu},po.length===0)return le.push({fn:$,turn:tn,phase:dn}),H}const Vs=Wh("endTurn",te),{_stateID:Wl}=H,Gi={action:Vs,_stateID:Wl,turn:tn,phase:dn};Ee&&(Gi.automatic=!0);const Dn=[...H.deltalog||[],Gi];return{...H,G:zo,ctx:Uo,deltalog:Dn,_undo:[],_redo:[]}}function j(H,{arg:te,next:le,automatic:Ve,playerID:_e}){_e=_e||H.ctx.currentPlayer;let{ctx:Ee,_stateID:ft}=H,{activePlayers:Kt,_activePlayersNumMoves:Fn,_activePlayersMinMoves:dn,_activePlayersMaxMoves:tn,phase:Sn,turn:ur}=Ee;const zo=Kt!==null&&_e in Kt,Uo=y(Ee);if(!te&&zo){const po=Uo.turn.stages[Kt[_e]];po&&po.next&&(te=po.next)}if(le&&le.push({fn:I,arg:te,playerID:_e}),!zo)return H;const Vs=Fn[_e]||0;if(dn&&dn[_e]&&Vs<dn[_e])return`${dn[_e]}`,H;Kt={...Kt},delete Kt[_e],dn&&(dn={...dn},delete dn[_e]),tn&&(tn={...tn},delete tn[_e]),Ee=bme({...Ee,activePlayers:Kt,_activePlayersMinMoves:dn,_activePlayersMaxMoves:tn});const Gi={action:Wh("endStage",te),_stateID:ft,turn:ur,phase:Sn};Ve&&(Gi.automatic=!0);const Dn=[...H.deltalog||[],Gi];return{...H,ctx:Ee,deltalog:Dn}}function G(H,te,le){const Ve=y(H),_e=Ve.turn.stages,{activePlayers:Ee}=H;if(Ee&&Ee[le]!==void 0&&Ee[le]!==Qy.NULL&&_e[Ee[le]]!==void 0&&_e[Ee[le]].moves!==void 0){const Kt=_e[Ee[le]].moves;if(te in Kt)return Kt[te]}else if(Ve.moves){if(te in Ve.moves)return Ve.moves[te]}else if(te in e)return e[te];return null}function q(H,te){const{playerID:le,type:Ve}=te,{currentPlayer:_e,activePlayers:Ee,_activePlayersMaxMoves:ft}=H.ctx,Kt=G(H.ctx,Ve,le),Fn=!Kt||typeof Kt=="function"||Kt.noLimit!==!0;let{numMoves:dn,_activePlayersNumMoves:tn}=H.ctx;Fn&&(le===_e&&dn++,Ee&&tn[le]++),H={...H,ctx:{...H.ctx,numMoves:dn,_activePlayersNumMoves:tn}},ft&&tn[le]>=ft[le]&&(H=j(H,{playerID:le,automatic:!0}));const ur=y(H.ctx).turn.wrapped.onMove({...H,playerID:le});return H={...H,G:ur},b(H,[{fn:_}])}function Q(H,te,le){return b(H,[{fn:j,arg:le,playerID:te}])}function F(H,te){return b(H,[{fn:j,playerID:te}])}function W(H,te,le){return b(H,[{fn:P,arg:le}])}function Y(H,te,le){return b(H,[{fn:$,phase:H.ctx.phase,turn:H.ctx.turn,arg:{next:le}}])}function N(H){return b(H,[{fn:$,phase:H.ctx.phase,turn:H.ctx.turn}])}function V(H,te,le){return b(H,[{fn:U,turn:H.ctx.turn,phase:H.ctx.phase,arg:le}])}function X(H,te,le){return b(H,[{fn:U,turn:H.ctx.turn,phase:H.ctx.phase,force:!0,arg:le}])}function oe(H,te,le){return b(H,[{fn:D,turn:H.ctx.turn,phase:H.ctx.phase,arg:le}])}const ce={endStage:F,setStage:Q,endTurn:V,pass:X,endPhase:N,setPhase:Y,endGame:oe,setActivePlayers:W},he=[];i.endTurn!==!1&&he.push("endTurn"),i.pass!==!1&&he.push("pass"),i.endPhase!==!1&&he.push("endPhase"),i.setPhase!==!1&&he.push("setPhase"),i.endGame!==!1&&he.push("endGame"),i.setActivePlayers!==!1&&he.push("setActivePlayers"),i.endStage!==!1&&he.push("endStage"),i.setStage!==!1&&he.push("setStage");function ye(H,te){const{type:le,playerID:Ve,args:_e}=te.payload;return typeof ce[le]!="function"?H:ce[le](H,Ve,...Array.isArray(_e)?_e:[_e])}function Fe(H,te,le){return te.activePlayers?le in te.activePlayers:te.currentPlayer===le}return{ctx:H=>({numPlayers:H,turn:0,currentPlayer:"0",playOrder:[...Array.from({length:H})].map((te,le)=>le+""),playOrderPos:0,phase:f,activePlayers:null}),init:H=>b(H,[{fn:E}]),isPlayerActive:Fe,eventHandlers:ce,eventNames:Object.keys(ce),enabledEventNames:he,moveMap:u,moveNames:[...d.values()],processMove:q,processEvent:ye,getMove:G}}function Bme(e){return e.processMove!==void 0}function kx(e){if(Bme(e))return e;if(e.name===void 0&&(e.name="default"),e.deltaState===void 0&&(e.deltaState=!1),e.disableUndo===void 0&&(e.disableUndo=!1),e.setup===void 0&&(e.setup=()=>({})),e.moves===void 0&&(e.moves={}),e.playerView===void 0&&(e.playerView=({G:n})=>n),e.plugins===void 0&&(e.plugins=[]),e.plugins.forEach(n=>{if(n.name===void 0)throw new Error("Plugin missing name attribute");if(n.name.includes(" "))throw new Error(n.name+": Plugin name must not include spaces")}),e.name.includes(" "))throw new Error(e.name+": Game name must not include spaces");const t=Eme(e);return{...e,flow:t,moveNames:t.moveNames,pluginNames:e.plugins.map(n=>n.name),processMove:(n,r)=>{let o=t.getMove(n.ctx,r.type,r.playerID);if(Rme(o)&&(o=o.move),o instanceof Function){const i=PG(o,Zr.MOVE,e.plugins);let a=[];r.args!==void 0&&(a=Array.isArray(r.args)?r.args:[r.args]);const l={...Nd(n),G:n.G,ctx:n.ctx,playerID:r.playerID};return i(l,...a)}return Kn(`invalid move object: ${r.type}`),n.G}}}function Rme(e){return e instanceof Object&&e.move!==void 0}var LB;(function(e){e.UnauthorizedAction="update/unauthorized_action",e.MatchNotFound="update/match_not_found",e.PatchFailed="update/patch_failed"})(LB||(LB={}));var Hr;(function(e){e.StaleStateId="action/stale_state_id",e.UnavailableMove="action/unavailable_move",e.InvalidMove="action/invalid_move",e.InactivePlayer="action/inactive_player",e.GameOver="action/gameover",e.ActionDisabled="action/action_disabled",e.ActionInvalid="action/action_invalid",e.PluginActionInvalid="action/plugin_invalid"})(Hr||(Hr={}));const bv=e=>e.payload.playerID!==null&&e.payload.playerID!==void 0,xme=(e,t,n)=>{function r(i){return i.undoable!==void 0}function o(i){return i instanceof Function}return r(n)?o(n.undoable)?n.undoable({G:e,ctx:t}):n.undoable:!0};function mD(e,t){if(t.game.disableUndo)return e;const n={G:e.G,ctx:e.ctx,plugins:e.plugins,playerID:t.action.payload.playerID||e.ctx.currentPlayer};return t.action.type==="MAKE_MOVE"&&(n.moveType=t.action.payload.type),{...e,_undo:[...e._undo,n],_redo:[]}}function Ak(e,t,n){const r={action:t,_stateID:e._stateID,turn:e.ctx.turn,phase:e.ctx.phase},o=e.plugins.log.data.metadata;return o!==void 0&&(r.metadata=o),typeof n=="object"&&n.redact===!0?r.redact=!0:typeof n=="object"&&n.redact instanceof Function&&(r.redact=n.redact({G:e.G,ctx:e.ctx})),{...e,deltalog:[r]}}function Ck(e,t,n){const[r,o]=TG(e,n);return o?[r,ao(t,Hr.PluginActionInvalid,o)]:[r]}function NG(e){if(!e)return[null,void 0];const{transients:t,...n}=e;return[n,t]}function ao(e,t,n){return{...e,transients:{error:{type:t,payload:n}}}}const Ome=e=>t=>n=>{const r=t(n);switch(n.type){case w1:return r;default:{const[,o]=NG(e.getState());return typeof o<"u"?(e.dispatch(MG()),{...r,transients:o}):r}}};function FG({game:e,isClient:t}){return e=kx(e),(n=null,r)=>{let[o]=NG(n);switch(r.type){case w1:return o;case b1:{if(o={...o,deltalog:[]},t)return o;if(o.ctx.gameover!==void 0)return Kn("cannot call event after game end"),ao(o,Hr.GameOver);if(bv(r)&&!e.flow.isPlayerActive(o.G,o.ctx,r.payload.playerID))return Kn(`disallowed event: ${r.payload.type}`),ao(o,Hr.InactivePlayer);o=PB(o,{game:e,playerID:r.payload.playerID});let i=e.flow.processEvent(o,r),a;return[i,a]=Ck(i,o,{game:e}),a||(i=mD(i,{game:e,action:r}),{...i,_stateID:o._stateID+1})}case px:{const i=o={...o,deltalog:[]},a=e.flow.getMove(o.ctx,r.payload.type,r.payload.playerID||o.ctx.currentPlayer);if(a===null)return Kn(`disallowed move: ${r.payload.type}`),ao(o,Hr.UnavailableMove);if(t&&a.client===!1)return o;if(o.ctx.gameover!==void 0)return Kn("cannot make move after game end"),ao(o,Hr.GameOver);if(bv(r)&&!e.flow.isPlayerActive(o.G,o.ctx,r.payload.playerID))return Kn(`disallowed move: ${r.payload.type}`),ao(o,Hr.InactivePlayer);o=PB(o,{game:e,playerID:r.payload.playerID});const l=e.processMove(o,r.payload);if(l===MB)return Kn(`invalid move: ${r.payload.type} args: ${r.payload.args}`),ao(o,Hr.InvalidMove);const u={...o,G:l};if(t&&vme(u,{game:e}))return o;if(o=u,t){let f;return[o,f]=Ck(o,i,{game:e}),f||{...o,_stateID:o._stateID+1}}o=Ak(o,r,a),o=e.flow.processMove(o,r.payload);let d;return[o,d]=Ck(o,i,{game:e}),d||(o=mD(o,{game:e,action:r}),{...o,_stateID:o._stateID+1})}case yx:case wx:case _x:return r.state;case bx:{if(o={...o,deltalog:[]},e.disableUndo)return Kn("Undo is not enabled"),ao(o,Hr.ActionDisabled);const{G:i,ctx:a,_undo:l,_redo:u,_stateID:d}=o;if(l.length<2)return Kn("No moves to undo"),ao(o,Hr.ActionInvalid);const f=l[l.length-1],m=l[l.length-2];if(bv(r)&&r.payload.playerID!==f.playerID)return Kn("Cannot undo other players' moves"),ao(o,Hr.ActionInvalid);if(f.moveType){const g=e.flow.getMove(m.ctx,f.moveType,f.playerID);if(!xme(i,a,g))return Kn("Move cannot be undone"),ao(o,Hr.ActionInvalid)}return o=Ak(o,r),{...o,G:m.G,ctx:m.ctx,plugins:m.plugins,_stateID:d+1,_undo:l.slice(0,-1),_redo:[f,...u]}}case vx:{if(o={...o,deltalog:[]},e.disableUndo)return Kn("Redo is not enabled"),ao(o,Hr.ActionDisabled);const{_undo:i,_redo:a,_stateID:l}=o;if(a.length===0)return Kn("No moves to redo"),ao(o,Hr.ActionInvalid);const u=a[0];return bv(r)&&r.payload.playerID!==u.playerID?(Kn("Cannot redo other players' moves"),ao(o,Hr.ActionInvalid)):(o=Ak(o,r),{...o,G:u.G,ctx:u.ctx,plugins:u.plugins,_stateID:l+1,_undo:[...i,u],_redo:a.slice(1)})}case SG:return mme(o,r,{game:e});case Sx:{const i=o,a=JSON.parse(JSON.stringify(i)),l=kme.applyPatch(a,r.patch);return l.some(d=>d!==null)?(Kn(`Patch ${JSON.stringify(r.patch)} apply failed`),ao(i,LB.PatchFailed,l)):a}default:return o}}}class Mme{constructor({enumerate:t,seed:n}){this.enumerateFn=t,this.seed=n,this.iterationCounter=0,this._opts={}}addOpt({key:t,range:n,initial:r}){this._opts[t]={range:n,value:r}}getOpt(t){return this._opts[t].value}setOpt(t,n){t in this._opts&&(this._opts[t].value=n)}opts(){return this._opts}enumerate(t,n,r){const o=this.enumerateFn(t,n,r);return o?o.map(i=>{if("payload"in i)return i;if("move"in i)return AG(i.move,i.args,r);if("event"in i)return Wh(i.event,i.args,r)}):[]}random(t){let n;if(this.seed!==void 0){const r=this.prngstate?"":this.seed,o=wG(r,this.prngstate);n=o(),this.prngstate=o.state()}else n=Math.random();if(t)if(Array.isArray(t)){const r=Math.floor(n*t.length);return t[r]}else return Math.floor(n*t);return n}}const Pme=25;class Tme extends Mme{constructor({enumerate:t,seed:n,objectives:r,game:o,iterations:i,playoutDepth:a,iterationCallback:l,isAsync:u=!0,isInstantForSingleAction:d=!0}){super({enumerate:t,seed:n}),this.isStopped=!1,r===void 0&&(r=()=>({})),this.objectives=r,this.iterationCallback=l||(()=>{}),this.reducer=FG({game:o}),this.iterations=i,this.playoutDepth=a,this.isInstantForSingleAction=d,this.addOpt({key:"async",initial:u??!1}),this.addOpt({key:"iterations",initial:typeof i=="number"?i:1e3,range:{min:1,max:2e3}}),this.addOpt({key:"playoutDepth",initial:typeof a=="number"?a:50,range:{min:1,max:100}})}createNode({state:t,parentAction:n,parent:r,playerID:o}){const{G:i,ctx:a}=t;let l=[],u=[];if(o!==void 0)l=this.enumerate(i,a,o),u=this.objectives(i,a,o);else if(a.activePlayers)for(const d in a.activePlayers)l.push(...this.enumerate(i,a,d)),u.push(this.objectives(i,a,d));else l=this.enumerate(i,a,a.currentPlayer),u=this.objectives(i,a,a.currentPlayer);return{state:t,parent:r,parentAction:n,actions:l,objectives:u,children:[],visits:0,value:0}}select(t){if(t.actions.length>0||t.children.length===0)return t;let n=null,r=0;for(const o of t.children){const i=o.visits+Number.EPSILON,a=o.value/i+Math.sqrt(2*Math.log(t.visits)/i);(n==null||a>r)&&(r=a,n=o)}return this.select(n)}expand(t){const n=t.actions;if(n.length===0||t.state.ctx.gameover!==void 0)return t;const r=this.random(n.length),o=n[r];t.actions.splice(r,1);const i=this.reducer(t.state,o),a=this.createNode({state:i,parentAction:o,parent:t});return t.children.push(a),a}playout({state:t}){let n=this.getOpt("playoutDepth");typeof this.playoutDepth=="function"&&(n=this.playoutDepth(t.G,t.ctx));for(let r=0;r<n&&t.ctx.gameover===void 0;r++){const{G:o,ctx:i}=t;let a=i.currentPlayer;i.activePlayers&&(a=Object.keys(i.activePlayers)[0]);const l=this.enumerate(o,i,a),u=this.objectives(o,i,a),d=Object.keys(u).reduce((g,v)=>{const y=u[v];return y.checker(o,i)?g+y.weight:g},0);if(d>0)return{score:d};if(!l||l.length===0)return;const f=this.random(l.length);t=this.reducer(t,l[f])}return t.ctx.gameover}backpropagate(t,n={}){t.visits++,n.score!==void 0&&(t.value+=n.score),n.draw===!0&&(t.value+=.5),t.parentAction&&n.winner===t.parentAction.payload.playerID&&t.value++,t.parent&&this.backpropagate(t.parent,n)}play(t,n,r,o,i){const a=this.createNode({state:t,playerID:n});let l=this.isInstantForSingleAction&&a.actions.length<=1?1:this.getOpt("iterations");typeof this.iterations=="function"&&(l=this.iterations(t.G,t.ctx)),this.isStopped=!1;let u,d;r!==void 0&&(u=setTimeout(()=>{this.isStopped=!0},r)),o!==void 0&&i!==void 0&&(d=setInterval(()=>{i(m())},o));const f=()=>this.iterationCounter<l&&!this.isStopped,m=()=>{let g=null;for(const b of a.children)(g==null||b.visits>g.visits)&&(g=b);const v=g==null?void 0:g.parentAction,y=g&&g.value>=0&&g.visits>0?g.value/g.visits*100:50;return{action:v,metadata:a,percent:y}};return new Promise(g=>{const v=()=>{for(let _=0;_<Pme&&f();_++){const b=this.select(a),E=this.expand(b),A=this.playout(E);this.backpropagate(E,A),this.iterationCounter++}this.iterationCallback({iterationCounter:this.iterationCounter,numIterations:l,metadata:a})};this.iterationCounter=0;const y=()=>{u!==void 0&&clearTimeout(u),d!==void 0&&clearInterval(d),g(m())};if(this.getOpt("async")){const _=()=>{f()?(v(),setImmediate(_)):y()};_()}else{for(;f();)v();y()}})}}let Ime="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Lme=(e=21)=>{let t="",n=e|0;for(;n--;)t+=Ime[Math.random()*64|0];return t};function Dme({game:e,numPlayers:t,setupData:n}){e=kx(e),t||(t=2);const r=e.flow.ctx(t);let o={G:{},ctx:r,plugins:{}};o=gme(o,{game:e}),o=PB(o,{game:e,playerID:void 0});const i=Nd(o);o.G=e.setup({...i,ctx:o.ctx},n);let a={...o,_undo:[],_redo:[],_stateID:0};return a=e.flow.init(a),[a]=TG(a,{game:e}),e.disableUndo||(a._undo=[{G:a.G,ctx:a.ctx,plugins:a.plugins}]),a}class Nme{constructor({transportDataCallback:t,gameName:n,playerID:r,matchID:o,credentials:i,numPlayers:a}){this.connectionStatusCallback=()=>{},this.isConnected=!1,this.transportDataCallback=t,this.gameName=n||"default",this.playerID=r||null,this.matchID=o||"default",this.credentials=i,this.numPlayers=a||2}subscribeToConnectionStatus(t){this.connectionStatusCallback=t}setConnectionStatus(t){this.isConnected=t,this.connectionStatusCallback()}notifyClient(t){this.transportDataCallback(t)}}class Fme extends Nme{connect(){}disconnect(){}sendAction(){}sendChatMessage(){}requestSync(){}updateCredentials(){}updateMatchID(){}updatePlayerID(){}}const Gme=e=>new Fme(e);class jme{constructor(){this.debugPanel=null,this.currentClient=null,this.clients=new Map,this.subscribers=new Map}register(t){this.clients.set(t,t),this.mountDebug(t),this.notifySubscribers()}unregister(t){if(this.clients.delete(t),this.currentClient===t){this.unmountDebug();for(const[n]of this.clients){if(this.debugPanel)break;this.mountDebug(n)}}this.notifySubscribers()}subscribe(t){const n=Symbol();return this.subscribers.set(n,t),t(this.getState()),()=>{this.subscribers.delete(n)}}switchPlayerID(t){if(this.currentClient.multiplayer){for(const[n]of this.clients)if(n.playerID===t&&n.debugOpt!==!1&&n.multiplayer===this.currentClient.multiplayer){this.switchToClient(n);return}}this.currentClient.updatePlayerID(t),this.notifySubscribers()}switchToClient(t){t!==this.currentClient&&(this.unmountDebug(),this.mountDebug(t),this.notifySubscribers())}notifySubscribers(){const t=this.getState();this.subscribers.forEach(n=>{n(t)})}getState(){return{client:this.currentClient,debuggableClients:this.getDebuggableClients()}}getDebuggableClients(){return[...this.clients.values()].filter(t=>t.debugOpt!==!1)}mountDebug(t){if(t.debugOpt===!1||this.debugPanel!==null||typeof document>"u")return;let n,r=document.body;t.debugOpt&&t.debugOpt!==!0&&(n=t.debugOpt.impl||n,r=t.debugOpt.target||r),n&&(this.currentClient=t,this.debugPanel=new n({target:r,props:{clientManager:this}}))}unmountDebug(){this.debugPanel.$destroy(),this.debugPanel=null,this.currentClient=null}}const $me=new jme;function DB(e,t,n){return!n&&e==null&&(e=t.getState().ctx.currentPlayer),e}function Ex(e,t,n,r,o,i){const a={};for(const l of t)a[l]=(...u)=>{const d=lme[e](l,u,DB(r,n,i),o);n.dispatch(d)};return a}const zme=Ex.bind(null,"makeMove"),Ume=Ex.bind(null,"gameEvent"),Vme=Ex.bind(null,"plugin");class qme{constructor({game:t,debug:n,numPlayers:r,multiplayer:o,matchID:i,playerID:a,credentials:l,enhancer:u}){this.game=kx(t),this.playerID=a,this.matchID=i||"default",this.credentials=l,this.multiplayer=o,this.debugOpt=n,this.manager=$me,this.gameStateOverride=null,this.subscribers={},this._running=!1,this.reducer=FG({game:this.game,isClient:o!==void 0}),this.initialState=null,o||(this.initialState=Dme({game:this.game,numPlayers:r})),this.reset=()=>{this.store.dispatch(RG(this.initialState))},this.undo=()=>{const v=xG(DB(this.playerID,this.store,this.multiplayer),this.credentials);this.store.dispatch(v)},this.redo=()=>{const v=OG(DB(this.playerID,this.store,this.multiplayer),this.credentials);this.store.dispatch(v)},this.log=[];const g=_X(Ome,()=>v=>y=>{const _=v(y);return this.notifySubscribers(),_},v=>y=>_=>{const b=v.getState(),E=y(_);return!("clientOnly"in _)&&_.type!==w1&&this.transport.sendAction(b,_),E},v=>y=>_=>{const b=y(_),E=v.getState();switch(_.type){case px:case b1:case bx:case vx:{const A=E.deltalog;this.log=[...this.log,...A];break}case yx:{this.log=[];break}case Sx:case wx:{let A=-1;this.log.length>0&&(A=this.log[this.log.length-1]._stateID);let C=_.deltalog||[];C=C.filter(M=>M._stateID>A),this.log=[...this.log,...C];break}case _x:{this.initialState=_.initialState,this.log=_.log||[];break}}return b});u=u!==void 0?E8(g,u):g,this.store=z2(this.reducer,this.initialState,u),o||(o=Gme),this.transport=o({transportDataCallback:v=>this.receiveTransportData(v),gameKey:t,game:this.game,matchID:i,playerID:a,credentials:l,gameName:this.game.name,numPlayers:r}),this.createDispatchers(),this.chatMessages=[],this.sendChatMessage=v=>{this.transport.sendChatMessage(this.matchID,{id:Lme(7),sender:this.playerID,payload:v})}}receiveMatchData(t){this.matchData=t,this.notifySubscribers()}receiveChatMessage(t){this.chatMessages=[...this.chatMessages,t],this.notifySubscribers()}receiveTransportData(t){const[n]=t.args;if(n===this.matchID)switch(t.type){case"sync":{const[,r]=t.args,o=kG(r);this.receiveMatchData(r.filteredMetadata),this.store.dispatch(o);break}case"update":{const[,r,o]=t.args,i=this.store.getState();if(r._stateID>=i._stateID){const a=BG(r,o);this.store.dispatch(a)}break}case"patch":{const[,r,o,i,a]=t.args,l=this.store.getState()._stateID;if(r!==l)break;const u=EG(r,o,i,a);this.store.dispatch(u),this.store.getState()._stateID===l&&this.transport.requestSync();break}case"matchData":{const[,r]=t.args;this.receiveMatchData(r);break}case"chat":{const[,r]=t.args;this.receiveChatMessage(r);break}}}notifySubscribers(){Object.values(this.subscribers).forEach(t=>t(this.getState()))}overrideGameState(t){this.gameStateOverride=t,this.notifySubscribers()}start(){this.transport.connect(),this._running=!0,this.manager.register(this)}stop(){this.transport.disconnect(),this._running=!1,this.manager.unregister(this)}subscribe(t){const n=Object.keys(this.subscribers).length;return this.subscribers[n]=t,this.transport.subscribeToConnectionStatus(()=>this.notifySubscribers()),(this._running||!this.multiplayer)&&t(this.getState()),()=>{delete this.subscribers[n]}}getInitialState(){return this.initialState}getState(){let t=this.store.getState();if(this.gameStateOverride!==null&&(t=this.gameStateOverride),t===null)return t;let n=!0;const r=this.game.flow.isPlayerActive(t.G,t.ctx,this.playerID);return this.multiplayer&&!r&&(n=!1),!this.multiplayer&&this.playerID!==null&&this.playerID!==void 0&&!r&&(n=!1),t.ctx.gameover!==void 0&&(n=!1),this.multiplayer||(t={...t,G:this.game.playerView({G:t.G,ctx:t.ctx,playerID:this.playerID}),plugins:_me(t,this)}),{...t,log:this.log,isActive:n,isConnected:this.transport.isConnected}}createDispatchers(){this.moves=zme(this.game.moveNames,this.store,this.playerID,this.credentials,this.multiplayer),this.events=Ume(this.game.flow.enabledEventNames,this.store,this.playerID,this.credentials,this.multiplayer),this.plugins=Vme(this.game.pluginNames,this.store,this.playerID,this.credentials,this.multiplayer)}updatePlayerID(t){this.playerID=t,this.createDispatchers(),this.transport.updatePlayerID(t),this.notifySubscribers()}updateMatchID(t){this.matchID=t,this.createDispatchers(),this.transport.updateMatchID(t),this.notifySubscribers()}updateCredentials(t){this.credentials=t,this.createDispatchers(),this.transport.updateCredentials(t),this.notifySubscribers()}}function Qme(e){return new qme(e)}const Dh=[Ie[11],Ie[5],Ie[31],Ie[25],Ie[10],Ie[4],Ie[30],Ie[24],Ie[3],Ie[29],Ie[23],Ie[17],Ie[2],Ie[28],Ie[22],Ie[16],Ie[27],Ie[21],Ie[15],Ie[9],Ie[26],Ie[20],Ie[14],Ie[8],Ie[19],Ie[13],Ie[7],Ie[1],Ie[18],Ie[12],Ie[6],Ie[0]],kk=new Map(Dh.map((e,t)=>[e,t])),Gm={toMove1D(e){const t=kk.get(e.origin);if(t===void 0)throw new Error(`invalid move origin: ${e.origin}`);const n=kk.get(e.destination);if(n===void 0)throw new Error(`invalid move destination: ${e.destination}`);const r=[];for(const o of xB(e.captures)){const i=kk.get(o);i!==void 0&&r.push(i)}return{origin:t,destination:n,captures:r}},toEngineMove(e){const t=Dh[e.origin];if(t===void 0)throw new Error(`invalid move origin: ${e.origin}`);const n=Dh[e.destination];if(n===void 0)throw new Error(`invalid move destination: ${e.destination}`);let r=0;for(const o of e.captures){const i=Dh[o];if(i===void 0)throw new Error(`invalid move capture: ${o}`);r|=i}return{origin:t,destination:n,captures:r}},toBoard1D(e){const t=[];for(const[n,r]of Dh.entries()){Math.floor(n/4)%2===0&&t.push({dark:!1,piece:void 0,position:void 0});const o=!!(r&e.light),i=!!(r&e.dark),a=!!(r&e.king);t.push({dark:!0,position:n,piece:o||i?{player:o?_n.LIGHT:_n.DARK,king:a}:void 0}),Math.floor(n/4)%2!==0&&t.push({dark:!1,piece:void 0,position:void 0})}return t}},Hme={moves:[],boards:[]};function Wme(e,t){return e.origin===t.origin&&e.destination===t.destination&&e.captures===t.captures}function GG(e){const t=Math.floor(Math.sqrt(e.length)),n="-".repeat(1+t*4);let r=`${n}
`;for(const[o,i]of e.entries()){if(o%t===0&&(r+="|"),i.piece){let a=i.piece.player===_n.LIGHT?"x":"o";a=i.piece.king?a.toUpperCase():a,r+=` ${a} |`}else r+="   |";o%t===t-1&&(r+=` 
${n}
`)}return r}class Jme{constructor(t,n,r){z(this,"engine");z(this,"history");z(this,"_board");z(this,"_moves");z(this,"adapter");this.engine=t,this.history=n,this.adapter=r}get status(){return this.engine.status}get player(){return this.engine.data.player}get board(){return this._board??(this._board=this.adapter.toBoard1D(this.engine.data.board))}get isLightEmpty(){const t=this.engine.data.board.light;return typeof t=="number"?t===0:t.isZero()}get isDarkEmpty(){const t=this.engine.data.board.dark;return typeof t=="number"?t===0:t.isZero()}get moves(){return this._moves??(this._moves=this.engine.moves.map(t=>this.adapter.toMove1D(t)))}isValidMove(t){const n=this.adapter.toEngineMove(t);return this.engine.isValidMove(n)}move(t){if(!this.isValidMove(t))throw new Error(`invalid move: ${JSON.stringify(t)}`);const n=JSON.parse(JSON.stringify({player:this.engine.data.player,board:this.engine.data.board})),r=this.adapter.toEngineMove(t);this.engine.move(r),this.history.boards.push(this.board),this.history.moves.push({...t,before:n,after:JSON.parse(JSON.stringify({player:this.engine.data.player,board:this.engine.data.board}))}),this._board=void 0,this._moves=void 0}movesChain(t){const n=this.adapter.toEngineMove(t);return this.engine.movesChain(n).map(o=>this.adapter.toMove1D({captures:1,origin:1,destination:o}).destination)}asciiBoard(){return GG(this.board)}}const uf=Ie[18]|Ie[12]|Ie[6]|Ie[0],Zme=Ie[19]|Ie[13]|Ie[7]|Ie[1],Yme=Ie[26]|Ie[20]|Ie[14]|Ie[8];Ie[27]|Ie[21]|Ie[15]|Ie[9];Ie[2]|Ie[28]|Ie[22]|Ie[16];const Kme=Ie[3]|Ie[29]|Ie[23]|Ie[17],Xme=Ie[10]|Ie[4]|Ie[30]|Ie[24],df=Ie[11]|Ie[5]|Ie[31]|Ie[25],jG=Ie[18]|Ie[26]|Ie[2]|Ie[10],$G=Ie[1]|Ie[9]|Ie[17]|Ie[25],ege=~(df|jG),tge=~(df|$G),nge=~(uf|jG),rge=~(uf|$G),oge=uf|Zme|Yme,ige=Kme|Xme|df;Ie[21]|Ie[28]|Ie[22];Ie[29]|Ie[22]|Ie[21]|Ie[14];const age={[_n.LIGHT]:uf,[_n.DARK]:df},sge={[_n.LIGHT]:df,[_n.DARK]:uf},gn={RANK_0:uf,RANK_7:df,FORWARD_LEFT:ege,FORWARD_RIGHT:tge,BACKWARD_LEFT:nge,BACKWARD_RIGHT:rge,LIGHT_START:oge,DARK_START:ige};class Bx{constructor(t){z(this,"intermediates");this.intermediates=t}getJumpers(){let t=vi(this.intermediates.empty,7)&(this.intermediates.opponent&gn.FORWARD_LEFT),n=vi(t,7)&(this.intermediates.forward&gn.FORWARD_LEFT);return t=vi(this.intermediates.empty,1)&(this.intermediates.opponent&gn.FORWARD_RIGHT),n|=vi(t,1)&(this.intermediates.forward&gn.FORWARD_RIGHT),t=yi(this.intermediates.empty,1)&(this.intermediates.opponent&gn.BACKWARD_LEFT),n|=yi(t,1)&(this.intermediates.backward&gn.BACKWARD_LEFT),t=yi(this.intermediates.empty,7)&(this.intermediates.opponent&gn.BACKWARD_RIGHT),n|=yi(t,7)&(this.intermediates.backward&gn.BACKWARD_RIGHT),n}getMovers(){let t=0;return this.intermediates.forward&&(t|=vi(this.intermediates.empty,7)&this.intermediates.forward&gn.FORWARD_LEFT,t|=vi(this.intermediates.empty,1)&this.intermediates.forward&gn.FORWARD_RIGHT),this.intermediates.backward&&(t|=yi(this.intermediates.empty,1)&this.intermediates.backward&gn.BACKWARD_LEFT,t|=yi(this.intermediates.empty,7)&this.intermediates.backward&gn.BACKWARD_RIGHT),t}getMovesFromOrigin(t){const n=[];if(t&this.intermediates.forward){const r=(yi(t&gn.FORWARD_LEFT,7)&this.intermediates.empty)>>>0;r&&n.push({origin:t,destination:r,captures:0});const o=(yi(t&gn.FORWARD_RIGHT,1)&this.intermediates.empty)>>>0;o&&n.push({origin:t,destination:o,captures:0})}if(t&this.intermediates.backward){const r=vi(t&gn.BACKWARD_LEFT,1)&this.intermediates.empty;r&&n.push({origin:t,destination:r,captures:0});const o=vi(t&gn.BACKWARD_RIGHT,7)&this.intermediates.empty;o&&n.push({origin:t,destination:o,captures:0})}return n}getMovesChainFromMove(t){const{origin:n,captures:r,destination:o}=t,i=this.getSingleJumpFromOrigin(n).filter(l=>l.captures&r).map(l=>({...l,chain:[l.destination]})),a=[];for(;i.length>0;){const l=i.pop();if(l===void 0)break;const d=this.applyUnfinishedCapture({...l,origin:n}).getSingleJumpFromOrigin(l.destination).filter(f=>f.captures&r);for(const f of d)i.push({origin:n,destination:f.destination,captures:l.captures|f.captures,chain:[...l.chain,f.destination]});d.length===0&&a.push(l)}return(a.filter(l=>l.origin&n&&l.destination&o)[0]||{}).chain||[]}getJumpsFromOrigin(t){const n=this.getSingleJumpFromOrigin(t),r=[];for(;n.length>0;){const o=n.pop();if(o===void 0)break;const a=this.applyUnfinishedCapture({...o,origin:t}).getSingleJumpFromOrigin(o.destination);for(const l of a)n.push({origin:t,destination:l.destination,captures:o.captures|l.captures});a.length===0&&r.push(o)}return r}getSingleJumpFromOrigin(t){const n=[];if(t&this.intermediates.forward){const r=yi(t&gn.FORWARD_LEFT,7)&this.intermediates.opponent,o=(yi(r&gn.FORWARD_LEFT,7)&this.intermediates.empty)>>>0;o&&n.push({origin:t,destination:o,captures:r});const i=yi(t&gn.FORWARD_RIGHT,1)&this.intermediates.opponent,a=(yi(i&gn.FORWARD_RIGHT,1)&this.intermediates.empty)>>>0;a&&n.push({origin:t,destination:a,captures:i})}if(t&this.intermediates.backward){const r=vi(t&gn.BACKWARD_LEFT,1)&this.intermediates.opponent,o=vi(r&gn.BACKWARD_LEFT,1)&this.intermediates.empty;o&&n.push({origin:t,destination:o,captures:r});const i=vi(t&gn.BACKWARD_RIGHT,7)&this.intermediates.opponent,a=vi(i&gn.BACKWARD_RIGHT,7)&this.intermediates.empty;a&&n.push({origin:t,destination:a,captures:i})}return n}applyUnfinishedCapture(t){return new Bx({forward:this.intermediates.forward&t.origin?this.intermediates.forward|t.destination:this.intermediates.forward,backward:this.intermediates.backward&t.origin?this.intermediates.backward|t.destination:this.intermediates.backward,opponent:this.intermediates.opponent&~t.captures,empty:this.intermediates.empty})}}const gD={fromEngine(e){const{player:t,board:n}=e.data;return new Bx({forward:t===_n.LIGHT?n.light:n.dark&n.king,backward:t===_n.LIGHT?n.light&n.king:n.dark,opponent:t===_n.LIGHT?n.dark:n.light,empty:~(n.light|n.dark)})}},zG={player:_n.DARK,board:{light:gn.LIGHT_START,dark:gn.DARK_START,king:0},store:{sinceCapture:0,sinceNonKingAdvance:0},isMandatoryTaken:!0},UG={serializeStore(e){return{...e}},status(e){return e.moves.length===0?e.data.player===_n.LIGHT?Xo.DARK_WON:Xo.LIGHT_WON:e.data.store.sinceCapture>=40&&e.data.store.sinceNonKingAdvance>=40?Xo.DRAW:Xo.PLAYING},isValidMove(e,t){return e.moves.some(n=>Wme(t,n))},moves(e){const t=gD.fromEngine(e),n=[],r=t.getJumpers();for(const i of xB(r))n.push(...t.getJumpsFromOrigin(i));if(e.data.isMandatoryTaken&&r)return n;const o=t.getMovers();for(const i of xB(o))n.push(...t.getMovesFromOrigin(i));return n},movesChain(e,t){if(!e.isValidMove(t))throw new Error(`invalid move: ${JSON.stringify(t)}`);return gD.fromEngine(e).getMovesChainFromMove(t)},move(e,t){if(!e.isValidMove(t))throw new Error(`invalid move: ${JSON.stringify(t)}`);const n={...e.data.board},r={...e.data.store};return n.light&=~(t.origin|t.captures),n.dark&=~(t.origin|t.captures),n.king&=~(t.origin|t.captures),e.data.board.light&t.origin?(n.light|=t.destination,n.king|=t.destination&gn.RANK_7):(n.dark|=t.destination,n.king|=t.destination&gn.RANK_0),e.data.board.king&t.origin?(n.king|=t.destination,r.sinceNonKingAdvance+=1):r.sinceNonKingAdvance=0,t.captures?r.sinceCapture=0:r.sinceCapture+=1,{player:e.data.player===_n.LIGHT?_n.DARK:_n.LIGHT,board:n,store:r,isMandatoryTaken:e.data.isMandatoryTaken}}},Rx={setup(e){return new mx({...zG,...e},UG)}},lge={setup(e,t){const n=Rx.setup(e);return new Jme(n,{...Hme,...t},Gm)}},ff=Number.MAX_SAFE_INTEGER-1e3,NB=-ff,cge={[Xo.LIGHT_WON]:_n.LIGHT,[Xo.DARK_WON]:_n.DARK},VG=e=>{const t=e.status;if(t!==Xo.PLAYING)return t===Xo.DRAW?{eva:0}:e.data.player===cge[t]?{eva:ff}:{eva:NB}},qG=async({data:{engine:e,alpha:t,beta:n,depth:r},options:{evaluationFunction:o,quiescence:i}})=>{if(r===0)return i?QG({data:{engine:e,alpha:t,beta:n},options:{evaluationFunction:o}}):o(e);for(const a of e.moves){const l=e.clone();l.move(a);const u=await qG({data:{engine:l,alpha:{sum:n.sum,eva:-n.eva},beta:{sum:t.sum,eva:-t.eva},depth:r-1},options:{evaluationFunction:o,quiescence:i}});if(u.eva=-(Math.abs(u.eva)-.1)*Math.sign(u.eva),u.eva>=n.eva)return n;u.eva>t.eva&&(t=u)}return t};async function QG({data:{engine:e,alpha:t,beta:n},options:{evaluationFunction:r}}){const o=r(e);if(o.eva>=n.eva)return n;o.eva>t.eva&&(t=o);for(const i of e.moves){if(!i.captures)continue;const a=e.clone();a.move(i);const l=await QG({data:{engine:a,alpha:{sum:n.sum,eva:-n.eva},beta:{sum:t.sum,eva:-t.eva}},options:{evaluationFunction:r}});if(l.eva=-(Math.abs(l.eva)-.1)*Math.sign(l.eva),l.eva>=n.eva)return n;l.eva>t.eva&&(t=l)}return t}async function uge({options:{maxDepth:e,evaluationFunction:t,quiescence:n=!0},engine:r}){let o={eva:NB},i;for(const a of r.moves){const l=r.clone();l.move(a);const d=await qG({data:{engine:l,alpha:{eva:NB},beta:{eva:ff},depth:e-1},options:{evaluationFunction:t,quiescence:n}});d.eva=-d.eva,d.eva>=o.eva&&(o=d,i=a)}if(i===void 0)throw new Error("no available moves");return{move:i,evaluation:o}}const pD={setup({adapter:e,strategy:t,options:n}){return async r=>{const o=await t({options:n,engine:r.engine});return{move:e.toMove1D(o.move),evaluation:o.evaluation}}}};async function dge({engine:e}){if(e.moves.length===0)throw new Error("no valid moves");const t=Math.floor(Math.random()*e.moves.length);return{move:e.moves[t],evaluation:{sum:1110,eva:-0}}}const fge=e=>VG(e)??hge(e),vD=50,yD=50,_D=20;function hge(e){const{player:t}=e.data,n=t===_n.LIGHT?e.data.board.light:e.data.board.dark,r=t===_n.LIGHT?e.data.board.dark:e.data.board.light,o=n&e.data.board.king,i=r&e.data.board.king,a=Ku(n),l=Ku(r),u=Ku(o),d=Ku(i),f=Ku(n&age[t]),m=Ku(r&sge[t]),g=a*vD+u*yD+f*_D,v=l*vD+d*yD+m*_D;return{sum:g+v,eva:g-v}}const mge={random(){return pD.setup({adapter:Gm,strategy:dge,options:void 0})},alphaBeta(e){const t={maxDepth:e.maxDepth??4,quiescence:e.quiescence??!0,evaluationFunction:e.evaluationFunction??fge};return pD.setup({adapter:Gm,strategy:uge,options:t})}};_n.LIGHT;var Ai=(e=>(e[e.Negamax=0]="Negamax",e[e.MCTS=1]="MCTS",e))(Ai||{}),lo=(e=>(e[e.Rank1=10]="Rank1",e[e.Rank2=9]="Rank2",e[e.Rank3Experienced=8]="Rank3Experienced",e[e.Rank3=7]="Rank3",e[e.Rank4Experienced=6]="Rank4Experienced",e[e.Rank4=5]="Rank4",e[e.Capable=4]="Capable",e[e.Amateur=3]="Amateur",e[e.Learner=2]="Learner",e[e.Novice=1]="Novice",e))(lo||{});const HG=Rx,WG=UG,gge=e=>{if(e.board===void 0)throw new Error("state?.G.board is undefined");const t=GG(Gm.toBoard1D(e.board));console.log(t)},pge=({G:e,playerID:t},n)=>{e.player=t;const r=HG.setup(e);try{const o=WG.move(r,n);e.board=o.board,e.player=o.player,e.store=o.store}catch{return gge(e),"INVALID_MOVE"}},vge=({G:e,ctx:t})=>{const n=Rx.setup({...e,player:t.currentPlayer});if(n.moves.length===0)return{winner:n.data.player===_n.LIGHT?"1":"0"};if(n.data.store.sinceCapture>=40&&n.data.store.sinceNonKingAdvance>=40)return{draw:!0}},yge=vge,_ge=(e,t,n)=>{const r=HG.setup({...e,player:n});return WG.moves(r).map(i=>({move:"makeMove",args:[i]}))},bge=()=>({...zG}),wge=bge,bD={setup:wge,moves:{makeMove:pge},turn:{minMoves:1,maxMoves:1},ai:{enumerate:_ge},endIf:yge},Sge=e=>({...bD,setup:()=>({...e.engine.data}),turn:{...bD.turn,order:e.engine.data.player===_n.LIGHT?IB.CUSTOM(["0","1"]):IB.CUSTOM(["1","0"])}}),ru=e=>{if(e===null||typeof e!="object")return e;if(Array.isArray(e)){const n=[];for(let r=0;r<e.length;r++)n[r]=ru(e[r]);return n}const t={};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];t[n]=ru(r)}return t},wD=mge,Age=lge,nm=class nm{constructor(t,n={moves:[]}){z(this,"initialState");z(this,"nativeEngine",null);z(this,"lastSearchEva",null);z(this,"movesChainList",[]);const r={isMandatoryTaken:nm.isMandatoryTaken,...t,...dV()};this.initialState=ru(r),this.nativeEngine=Age.setup(r,n)}static fromFen(t){const n=JSON.parse(t);return new nm(n)}get isLightEmpty(){return this.nativeEngine.engine.data.board.light===0}get isDarkEmpty(){return this.nativeEngine.engine.data.board.dark===0}get isEveryoneHasKing(){const t=this.nativeEngine.engine.data.board,n=t.light&t.king,r=t.dark&t.king;return n!==0&&r!==0}get lightFiguresCnt(){return this.nativeEngine.engine.data.board.light.toString(2).split("1").length-1}get darkFiguresCnt(){return this.nativeEngine.engine.data.board.dark.toString(2).split("1").length-1}movesChain(t){return(this.movesChainList||[])[t]||[]}move(t){const n=typeof t=="string"?gx(t):t,r=eme(n),o=this.nativeEngine.movesChain(r);this.movesChainList||(this.movesChainList=[]),this.movesChainList.push(o.map($c)),this.nativeEngine.move(r)}normalizeMove(t){const{action:n,percent:r}=t,o=n.payload.args[0];return{move:Fm(Gm.toMove1D(o)),evaluation:{sum:100,eva:2*r-100}}}async calcMove(t){var n,r,o;try{if(t.algorithm===Ai.Negamax){const i=t.depth?wD.alphaBeta({maxDepth:t.depth,quiescence:!0}):wD.random(),{move:a,evaluation:l}=await i(this.nativeEngine);return{move:Fm(a),evaluation:{...l,eva:l.eva}}}else{const i=Sge(this.nativeEngine),a=Qme({game:i,debug:!1}),l=new Tme({game:i,enumerate:(n=i.ai)==null?void 0:n.enumerate,iterations:t.iterations,playoutDepth:t.playoutDepth,isInstantForSingleAction:t.isInstantForSingleAction,isAsync:!0}),u=this.nativeEngine.player===_n.LIGHT?"0":"1",d=await l.play(a.getState(),u,t.timeLimit,(r=t.interval)==null?void 0:r.updateScoreInterval,(o=t.interval)==null?void 0:o.updateScoreCallback);return this.normalizeMove(d)}}catch(i){return console.error("workerEngine calcMove",i),{move:"-",evaluation:VG(this.nativeEngine.engine)||{sum:0,eva:ff}}}}};z(nm,"isMandatoryTaken",!0);let jm=nm;class sr extends jm{constructor(n,r){super(n,r);z(this,"repeatDrawState",{})}static fromFen(n){return new sr(JSON.parse(n))}static fromBoardFen(n){return new sr({board:JSON.parse(n)})}static fromPgn(n){const{data:r,history:o,movesChainList:i=[]}=JSON.parse(n),a=new sr(r,Uy(o,!0));return a.movesChainList=i,a}history(){const n=this.nativeEngine.history,r=n.boards.length;return n.moves.map((i,a)=>{const u=(n.boards.slice(0,Math.min(a+1,r)).at(-1)||[]).find(d=>d.position===i.origin);return{...Qv(i),...u,before:JSON.stringify(i.before),after:JSON.stringify(i.after),chain:(this.movesChainList??[])[a]??[]}})}turn(){return this.nativeEngine.player===_n.LIGHT?lt.White:lt.Black}fen(){return JSON.stringify(this.nativeEngine.engine.data)}get shortFen(){const n=this.nativeEngine.engine.data.board;return`${n.light}/${n.dark}/${n.king}`}get boardFen(){return JSON.stringify(this.nativeEngine.engine.data.board)}pgn(){return JSON.stringify({data:this.nativeEngine.engine.data,history:Uy(this.nativeEngine.history),movesChainList:this.movesChainList||[]})}isGameOver(){return this.nativeEngine.status!==Xo.PLAYING||this.isDrawRepeating()}isLightWon(){return this.nativeEngine.status===Xo.LIGHT_WON}isDarkWon(){return this.nativeEngine.status===Xo.DARK_WON}isDraw(){return this.nativeEngine.status===Xo.DRAW||this.isDrawRepeating()}isDrawRepeating(){return(this.repeatDrawState[this.shortFen]||{})[this.turn()]===3}isCheck(){return!1}undo(){const n=this.nativeEngine.history.moves,r=this.nativeEngine.history.boards,o=n.slice(0,n.length-1);(this.repeatDrawState[this.shortFen]||{})[this.turn()]>0&&(this.repeatDrawState[this.shortFen][this.turn()]-=1),o.length===0?(this.nativeEngine=new sr(this.initialState).nativeEngine,this.movesChainList=[]):(this.nativeEngine=new sr(o[o.length-1].after,{moves:o,boards:r.slice(0,r.length-1)}).nativeEngine,this.movesChainList=this.movesChainList.slice(0,this.movesChainList.length-1))}move(n){super.move(n),this.repeatDrawState[this.shortFen]||(this.repeatDrawState[this.shortFen]={[this.turn()]:0}),this.repeatDrawState[this.shortFen][this.turn()]+=1}moves(n){return this.nativeEngine.moves.filter(i=>$c(i.origin)===n.fromSquare).map(Fm)}allSquaresWithMove(){return this.nativeEngine.moves.map(r=>$c(r.origin))}isValidMove(n,r){const o=this.nativeEngine.moves.filter(i=>{const a=Qv(i);return n===a.from&&r===a.to});return o.length?Qv(o[0]):null}board(){const n=[[]];return this.nativeEngine.board.forEach((r,o)=>{r.piece?n[n.length-1].push({square:$c(r.position),color:r.piece.player===_n.LIGHT?lt.White:lt.Black,type:r.piece.king?Oo.Queen:Oo.Pawn}):n[n.length-1].push(null),(o+1)%8===0&&o>0&&n.push([])}),n}get boardFull(){return this.nativeEngine.board.map((n,r)=>({square:L8(r).square,squareColor:n.dark?lt.Black:lt.White,figureColor:(()=>{if(n.piece){if(n.piece.player===_n.LIGHT)return lt.White;if(n.piece.player===_n.DARK)return lt.Black}})(),figureType:(()=>{if(n.piece)return n.piece.king?Oo.Queen:Oo.Pawn})()}))}getFigure(n){const r=E5(n);if(r===void 0)return;const o=OB[r],i=Ie[o],a=JSON.parse(this.fen()).board,l=(()=>{if(a.light&i)return lt.White;if(a.dark&i)return lt.Black})(),u=(()=>{if(l)return a.king&i?Oo.King:Oo.Pawn})();if(!(!u||!l))return{type:u,color:l}}withChangedFigureIf(n,r){const o=E5(n);if(o===void 0)return this;const i=this.getFigure(n);if((i==null?void 0:i.type)===(r==null?void 0:r.type)&&(i==null?void 0:i.color)===(r==null?void 0:r.color))return this;const a=OB[o],l=Ie[a],u=JSON.parse(this.fen()),d=u.board;return d.light&=~l,d.dark&=~l,d.king&=~l,r&&(r.color===lt.White&&(d.light|=l),r.color===lt.Black&&(d.dark|=l),r.type===Oo.King&&(d.king|=l)),new sr({...u,board:d},this.nativeEngine.history)}copy(){const n=JSON.parse(this.fen());return new sr(n,this.nativeEngine.history)}}const Mg={[lo.Rank1]:{rating:2600,algorithm:Ai.MCTS,iterations:5e3,playoutDepth:100,randomMoves:[]},[lo.Rank2]:{rating:2400,algorithm:Ai.MCTS,iterations:1500,playoutDepth:100,randomMoves:[]},[lo.Rank3Experienced]:{rating:2200,algorithm:Ai.MCTS,iterations:550,playoutDepth:50,randomMoves:[]},[lo.Rank3]:{rating:2e3,algorithm:Ai.MCTS,iterations:230,playoutDepth:50,randomMoves:[]},[lo.Rank4Experienced]:{rating:1800,algorithm:Ai.MCTS,iterations:95,playoutDepth:50,randomMoves:[]},[lo.Rank4]:{rating:1600,algorithm:Ai.MCTS,iterations:40,playoutDepth:50,randomMoves:[]},[lo.Capable]:{rating:1400,algorithm:Ai.MCTS,iterations:20,playoutDepth:50,randomMoves:[]},[lo.Amateur]:{rating:1200,algorithm:Ai.MCTS,iterations:10,playoutDepth:50,randomMoves:[]},[lo.Learner]:{rating:1e3,algorithm:Ai.MCTS,iterations:5,playoutDepth:50,randomMoves:[]},[lo.Novice]:{depth:0,rating:500,algorithm:Ai.Negamax,randomMoves:[]}},Cge=8,Hy=(e,t,n=null,r)=>{const{isRandomMove:o=!1,isInstantForSingleAction:i=!0,timeLimit:a=2e4,interval:l,playoutDepth:u,iterations:d}=r||{},f=o?lo.Novice:t,m={...Mg[f],...u&&{playoutDepth:u},...d&&{iterations:d},isInstantForSingleAction:i,timeLimit:a,interval:l};{const g=n||new mV,v=new Promise(y=>{g.onmessage=_=>{_.data.type==="update"?l==null||l.updateScoreCallback(_.data.data):(y(_.data.data),g.onmessage=()=>{})}});return g.postMessage(JSON.stringify({fen:e,aiConfig:m})),{promise:v,worker:g}}},FB=e=>({isInstantForSingleAction:!1,interval:{updateScoreCallback:e,updateScoreInterval:1e3},iterations:Number.MAX_SAFE_INTEGER,playoutDepth:200}),SD=e=>{const{myColor:t,gameEngine:n}=e.getStoreState().board,{gameState:r,gameType:o}=e.getStoreState().app,i=Qn(o),a=o===re.Together;return!(r!==xe.InGame||!(t===n.turn()||a||i))};var JG={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},AD=fe.createContext&&fe.createContext(JG),kge=["attr","size","title"];function Ege(e,t){if(e==null)return{};var n=Bge(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Bge(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Wy(){return Wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wy.apply(this,arguments)}function CD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Jy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CD(Object(n),!0).forEach(function(r){Rge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rge(e,t,n){return t=xge(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xge(e){var t=Oge(e,"string");return typeof t=="symbol"?t:t+""}function Oge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZG(e){return e&&e.map((t,n)=>fe.createElement(t.tag,Jy({key:n},t.attr),ZG(t.child)))}function We(e){return t=>fe.createElement(Mge,Wy({attr:Jy({},e.attr)},t),ZG(e.child))}function Mge(e){var t=n=>{var{attr:r,size:o,title:i}=e,a=Ege(e,kge),l=o||n.size||"1em",u;return n.className&&(u=n.className),e.className&&(u=(u?u+" ":"")+e.className),fe.createElement("svg",Wy({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:u,style:Jy(Jy({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&fe.createElement("title",null,i),e.children)};return AD!==void 0?fe.createElement(AD.Consumer,null,n=>t(n)):t(JG)}function Pge(e){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function hxe(e){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M255.9.2h-64v64h64zM0 64.17v64h64v-64zM128 .2H64v64h64zm64 255.9v64h64v-64zM0 192.12v64h64v-64zM383.85.2h-64v64h64zm128 0h-64v64h64zM128 256.1H64v64h64zM511.8 448v-64h-64v64zm0-128v-64h-64v64zM383.85 512h64v-64h-64zm128-319.88v-64h-64v64zM128 512h64v-64h-64zM0 512h64v-64H0zm255.9 0h64v-64h-64zM0 320.07v64h64v-64zm319.88-191.92v-64h-64v64zm-64 128h64v-64h-64zm-64 128v64h64v-64zm128-64h64v-64h-64zm0-127.95h64v-64h-64zm0 191.93v64h64v-64zM64 384.05v64h64v-64zm128-255.9v-64h-64v64zm191.92 255.9h64v-64h-64zm-128-191.93v-64h-64v64zm128-127.95v64h64v-64zm-128 255.9v64h64v-64zm-64-127.95H128v64h64zm191.92 64h64v-64h-64zM128 128.15H64v64h64zm0 191.92v64h64v-64z"},child:[]}]})(e)}function mxe(e){return We({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M528 448H112c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h416c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm64-320c-26.5 0-48 21.5-48 48 0 7.1 1.6 13.7 4.4 19.8L476 239.2c-15.4 9.2-35.3 4-44.2-11.6L350.3 85C361 76.2 368 63 368 48c0-26.5-21.5-48-48-48s-48 21.5-48 48c0 15 7 28.2 17.7 37l-81.5 142.6c-8.9 15.6-28.9 20.8-44.2 11.6l-72.3-43.4c2.7-6 4.4-12.7 4.4-19.8 0-26.5-21.5-48-48-48S0 149.5 0 176s21.5 48 48 48c2.6 0 5.2-.4 7.7-.8L128 416h384l72.3-192.8c2.5.4 5.1.8 7.7.8 26.5 0 48-21.5 48-48s-21.5-48-48-48z"},child:[]}]})(e)}function wv(e){return We({attr:{viewBox:"0 0 192 512"},child:[{tag:"path",attr:{d:"M176 432c0 44.112-35.888 80-80 80s-80-35.888-80-80 35.888-80 80-80 80 35.888 80 80zM25.26 25.199l13.6 272C39.499 309.972 50.041 320 62.83 320h66.34c12.789 0 23.331-10.028 23.97-22.801l13.6-272C167.425 11.49 156.496 0 142.77 0H49.23C35.504 0 24.575 11.49 25.26 25.199z"},child:[]}]})(e)}function Tge(e){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M349.565 98.783C295.978 98.783 251.721 64 184.348 64c-24.955 0-47.309 4.384-68.045 12.013a55.947 55.947 0 0 0 3.586-23.562C118.117 24.015 94.806 1.206 66.338.048 34.345-1.254 8 24.296 8 56c0 19.026 9.497 35.825 24 45.945V488c0 13.255 10.745 24 24 24h16c13.255 0 24-10.745 24-24v-94.4c28.311-12.064 63.582-22.122 114.435-22.122 53.588 0 97.844 34.783 165.217 34.783 48.169 0 86.667-16.294 122.505-40.858C506.84 359.452 512 349.571 512 339.045v-243.1c0-23.393-24.269-38.87-45.485-29.016-34.338 15.948-76.454 31.854-116.95 31.854z"},child:[]}]})(e)}function gxe(e){return We({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M434.7 64h-85.9c-8 0-15.7 3-21.6 8.4l-98.3 90c-.1.1-.2.3-.3.4-16.6 15.6-16.3 40.5-2.1 56 12.7 13.9 39.4 17.6 56.1 2.7.1-.1.3-.1.4-.2l79.9-73.2c6.5-5.9 16.7-5.5 22.6 1 6 6.5 5.5 16.6-1 22.6l-26.1 23.9L504 313.8c2.9 2.4 5.5 5 7.9 7.7V128l-54.6-54.6c-5.9-6-14.1-9.4-22.6-9.4zM544 128.2v223.9c0 17.7 14.3 32 32 32h64V128.2h-96zm48 223.9c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zM0 384h64c17.7 0 32-14.3 32-32V128.2H0V384zm48-63.9c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16c0-8.9 7.2-16 16-16zm435.9 18.6L334.6 217.5l-30 27.5c-29.7 27.1-75.2 24.5-101.7-4.4-26.9-29.4-24.8-74.9 4.4-101.7L289.1 64h-83.8c-8.5 0-16.6 3.4-22.6 9.4L128 128v223.9h18.3l90.5 81.9c27.4 22.3 67.7 18.1 90-9.3l.2-.2 17.9 15.5c15.9 13 39.4 10.5 52.3-5.4l31.4-38.6 5.4 4.4c13.7 11.1 33.9 9.1 45-4.7l9.5-11.7c11.2-13.8 9.1-33.9-4.6-45.1z"},child:[]}]})(e)}function pxe(e){return We({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(e)}function Ige(e){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M167.02 309.34c-40.12 2.58-76.53 17.86-97.19 72.3-2.35 6.21-8 9.98-14.59 9.98-11.11 0-45.46-27.67-55.25-34.35C0 439.62 37.93 512 128 512c75.86 0 128-43.77 128-120.19 0-3.11-.65-6.08-.97-9.13l-88.01-73.34zM457.89 0c-15.16 0-29.37 6.71-40.21 16.45C213.27 199.05 192 203.34 192 257.09c0 13.7 3.25 26.76 8.73 38.7l63.82 53.18c7.21 1.8 14.64 3.03 22.39 3.03 62.11 0 98.11-45.47 211.16-256.46 7.38-14.35 13.9-29.85 13.9-45.99C512 20.64 486 0 457.89 0z"},child:[]}]})(e)}function vxe(e){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"},child:[]}]})(e)}function Lge(e){return We({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function $m(e){return We({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M202.021 0C122.202 0 70.503 32.703 29.914 91.026c-7.363 10.58-5.093 25.086 5.178 32.874l43.138 32.709c10.373 7.865 25.132 6.026 33.253-4.148 25.049-31.381 43.63-49.449 82.757-49.449 30.764 0 68.816 19.799 68.816 49.631 0 22.552-18.617 34.134-48.993 51.164-35.423 19.86-82.299 44.576-82.299 106.405V320c0 13.255 10.745 24 24 24h72.471c13.255 0 24-10.745 24-24v-5.773c0-42.86 125.268-44.645 125.268-160.627C377.504 66.256 286.902 0 202.021 0zM192 373.459c-38.196 0-69.271 31.075-69.271 69.271 0 38.195 31.075 69.27 69.271 69.27s69.271-31.075 69.271-69.271-31.075-69.27-69.271-69.27z"},child:[]}]})(e)}function Dge(e){return We({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z"},child:[]}]})(e)}function Nge(e){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M215.03 71.05L126.06 160H24c-13.26 0-24 10.74-24 24v144c0 13.25 10.74 24 24 24h102.06l88.97 88.95c15.03 15.03 40.97 4.47 40.97-16.97V88.02c0-21.46-25.96-31.98-40.97-16.97zM461.64 256l45.64-45.64c6.3-6.3 6.3-16.52 0-22.82l-22.82-22.82c-6.3-6.3-16.52-6.3-22.82 0L416 210.36l-45.64-45.64c-6.3-6.3-16.52-6.3-22.82 0l-22.82 22.82c-6.3 6.3-6.3 16.52 0 22.82L370.36 256l-45.63 45.63c-6.3 6.3-6.3 16.52 0 22.82l22.82 22.82c6.3 6.3 16.52 6.3 22.82 0L416 301.64l45.64 45.64c6.3 6.3 16.52 6.3 22.82 0l22.82-22.82c6.3-6.3 6.3-16.52 0-22.82L461.64 256z"},child:[]}]})(e)}function Fge(e){return We({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M176 80c-52.94 0-96 43.06-96 96 0 8.84 7.16 16 16 16s16-7.16 16-16c0-35.3 28.72-64 64-64 8.84 0 16-7.16 16-16s-7.16-16-16-16zM96.06 459.17c0 3.15.93 6.22 2.68 8.84l24.51 36.84c2.97 4.46 7.97 7.14 13.32 7.14h78.85c5.36 0 10.36-2.68 13.32-7.14l24.51-36.84c1.74-2.62 2.67-5.7 2.68-8.84l.05-43.18H96.02l.04 43.18zM176 0C73.72 0 0 82.97 0 176c0 44.37 16.45 84.85 43.56 115.78 16.64 18.99 42.74 58.8 52.42 92.16v.06h48v-.12c-.01-4.77-.72-9.51-2.15-14.07-5.59-17.81-22.82-64.77-62.17-109.67-20.54-23.43-31.52-53.15-31.61-84.14-.2-73.64 59.67-128 127.95-128 70.58 0 128 57.42 128 128 0 30.97-11.24 60.85-31.65 84.14-39.11 44.61-56.42 91.47-62.1 109.46a47.507 47.507 0 0 0-2.22 14.3v.1h48v-.05c9.68-33.37 35.78-73.18 52.42-92.16C335.55 260.85 352 220.37 352 176 352 78.8 273.2 0 176 0z"},child:[]}]})(e)}function Gge(e){return We({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 18a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z"},child:[]}]})(e)}function YG(e){return We({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 3.75v16.5a.75.75 0 0 1-1.255.555L5.46 16H2.75A1.75 1.75 0 0 1 1 14.25v-4.5C1 8.784 1.784 8 2.75 8h2.71l5.285-4.805A.75.75 0 0 1 12 3.75ZM6.255 9.305a.748.748 0 0 1-.505.195h-3a.25.25 0 0 0-.25.25v4.5c0 .138.112.25.25.25h3c.187 0 .367.069.505.195l4.245 3.86V5.445ZM16.28 8.22a.75.75 0 1 0-1.06 1.06L17.94 12l-2.72 2.72a.75.75 0 1 0 1.06 1.06L19 13.06l2.72 2.72a.75.75 0 1 0 1.06-1.06L20.06 12l2.72-2.72a.75.75 0 0 0-1.06-1.06L19 10.94l-2.72-2.72Z"},child:[]}]})(e)}function KG(e){return We({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.553 3.064A.75.75 0 0 1 12 3.75v16.5a.75.75 0 0 1-1.255.555L5.46 16H2.75A1.75 1.75 0 0 1 1 14.25v-4.5C1 8.784 1.784 8 2.75 8h2.71l5.285-4.805a.752.752 0 0 1 .808-.13ZM10.5 5.445l-4.245 3.86a.748.748 0 0 1-.505.195h-3a.25.25 0 0 0-.25.25v4.5c0 .138.112.25.25.25h3c.187 0 .367.069.505.195l4.245 3.86Zm8.218-1.223a.75.75 0 0 1 1.06 0c4.296 4.296 4.296 11.26 0 15.556a.75.75 0 0 1-1.06-1.06 9.5 9.5 0 0 0 0-13.436.75.75 0 0 1 0-1.06Z"},child:[]},{tag:"path",attr:{d:"M16.243 7.757a.75.75 0 1 0-1.061 1.061 4.5 4.5 0 0 1 0 6.364.75.75 0 0 0 1.06 1.06 6 6 0 0 0 0-8.485Z"},child:[]}]})(e)}function jge(e){return We({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M9 18H4V10H9V18ZM15 18H10V6H15V18ZM21 18H16V2H21V18ZM22 22H3V20H22V22Z"},child:[]}]})(e)}function $ge(e){return We({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M9.3349 11.5023L11.5049 11.5028C13.9902 11.5028 16.0049 13.5175 16.0049 16.0028H9.00388L9.00488 17.0028L17.0049 17.002V16.0028C17.0049 14.9204 16.6867 13.8997 16.1188 13.002L19.0049 13.0028C20.9972 13.0028 22.7173 14.1681 23.521 15.8542C21.1562 18.9748 17.3268 21.0028 13.0049 21.0028C10.2436 21.0028 7.90445 20.4122 6.00456 19.378L6.00592 10.0738C7.25147 10.2522 8.39122 10.7585 9.3349 11.5023ZM5.00488 19.0028C5.00488 19.5551 4.55717 20.0028 4.00488 20.0028H2.00488C1.4526 20.0028 1.00488 19.5551 1.00488 19.0028V10.0028C1.00488 9.45052 1.4526 9.00281 2.00488 9.00281H4.00488C4.55717 9.00281 5.00488 9.45052 5.00488 10.0028V19.0028ZM18.0049 5.00281C19.6617 5.00281 21.0049 6.34595 21.0049 8.00281C21.0049 9.65966 19.6617 11.0028 18.0049 11.0028C16.348 11.0028 15.0049 9.65966 15.0049 8.00281C15.0049 6.34595 16.348 5.00281 18.0049 5.00281ZM11.0049 2.00281C12.6617 2.00281 14.0049 3.34595 14.0049 5.00281C14.0049 6.65966 12.6617 8.00281 11.0049 8.00281C9.34803 8.00281 8.00488 6.65966 8.00488 5.00281C8.00488 3.34595 9.34803 2.00281 11.0049 2.00281Z"},child:[]}]})(e)}function yxe(e){return We({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M20 3C20.5523 3 21 3.44772 21 4V5.757L19 7.757V5H5V13.1L9 9.1005L13.328 13.429L12.0012 14.7562L11.995 18.995L16.2414 19.0012L17.571 17.671L18.8995 19H19V16.242L21 14.242V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3H20ZM21.7782 7.80761L23.1924 9.22183L15.4142 17L13.9979 16.9979L14 15.5858L21.7782 7.80761ZM15.5 7C16.3284 7 17 7.67157 17 8.5C17 9.32843 16.3284 10 15.5 10C14.6716 10 14 9.32843 14 8.5C14 7.67157 14.6716 7 15.5 7Z"},child:[]}]})(e)}function zge(e){return We({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12.0006 18.26L4.94715 22.2082L6.52248 14.2799L0.587891 8.7918L8.61493 7.84006L12.0006 0.5L15.3862 7.84006L23.4132 8.7918L17.4787 14.2799L19.054 22.2082L12.0006 18.26Z"},child:[]}]})(e)}var Ek={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var kD;function Uge(){return kD||(kD=1,function(e){(function(){var t={}.hasOwnProperty;function n(){for(var i="",a=0;a<arguments.length;a++){var l=arguments[a];l&&(i=o(i,r(l)))}return i}function r(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return n.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var a="";for(var l in i)t.call(i,l)&&i[l]&&(a=o(a,l));return a}function o(i,a){return a?i?i+" "+a:i+a:i}e.exports?(n.default=n,e.exports=n):window.classNames=n})()}(Ek)),Ek.exports}var Vge=Uge();const qt=to(Vge),qge="_wrapIcon_1ub4z_1",Qge="_wrapIconSmall_1ub4z_10",Hge="_wrapIconContent_1ub4z_14",Wge="_wrapIconWrapper_1ub4z_19",dh={wrapIcon:qge,wrapIconSmall:Qge,wrapIconContent:Hge,wrapIconWrapper:Wge},_s=(e,t)=>n=>{const{color:r,size:o,style:i,className:a,wrapperClassName:l}=n;return w.jsx("div",{className:qt(dh.wrapIcon,{[dh.wrapIconSmall]:me.isTV()},a),style:{...i||{},width:o||(me.isTV()?"0.8em":"1em"),height:o||(me.isTV()?"0.8em":"1em")},children:w.jsx("div",{className:qt(dh.wrapIconWrapper,l),style:{backgroundColor:r},children:Array.isArray(e)?e.map((u,d)=>O.createElement(u.Icon,{...n,key:d,color:t,size:`${70-(e.length-1)*10}%`,style:{...i||{},width:u.size},className:dh.wrapIconContent})):w.jsx(e,{...n,color:t,size:"70%",className:dh.wrapIconContent})})})};var Zi=(e=>(e[e.ExcellentMove=4]="ExcellentMove",e[e.GreatMove=3]="GreatMove",e[e.GoodMove=2]="GoodMove",e[e.AverageMove=1]="AverageMove",e[e.DubiousMove=0]="DubiousMove",e[e.UnprofitableMove=-1]="UnprofitableMove",e[e.BadMove=-2]="BadMove",e[e.WrongMove=-3]="WrongMove",e[e.LosingMove=-4]="LosingMove",e))(Zi||{});const Jge={4:{icon:_s(zge,"#fff"),color:"#29B6F6",opacity:"1"},3:{icon:_s(Pge,"#fff"),color:"#1c7921",opacity:"1"},2:{icon:_s(Lge,"#fff"),color:"#6a9a71",opacity:"1"},1:{icon:_s(Gge,"#fff"),color:"#ced4da",opacity:"1"},0:{icon:_s($m,"#fff"),color:"#dcbd6e",opacity:"1"},[-1]:{icon:_s([{Icon:$m,size:"45%"},{Icon:wv,size:"25%"}],"#fff"),color:"#e58f2a",opacity:"1"},[-2]:{icon:_s(wv,"#fff"),color:"#ee6755",opacity:"1"},[-3]:{icon:_s([{Icon:wv,size:"25%"},{Icon:wv,size:"25%"}],"#fff"),color:"#dc402c",opacity:"1"},[-4]:{icon:_s([{Icon:Tge,size:"60%"}],"#fff"),color:"#b90f0d",opacity:"1"}},XG=e=>(e||0)%2===1?lt.White:lt.Black,ED=ff,ej=(e,t=ED,n=-ED)=>e.eva>0?t:n,Zge=e=>e.sum?(e.eva+e.sum)/2:ej(e),zm=(e,t,n)=>{const r=e.sum?Math.round(Zge(e)/e.sum*100):ej(e,100,0),o=Math.min(100,Math.max(r,0));return t===n?o:100-o},Yge=({evaluation:e},t,n)=>{const r=XG(t);return zm(e,r,n)},Kge=(e,t,n,r)=>{const o=XG(n),i=e.evaluation,a=t.evaluation,l=zm(i,o,r),u=zm(a,o,r),d=(u-l)*(r===o?1:-1);let f;const m=40,g=m/21;return t.move===e.move||d<=0?f=Zi.ExcellentMove:d<=g?f=Zi.GreatMove:d<=g*2?f=Zi.GoodMove:d<=g*3?f=Zi.AverageMove:d<=g*5?f=Zi.DubiousMove:d<=g*8?f=Zi.UnprofitableMove:d<=g*13?f=Zi.BadMove:d<=m?f=Zi.WrongMove:f=Zi.LosingMove,{mateMoveCnt:i.sum?0:1,scoreBest:u,scoreCurr:l,analyzeType:f}},fh={},Xge={},Bk=xn.getLogger("ANALYZE_STORE"),epe={...Xge,...Zhe,analyzeCurrentMove:Z(async(e,t,n)=>{var T;const{gameEngine:r,historyOffset:o,myColor:i}=n.getStoreState().board,a=r.history(),l=o===null?a.length-1:o,u=()=>{var B;const I=n.getStoreState().board.gameEngine.history(),P=n.getStoreState().board.historyOffset??I.length-1;return((B=I[P])==null?void 0:B.after)||a[l].after},{before:d,after:f}=a[l],m=Fm(a[l]);if((T=n.getState().moveAnalyzeCache[f])!=null&&T.completed&&n.getState().moveArrowsCache[f]){n.getStoreActions().canvas.clearCanvas(),n.getStoreActions().canvas.setIsShowCanvas(!0);const I=n.getState().moveArrowsCache[f]||[];n.getStoreActions().canvas.addArrows(I);return}if(Object.keys(n.getState().analyzeEngines).forEach(I=>{var B,R,x,D;if(I===f)return;const P=n.getState().analyzeEngines[I];(R=(B=P==null?void 0:P.engineForCurr)==null?void 0:B.worker)!=null&&R.terminate&&P.engineForCurr.worker.terminate(),(D=(x=P==null?void 0:P.engineForBest)==null?void 0:x.worker)!=null&&D.terminate&&P.engineForBest.worker.terminate(),delete n.getState().analyzeEngines[I]}),n.getState().analyzeEngines[f])return;const g=({move:I,chain:P},B=!1)=>{const R=gx(I),x=B?[]:[{from:R.from,chain:P.length?P:[R.to]}];e.setMoveArrowsCacheByFen({arrows:x,fen:f}),f===u()&&n.getStoreState().app.gameState===xe.GameAnalyze&&(n.getStoreActions().canvas.clearCanvas(),n.getStoreActions().canvas.setIsShowCanvas(!0),n.getStoreActions().canvas.addArrows(x))},v=(I,P,B=!1)=>{const R={...I,evaluation:{...I.evaluation,eva:-I.evaluation.eva},move:m};if(R&&P){f===u()&&e.setAnalyticsProgress(!1);const x=Yge(R,l,i),{scoreBest:D,scoreCurr:$,mateMoveCnt:U,analyzeType:j}=Kge(R,P,l,i),G={type:j,normalizedScore:x,scoreType:"score",bestScore:D,currScore:$,mateMoveCnt:U,completed:B};return e.setMoveAnalyzeCacheByFen({details:G,fen:f}),n.getStoreActions().config.setLastAnalyzePercentage(x),j===Zi.ExcellentMove}return!1};let y,_;const b=(I,P)=>{if(_=I??_,y=P??y,!y||!_)return;const B=v(_,y);g(y,B)},E=FB(I=>b(I)),A=FB(I=>b(void 0,I));if(n.getState().analyzeEngines[f]={engineForCurr:Hy(f,8,null,E),engineForBest:Hy(d,8,null,A)},e.setAnalyticsProgress(!0),n.getStoreActions().canvas.setIsShowCanvas(!1),n.getStoreActions().canvas.clearCanvas(),n.getState().moveArrowsCache[f]){n.getStoreActions().canvas.setIsShowCanvas(!0);const I=n.getState().moveArrowsCache[f]||[];n.getStoreActions().canvas.addArrows(I)}const{engineForCurr:C,engineForBest:M}=n.getState().analyzeEngines[f];fh[f]=[C,M],C.promise.catch(I=>({evaluation:{sum:0,eva:ff}})),await Promise.all([C.promise,M.promise]).then(([I,P])=>{const B=v(I,P,!0);g(P,B)}),Bk.success("analyzeCurrentMove")}),restartFromCurrPos:Z(async(e,t,n)=>{const{gameType:r}=n.getStoreState().app;await(async()=>{var f;const{gameEngine:i,historyOffset:a,myColor:l}=n.getStoreState().board,u=i,d=a===null?u.history().length-1:a;if(new Array(u.history().length-1-d).fill(0).forEach(()=>{u.undo()}),e.setAnalyticsProgress(!1),e.setMoveAnalyzeCache({}),e.setMoveArrowsCache({}),r===re.Online||r===re.TogetherOnline){const m=((f=n.getStoreState().p2p.opponent)==null?void 0:f.rating)||wn(),g=n.getStoreState().config.settingsByOptionLevelType,v=Object.keys(g).filter(_=>g[_].rating>m)[0],y=(v&&Number(v)||1)>0?Number(v)-1:Number(v);n.getStoreActions().engine.setOptionLevelType(Number(y)),n.getStoreActions().analyze.setFromOnlineRestart(!0),n.getStoreActions().app.setGameType(re.AI),n.getStoreActions().online.setOfflineState({reason:"restart_from_curr_pos_from_analyze"})}await n.getStoreActions().app.rematch(!1),n.getStoreActions().board.setNextGameEngine(u),n.getStoreActions().board.setTimeControl(!1),n.getStoreActions().board.setMyColor(l),n.getStoreActions().board.setMoveForView({fen:u.fen(),offset:null}),n.getStoreActions().session.setGameStartedFromAnalytics(!0),u.turn()!==l&&n.getStoreActions().board.AIMove(),Bk.info("restartFromCurrPos")})(),_1.trackAnalysisReplay(r)}),onLeave:Hc((e,t)=>t.app.setGameState,async(e,t,n)=>{Bt().feature[we.Analyze]&&(Bk.info("onLeave"),n.getStoreState().app.gameState!==xe.GameAnalyze&&Object.keys(fh).forEach(r=>{var o;((o=fh[r])==null?void 0:o.length)>0&&fh[r].forEach(i=>{i!=null&&i.terminate&&(i==null||i.terminate())}),fh[r]=[]}),n.getStoreActions().canvas.clearCanvas())})},BD=e=>e.config.setLastInGameAdvTimestamp(Date.now()),tj=(e,t)=>{const n=t.app.gameType,r=t.app.gameResult,o=t.app.gameState,i=t.session.numberOfGamesPlayed,a=t.session.isGameGiveUpFromSave,l=t.online.onlineState,u=pn(),d=u.fullscreen[e];if(typeof d=="boolean"&&!d||typeof d=="object"&&!d[ts]&&!d.default||o===xe.InGame&&t.board.timeControl||u.fullscreenSilenceAtStart&&(Date.now()-window.timestampSdkLoaded)/1e3<u.fullscreenSilenceAtStart)return null;switch(e){case At.CompleteGame:{if(me.isGameMonetize())return{payload:{result:"any"}};if(r!==ht.Victory)return{payload:{result:ht.Victory}};break}case At.StartGame:{if(!a)if(n===re.AI){if(l<xt.ACTIVE_SEARCH_CONNECTING)return{payload:{game_type:n}}}else{if(n===re.Together)return{payload:{game_type:n}};if(n===re.FakeOnline&&!me.isCrazyGames()&&!me.isYandex())return{payload:{game_type:n}}}break}case At.ActiveSearchChangeMode:{if(i>0)return{payload:{}};break}case At.MainMenuPlayButtonClick:{if(i===0)return{payload:{}};break}case At.GameResultModalButtonClick:{if(o===xe.AfterGame&&r===ht.Victory)return{payload:{game_type:n}};break}case At.ExitModalConfirmClick:{if(i>0)return{payload:{game_type:n}};break}case At.NonGameButton:return{payload:{}};case At.DuringGameWithNoTimer:{const m=u.fullscreenTimeoutInGameWithOutTimerSeconds*1e3;if(t.config.lastInGameAdvTimestamp&&Date.now()-t.config.lastInGameAdvTimestamp>m)return Ste()?null:{payload:{},actions:[BD]};break}case At.AfterStageContinueButtonClick:{if(n!==re.Online)return{payload:{},actions:[BD]};break}}return null},Zy=(e,t)=>{const n=tj(t,e.getStoreState()),r=e.getStoreActions().platform.showFullscreenAdv;return pn().isAdvDisabled||n===null?null:(n.actions&&n.actions.forEach(o=>o(e.getStoreActions())),r({...n.payload,trigger:t,game_name:ts}))},Um=(e,t={})=>{const n=ne(r=>tj(e,r),(r,o)=>wr(r,o));return Re(r=>pn().isAdvDisabled||n===null?()=>Promise.resolve():async()=>(n.actions&&n.actions.forEach(o=>o(r)),r.platform.showFullscreenAdv({...n.payload,...t,trigger:e,game_name:ts})))},zc=200,RD={index:-1,cnt:0},nj=e=>e.map(t=>`${t.name} ${zc}ms forwards ${t.delay}ms`).join(","),Rk=e=>{const t=e.split("");return{x:8-(Wa.indexOf(t[0])+1),y:Number(t[1])}},_xe=e=>{const{index:t,cnt:n}=ne(o=>{var u;const i=(u=o.board.lastMove)==null?void 0:u.captures,a=i==null?void 0:i.length;if(!a||a2())return RD;const l=i.indexOf(e);return l===-1?RD:{cnt:a,index:l}});if(t===-1)return;const r=[];return r.push({name:"anim_captured",delay:t*zc}),r.push({name:"anim_removed",delay:zc*n+zc}),{animation:nj(r)}},bxe=e=>{var a;const t=ne(l=>{const u=l.board.lastMove,d=l.board.lastMoveIsDrag;return!u||d?null:u.to===e||u.from===e?u:null});if(!t)return;const n=(a=t.chain)!=null&&a.length?t.chain:[t.to],r=[t.from,...n].filter(l=>!!l);if(r.length<2)return;const o=[];let i=Rk(r[r.length-1]);for(let l=0;l<r.length-1;l+=1){const u=Rk(r[l]),d=Rk(r[l+1]),f=`a_${i.x-u.x}${i.y-u.y}${i.x-d.x}${i.y-d.y}`;o.push({delay:l*zc,name:f})}return{animation:nj(o)}},tpe={gameState:xe.Menu,gameType:re.AI,gameResult:null,fakeOnlineMoveTimeout:null,isLoading:!1,isBlockUiInteraction:!1},nn=xn.getLogger("APP_STORE"),npe={...tpe,clearFakeOnlineMoveTimeout:ue(e=>{clearTimeout(e.fakeOnlineMoveTimeout),e.fakeOnlineMoveTimeout=null}),setIsLoading:ue((e,t)=>{nn.info("setIsLoading",t),e.isLoading=t}),setIsBlockUiInteraction:ue((e,t)=>{nn.info("setIsBlockUiInteraction",t),e.isBlockUiInteraction=t}),_setGameState:ue((e,t)=>{e.gameState=t}),setGameType:ue((e,t)=>{e.gameType=t,nn.info("setGameType",t)}),setGameResult:ue((e,t)=>{nn.info("setGameResult",t),e.gameResult=t}),setGameState:Z(async(e,t,n)=>{nn.info("setGameState",t);const{gameType:r,gameState:o}=n.getState();if(t===o&&!Xr(r))return;const i=async()=>{await n.getStoreActions().engine.resetEngine(),n.getStoreActions().board.resetState(),n.getStoreActions().p2p.setNewOpponent(null),n.getStoreActions().p2p.setOpponent(null),n.getStoreActions().gameSettings.resetRewarded(),n.getStoreActions().analyze.setFromOnlineRestart(!1),e.setGameResult(null),n.getStoreActions().session.setGameCompleteReason(null),n.getStoreActions().session.setTimesUp(!1)};t===xe.AfterGame&&clearInterval(n.getStoreState().board.timer),o===xe.InGame&&(n.getStoreState().session.isGameGiveUpFromSave||me.gameplayStop()),t===xe.Menu&&(await i(),ra.show(),[xe.AfterGame,xe.GameAnalyze].includes(o)&&await n.getStoreActions().config.updateOpponentNameAndAvatar()),t===xe.NewGame&&(await i(),[xe.AfterGame,xe.GameAnalyze].includes(o)&&await n.getStoreActions().config.updateOpponentNameAndAvatar(),r===re.Together?await e.createFriendGame():r===re.Single?await e.createSingleGame():await e.createAIGame()),t===xe.GameAISettings&&n.getStoreActions().modals.openAIGameSettingsModal(),t===xe.GameFriendSettings&&n.getStoreActions().modals.openFriendGameSettingsModal(),t===xe.GameSingleSettings&&n.getStoreActions().modals.openSingleGameSettingsModal(),e._setGameState(t),t===xe.InGame&&(n.getStoreState().session.isGameStartedFromSave||(await n.getStoreActions().engine.resetEngine(),await n.getStoreActions().board.resetState()),e.afterSetInGameStateBeforeApplySettings(),n.getStoreActions().gameSettings.applySettings(),n.getStoreState().session.isGameStartedFromSave||n.getStoreActions().config.updateLastGameMove(),n.getStoreActions().board.AIMove(),n.getStoreState().session.isGameGiveUpFromSave||me.gameplayStart(),n.getStoreActions().session.setGameCompleteReason(null),Bt().isBackgroundMusicInGameEnabled&&V6.play()),t===xe.AfterGame&&(n.getStoreActions().config.updateLastGameMove(),n.getStoreActions().session.setIsGameStartedFromSave(!1),n.getStoreActions().session.setIsGameGiveUpFromSave(!1))}),afterSetInGameStateBeforeApplySettings:Z(async(e,t,n)=>{}),openMenu:Z(async(e,t,n)=>{nn.info("openMenu"),await e.setGameState(xe.Menu)}),newGame:Z(async(e,t,n)=>{nn.info("newGame"),await e.setGameState(xe.NewGame)}),createAIGame:Z(async(e,t,n)=>{nn.info("createAIGame"),await e.setGameState(xe.GameAISettings)}),createFriendGame:Z(async(e,t,n)=>{nn.info("createFriendGame"),await e.setGameState(xe.GameFriendSettings)}),createSingleGame:Z(async(e,t,n)=>{nn.info("createSingleGame"),await e.setGameState(xe.GameSingleSettings)}),startLastSavedGame:Z(async(e,t=!1,n)=>{n.getStoreActions().session.setIsGameStartedFromSave(!0),n.getStoreActions().session.setIsGameGiveUpFromSave(t),await n.getStoreActions().engine.resetEngine(),await n.getStoreActions().board.resetState(),await n.getStoreActions().gameSettings.setSettingsForSavedGame(),await e.startGame(),t&&e.giveUp(),nn.info("startLastSavedGame")}),endGame:Z(async(e,t,n)=>{nn.info("endGame"),n.getStoreActions().session.setWasPlayingWithComputer(!1),n.getStoreActions().config.setLastInGameAdvTimestamp(null),Bt().isBackgroundMusicInGameEnabled&&V6.stop(),await e.setGameState(xe.AfterGame)}),pauseGame:Z(async(e,t,n)=>{const r=n.getStoreActions().session,o=n.getStoreActions().board;if(n.getStoreState().platform.isFullscreenVideoPlaying||n.getStoreState().platform.isRewardedVideoPlaying||n.getStoreState().session.isPause===t){nn.warn(`Game is ${t?"already":"no longer"} on pause`);return}if(r.setPause(t),nn.info(`${t?"":"un"}PauseGame`),!t){const i=n.getStoreState().session.savedAIMove;i&&(await o.makeAIMoveAfterPause(i),await r.saveAIMove(null))}}),startGame:Z(async(e,t,n)=>{nn.info("startGame"),await Zy(n,At.StartGame),await e.setGameState(xe.InGame),n.getStoreActions().session.setPlayedAfterFatalMove(!1),bn.rematch.reset(),n.getStoreActions().modals.closeAllModals();const{gameType:r}=n.getState(),{timeControl:o}=n.getStoreState().gameSettings;if(r===re.AI&&n.getStoreActions().session.setWasPlayingWithComputer(!0),(r===re.Online||r===re.AI)&&n.getStoreActions().online.clearMaio(),o&&n.getStoreActions().board.setIsTimeRemaining(!0),n.getStoreActions().session.incrementNumberOfGamesPlayed(),n.getStoreActions().config.setLastInGameAdvTimestamp(Date.now()),Qn(r)){const i=n.getStoreState().platform.playerCash,a=n.getStoreState().config.onlineBetSize;i>=a&&a>0?(yt.add("cash",-a),yt.sync(),Ne.trackSpendGold({gameType:r,betSize:a}),n.getStoreActions().platform.firePlayerCashChangeTrigger()):a>0&&nn.error("StartOnlineGame",new Error("   ,  "),{current:i,bet:a})}r===re.FakeOnline&&(n.getStoreActions().app.clearFakeOnlineMoveTimeout(),n.getState().fakeOnlineMoveTimeout=setTimeout(()=>{n.getStoreActions().app.completeGame(ht.Defeat),n.getStoreActions().session.setGameCompleteReason(Jr.NotMakeFirstMoveBeforeStartLimit)},3*60*1e3)),Ne.trackGameStarted(n)}),createFakeOnlineBot:Z(async(e,t,n)=>{var M,T,I,P,B;const r=Object.values(n.getStoreState().config.settingsByOptionLevelType).map((R,x)=>({...R,lvl:x+1})),o=(M=r[0])==null?void 0:M.lvl,i=(T=r[r.length-1])==null?void 0:T.lvl,a=((I=r.find(R=>R.rating>=t))==null?void 0:I.lvl)||i,l=((P=[...r].reverse().find(R=>R.rating<t))==null?void 0:P.lvl)||o,u=(r[a-1].rating-r[l-1].rating)/100,d=[...l!==-1?[{lvl:l,chance:a===-1?100:(t-r[l-1].rating)/u}]:[],...a!==-1?[{lvl:a,chance:l===-1?100:(r[a-1].rating-t)/u}]:[]],f=await n.getStoreActions().flags.getEmojiComputerProbability(),m=n.getStoreState().gameSettings.gameTime,g=Number(b7[yn.Blitz].value.split(" ")[0])*60,v=m<g?m/g:1,y=Math.random()*f*v*n.getStoreState().flags.maioEmojiMaxProbabilityPlatformModificator,_=Math.random()*n.getStoreState().flags.maioMaxProbabilityEmojiAnswer;await n.getStoreActions().config.updateOpponentName({levelsToUpdate:d.map(R=>R.lvl)}),await n.getStoreActions().engine.setOptionLevelType(Math.max(a,l));const b=((B=n.getStoreState().config.currentOpponents[Math.max(a,l)])==null?void 0:B.name)||"",E=n.getStoreState().flags.maioPremiumPercent>Math.random()*100,A=n.getStoreState().flags.maioRangeGiveUpPercentage,C=(A[1]-A[0])*Math.random()+A[0];return{name:b,avatar:null,rating:t,emojiChance:y,emojiAnswerChance:_,opponents:d,isPremium:E,giveUpChance:C}}),startFakeOnlineGame:Z(async(e,t,n)=>{var d;if(nn.info("startOnlineGame"),n.getStoreState().app.gameState===xe.InGame||n.getStoreState().app.gameType===re.TogetherOnline)return;if(await n.getStoreActions().config.initOpponentAvatarAndName(),e.setGameType(re.FakeOnline),e.setGameResult(null),n.getStoreActions().gameSettings.setTimeControl(!0),!Bt().feature[we.OnlineGameFullTimeControlEnabled]){const f=Bs(n.getStoreState().online.gameMode).split(" + ");n.getStoreActions().gameSettings.setStepTime(Number(f[1])),n.getStoreActions().gameSettings.setGameTime(Number(f[0])*60)}const r=((d=n.getStoreState().p2p.player)==null?void 0:d.rating)||wn(),o=n.getStoreState().config.settingsByOptionLevelType,i=Object.values(o).sort((f,m)=>m.rating-f.rating)[0].rating,l=(r>i?i:r)+(r>i?1:Math.random()>.5?-1:1)*Math.floor(n.getStoreState().flags.maioRatingDelta*Math.random());n.getStoreActions().gameSettings.setColor(Vc);const u=await e.createFakeOnlineBot(Math.max(0,l));n.getStoreActions().online.setFakeOnlineOpponent(u),await e.startGame(),n.getStoreActions().modals.closeModal(),n.getStoreState().board._playerMoveStartedTimestamp=Date.now()}),startFirstPlayerGame:Z(async(e,t,n)=>{wB()||(nn.info("startFirstPlayerGame"),e.setGameType(re.AI),e.setGameResult(null),n.getStoreActions().gameSettings.setTimeControl(!1),n.getStoreActions().session.setGameCompleteReason(null),n.getStoreActions().session.setWasPlayingWithComputer(!0),n.getStoreActions().engine.setOptionLevelType(1),await n.getStoreActions().config.initOpponentAvatarAndName(),await e.startGame())}),replaceFakeOnlineGame:Z(async(e,t,n)=>{nn.info("replaceFakeOnlineGame"),await n.getStoreActions().config.initOpponentAvatarAndName(),e.setGameType(re.FakeOnline);const r=n.getStoreState().p2p.opponent||{},o=await e.createFakeOnlineBot((r==null?void 0:r.rating)||wn());n.getStoreActions().online.setFakeOnlineOpponent({...o,name:r.name,avatar:r.avatar,rating:r.rating}),n.getStoreState().board._playerMoveStartedTimestamp=Date.now(),await n.getStoreActions().board.checkGameStatusAfterMove()}),startOnlineGame:Z(async(e,t,n)=>{if(nn.info("startOnlineGame"),e.setGameType(re.Online),e.setGameResult(null),n.getStoreActions().session.setGameCompleteReason(null),n.getStoreActions().gameSettings.setTimeControl(!0),Bt().feature[we.OnlineGameFullTimeControlEnabled]){const r=n.getStoreState().p2p.opponent;if(r!=null&&r.timeMode){const o=r.timeMode.split(" ");n.getStoreActions().gameSettings.setStepTime(Number(o[1])),n.getStoreActions().gameSettings.setGameTime(Number(o[0])*60)}}else{const r=Bs(n.getStoreState().online.gameMode).split(" + ");n.getStoreActions().gameSettings.setStepTime(Number(r[1])),n.getStoreActions().gameSettings.setGameTime(Number(r[0])*60)}await e.startGame(),n.getStoreActions().modals.closeModal()}),startOnlineWithFriendGame:Z(async(e,t,n)=>{nn.info("startOnlineWithFriendGame"),e.setGameType(t.gameType),e.setGameResult(null),n.getStoreActions().session.setGameCompleteReason(null),n.getStoreActions().modals.closeAllModals();const r=t.inviteSettings;r&&n.getStoreActions().gameSettings.deserializeSettings(r),me.isCrazyGames()&&window.CrazyGames.SDK.game.hideInviteButton(),await e.startGame()}),completeGame:Z(async(e,t,n)=>{var l,u;nn.info("completeGame"),n.getStoreState().config.soundEnable&&Ade(0),e.setGameResult(t),n.getStoreActions().platform.resetLeaderboardEntries(),ux(d=>{const f=n.getStoreState().session.gameCompleteReason;n.getStoreState().session.gameCompleteReason!==Jr.Checkmate&&d.onGameEnded({result:t,reason:_te(f)?Lo.Custom:f})});const r=e.endGame(),{gameType:o}=n.getState();(async()=>(await lr(0),Qn(o)&&(await n.getStoreActions().online.setGameEndedState(),Xr(o)&&(n.getStoreActions().p2p.sendResult(sB(t)),n.getStoreActions().session.updateAFKTimer())),n.getStoreState().session.playedAfterFatalMove||o===re.AI&&await n.getStoreActions().online.updateWithComputerRating(),o===re.Single&&await n.getStoreActions().online.updateSingleRating()))();const i=((u=(l=n.getStoreState().board.lastMove)==null?void 0:l.captures)==null?void 0:u.length)||1;await lr(zc*i);const a=n.getStoreState().session.gameCompleteReason;[Jr.Checkmate,Jr.DrawStalemate,Jr.DrawRepeatingPosition,Jr.Draw50Moves,Jr.DrawLackOfMaterial,Jr.AllCheckersBlocked].includes(a)&&(e.setIsBlockUiInteraction(!0),await new Promise(d=>setTimeout(d,1500)),e.setIsBlockUiInteraction(!1)),n.getStoreActions().modals.openGameResultModal(),n.getStoreActions().session.setGameStartedFromAnalytics(!1),(async()=>{var d;await lr(0),await Zy(n,At.CompleteGame),t===ht.Victory&&me.isCrazyGames()&&((d=window.CrazyGames)==null?void 0:d.SDK.game).happytime()})(),(async()=>{var d;await lr(0),Ne.trackGameCompleted({gameType:o,result:t,reason:n.getStoreState().session.gameCompleteReason,gameEngine:n.getStoreState().board.gameEngine,turn:n.getStoreState().board.myColor,rating_change:(d=n.getStoreState().online.ratingGameResult)==null?void 0:d.ratingDiff})})(),await r,o===re.FakeOnline&&n.getStoreState().flags.maioRematchPercent>=Math.random()&&n.getStoreActions().online.setConfirmationRematchFake({opponent:In.Confirmed})}),giveUp:Z(async(e,t,n)=>{nn.info("giveUp"),e.completeGame(ht.Defeat),n.getStoreActions().session.setGameCompleteReason(Lo.PlayerGiveUp)}),analyzeBoard:Z(async(e,t,n)=>{nn.info("analyzeBoard"),n.getStoreActions().config.setLastAnalyzePercentage(50),await n.getStoreActions().analyze.startAnalyze()}),rematch:Z(async(e,t=!0,n)=>{nn.info("rematch");const{handicapEnabled:r,hintsEnabled:o}=n.getStoreState().gameSettings,{gameType:i,gameState:a}=n.getState();(r||o)&&a!==xe.GameAnalyze&&!await n.getStoreActions().platform.showRewardedVideo({gameType:i,rewardType:Ja.Rematch})||(n.getStoreActions().modals.closeAllModals(),await n.getStoreActions().engine.resetEngine(),t&&await n.getStoreActions().board.resetState(),e.setGameResult(null),n.getStoreActions().session.setGameCompleteReason(null),n.getStoreActions().session.setTimesUp(!1),i===re.Single&&n.getStoreActions().gameSettings.setGameTime(.001),n.getStoreActions().gameSettings.setColor(ma(n.getStoreState().board.myColor)),await e.startGame())}),startAIGameWithClosestRatting:Z(async(e,t,n)=>{nn.info("startAIGameWithClosestRatting"),await n.getStoreActions().config.initOpponentAvatarAndName(),e.setGameType(re.AI),e.setGameResult(null),n.getStoreActions().session.setGameCompleteReason(null),n.getStoreActions().gameSettings.setTimeControl(!1);const r=Object.values(n.getStoreState().config.settingsByOptionLevelType),o=r.findIndex(i=>i.rating>=t)+1;n.getStoreActions().engine.setOptionLevelType(o||r.length),await e.startGame(),n.getStoreActions().modals.closeModal()}),openOnlineGameModal:Z(async(e,t,n)=>(n.getStoreActions().modals.openOnlineGameStatusModal(),n.getStoreState().config.strongerThanBots||n.getStoreActions().online.updateMaio(),gt.initialized?!0:n.getStoreActions().p2p.init())),createOnlineGame:Z(async(e,t,n)=>{nn.info("createOnlineGame");const{onlineState:r}=n.getStoreState().online;r<=xt.PASSIVE_SEARCH?await n.getStoreActions().online.startActiveSearch():(n.getStoreActions().modals.closeAllModals(),n.getStoreActions().modals.openOnlineGameStatusModal())}),initApp:Z(async(e,t,n)=>{nn.info("initApp")}),createOnlineWithFriendGame:Z(async(e,t,n)=>{nn.info("createOnlineWithFriendGame"),e.setGameType(re.TogetherOnline),e.setGameResult(null),t?(gt.initialized||await n.getStoreActions().p2p.init(),n.getStoreActions().modals.openConnectionByPeerIdModal()):(n.getStoreActions().modals.closeAllModals(),n.getStoreActions().modals.openOnlineTogetherGameStatusModal())}),startOnlineWithFriendGameByPeerId:Z(async(e,t,n)=>{if(!t){nn.warn("startOnlineWithFriendGameByPeerId","peerId is null");return}nn.info("startOnlineWithFriendGameByPeerId"),e.setGameType(re.TogetherOnline),e.setGameResult(null),n.getStoreActions().online.setOnlineState(xt.WAIT_FRIEND),gt.initialized||await n.getStoreActions().p2p.init(),gt.lobbyId&&await gt.leaveLobby(),gt.joinLobby(t)}),startOnlineWithFriendGameByInvite:Z(async(e,t,n)=>{nn.info("startOnlineWithFriendGameIfNeed");const r=wB();if(!r)return ffe()?e.createOnlineWithFriendGame():void 0;n.getStoreState().modals.modalVisibility[tt.ConnectionByInviteLinkModal]||n.getStoreActions().modals.openConnectionByInviteLinkModal(),await e.startOnlineWithFriendGameByPeerId(r)}),undoFatalMove:Z(async(e,t,n)=>{const r=await n.getStoreActions().board.undoMove(Ja.UndoFatalMove).then(o=>(o&&Ac(),o));return r&&(e._setGameState(xe.InGame),e.setGameResult(null),n.getStoreActions().session.setGameCompleteReason(null),lr(300).then(()=>{n.getStoreActions().modals.closeModalIfOpened(tt.GameResultModal)}),n.getStoreActions().session.setPlayedAfterFatalMove(!0),nn.info("undoFatalMove")),r}),cancelGame:Z(async(e,t,n)=>{nn.info("cancelGame"),e.setGameResult(ht.Defeat),Qn(n.getState().gameType)&&(await n.getStoreActions().online.setGameEndedState(),Xr(n.getState().gameType)&&(n.getStoreActions().p2p.sendResult(sB(ht.Victory)),n.getStoreActions().session.updateAFKTimer(),n.getStoreActions().online.setOfflineState({reason:"cancel_game_method"}))),e.endGame(),e.openMenu(),Ne.trackGameCanceled(n.getState().gameType)}),afterCancelGame:Hc((e,t)=>t.app.cancelGame,(e,t,n)=>{setTimeout(()=>{Ne.trackGameCompleted({gameType:n.getStoreState().app.gameType,result:ht.Draw,reason:n.getStoreState().session.gameCompleteReason,gameEngine:n.getStoreState().board.gameEngine,turn:n.getStoreState().board.myColor,rating_change:0})},0)})},rpe={...npe,afterSetInGameStateBeforeApplySettings:Z(async(e,t,n)=>{const{gameType:r}=n.getState();[re.AI,re.Single,re.Together].includes(r)||n.getStoreActions().gameSettings.setMandatoryTaken(!0)})},wxe="kqrbnp";var Nh=(e=>(e[e.Queen=0]="Queen",e[e.Pawn=12]="Pawn",e))(Nh||{});const Pg=JSON.stringify({light:gn.LIGHT_START,dark:gn.DARK_START,king:0}),Sxe=e=>{var t;return((t=e.piece)==null?void 0:t.player)===_n.LIGHT?lt.White:lt.Black},Axe=(e,t)=>(e==null?void 0:e.color)===(t==null?void 0:t.color)&&(e==null?void 0:e.type)===(t==null?void 0:t.type),ope=(e,t)=>Math.abs(Wa.findIndex(n=>n===(t||"")[0])-Wa.findIndex(n=>n===(e||"")[0])),vc=(e,t,n)=>ope(t,n)<=e,Cxe=(e,t)=>t.find(n=>{var r;return(((r=n.prevCell)==null?void 0:r.square)||"")[0]===((e==null?void 0:e.square)||"")[0]})||t.find(n=>{var r;return vc(1,(r=n.prevCell)==null?void 0:r.square,e==null?void 0:e.square)})||t.find(n=>{var r;return vc(2,(r=n.prevCell)==null?void 0:r.square,e==null?void 0:e.square)})||t.find(n=>{var r;return vc(3,(r=n.prevCell)==null?void 0:r.square,e==null?void 0:e.square)})||t.find(n=>{var r;return vc(4,(r=n.prevCell)==null?void 0:r.square,e==null?void 0:e.square)})||t.find(n=>{var r;return vc(5,(r=n.prevCell)==null?void 0:r.square,e==null?void 0:e.square)})||t.find(n=>{var r;return vc(6,(r=n.prevCell)==null?void 0:r.square,e==null?void 0:e.square)})||t.find(n=>{var r;return vc(7,(r=n.prevCell)==null?void 0:r.square,e==null?void 0:e.square)}),ipe={[En.CheckersEn]:2,[En.CheckersRu]:4,[En.CheckersPoddavki]:6},xD=e=>{const t=sr.fromFen(e).board(),n=g=>{const v=t.reduce((y,_)=>[...y,..._.filter(b=>(b==null?void 0:b.type)===g)],[]);return[v.filter(y=>(y==null?void 0:y.color)===lt.White).length,v.filter(y=>(y==null?void 0:y.color)===lt.Black).length]},[r,o]=n(Oo.Pawn),[i,a]=n(Oo.Queen),l=(g,v)=>{const y=ipe[ts];if(!y)throw new Error("Unknown queen in pawns count");return g+v*y},u=l(r,i),d=l(o,a),f=u-d,m=d-u;return{allCapturedFigures:{w:{hasCaptures:!!(Nh.Pawn-o-a),delta:f,score:u,p:Nh.Pawn-o-a,q:0},b:{hasCaptures:!!(Nh.Pawn-r-i),delta:m,score:d,p:Nh.Pawn-r-i,q:0}},differenceCapturedFigures:{w:{delta:f,score:u,p:r-o,q:i-a},b:{delta:m,score:d,p:o-r,q:a-i}}}},OD=(e,t)=>e+Math.floor(Math.random()*(t-e)),Fh={historyOffset:null,lastMoveIsDrag:!1,isRotatedSetting:!1,isStageSwichProgress:!1,opponentEmotion:null,_playerMoveStartedTimestamp:0,playerMoveSpeed:[],prevGameBoard:hte,gameEngine:{},selectedCell:null,availableMoves:[],myColor:lt.White,prevFakeTimeOffsetSum:0,prevFakeTimeOffsetCnt:0,prevFakeTimeAvgOffset:0,timeControl:!1,timer:void 0,playerTimeLeft:300,optionTimeLeft:300,timeByStep:0,isTimeRemaining:!0,isComputerGaveUp:!1,isShowComputerGaveUpModal:!1,fakeAIMoveDelay:0,fakeAIMoveDelayPromise:null,aiMoveCalculationProgress:null,hintsCalculationProgress:null,materialAfterMove:null,isHintWasShown:!1},Or=xn.getLogger("BOARD_STORE"),ape={...Fh,setHintWasShown:ue((e,t)=>{e.isHintWasShown=t}),setStageSwichProgress:ue((e,t)=>{e.isStageSwichProgress=t}),setPrevFakeTimeOffset:ue((e,t)=>{e.prevFakeTimeOffsetSum=e.prevFakeTimeOffsetSum+t,e.prevFakeTimeOffsetCnt=e.prevFakeTimeOffsetCnt+1,e.prevFakeTimeAvgOffset=e.prevFakeTimeOffsetSum/e.prevFakeTimeOffsetCnt}),history:ze([],()=>{throw new Error("   history   ")}),lastMove:ze([],()=>{throw new Error("   lastMove   ")}),lastMoveCaptures:ze([],()=>[]),boardFen:ze([e=>e.gameEngine],e=>e.fen()),currGameEngine:ze([],()=>{throw new Error("   boardFen   ")}),setPrevGameBoard:ue((e,t)=>{e.prevGameBoard=t,Or.info("setPrevGameBoard",t)}),toggleRotated:ue(e=>{e.isRotatedSetting=!e.isRotatedSetting,Or.info("toggleRotated",e.isRotatedSetting)}),isRotated:ze([e=>e.isRotatedSetting],e=>Bt().isRotateBoardEnable?e:!1),setRotatedSetting:ue((e,t)=>{e.isRotatedSetting=t,Or.info("setRotatedSetting",t)}),setLastMoveIsDrag:ue((e,t)=>{e.lastMoveIsDrag=t,Or.info("setLastMoveIsDrag",t)}),setSelectedCell:ue((e,t)=>{e.selectedCell=t,Or.info("setSelectedCell",t)}),setAvailableMoves:ue((e,t)=>{e.availableMoves=t,Or.info("setAvailableMoves",t)}),setOpponentEmotion:ue((e,t)=>{e.opponentEmotion=t,Or.success("setOpponentEmotion",t)}),setMyColor:ue((e,t)=>{e.myColor=t,e.isRotated=t===lt.Black,e.isRotatedSetting=t===lt.Black,Or.info("setMyColor",t)}),setTimeControl:ue((e,t)=>{e.timeControl=t,Or.info("setTimeControl",t)}),setPlayerTimeLeft:ue((e,t)=>{e.playerTimeLeft=t}),setOptionTimeLeft:ue((e,t)=>{e.optionTimeLeft=t}),setTimeByStep:ue((e,t)=>{e.timeByStep=t,Or.info("setTimeByStep",t)}),setIsTimeRemaining:ue((e,t)=>{e.isTimeRemaining=t}),setIsComputerGaveUp:ue((e,t)=>{e.isComputerGaveUp=t}),setIsShowComputerGaveUpModal:ue((e,t)=>{e.isShowComputerGaveUpModal=t}),setAiMoveCalculationProgress:ue((e,t)=>{e.aiMoveCalculationProgress=t,Or.info("setAiMoveCalculationProgress")}),setHintsCalculationProgress:ue((e,t)=>{e.hintsCalculationProgress=t,Or.info("setHintsCalculationProgress")}),decrementPlayerTime:Z((e,t,n)=>{e.setPlayerTimeLeft(n.getState().playerTimeLeft-t),e.checkGameStatusByTimeTick()},!0),decrementOptionTime:Z(async(e,t,n)=>{e.setOptionTimeLeft(n.getState().optionTimeLeft-t),await e.checkGameStatusByTimeTick()},!0),checkGameStatusByTimeTick:Z(async(e,t,n)=>{var d;const r=n.getState().myColor,o=(d=n.getState().materialAfterMove)==null?void 0:d.allCapturedFigures;let i=!0,a=!0;o!=null&&(i=o[r].score>=1,a=o[ma(r)].score>=1);const l=n.getState().optionTimeLeft>=0||n.getState().playerTimeLeft>=0;l!==n.getState().isTimeRemaining&&e.setIsTimeRemaining(l);const u=n.getState().optionTimeLeft<=0&&!i||n.getState().playerTimeLeft<=0&&!a?ht.Draw:n.getState().playerTimeLeft<=0?ht.Defeat:n.getState().optionTimeLeft<=0?ht.Victory:null;u!==null&&(Or.success("checkGameStatusByTimeTick",u),u!==ht.Draw?(n.getStoreActions().session.setTimesUp(!0),n.getStoreActions().session.setGameCompleteReason(Lo.TimeIsUp)):n.getStoreActions().session.setGameCompleteReason(Jr.Draw),clearInterval(n.getState().timer),n.getStoreActions().app.completeGame(u),e.setIsTimeRemaining(!1))},!0),updateMaterialAfterMove:ue((e,t)=>{throw new Error("   updateMaterialAfterMove   ")}),getEndGameResult:Z((e,t,n)=>{throw new Error("   getEndGameResult   ")}),isGameOver:Z((e,t,n)=>{const{gameEngine:r,optionTimeLeft:o,playerTimeLeft:i,timeControl:a}=n.getState();return r.isGameOver()||a&&(o<=0||i<=0)}),checkGameStatusAfterMove:Z(async(e,t=!1,n)=>{const{completeGame:r}=n.getStoreActions().app,o=n.getStoreState().app.gameType,i=n.getStoreActions().board.setOpponentEmotion,{myColor:a,gameEngine:l,timeByStep:u,timeControl:d}=n.getState(),f=l.history(),m=l.totalHistoryLength,g=ca?m!==void 0&&m===2:f.length===2,v=ca?m!==void 0&&m<2:f.length<2;g?n.getStoreActions().online.correctOnlineRatingAfter2moves():v&&(n.getStoreState().online.playerRatingBeforeStart=0),a!==l.turn()&&!d&&Zy(n,At.DuringGameWithNoTimer),e.setHintWasShown(!1),e.updateMaterialAfterMove(),Qn(n.getStoreState().app.gameType)&&n.getStoreActions().session.updateAFKTimer(),n.getStoreActions().config.updateLastGameMove();const y=e.getEndGameResult();let _=null;clearInterval(n.getState().timer);const b=m||f.length;if((a===l.turn()?b>1:b>0)&&n.getStoreActions().app.clearFakeOnlineMoveTimeout(),y!==null)_=r(y),Or.info("checkGameStatusAfterMove",xe.AfterGame);else if(Or.info("checkGameStatusAfterMove",xe.InGame),d){const A=l.turn();let C,M=new Date().getTime();n.getState().timer=setInterval(()=>{C=new Date().getTime();const T=(C-M)/1e3;M=C;const{app:{gameType:I,gameState:P},board:{isStageSwichProgress:B,myColor:R,gameEngine:x,history:D},session:{isPause:$},p2p:{isSendingMoveProcess:U}}=n.getStoreState(),j=R===x.turn();if(P!==xe.InGame)return;if(Qn(I)){if(bn.draw.isNow())return}else if($)return;if(B)return;const G=ca?x.totalHistoryLength:D.length,q=j?G>1:G>0;if(!(I===re.FakeOnline&&!q))if(j||I===re.Single){const F=I===re.Single?-1:1;e.decrementPlayerTime(T*F)}else{if(U&&Xr(I))return;e.decrementOptionTime(T)}},50),f.length>1&&(a!==A?await e.decrementPlayerTime(-u):await e.decrementOptionTime(-u))}(async()=>{var A;if(await lr(0),Ag(o)&&n.getStoreState().config.enemyEmojiMode!==da.BLOCK){const C=Math.random()<(((A=n.getStoreState().online.fakeOnlineOpponent)==null?void 0:A.emojiChance)||0),M=Math.random()<n.getStoreActions().flags.getEmojiComputerProbability();if(o===re.AI&&M||o===re.FakeOnline&&C){const T=B=>Math.floor(Math.random()*B.length),I=Jc[T(Jc)].emotions.filter(j0),P=_G();await lr(P),i(I[T(I)]),Ne.trackEmojiSendByAi()}}})(),e.setSelectedCell(null),e.setAvailableMoves([]),await Promise.all([_,n.getStoreActions().engine.stop()]),n.getStoreState().app.gameType===re.FakeOnline&&(async()=>{if(await lr(0),a===l.turn())n.getState()._playerMoveStartedTimestamp=Date.now();else{bn.draw.reset();const A=n.getStoreState().flags.maioMoveAvgForSpread,C=[...n.getState().playerMoveSpeed];C.length>=A&&C.shift(),Date.now()-n.getState()._playerMoveStartedTimestamp>17e3?C.push(OD(2e3,5e3)):C.push(Date.now()-n.getState()._playerMoveStartedTimestamp),n.getState().playerMoveSpeed=C}})(),!await e.isGameOver()&&!t&&await e.AIMove()}),FakeOnlineMoveDelay:Z((e,t,n)=>{if(n.getStoreState().app.gameType!==re.FakeOnline)return{promise:null,time:0};const r=u=>Math.max(1,u-(n.getState().prevFakeTimeAvgOffset||0));if(n.getStoreState().board.history.length<=1){const u=Math.min(1,n.getStoreState().gameSettings.gameTime/300),d=1e3*u+Math.floor(Math.random()*1500*u);return{promise:lr(r(d)),time:r(d)}}const o=n.getStoreState().board.playerMoveSpeed,i=o.reduce((u,d)=>u+d,0)/o.length||0,a=n.getStoreState().flags.maioMoveTimeSpread,l=Math.floor(Math.min(i,15e3)*OD(100-a,100+a)/100);return n.getState().fakeAIMoveDelay=r(l||1e3),n.getState().fakeAIMoveDelayPromise=new Promise(async u=>{await lr(n.getState().fakeAIMoveDelay),Or.info("FakeOnlineMoveDelay",l),u()}),{promise:n.getState().fakeAIMoveDelayPromise,time:n.getState().fakeAIMoveDelay}}),AIMove:Z((e,t,n)=>{throw new Error("   AIMove   ")}),setMoveForView:ue((e,t)=>{throw new Error("   setMoveForView   ")}),leftHistoryButtonClickPayload:ze([e=>e.history,e=>e.historyOffset],(e,t)=>t===0||e.length<2||!Bt().feature[we.HistorySurf]?null:t!==null&&t>0?{fen:e[t-1].after,offset:t-1}:t===null?{fen:e[e.length-2].after,offset:e.length-2}:null),leftHistoryButtonClick:Z((e,t,n)=>{const r=n.getState().leftHistoryButtonClickPayload;r!==null&&e.setMoveForView(r)}),rightHistoryButtonClickPayload:ze([e=>e.history,e=>e.historyOffset],(e,t)=>t===null||!Bt().feature[we.HistorySurf]?null:t<e.length-1?{fen:e[t+1].after,offset:t+1}:null),rightHistoryButtonClick:Z((e,t,n)=>{const r=n.getState().rightHistoryButtonClickPayload;r!==null&&e.setMoveForView(r)}),undoMove:Z((e,t,n)=>{throw new Error("   undoMove   ")}),showHint:Z(async(e,t,n)=>{throw new Error("   showHint   ")}),resetBoardFen:ue((e,t)=>{throw new Error("   resetBoardFen   ")}),resetState:Z((e,t,n)=>{n.getState().historyOffset=null,clearInterval(n.getState().timer),n.getStoreActions().canvas.clearCanvas(),n.getState().playerMoveSpeed=[],e.resetBoardFen(),e.setSelectedCell(null),e.setAvailableMoves([]),Or.info("reset board state")}),makeAIMoveAfterPause:Z(async(e,t,n)=>{const{gameEngine:r}=n.getState(),o={board:r.board(),fen:r.fen()};try{r.move(t),e.setPrevGameBoard(o),e.setLastMoveIsDrag(!1),await e.checkGameStatusAfterMove(),Or.info("makeAIMoveAfterPause",t)}catch{await e.AIMove()}})},GB=new sr,Hv={board:GB.board(),fen:GB.fen()},spe={gameEngine:GB,prevGameBoard:Hv,lastSearchEva:null,lastDrawRequest:0,allAvailableFigures:null,showAvailableTimer:null},ml=xn.getLogger("BOARD_STORE"),lpe={...ape,...spe,setGameEngine:ue((e,t)=>{e.gameEngine=t,ml.info("setGameEngine",t.fen())}),setLastDrawRequest:ue((e,t)=>{e.lastDrawRequest=t}),setShowAvailableFigures:ue((e,t)=>{e.allAvailableFigures=t}),setNextGameEngine:ue((e,t)=>{e.prevGameBoard={board:t.board(),fen:t.fen()},e.gameEngine=t,ml.info("setNextGameEngine",t.fen())}),setNextGameEngineByFen:ue((e,t)=>{e.gameEngine=sr.fromFen(t),e.prevGameBoard={board:e.gameEngine.board(),fen:t},ml.info("setNextGameEngineByFen",t)}),setNextGameEngineByPGN:ue((e,t)=>{e.gameEngine=sr.fromPgn(t),e.prevGameBoard={board:e.gameEngine.board(),fen:e.gameEngine.fen()},ml.info("setNextGameEngineByPGN",t)}),updateMaterialAfterMove:ue((e,t)=>{e.materialAfterMove=xD(e.gameEngine.fen()),ml.info("updateMaterialAfterMove")}),resetBoardFen:ue(e=>{e.gameEngine=new sr,e.prevGameBoard=Hv,e.selectedCell=Fh.selectedCell,e.availableMoves=Fh.availableMoves,clearInterval(e.timer),e.playerTimeLeft=Fh.playerTimeLeft,e.optionTimeLeft=Fh.optionTimeLeft,ml.info("resetBoardFen")}),setMoveForView:ue((e,t)=>{if(!Bt().feature[we.HistorySurf])return;e.lastMoveIsDrag=!1;const n=e.historyOffset===null?e.gameEngine.fen():e.gameEngine.history()[e.historyOffset].after;e.prevGameBoard={board:e.gameEngine.board(),fen:n},t.offset===e.gameEngine.history().length-1?e.historyOffset=null:(_1.trackScrollBackToHistory(),e.historyOffset=t.offset,e.availableMoves=[],e.selectedCell=null)}),currGameEngine:ze([e=>e.historyOffset,e=>e.gameEngine],(e,t)=>e===null?t:sr.fromFen(t.history()[e].after)),history:ze([e=>e.gameEngine],e=>e.history()),boardMaterialInPawns:ze([e=>e.history,e=>e.historyOffset,e=>e.gameEngine],(e,t,n)=>{var i;const r=t===null?e.length-1:t,o=((i=e[r])==null?void 0:i.after)??n.fen();return xD(o)}),lastMove:ze([e=>e.history,e=>e.historyOffset],(e,t)=>e.length===0?null:e[t??e.length-1]),lastMoveCaptures:ze([e=>e.lastMove],e=>(e==null?void 0:e.captures)||[]),getEndGameResult:Z((e,t,n)=>{const r=n.getStoreState().app.gameType,{myColor:o,gameEngine:i}=n.getState();let a=null,l=null;return i.isGameOver()&&(i.isDraw()?(a=ht.Draw,l=i.isDrawRepeating()?Jr.DrawRepeatingPosition:Jr.Draw):(i.isLightEmpty||i.isDarkEmpty?l=Jr.Checkmate:l=Jr.AllCheckersBlocked,r===re.Together?a=i.isLightWon()?ht.WhitesVictory:ht.BlacksVictory:a=o===lt.White&&i.isLightWon()||o!==lt.White&&i.isDarkWon()?ht.Victory:ht.Defeat)),n.getStoreActions().session.setGameCompleteReason(l),a}),undoMove:Z(async(e,t=Ja.UndoMove,n)=>{const{gameEngine:r,myColor:o}=n.getState(),{gameState:i,gameType:a}=n.getStoreState().app;await n.getStoreActions().engine.stop(),n.getStoreActions().canvas.clearCanvas();const l=Qn(a),u=a===re.Together,d=r.turn()===o?!u||i===xe.AfterGame:l,f=async()=>(await Ic(zc),e.setPrevGameBoard({board:r.board(),fen:r.fen()}),d&&r.undo(),r.undo(),e.setAvailableMoves([]),e.setSelectedCell(null),u||await e.AIMove(),!0);return r.turn()===o||i===xe.AfterGame||u||l?l&&r.turn()!==o?f():n.getStoreActions().platform.showRewardedVideo({rewardType:t,gameType:a}).then(async m=>m?f():!1).catch(()=>!1):!1}),showHint:Z(async(e,t,n)=>{const r=n.getStoreState().app.gameType,i=n.getState().gameEngine,a=Qn(r),l=n.getState().myColor===n.getState().gameEngine.turn(),u=()=>(Ic(500).then(()=>sx(0)),n.getStoreActions().engine.renderHints({gameEngine:i}),e.setHintWasShown(!0),!0);return a&&!l?u():await n.getStoreActions().platform.showRewardedVideo({rewardType:Ja.SingleHint,gameType:r}).then(async d=>d?u():!1)}),playerTryMove:Z(async(e,t,n)=>{var v,y;const{cell:r,square:o,dropped:i}=t,{gameState:a,gameType:l}=n.getStoreState().app,{myColor:u,gameEngine:d,selectedCell:f}=n.getState(),m=d;if(l!==re.Together&&m.turn()!==u||a!==xe.InGame)return;if((r==null?void 0:r.color)===m.turn()){if((f==null?void 0:f.square)===(r==null?void 0:r.square))return;e.setSelectedCell(r);const _=m.moves({fromSquare:r==null?void 0:r.square});e.setAvailableMoves(_),!_.length&&n.getStoreState().gameSettings.isMandatoryTaken&&(e.setShowAvailableFigures(m.allSquaresWithMove()),clearTimeout(n.getState().showAvailableTimer),n.getState().showAvailableTimer=setTimeout(()=>{e.setShowAvailableFigures(null)},2e3)),ml.success("playerTryMove","selectFigure",{cell:r,square:o,moves:_})}const g=f?m.isValidMove(f.square,o):null;if(g){const _=!!i,b=_?Hv:{board:m.board(),fen:m.fen()};m.move(g);const A=!!((y=(v=m.history().at(-1))==null?void 0:v.captures)!=null&&y.length);e.setLastMoveIsDrag(_),_&&n.getStoreState().config.soundEnable&&(A?wde(0):bde(0));const C=_?{board:m.board(),fen:m.fen()}:Hv;e.setPrevGameBoard(_?C:b),ml.success("playerTryMove","move",g),(async()=>{if(await Ic(0),await e.checkGameStatusAfterMove(),Xr(l)){const M=m.history();n.getStoreActions().p2p.sendMove(Fm(M[M.length-1]))}})()}}),AIMove:Z(async(e,t,n)=>{var d;const{myColor:r,gameEngine:o}=n.getState(),{app:{gameState:i,gameType:a},gameSettings:{hintsEnabled:l}}=n.getStoreState(),u=o;if([re.AI,re.Together,re.TogetherOnline].includes(a)&&l&&([re.AI,re.TogetherOnline].includes(a)&&u.turn()===r||a===re.Together)&&await n.getStoreActions().engine.renderHints({gameEngine:u}),!(i!==xe.InGame||!Ag(a))&&u.turn()!==r){const f=performance.now();e.setAiMoveCalculationProgress("infinite");const{promise:m,time:g}=e.FakeOnlineMoveDelay(),[v]=await Promise.all([n.getStoreActions().engine.getAvailableMove({gameEngine:u,timeLimit:a===re.AI?1e4:g}),m]);if(n.getStoreState().app.gameState!==xe.InGame)return;e.setAiMoveCalculationProgress(null);const y=v.evaluation;n.getState().lastSearchEva=y;const _=zm(y,ma(r),r),b=u.lightFiguresCnt<=4&&u.darkFiguresCnt<=4,E=_>=25&&_<=75&&!0,A=n.getState().lastDrawRequest,C=u.history().length,M=A<=C-10||A>C;E&&u.isEveryoneHasKing&&b&&M&&a===re.FakeOnline&&(bn.draw.reset(),n.getStoreActions().online.onDrawRequest({confirm:!0}),e.setLastDrawRequest(u.history().length));const T=(((d=n.getStoreState().online.fakeOnlineOpponent)==null?void 0:d.giveUpChance)||1)*100;if(a===re.FakeOnline&&_>=T&&u.history().length>=20&&Bt().aiGiveUpEnabled){n.getStoreActions().session.setGameCompleteReason(Lo.ComputerGiveUp),n.getStoreActions().app.completeGame(ht.Victory);return}if(n.getStoreState().session.isPause&&a!==re.FakeOnline)n.getStoreActions().session.saveAIMove(v.move);else{const P={board:u.board(),fen:u.fen()};u.move(v.move),e.setPrevGameBoard(P),e.setLastMoveIsDrag(!1),await e.checkGameStatusAfterMove()}const I=performance.now()-f;e.setPrevFakeTimeOffset(Math.max(I-g,0))}})},cpe=""+new URL("p-BmlDkvNG.webp",import.meta.url).href,upe=""+new URL("q-Gswm1HS3.webp",import.meta.url).href,dpe=""+new URL("p-C10DgFU3.webp",import.meta.url).href,fpe=""+new URL("q-B3eDdOlC.webp",import.meta.url).href,hpe=""+new URL("p-Di7Y4GuO.webp",import.meta.url).href,mpe=""+new URL("q-f66QPYEu.webp",import.meta.url).href,gpe=""+new URL("p-Diz5BqZk.webp",import.meta.url).href,ppe=""+new URL("q-DuT_A7ZR.webp",import.meta.url).href,vpe=""+new URL("p-B_dJPJ7l.webp",import.meta.url).href,ype=""+new URL("q-BIN_2F1K.webp",import.meta.url).href,_pe=""+new URL("p-BhredfiU.webp",import.meta.url).href,bpe=""+new URL("q-BzbSGHu8.webp",import.meta.url).href,wpe=""+new URL("p-REc-mdW_.webp",import.meta.url).href,Spe=""+new URL("q-e-OtLSJM.webp",import.meta.url).href,Ape=""+new URL("p-CADMiwiP.webp",import.meta.url).href,Cpe=""+new URL("q-C4DOO-GA.webp",import.meta.url).href,kpe=""+new URL("p-BHwFqZn1.webp",import.meta.url).href,Epe=""+new URL("q-BDDv4uj4.webp",import.meta.url).href,Bpe=""+new URL("p-oYtMMVbS.webp",import.meta.url).href,Rpe=""+new URL("q-BJmOX-aU.webp",import.meta.url).href,xpe=""+new URL("p-C7OASPtM.webp",import.meta.url).href,Ope=""+new URL("q-rv_eRFXp.webp",import.meta.url).href,Mpe=""+new URL("p-CSoc49Av.webp",import.meta.url).href,Ppe=""+new URL("q-SxVlc8Nl.webp",import.meta.url).href,Tpe=""+new URL("p-dvMlqJt4.webp",import.meta.url).href,Ipe=""+new URL("q-BTY3dzNE.webp",import.meta.url).href,Lpe=""+new URL("p-SzKu7XG_.webp",import.meta.url).href,Dpe=""+new URL("q-CgsqiC_g.webp",import.meta.url).href,Npe=""+new URL("p-DdfdI6Pq.webp",import.meta.url).href,Fpe=""+new URL("q-sk06c1Tl.webp",import.meta.url).href,Gpe=""+new URL("p-zEnAQ1xg.webp",import.meta.url).href,jpe=""+new URL("q-DneLH213.webp",import.meta.url).href,$pe=""+new URL("p-CyOeVy5w.webp",import.meta.url).href,zpe=""+new URL("q-ilVx4WIg.webp",import.meta.url).href,Upe=""+new URL("p-CmXPrqlv.webp",import.meta.url).href,Vpe=""+new URL("q-D8U3VsoN.webp",import.meta.url).href,qpe=""+new URL("p-CRqlzcrd.webp",import.meta.url).href,Qpe=""+new URL("q-D2tu3LMI.webp",import.meta.url).href,Hpe=""+new URL("p-B7l-XaCd.webp",import.meta.url).href,Wpe=""+new URL("q-DvP4C-aF.webp",import.meta.url).href,Jpe=""+new URL("p-CaBp-QeI.webp",import.meta.url).href,Zpe=""+new URL("q-oGMpBv2h.webp",import.meta.url).href,Ype=""+new URL("p-DgDG1VY5.webp",import.meta.url).href,Kpe=""+new URL("q-CRuTPmPs.webp",import.meta.url).href,Xpe=""+new URL("p-CmVXfxET.webp",import.meta.url).href,eve=""+new URL("q-cxQTKKlP.webp",import.meta.url).href,tve=""+new URL("p-W0zdY1wL.webp",import.meta.url).href,nve=""+new URL("q-Ihx0R2hH.webp",import.meta.url).href,rve=""+new URL("p-D2ss1YeQ.webp",import.meta.url).href,ove=""+new URL("q-B5JhK7_9.webp",import.meta.url).href,ive=""+new URL("p-X60XLCR4.webp",import.meta.url).href,ave=""+new URL("q-DWQJ8s2x.webp",import.meta.url).href,sve=""+new URL("p-DRUi5OQx.webp",import.meta.url).href,lve=""+new URL("q-BtOjVuG-.webp",import.meta.url).href,cve=""+new URL("p-CqY-Z-O1.webp",import.meta.url).href,uve=""+new URL("q-159HULBT.webp",import.meta.url).href,dve=""+new URL("p-ChZm5zvk.webp",import.meta.url).href,fve=""+new URL("q-BEdq0ZDg.webp",import.meta.url).href,hve=""+new URL("p-CtSVWZUV.webp",import.meta.url).href,mve=""+new URL("q-DgFSEE5r.webp",import.meta.url).href,gve=""+new URL("p-CFBxujTd.webp",import.meta.url).href,pve=""+new URL("q-BL2H3gUG.webp",import.meta.url).href,vve=""+new URL("p-BG1bpYpZ.webp",import.meta.url).href,yve=""+new URL("q-8tnqYVu3.webp",import.meta.url).href,_ve=""+new URL("p-DLGdOWkB.webp",import.meta.url).href,bve=""+new URL("q-CBDd1lAs.webp",import.meta.url).href,wve=""+new URL("p-DkcOy-3n.webp",import.meta.url).href,Sve=""+new URL("q-B4pADYzA.webp",import.meta.url).href,Ave=""+new URL("p-ZX_Si0ei.webp",import.meta.url).href,Cve=""+new URL("q-MKhLqZYb.webp",import.meta.url).href,kve=""+new URL("p-CGBt11Ru.webp",import.meta.url).href,Eve=""+new URL("q-DnQAk4v7.webp",import.meta.url).href,Bve=""+new URL("p-DxGOW5ul.webp",import.meta.url).href,Rve=""+new URL("q-Djl-_2Zx.webp",import.meta.url).href,xve=""+new URL("p-DvfqpSSq.webp",import.meta.url).href,Ove=""+new URL("q-DXKjO8FQ.webp",import.meta.url).href,Mve=""+new URL("p-B7p-oDR0.webp",import.meta.url).href,Pve=""+new URL("q-D5WMFYz6.webp",import.meta.url).href,Tve=""+new URL("p-Cv1FUGKF.webp",import.meta.url).href,Ive=""+new URL("q-C2aaE5xS.webp",import.meta.url).href,Lve=""+new URL("p-B0EG35xl.webp",import.meta.url).href,Dve=""+new URL("q-DOYyELuy.webp",import.meta.url).href,Nve=""+new URL("p-Dvi5jAnp.webp",import.meta.url).href,Fve=""+new URL("q-DuQg1e4H.webp",import.meta.url).href,Gve=""+new URL("p-DLUd95ac.webp",import.meta.url).href,jve=""+new URL("q-B7hosSuU.webp",import.meta.url).href,$ve=""+new URL("p-DBi4o5j4.webp",import.meta.url).href,zve=""+new URL("q-DFQacbuf.webp",import.meta.url).href,Uve=""+new URL("p-DXwM0eiC.webp",import.meta.url).href,Vve=""+new URL("q-BKe5lQ0a.webp",import.meta.url).href,qve=""+new URL("p-BLbayZ9G.webp",import.meta.url).href,Qve=""+new URL("q-Dpoi2Ej1.webp",import.meta.url).href,Hve=""+new URL("p-BwmrVhJZ.webp",import.meta.url).href,Wve=""+new URL("q-CbgaKtDW.webp",import.meta.url).href,Jve=""+new URL("p-BE8DloOS.webp",import.meta.url).href,Zve=""+new URL("q-D4NyslR1.webp",import.meta.url).href,Yve=""+new URL("p-CG7rOv4N.webp",import.meta.url).href,Kve=""+new URL("q-DvYXxDJt.webp",import.meta.url).href,Xve=""+new URL("p-BE8DloOS.webp",import.meta.url).href,eye=""+new URL("q-D4NyslR1.webp",import.meta.url).href,tye=""+new URL("p-CtDxNGjO.webp",import.meta.url).href,nye=""+new URL("q-DL9et3hr.webp",import.meta.url).href,rye=""+new URL("p-DDwpktO7.webp",import.meta.url).href,oye=""+new URL("q-CXbPsoQ6.webp",import.meta.url).href,iye=""+new URL("p-j9-_hJ7A.webp",import.meta.url).href,aye=""+new URL("q-Cmzk_bQY.webp",import.meta.url).href,sye=""+new URL("p-B-a-Cif9.webp",import.meta.url).href,lye=""+new URL("q-IjkFTr0h.webp",import.meta.url).href,cye=""+new URL("p-CFL75ZeO.webp",import.meta.url).href,uye=""+new URL("q-u1AxMYRN.webp",import.meta.url).href,dye=""+new URL("p-hJpShEmu.webp",import.meta.url).href,fye=""+new URL("q-CPXiYEHC.webp",import.meta.url).href,hye=""+new URL("p-CJFJLvxm.webp",import.meta.url).href,mye=""+new URL("q-Dw8jPIvC.webp",import.meta.url).href,gye=""+new URL("p-BAFjPVov.webp",import.meta.url).href,pye=""+new URL("q--AwEfOyI.webp",import.meta.url).href,vye=""+new URL("p-CIpLKbN7.webp",import.meta.url).href,yye=""+new URL("q-DJkqjowE.webp",import.meta.url).href,_ye=""+new URL("p-Cn96MDTu.webp",import.meta.url).href,bye=""+new URL("q-CzTfZX3s.webp",import.meta.url).href,wye=""+new URL("p-Bjbno22W.webp",import.meta.url).href,Sye=""+new URL("q-DKKu4vc2.webp",import.meta.url).href,Aye=""+new URL("p-CzdXiaH9.webp",import.meta.url).href,Cye=""+new URL("q-BjbrDpac.webp",import.meta.url).href,kye=""+new URL("p-DHKvY7Zn.webp",import.meta.url).href,Eye=""+new URL("q-D-LLf18k.webp",import.meta.url).href,Bye=""+new URL("p-Beacl1nV.webp",import.meta.url).href,Rye=""+new URL("q-C-f74RX2.webp",import.meta.url).href,xye=""+new URL("p-Da67ZZGD.webp",import.meta.url).href,Oye=""+new URL("q-VlCyrby3.webp",import.meta.url).href,Mye=""+new URL("p-BXrscFO2.webp",import.meta.url).href,Pye=""+new URL("q-CSZHM14e.webp",import.meta.url).href,Tye=""+new URL("p-DqRi7fmR.webp",import.meta.url).href,Iye=""+new URL("q-CjY4afIx.webp",import.meta.url).href,Lye=""+new URL("p-BFkJR8q8.webp",import.meta.url).href,Dye=""+new URL("q-BI91X7WU.webp",import.meta.url).href,Nye=""+new URL("p-CSXF76_E.webp",import.meta.url).href,Fye=""+new URL("q-46w_DhSU.webp",import.meta.url).href,Gye=""+new URL("p-B3JqwVR7.webp",import.meta.url).href,jye=""+new URL("q-DsmIEAtL.webp",import.meta.url).href,$ye=""+new URL("p-BltXlFVT.webp",import.meta.url).href,zye=""+new URL("q-BnXPWjbP.webp",import.meta.url).href,Uye=""+new URL("p-EPBmt4Za.webp",import.meta.url).href,Vye=""+new URL("q-C77dtmHU.webp",import.meta.url).href,qye=""+new URL("p-BJ1uehfh.webp",import.meta.url).href,Qye=""+new URL("q-DCziH7hC.webp",import.meta.url).href,Hye=""+new URL("p-Bzkv5IFl.webp",import.meta.url).href,Wye=""+new URL("q-1DQwPmy7.webp",import.meta.url).href,Jye=""+new URL("p-C1KYbt8q.webp",import.meta.url).href,Zye=""+new URL("q-CYv1VXwG.webp",import.meta.url).href,Yye=""+new URL("p-C5Ga5uz2.webp",import.meta.url).href,Kye=""+new URL("q-kRMcM_d_.webp",import.meta.url).href,Xye=""+new URL("p-fKz1JO6a.webp",import.meta.url).href,e0e=""+new URL("q-EWvQ6lD8.webp",import.meta.url).href,t0e=""+new URL("p-CGfdhFGy.webp",import.meta.url).href,n0e=""+new URL("q-B2N5QIia.webp",import.meta.url).href,r0e=""+new URL("p-QTxVqjpi.webp",import.meta.url).href,o0e=""+new URL("q-Bxq8RO_7.webp",import.meta.url).href,i0e=""+new URL("p-DacACH75.webp",import.meta.url).href,a0e=""+new URL("q-CBw48uZp.webp",import.meta.url).href,s0e=""+new URL("p-CbT1QyUD.webp",import.meta.url).href,l0e=""+new URL("q-Dav1F94m.webp",import.meta.url).href,c0e=""+new URL("p-Bg0kSzsU.webp",import.meta.url).href,u0e=""+new URL("q-BT1BQuOk.webp",import.meta.url).href,d0e=""+new URL("p-BTKTn-dK.webp",import.meta.url).href,f0e=""+new URL("q-p0a2LIOL.webp",import.meta.url).href,h0e=""+new URL("p-DBG-x1xs.webp",import.meta.url).href,m0e=""+new URL("q-MW5RSWmz.webp",import.meta.url).href,g0e=""+new URL("p-APQ3BkWt.webp",import.meta.url).href,p0e=""+new URL("q-D9LW-LhK.webp",import.meta.url).href,v0e=""+new URL("p-DZxmKTus.webp",import.meta.url).href,y0e=""+new URL("q-BE7UR9ip.webp",import.meta.url).href,_0e=""+new URL("p-D5QZPeMy.webp",import.meta.url).href,b0e=""+new URL("q-DycHEzIn.webp",import.meta.url).href,w0e=""+new URL("p-ucmkaQCK.webp",import.meta.url).href,S0e=""+new URL("q-Cppomw8d.webp",import.meta.url).href,A0e=""+new URL("p-VzWqkp_4.webp",import.meta.url).href,C0e=""+new URL("q-BSUtOEc5.webp",import.meta.url).href,k0e=""+new URL("p-BMY7TQfF.webp",import.meta.url).href,E0e=""+new URL("q-PbVVjiWm.webp",import.meta.url).href,B0e=""+new URL("p-CXZofxlZ.webp",import.meta.url).href,R0e=""+new URL("q-DHkqeRk3.webp",import.meta.url).href,x0e=""+new URL("p-C4SHVX9N.webp",import.meta.url).href,O0e=""+new URL("q-ChPvOnU8.webp",import.meta.url).href,M0e=""+new URL("p-B9AqD7M4.webp",import.meta.url).href,P0e=""+new URL("q-ule3aZSQ.webp",import.meta.url).href,T0e=""+new URL("p-DQOXUdqP.webp",import.meta.url).href,I0e=""+new URL("q-Cc-9KOqx.webp",import.meta.url).href,L0e=""+new URL("p-DrW0tQMW.webp",import.meta.url).href,D0e=""+new URL("q-0SFK2Z1w.webp",import.meta.url).href,N0e=""+new URL("p-BcU09evV.webp",import.meta.url).href,F0e=""+new URL("q-BLQyxh1k.webp",import.meta.url).href,G0e=""+new URL("p-DwsbRQw2.webp",import.meta.url).href,j0e=""+new URL("q-DuKuuGSo.webp",import.meta.url).href,$0e=""+new URL("p-Cl_Ep6F7.webp",import.meta.url).href,z0e=""+new URL("q-zLW8iJnK.webp",import.meta.url).href,U0e=""+new URL("p-DXsZ429q.webp",import.meta.url).href,V0e=""+new URL("q-DuvaWLUD.webp",import.meta.url).href,q0e=""+new URL("p-BlnoWvIq.webp",import.meta.url).href,Q0e=""+new URL("q-DZpN5pf3.webp",import.meta.url).href,H0e=""+new URL("p-BVvawKqa.webp",import.meta.url).href,W0e=""+new URL("q-ro84RxXB.webp",import.meta.url).href,J0e=""+new URL("p-Cv9pXaxd.webp",import.meta.url).href,Z0e=""+new URL("q-BN00iL6s.webp",import.meta.url).href,Y0e=""+new URL("b-DquIgEkz.png",import.meta.url).href,K0e=""+new URL("w-CzPDZUqD.png",import.meta.url).href,X0e=""+new URL("b-tF87PvIP.png",import.meta.url).href,e1e=""+new URL("w-BFupssrM.png",import.meta.url).href,t1e=""+new URL("b-sChkn9Q0.png",import.meta.url).href,n1e=""+new URL("w-2RoePxsv.png",import.meta.url).href,r1e=""+new URL("b-BDbSyUYT.png",import.meta.url).href,o1e=""+new URL("w-Dzad4GuF.png",import.meta.url).href,i1e=""+new URL("b-Dw8o_BE5.png",import.meta.url).href,a1e=""+new URL("w-Bwn4yL5_.png",import.meta.url).href,s1e=""+new URL("b-DyjyxhXg.png",import.meta.url).href,l1e=""+new URL("w-CcO-9bWS.png",import.meta.url).href,c1e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANgAAADYBAMAAAB7DjDeAAAAKlBMVEUTExMmIBwoIh4YFxYiHhsRERIfGxkXIiQUGBkcGRgUFRYXISIWGx0WHh+wfmr6AAAJkElEQVR42u2cSYsTQRiGS7QhtuOhiiB4rBAEb4oLqKeMIuhpQAd08OAyCvoHImSEXETJAooLjKeICzHG8whmIBeJzALeMqjzX6wkVV1f+X2xuxONMeQ9mYd0PyYTkqq3q5qlgkgu7AMLOQ1xaAhPyvgIw7gY4D854NvBZPoIjkg/QezkLL+Bn/lYnMPwqNiH4QmRZPIgU/EfwlREGsM31/mjDnVg/rA4PadgFcLCLrG/AxPOU3fOGlk9C/IpL9KVzpNXIGxqWRvA3Ecta0HY0LI9zklfWdknkJyRfQdwxcjWIbyrZUV4/JKW7YUwa2V+zab6Xcsc2DKyGkjRyOBT61rmHm9lbtpa5uSBkcG8NzKYK0YGszAWsk1KVqZkH7YI2aWPhMxf3UnLaoyQ+W8ImV8hZH6BkLGClqFQMuYpGYZWBkLJ2FT2v8rmcUTaw/A6f4bhDnEVw4tiP4YLSsaTt3AoeHuWn8XwGj/7HNFrPInhU84ZjxpB4zjHO2OQVPThxvBjkBT/u2HgnRb7blFvP4aLklN/aApm4B+a2RwW52sqzMmu1H4Md8vkIQR3ZtIdWHGgf03eAcdvm6ypT3EHlLdBvihZB5Yg/LFb7uv+kjswn0kfU9Dfhslfk52TepvdRyxr8lHLWlmQhpYVIbz3riebgTDX7MkSWZivWtYbuLANnbaRlTZs1pe0rL4BYmQJCFe0zIewrWTgpMykaGQwM0YGkzAyGK+tZQ580JXhFO+ORjb6V1YtEDJ/jZD5X3ZjGSvVsIzV9acR56Ug+EUlQ7lMyJhvZSBT2VQ2oOw8hrsomfroH3KA+dYPk50JkuFJ+8BCTkMcGsKTjkFbIDkNiZCQPqlgvdeZ7IbbdN+tXgClITqehOoQJg9UGIqg/tbX+R0MD/PTGO4S+zDcKZJK5qEWQg+/6WqiCmFefYRjVxMfsiCmLZhZgdBWEyC2mgAJqyZmNmw2gx5kE9CgmoCwbebUZWcsoWUzP8BJ+1UTwQS+BhJUE35YNbE3VjXRmlYT7MM3qppokNXEqzjVhBe5mqgQMlab9Dn15Mq8yG3BIwwPizsYKhmGFzqyA0O+shvktz79yniamrFKuprANEPBRZ4moOCMjzDh1YQgaAgc/PKIIJikYHgtw+wVBXXxYVlFX6swMJXE8LhUUOWIQzOShOcstL9ZFT0/8w3oQjUiRrDWmZ8h6OtBqgPNIFU/+mSypWVFA7pQj4jLEDZMNQHhaqeaQLCpZPbKA64m1rMgS1GriVyWqCZyv1YTD3XWjQwOlEpGloDQyHwAC8GcGsKWkoGT/psJ/IPo1URuaFmZemWJBiVbpdqC9QKWsWKTllXzVDVRIGSsQMmqVDVRrYzJzHMq+89k3o44sjcILlAyz5UdCaIGSsT17dQ+DNVPzBME1a+JhjAZCU46ZsOCgS5O0DDWQoboJQZNWa9FOPvLUExqCCN4EtNMZHimW02QqyaOkKsmMHwsTsdeNZHYgKmoETGCeT0iLkG4drhbTbjwi5nAO8fTqyZyOWrVxApVTayYauJBaDVhp7nuZZUVLdsJoa0mAGwbWRnA70E1AY+3MncARlYTv181AeEMVU0kxqIt+Bsyv5+sVCFkpfuErL5GyBJfKNnG8NNcNqZz6gsT3hZMbjUR8Vv/EP2tz0+/QvQo34fhu45MnsERJCSuaJzN8OQidUVjkTqeDfujTENBUma55EAGjsMwBQ6iIQ8gpIyPLOHVxFEZtZpYzsgb0asJPfyuOSGric6IGEEz/HZgxcyp3Wpie6239meuCKuFLSWbV3Gqic6qCU/BGQi3O9WEggsQrn6+Jm92jtfVhOG2moCLJYNqIgdoUE1AGFQTUGaqCdbuPvx9NVE2Mj9qNQEhribmdYJqAn5R6bbAhZdWtYzNg2iZC3VbYOC/6UHKW5TsIyHzG7sJ2XqekvWrJgqRq4mH0auJiVg1sTC2E/iJk4Wsi1QyDJXMQ3BOyfBTu9+NJixs6b2MXk2kqWqCx6gmBP+DYakRhnEhTTi3/yJhSvTC4UEpQHU4/KcwkdwsgF2GucU5huYq07ITvQD2NmTP1QpMDSGNs2rCo1dNCHLVBLUWZ5auJvK/qybKEOrJYPRqAu+xaJpqgthj4bcgNG0BhNklU03kwDnNNBetizQyd10kUbq0unNqtAKTemWjnMD3rSZaTUr2dbhqYpSyS32rCeptrOf/TjXhMULmUdNcb97KACRkbH7aFvx/sl5b4A0nOx9dFqOQvk4X0lQ1IfpUEwOtiwxdgUkfP9qLCKkRJnxNKlX2yMHe+7BLWq+pceNbmTyCk0m/CBs32nWRekTsrovUI+KEA/WIeMFdgdkbEc858I0aEduTEgsZQvdYLO2m9ljkqT0WTXchQ3BFoitDFx+UDMFgj8Wqc0VDy7YhNHPq9e7DQSbwui1wAybw8BeXnsWcil5N3Pu/qon6GiFLbFHVxA+qmtikqolyk5b5FULGKtTMs0bIWLeVwyedtgUTI4u3kMFDcI6Sef1f2R0Md8V4ZeF7LMCMVZxdRnkskxg+lcnbCD7nEsPlbvttwkK3NYjocMxu/xAjkg8XJtO3UItwS0gMl/tVE+ipzxcFUU0sClNN+EdgKqqawFBXE1UI87qaeAVhQW/oSDjH2yuD7pbN+70rg5c2Ib3fuzI4V4ZQ/VScn1dx4Jbe4nxlGwZu6IDR09wZB36lNnTcpTZ0LIWtmtgAMRs6/BKA7SZVTZgepA5g2cjgSUtAxmBL2dIyBwbVhAeonsC7UE/gXRiykGEEbUHM3SMfh141Ua0QsuobQpbIR779w8NpNTGVjY+s+wFJL+MIAj6Z5ecwVJc5TuBhg0hieFwkGY8cwYeLHO2NmsZ3DDJsBtsIPOAgNXI1AaOrCd+BFb2Qgawmeo/sQoYtu5DBpkEtZFilFjLk7EIGCJ2FDLaauPu7aqJEVhPOYsnfVRPeZoRqoj4Jd2T496smolcTbJPa0NG/mngZuZqgJoM+WU1MFzJMZYPK7kSVDXr7B3jnoui3M1IQhYfuA42xG3L4MLIDiAHpCBIx8nJOH8gjwkwfyCS1PkVIAqpxI4aPKXiUJzE8LviIL9bhhQz2zpQQftayFoTBHgsIG1q2NwfpKytzqwkjo6qJ1tDVhDNQCu5MWQUw2GMBYdG8Mgg/GBk8aT3OBN4jJ/B7xnOPRV/ZOiUrRq8mGpTsU79qghGyhBe5msiT1cTkTnOnsv9UFnLzYxv65sc88s2PZ5OjnsCPqJpIuZtKhz1Z6EaSn1aqn+1YORK3AAAAAElFTkSuQmCC",u1e=""+new URL("w-BwDGVwa2.png",import.meta.url).href,d1e=""+new URL("b-D9x3G74I.png",import.meta.url).href,f1e=""+new URL("w-M5DfZJuP.png",import.meta.url).href,h1e=""+new URL("b-N_MHbUVN.png",import.meta.url).href,m1e=""+new URL("w-1WJ0oi4r.png",import.meta.url).href,g1e=""+new URL("b-BNdADd_-.png",import.meta.url).href,p1e=""+new URL("w-D1kEUNZ6.png",import.meta.url).href,v1e=""+new URL("b-D7phBvCr.png",import.meta.url).href,y1e=""+new URL("w-6har6T_u.png",import.meta.url).href,_1e=""+new URL("b-DT2shnMi.png",import.meta.url).href,b1e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAADIklEQVR4nO3UMQHAIADAsDH/B3pwghqQwdFEQa+Oufb5gKT/dQDwjgFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFA2AUS9AUi8KUp0wAAAABJRU5ErkJggg==",w1e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAADIUlEQVR4nO3UMQHAIADAsDH96EMBPkAGRxMFvTrm2ucDkv7XAcA7BgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhFz3TBUUyd1O3AAAAAElFTkSuQmCC",S1e=""+new URL("w-CEus1l32.png",import.meta.url).href,A1e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAADIklEQVR4nO3UQRHAIADAsDH/8rCADA5k8GiioK+Oufb5gKT/dQDwjgFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFA2AXHYgW1+hVMggAAAABJRU5ErkJggg==",C1e=""+new URL("w-BkyBqVWq.png",import.meta.url).href,k1e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAADe0lEQVR4nO3cMUoDURRA0adISlO4BMHS5boMW5chaaMEN6CFpYVjo5AQWwl4zykG5lW/unz+Z+bs/uFuGeBfu/64mtv3m5lZZnO5nd3qbWZmzk+7LOCULk69AODvLXuPz725HQCECQBkHB/3CQBEbNZPRzMBgIDd6vXXuQBAmABAyuE5gABAmABAhlsASHtcPx+8CwDEvHx/BzAjAJAmABAmABAmABAmABAmABAmABDmj0AQsdu7//9hBwBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBhX5f6G+LndWTlAAAAAElFTkSuQmCC",E1e=""+new URL("w-BKks8qDt.png",import.meta.url).href,B1e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAADIUlEQVR4nO3UMQHAIADAsDEXqEYHKkEGRxMFvTrmXucDkv7XAcA7BgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhFxEkBFDhASHNAAAAAElFTkSuQmCC",R1e=""+new URL("w-C7qkxzOA.png",import.meta.url).href,x1e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAADIklEQVR4nO3UMQHAIADAsDH/D5awghCQwdFEQa+Oudf5gKT/dQDwjgFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFAmAFA2AUqWgU1XPrmIwAAAABJRU5ErkJggg==",O1e=""+new URL("w-CEq18YPr.png",import.meta.url).href,M1e=""+new URL("b-BGZyNDo7.png",import.meta.url).href,P1e=""+new URL("w-BJ32H-Z5.png",import.meta.url).href,T1e=""+new URL("b-CK7zk9ns.png",import.meta.url).href,I1e=""+new URL("w-CN50N4BS.png",import.meta.url).href,L1e=""+new URL("b-DaQDVDbi.png",import.meta.url).href,D1e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAADHUlEQVR4nO3UMQEAIAzAMMC/5yFjRxMFvXpnZg6Q9LYDgD0GAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEGAGEfHrAF/LZ/lzEAAAAASUVORK5CYII=",N1e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAADIElEQVR4nO3UQQEAEADAQPQvp4IixPDYXYK9Nu8+dwBJ63cA8I8BQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQNgDwsAFsRtc0XgAAAAASUVORK5CYII=",F1e=""+new URL("w-DJKZABgn.png",import.meta.url).href,G1e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAANfElEQVR4nO3daZKruBKGYXHC+9/G3cpdVal/mCGVpIQwwuXy9z4R1aYYpHL7kKQG8JT/9/+cUkrpJ6WUl5/p+VOsS8t/nq/T8jr/2HWFuaznxm1d8ZqDbXZ9tM7rLevsvr1l2fVn9u1x9b31lt9Tx9X3UKvjzHur1X31s3jHe3P7T2k+f8zxOZvD5nPLLq/HLueV/fm3vU7Tts80bedn/knPk/u5NwBRjzkQzHJ6XrGX5fT8PbkItUSkaY5Wk41MLgIW2YONiFPlGP/3tER/45myevaNovhddUTbW+9t2XZUR6v8K+t738PZsq6sH1XH1ffmjwk+z8nvHv0bq51by6/zuTTZc8q8rqddnjPxXBRFBgAIe+wjmY9gPVe+Gh9FfRSMIuuZMu26V8o6U99d5ds6attqdR8d17PfKO+o47e88t5q//+jzzPIsLv/luCqv8uwU6plkmQAgLDHupTTsz2f5+iU53Z+nrblbcc5oOStH6DWB1BUQB9Au45oO30A59aPquMNfQD+lCja59msy+X24s9a2vqVLGAy5U370QoyAEDY43gXiz6Ae+uobaMP4Hd9Uh/AUZ1RX4DbxxRPBgAIi0cBckrdM8qOLr5hQKMPgD6AO/6ekXW8oQ9gNw+gR3aLcyHTUZboRwWeyAAAYY8yKOy6JdPhTMBkf1KqR85R7fR3tzV/uw9gxHH0AVwzsg/g7DG1c8vu15gLsJ52Oa0jfKYcMgBAWBAAfJvySm9ylB0ctdVfwdVn3HG4l2/DLwvROVI7vpZ1R69BH5/ZRgYACHvsIpIPHjklZgL6dYwC7NcxClCu7xgF2G3O5fK6Lpfboz+rNRNwd75tyAAAYeW9ANVRgFF8FGQmYFlHbRszAX/XyFGA6PO88v+uVt5U/pqymSuwZfRkAICw4F6AJTp0tn2bF99smqhRfwB9AGUd0Xb6AM6tH1XHG/oAwpmArc/T1bueV8vV3Z+M/j3syyYDAISZDOBMe3K+sjMTcHAddx1HH8A1I/sA3OrJr/DLtXOrVph79d169vkAiQwAkPbYRZ3dfOFam+J4ddwGscujrqp3jgL8tpGjJfh9lV77bJfztqs9zCueCGTLnl+n6PJfIgMAhD32UWaJPnNUWZ8N6I48fRGvNkaCwtPBer+dUYB2HYwCXPt73jATsFlmax9/IppzKy9ZgNkvl/9eyAAAYW4UwEeSlKrPAyiWG6MARcAZ0QdQi9bMBKxvYxTgmpGjAObztD3yu4+4dxTA9/67OqJ6DTIAQNg2ClD0QqY0bCbgipmAx3VE2+kDOLd+VB2/0Qew7NeZ2a3naW7PBMwm43DbyAAAYZ3fC3ChD6A4jpmA7TruOo4+gGtG9gG41XfPBNxtK8sgAwCE7UcBemcCRgMGOz4bGDEKUKuHmYD74/B5Kj30RR+c75dL8cfZMxMwT9t+dnlGBgAIi78ZKKXUcXk/qdYmadXR25N75yjAme0j61hcGS252nY9Wj+y7+KTRwHO6BlRuPJ51UaConOrkmmbIsgAAGHBvQBmef1xbZSU5+CS3TMBfCF3zASM0AcQH4fPYz7PITMBg3Jtv4DtJ7D9C8wDANB5L0By63r5to9dz0zAfR3RdmYCnls/qo6r761jJmCY3LU+z1p9tXsAatu28skAAGEn7wUIdDdRR7XT3922bV1FR9dx13Hv+H/2zX0OV0dTRn5O2S3aewGWlW4UILwX4IkMABC2vxcgDELB8EBO2whA13cD2m2MAvRjFOC7RJ9nDhKGvL0Wy0bR3A/a++tptowKZPOEoCcyAEDYHxwFiNYxE/BaHa+WNbLv4pNHAc7oGVFolf2OUYDtbyIDAISVfQC2nTHqqcDrsVEUpA/gGH0A38V8ns2ZgK3jrehegPl1fSpwrS+ODACQ9tjmBrf4Nqh9tT92m8dMwOM6ou3MBDy3flQdV9/bqJmAPedWrV57ni1zAspdyAAAYfEoQNFmP2icdDdRR7XT39227fz/MKSOu457x/+zb+5zuDqactPntJ6nk/nn6a/6wXqziQwAELZlAGszw1/xjtokOTET8E6MAnyXSq/8LmHI5gpvl41p+c+yPZgJuIwG2M0prec5GQAgLHgmYEsuFw8vTNkkDMwEPFfHgpmA59aPquOu92Y+T/vRFm34K3W788zOBcjZPCHoiQwAEOYCQK2tPwJtUqBtRMZWyxbj9WQAgLByHoDtaSzuBbC9lHNmMM3bjp4KXPgr7bzoPfSM616t42xZzASsG/lvY+RMQLeq2o9mz6dWH1DUkbC0+VPlXoANGQAgLL4XoBpcX41iqbXTSe/uS2hdRUfXcddx7/h/9s19PFfb5mdH2jr3351ewSgA9wIAqHHPBJzHDZfllFLXla8rYEVjocwEPPbqe/vmK/JfFn2eOU4YjpIIe9XPfsdsnhRs6y0LJwMAhJl7AXzYOXEvQGsUIGzSxNFor7cnl5mA1+p4tayRfRefPApwRs+IQt4txs8FWF7PjgK4cvy9ACYJIQMAhJ0MADlcbO/vMwQAKaVKZnzlXAmy82wqCkb8yAAAYf+KqGEjhJ0BGP2k9EKgunTwQbnf6u45AnivWh/BDX0OOdqvrIsMABDmngk4v+aUukcBivsBktu3Nn7NKACjAFfq7an7D4wCdJXTyJrX8zSbpwNF5dTvZSADAIR1fjvwwcbqMX7Dt87WAy6Keut94u3tvurPzgdYMnN3L4ArjwwAEObuBrTthdbsohOKLoS/0s6L+jGOwvGIOs6WxfMA6kb+27jpeQBHk/i6RG38xjq3iQwAELb/XoBdSDoYBSh+UjqOnFe92jt7tT6eB/D7dfyWq6Mpjb6zW54I5Mop7gUoyyADAISZAHBmbLJz9zBDABC7eq4E2flBIkIGAAgr5wFk0yhZ7wOo3NP/0kN9Rvc831XWJ9Rxtd531DGy7+KTRwHOGFlWb31HPf452PxcRwYACHuk9DMvml7/7H5vjQLs7gX4MfsSX4DXdIwCrOdpPnEvQPk7ZyggzPQBzFfuZnOlMZ652k1QDvBU4H6vvjdGXT5Tpc1eJNl529Ue5lXvBZiXD74VKCUyAECauxvwJ20xYdAMuHBYc4lMrRlOtfVHs6G+bRSA5wGcWz+qjrveW+V5AEPvBTj6m7bfyQAAYY/9NwH5K//BKMBu9hKjAMB1HaMAKaWuewHsevcrZyggbJsHkHsaIblcPDzE9ilYjAL0YxTgu9Rm7rV+P1O2Xc7787p4ShAZACCtnAeQXVshauIvLl3EGQVgFOBKvT11/7FRgDus56c/37ZFMgBAmJsHEMxA2q1wvZLFvQA+VfjWdjlwN5v1/aTnufTjdjHX78N7AWy6zjwAAGn49wL49s2cIewOYxSgH6MA38V8nuvp4j6r3b0A8739/t8B9wIAuOJx3MN8B0YBGAW4Um9P3X9gFOBXEtd5bsBcLxkAIMwFANvLGA3+A/gsPedoNEL3/J0MABD2qI/5R3cDRq/RT1SeLRPAXtTX05gHkKb0TOL9OWe/M9J1NOS0PhE4JfoAAGnBdwN2eqkHc0RP7yf00L9zFOBKWYwCvF7WO97bXczJGSUHBhkAIKycB5Bd1Gg17Yd8tzmAl9m7d3u+EiBYSQYACNs/FTh8MtDBKEBupArrvQCkCcCx5XxKZn5/NsvGZJ64tW6yWUEtfd+QAQDC9ncD3qbVE8ooQB9GAfrrVh0FsNl5K+t+7kcGAAgjAABymAkIIP3a8wAAvM/SH2Am7syLZACAsPipwDs9dwP+uG2L2rcDnam3Z9+RZX1CHVfrfUcdjAKMKysHy8sdgK3x/Nr5ZY9xz+A0i2QAgLB/zeAC4O+z57c7z8kAAGFlH4DPBlp3A+5UvvMsT2QXwCH31J71dT6vcu07BRuz/fzdusHkQDIAQNhjf7kH8Llqo2y1TIC7AQFUdN4NyDyA99dxtd531ME8gHFlvToPoFaHnQNQRwYACCMAAMIIAIAwAgAgjAAACCMAAMIIAIAwAgAgjAAACCMAAMIIAIAwAgAgjAAACCMAAMIIAIAwAgAgjAAACCMAAMIIAIAwAgAgjAAACCMAAMIIAIAwAgAgjAAACCMAAMIIAIAwAgAgjAAACCMAAMIIAIAwAgAgjAAACCMAAMIIAIAwAgAgjAAACCMAAMIIAIAwAgAgjAAACCMAAMIIAIAwAgAgjAAACCMAAMIIAIAwAgAgjAAACCMAAMIIAIAwAgAgjAAACCMAAMIIAIAwAgAgjAAACCMAAMIIAIAwAgAgjAAACCMAAMIIAIAwAgAgjAAACCMAAMIIAIAwAgAgjAAACCMAAMIIAIAwAgAgjAAACCMAAMIIAIAwAgAgjAAACCMAAMIIAIAwAgAgjAAACCMAAMIIAIAwAgAgjAAACCMAAMIIAIAwAgAgjAAACCMAAMIIAIAwAgAgjAAACCMAAMIIAIAwAgAgjAAACCMAAMIIAIAwAgAgjAAACCMAAMIIAIAwAgAgjAAACCMAAMIIAIAwAgAgjAAACCMAAMIIAIAwAgAgjAAACCMAAMIIAIAwAgAgjAAACCMAAMIIAIAwAgAgjAAACCMAAMIIAIAwAgAgjAAACCMAAMIIAIAwAgAgjAAACPsP2X5tkS25oMMAAAAASUVORK5CYII=",j1e=""+new URL("w-CeOVAFdA.png",import.meta.url).href,$1e=""+new URL("b-Dck8hpAb.png",import.meta.url).href,z1e=""+new URL("w-ZYQUb9Pm.png",import.meta.url).href,U1e=""+new URL("b-D9QcLHsY.png",import.meta.url).href,V1e=""+new URL("w-Bd4IUoa0.png",import.meta.url).href,q1e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAADIUlEQVR4nO3UMQHAIADAsDFb6MYSNkAGRxMFvTrm2ucDkv7XAcA7BgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhF7QRBNWqL/78AAAAAElFTkSuQmCC",Q1e=""+new URL("w-cPcUNgwj.png",import.meta.url).href,H1e=""+new URL("b-CKNO-iAI.png",import.meta.url).href,W1e=""+new URL("w-CyLxdxeH.png",import.meta.url).href,J1e=""+new URL("b-DDKp4xSO.png",import.meta.url).href,Z1e=""+new URL("w-wNi-ph0j.png",import.meta.url).href,Y1e=""+new URL("b-CAmlSLKy.png",import.meta.url).href,K1e=""+new URL("w-BLYMHhrE.png",import.meta.url).href,X1e=""+new URL("b-WCiIzARr.png",import.meta.url).href,e_e=""+new URL("b2-B1HI9f9h.png",import.meta.url).href,t_e=""+new URL("w-DAOGZJno.png",import.meta.url).href,n_e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAADIUlEQVR4nO3UMQHAIADAsDH/HsAbQkAGRxMFvTrmXucDkv7XAcA7BgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhBgBhFxICBSFWMXzqAAAAAElFTkSuQmCC",r_e=""+new URL("w-CudkMYPJ.png",import.meta.url).href,o_e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAADIElEQVR4nO3UQQEAEADAQPQvo5QaxPDYXYK9Nu/ZdwBJ63cA8I8BQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQJgBQNgDoJkFlei3DasAAAAASUVORK5CYII=",i_e=""+new URL("w-IaVPngVd.png",import.meta.url).href;var Ci=(e=>(e.Figures="figures",e.Boards="boards",e))(Ci||{}),Le=(e=>(e.Blue="blue",e.Green="green",e.Brown="brown",e.Gray="gray",e.Red="red",e.BezhOnyx="bezh-onyx",e.BlackBluePlitka="black-blue-plitka",e.BlackWhiteContrastPlitka="black-white-contrast-plitka",e.BlackWhiteGranite="black-white-granite",e.BlackWhiteParquet="black-white-parquet",e.BlackWhitePearl="black-white-pearl",e.BlackWhitePlitka="black-white-plitka",e.BrownParquet="brown-parquet",e.ChocolateMarble="chocolate-marble",e.GoldPearl="gold-pearl",e.GoldPlatinum="gold-platinum",e.GolubDifrakcya="golub-difrakcya",e.GolubDifrakcyaTemnaya="golub-difrakcya-temnaya",e.GolubSerdechky="golub-serdechky",e.HakiDifrakcya="haki-difrakcya",e.IzumrudDifrakcya="izumrud-difrakcya",e.IzumrudDifrakcyaTemniy="izumrud-difrakcya-temniy",e.MalachiteOnyx="malachite-onyx",e.MetalSetka="metal-setka",e.RozDifrakcya="roz-difrakcya",e.RozGoroshek="roz-goroshek",e.RozGradient="roz-gradient",e.RozYagodky="roz-yagodky",e.SeriyKamen="seriy-kamen",e.SinDifrakcya="sin-difrakcya",e.SmokyQuartz="smoky-quartz",e.Trava="trava",e.VividParquet="vivid-parquet",e.Wood="wood",e.ZelDifrakcya="zel-difrakcya",e.ZheltDifrakcya="zhelt-difrakcya",e.BlueBeige="blue-beige",e.Cocoa="cocoa",e.Morkovka="morkovka",e.BlackWhite="black-white",e.BezheviyKrem="bezheviy-krem",e.FioletoviyZeleniy="fioletoviy-zeleniy",e.RozovayaFistashkaTemnaya="rozovaya-fistashka-temnaya",e.MoreOkean="more-okean",e.Fistashka2="fistashka-2",e.RozovayaFistashka="rozovaya-fistashka",e.GoluboyBezh="goluboy-bezh",e.TemnoSiniy="temno-siniy",e.MalinoviyKrem="malinoviy-krem",e.Korichneviy="korichneviy",e.SpokoynayaZelen="spokoynaya-zelen",e.RozovyKrem="rozovy-krem",e.RozovayaZelen="rozovaya-zelen",e.FioletovayaCaramel="fioletovaya-caramel",e.Fistashka="fistashka",e.Shokolad="shokolad",e.SvetloGolubyie="svetlo-golubyie",e.BezhBel="bezh-bel",e.BezhChern="bezh-chern",e.DeepPurple="deep-purple",e.DeepPurpleDark="deep-purple-dark",e.FioletGolub="fiolet-golub",e.GolubIzumrud="golub-izumrud",e.IzumrudBel="izumrud-bel",e.IzumrudBelSvetliy="izumrud-bel-svetliy",e.KlubnikaFistashka="klubnika-fistashka",e.Baltika="baltika",e.MalinaYadrena="malina-yadrena",e.Marshmello="marshmello",e.RozBiruza="roz-biruza",e.RozChern="roz-chern",e.RozKrem="roz-krem",e.RozVata="roz-vata",e.SalatFiolet="salat-fiolet",e.SalatFioletTemniy="salat-fiolet-temniy",e.SeroZhelt="sero-zhelt",e.SeroSineBel="sero-sine-bel",e.TopazBel="topaz-bel",e))(Le||{});const a_e={green:1,brown:1,blue:1,gray:1,red:1,"bezh-onyx":1,"black-blue-plitka":1,"black-white-contrast-plitka":1,"black-white-granite":1,"black-white-parquet":1,"black-white-pearl":1,"black-white-plitka":1,"brown-parquet":1,"chocolate-marble":1,"gold-pearl":1,"gold-platinum":1,"golub-difrakcya":1,"golub-difrakcya-temnaya":1,"golub-serdechky":1,"haki-difrakcya":1,"izumrud-difrakcya":1,"izumrud-difrakcya-temniy":1,"malachite-onyx":1,"metal-setka":1,"roz-difrakcya":1,"roz-goroshek":1,"roz-gradient":1,"roz-yagodky":1,"seriy-kamen":1,"sin-difrakcya":1,"smoky-quartz":1,trava:1,"vivid-parquet":1,wood:1,"zel-difrakcya":1,"zhelt-difrakcya":1,cocoa:1,morkovka:1,"blue-beige":1,"black-white":1,"bezheviy-krem":1,"fioletoviy-zeleniy":1,"rozovaya-fistashka-temnaya":1,"more-okean":1,"fistashka-2":1,"rozovaya-fistashka":1,"goluboy-bezh":1,"temno-siniy":1,"malinoviy-krem":1,korichneviy:1,"spokoynaya-zelen":1,"rozovy-krem":1,"rozovaya-zelen":1,"fioletovaya-caramel":1,fistashka:1,shokolad:1,"svetlo-golubyie":1,"bezh-bel":1,"bezh-chern":1,"deep-purple":1,"deep-purple-dark":1,"fiolet-golub":1,"golub-izumrud":1,"izumrud-bel":1,"izumrud-bel-svetliy":1,"klubnika-fistashka":1,baltika:1,"malina-yadrena":1,marshmello:1,"roz-biruza":1,"roz-chern":1,"roz-krem":1,"roz-vata":1,"salat-fiolet":1,"salat-fiolet-temniy":1,"sero-zhelt":1,"sero-sine-bel":1,"topaz-bel":1},s_e=Object.keys(a_e);var se=(e=>(e.Wooden="wooden",e.Classic="classic",e.Initial="initial",e.Biryza="biryza",e.Chernye="chernye",e.Inversiya="inversiya",e.Kazino="kazino",e.Kofe="kofe",e.Obiyem="obiyem",e.Oval="oval",e.Prostye="prostye",e.Siniye="siniye",e.Sirenevye="sirenevye",e.Vanil="vanil",e.Zoloto="zoloto",e.Eyes="eyes",e.Golf="golf",e.Hex="hex",e.OvalMetalic="oval-metalic",e.OvalMetalicGold="oval-metalic-gold",e.Plyazh="plyazh",e.Puziry="puziry",e.Shaiba="shaiba",e.ShaibaMalina="shaiba-malina",e.Sumerki="sumerki",e.BezhFiolet="bezh-fiolet",e.EyesOrange="eyes-orange",e.IlluminatorMalina="illuminator-malina",e.IlluminatorMishka="illuminator-mishka",e.IlluminatorOrange="illuminator-orange",e.KafelBezh="kafel-bezh",e.KafelSin="kafel-sin",e.KnopkaKra="knopka-kra",e.KnopkaPur="knopka-pur",e.KnopkaVipuklaya="knopka-vipuklaya",e.KnopkaZel="knopka-zel",e.MedalMalina="medal-malina",e.MedalOrange="medal-orange",e.MedalShokolad="medal-shokolad",e.Risunok="risunok",e.RisunokGol="risunok-gol",e.RisunokKamen="risunok-kamen",e.RisunokZel="risunok-zel",e.RozGol="roz-gol",e.SeriyCherniy="seriy-cherniy",e.SeriyShokolad="seriy-shokolad",e.SinFiolet="sin-fiolet",e.TabletkaGol="tabletka-gol",e.TabletkaKra="tabletka-kra",e.TabletkaZel="tabletka-zel",e.TabletkaZhe="tabletka-zhe",e.ZelKra="zel-kra",e.ZelZhel="zel-zhel",e.Akkuratistiky="akkuratistiky",e.Bashenky="bashenky",e.BlackWhite3d="black-white-3d",e.BlueBeige="blue-beige-3d",e.Bronzovye="bronzovye",e.Chelovechky="chelovechky",e.Chely="chely",e.DetskieRisunky="detskie-risunky",e.Diagonal="diagonal",e.Drakon="drakon",e.Drakoshky="drakoshky",e.Emotions="emotions",e.Farfor="farfor",e.Freska="freska",e.Freska3D="freska-3d",e.Gold3d="gold-3d",e.GoldPlatinum="gold-platinum",e.Golovastiky="golovastiky",e.Gravyra="gravyra",e.KalyaMalya="kalya-malya",e.Knights="knights",e.Koshky="koshky",e.Kost="kost",e.KruglyeVSerebre="kruglye-v-serebre",e.Kubyshki="kubyshki",e.Kukly="kukly",e.KuklyYarkie="kukly-yarkie",e.Kuklyashky="kuklyashky",e.Kvadradutye="kvadradutye",e.Kvadratnye="kvadratnye",e.Levitacya="levitacya",e.ModernRyzh="modern-ryzh",e.ModernSin="modern-sin",e.ModernZel="modern-zel",e.MolokoShokolad="moloko-shokolad",e.Mramor="mramor",e.Multik="multik",e.Raskraska="raskraska",e.Risovannye="risovannye",e.Shahmatushky="shahmatushky",e.SivkaBurka="sivka-burka",e.Steel3d="steel-3d",e.Steklo="steklo",e.Troyanskye="troyanskye",e.ZolotayaKaemka="zolotaya-kaemka",e))(se||{}),so=(e=>(e.WEBP="webp",e.PNG="png",e))(so||{}),ar=(e=>(e.Right="right",e.RightBottom="right-bottom",e.Left="left",e.LeftBottom="left-bottom",e.Center="center",e.None="none",e.Bottom="bottom",e))(ar||{}),Ge=(e=>(e.Colored="colored",e.Imaged="imaged",e.Arena="arena",e))(Ge||{});const rj=e=>{const t={xs:"0.625rem",sm:"0.75rem",md:"1rem",lg:"1.25rem",xl:"1.5rem"};return Object.keys(t).includes(e)?t[e]:typeof e=="number"?`${e}px`:e},Yy=(e,t=0)=>typeof e=="string"||typeof e=="number"?w.jsx("span",{children:e}):Array.isArray(e)&&t<2?fe.Children.map(e,Yy):fe.isValidElement(e)&&e.props.children&&t===0?fe.cloneElement(e,{children:fe.Children.map(e.props.children,n=>Yy(n,t+1))}):e,_d={"gap-fix-container":"_gap-fix-container_4vm6d_1","gap-fix-container-hor":"_gap-fix-container-hor_4vm6d_7","gap-fix-container-ver":"_gap-fix-container-ver_4vm6d_13"},l_e=O.forwardRef((e,t)=>{const{gap:n,className:r,style:o,children:i,onlyVertOffset:a,onlyHorOffset:l,...u}=e,d=u.direction==="column"&&u.wrap!=="wrap"||a,f=u.direction!=="column"&&u.wrap!=="wrap"||l;return n&&me.isAnyAndroidPlatform()?w.jsx(ym,{className:qt(r,{[_d["gap-fix-container"]]:!!n&&!f&&!d,[_d["gap-fix-container-hor"]]:!!n&&f,[_d["gap-fix-container-ver"]]:!!n&&d}),style:{"--container-gap":rj(n),...o},...u,ref:t,gap:0,children:Yy(i)}):w.jsx(ym,{...u,children:i,gap:n,className:r,style:o,ref:t})}),ln=fe.memo(l_e);function c_e(e){return We({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8 224 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"},child:[]}]})(e)}function u_e(e){return We({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2 160 448c0 17.7 14.3 32 32 32s32-14.3 32-32l0-306.7L329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"},child:[]}]})(e)}function Ky(e){return We({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 24C0 10.7 10.7 0 24 0L69.5 0c22 0 41.5 12.8 50.6 32l411 0c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3l-288.5 0 5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5L488 336c13.3 0 24 10.7 24 24s-10.7 24-24 24l-288.3 0c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5L24 48C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"},child:[]}]})(e)}function d_e(e){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"},child:[]}]})(e)}function f_e(e){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 0a256 256 0 1 1 0 512A256 256 0 1 1 256 0zM232 120l0 136c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2 280 120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"},child:[]}]})(e)}function kxe(e){return We({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z"},child:[]}]})(e)}function Exe(e){return We({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M309 106c11.4-7 19-19.7 19-34c0-22.1-17.9-40-40-40s-40 17.9-40 40c0 14.4 7.6 27 19 34L209.7 220.6c-9.1 18.2-32.7 23.4-48.6 10.7L72 160c5-6.7 8-15 8-24c0-22.1-17.9-40-40-40S0 113.9 0 136s17.9 40 40 40c.2 0 .5 0 .7 0L86.4 427.4c5.5 30.4 32 52.6 63 52.6l277.2 0c30.9 0 57.4-22.1 63-52.6L535.3 176c.2 0 .5 0 .7 0c22.1 0 40-17.9 40-40s-17.9-40-40-40s-40 17.9-40 40c0 9 3 17.3 8 24l-89.1 71.3c-15.9 12.7-39.5 7.5-48.6-10.7L309 106z"},child:[]}]})(e)}function h_e(e){return We({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7l-135-105.8c-1.1-11.4-6.3-22.3-15.3-30.7l-134.2-123-23.4 18.2-26-20.3 77.2-60.1c7-5.4 17-4.2 22.5 2.8s4.2 17-2.8 22.5l-20.9 16.2L550.2 352l41.8 0c26.5 0 48-21.5 48-48l0-128c0-26.5-21.5-48-48-48l-76 0-4 0-.7 0-3.9-2.5L434.8 79c-15.3-9.8-33.2-15-51.4-15c-21.8 0-43 7.5-60 21.2l-89.7 72.6-25.8-20.3 81.8-66.2c-11.6-4.9-24.1-7.4-36.8-7.4C234 64 215.7 69.6 200 80l-35.5 23.7L38.8 5.1zM0 176L0 304c0 26.5 21.5 48 48 48l108.2 0 91.4 83.4c19.6 17.9 49.9 16.5 67.8-3.1c5.5-6.1 9.2-13.2 11.1-20.6l17 15.6c19.5 17.9 49.9 16.6 67.8-2.9c.8-.8 1.5-1.7 2.2-2.6L41.2 128.5C17.9 131.8 0 151.8 0 176z"},child:[]}]})(e)}function oj(e){return We({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M323.4 85.2l-96.8 78.4c-16.1 13-19.2 36.4-7 53.1c12.9 17.8 38 21.3 55.3 7.8l99.3-77.2c7-5.4 17-4.2 22.5 2.8s4.2 17-2.8 22.5l-20.9 16.2L550.2 352l41.8 0c26.5 0 48-21.5 48-48l0-128c0-26.5-21.5-48-48-48l-76 0-4 0-.7 0-3.9-2.5L434.8 79c-15.3-9.8-33.2-15-51.4-15c-21.8 0-43 7.5-60 21.2zm22.8 124.4l-51.7 40.2C263 274.4 217.3 268 193.7 235.6c-22.2-30.5-16.6-73.1 12.7-96.8l83.2-67.3c-11.6-4.9-24.1-7.4-36.8-7.4C234 64 215.7 69.6 200 80l-72 48-80 0c-26.5 0-48 21.5-48 48L0 304c0 26.5 21.5 48 48 48l108.2 0 91.4 83.4c19.6 17.9 49.9 16.5 67.8-3.1c5.5-6.1 9.2-13.2 11.1-20.6l17 15.6c19.5 17.9 49.9 16.6 67.8-2.9c4.5-4.9 7.8-10.6 9.9-16.5c19.4 13 45.8 10.3 62.1-7.5c17.9-19.5 16.6-49.9-2.9-67.8l-134.2-123z"},child:[]}]})(e)}function Bxe(e){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 224c0 17.7 14.3 32 32 32s32-14.3 32-32c0-53 43-96 96-96l160 0 0 32c0 12.9 7.8 24.6 19.8 29.6s25.7 2.2 34.9-6.9l64-64c12.5-12.5 12.5-32.8 0-45.3l-64-64c-9.2-9.2-22.9-11.9-34.9-6.9S320 19.1 320 32l0 32L160 64C71.6 64 0 135.6 0 224zm512 64c0-17.7-14.3-32-32-32s-32 14.3-32 32c0 53-43 96-96 96l-160 0 0-32c0-12.9-7.8-24.6-19.8-29.6s-25.7-2.2-34.9 6.9l-64 64c-12.5 12.5-12.5 32.8 0 45.3l64 64c9.2 9.2 22.9 11.9 34.9 6.9s19.8-16.6 19.8-29.6l0-32 160 0c88.4 0 160-71.6 160-160z"},child:[]}]})(e)}function Rxe(e){return We({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M5.1 9.2C13.3-1.2 28.4-3.1 38.8 5.1l592 464c10.4 8.2 12.3 23.3 4.1 33.7s-23.3 12.3-33.7 4.1L9.2 42.9C-1.2 34.7-3.1 19.6 5.1 9.2z"},child:[]}]})(e)}function m_e(e){return We({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304l-91.4 0z"},child:[]}]})(e)}const g_e=""+new URL("star-DqZkUGqb.png",import.meta.url).href,Ia=e=>new Array(10).fill(0).map((t,n)=>`var(--mantine-color-${e}-${n})`);Ia("dark"),Ia("gray"),Ia("red"),Ia("indigo"),Ia("blue"),Ia("teal"),Ia("green"),Ia("lime"),Ia("yellow"),Ia("orange");const p_e=({size:e=12,mr:t=0,ml:n=0,colored:r=!0})=>w.jsx(du,{src:g_e,w:e,h:e,mr:t,ml:n}),jB=({size:e=12,mr:t=0,ml:n=0,colored:r=!0})=>w.jsx(jge,{color:r?"white":void 0,size:e,radius:"50%",style:{marginLeft:n,marginRight:t,minWidth:e}}),xxe=({size:e=12,mr:t=0,ml:n=0,colored:r=!0})=>w.jsx(f_e,{color:r?"white":void 0,size:e,radius:"50%",style:{marginLeft:n,marginRight:t,minWidth:e}}),v_e=""+new URL("coin-DHPb9Qzz.png",import.meta.url).href,y_e=""+new URL("crystal-DIYmyk1j.png",import.meta.url).href,ij=({w:e=21,h:t=16,size:n,opacity:r=1})=>w.jsx(du,{fit:"contain",src:y_e,h:n||t,w:n||e,opacity:r,className:"crystal_image"}),xx=({w:e=24,h:t=18,size:n,ml:r})=>w.jsx(du,{fit:"contain",src:v_e,ml:r,h:n||t,w:n||e}),__e=({onlyGems:e})=>{ne(r=>r.platform.playerCoinsChangeTrigger),ne(r=>r.platform.playerCashChangeTrigger);const t=ne(r=>r.platform.playerCoins),n=ne(r=>r.platform.playerCash);return w.jsxs(ln,{gap:4,align:"center",children:[w.jsxs(ln,{gap:6,align:"center",children:[w.jsx(li,{fw:"bold",fz:20,children:t}),w.jsx(ij,{h:22,w:26})]}),!e&&w.jsxs(ln,{gap:6,align:"center",children:[w.jsx(li,{fw:"bold",fz:20,children:n}),w.jsx(xx,{h:22,w:26})]})]})},Oxe=fe.memo(__e),bd=(e,t,n,r)=>({label:w.jsxs(ln,{align:"center",id:e,children:[r,n]}),value:t});var aj=(e=>(e.TotalScore="totalScore",e.SingleGame="singleGame",e.WithOpponentGame="withOpponentGame",e))(aj||{});const Mxe=e=>{const t=hn(),n=O.useMemo(()=>({totalScore:bd(e.totalScore,"totalScore",null,be("leaderboardTotalScoreTitleShort")),singleGame:bd(e.singleGame,"singleGame",null,be("onePlayer")),withOpponentGame:bd(e.withOpponentGame,"withOpponentGame",null,be("twoPlayers"))}),[t]);return[n.totalScore,n.singleGame,n.withOpponentGame]},Pxe=e=>{const t=hn(),n=Rn(),r=O.useMemo(()=>({[Tn.TotalScore]:bd(e.showTotalScore,Tn.TotalScore,w.jsx(p_e,{size:14,ml:5}),be("stars")),[Tn.Cash]:bd(e.showRating,Tn.Cash,w.jsx(xx,{size:14,ml:5}),be("coins")),[Tn.Rating]:bd(e.showRating,Tn.Rating,w.jsx(jB,{size:14,ml:5}),be("rating"))}),[n,t]);return[r[Tn.TotalScore],r[Tn.Cash],r[Tn.Rating]]},$e={w:"#ffffff",b:"#000000",moveFrom:"#aaa23a",moveTo:"#f7f769",possibleMoveTo:"#00000066",possibleCapture:"#00000066",selected:"#bbcb2b"},b_e={[Le.Blue]:{type:Ge.Colored,colors:{...$e,w:"#eae9d2",b:"#4b7399",moveFrom:"#aaa23a",moveTo:"#f7f769",selected:"#bbcb2b"}},[Le.Green]:{type:Ge.Colored,colors:{...$e,w:"#ebecd0",b:"#779556",moveFrom:"#aaa23a",moveTo:"#f7f769",selected:"#bbcb2b"}},[Le.Brown]:{type:Ge.Colored,colors:{...$e,w:"#f0d9b5",b:"#b58863",moveFrom:"#aaa23a",moveTo:"#cdd26a",selected:"#bbcb2b"}},[Le.Gray]:{type:Ge.Colored,colors:{...$e,w:"#dddddd",b:"#585658",moveFrom:"#aaa23a",moveTo:"#cdd26a",selected:"#bbcb2b"}},[Le.Red]:{type:Ge.Colored,colors:{...$e,w:"#f0d8bf",b:"#ba5546",moveFrom:"#aaa23a",moveTo:"#f7f769",selected:"#bbcb2b"}},[Le.BezhBel]:{type:Ge.Colored,colors:{...$e,b:"#d3b39a",w:"#ffffff"}},[Le.Morkovka]:{type:Ge.Colored,colors:{...$e,b:"#fe4c2f",w:"#fbcfb2"}},[Le.BlueBeige]:{type:Ge.Colored,colors:{...$e,b:"#247180",w:"#d2a176"}},[Le.MoreOkean]:{type:Ge.Colored,colors:{...$e,b:"#009dce",w:"#82ceed"}},[Le.GolubDifrakcya]:{type:Ge.Imaged,colors:{...$e,b:"#8dd6e4",w:"#d0eded"}},[Le.GolubDifrakcyaTemnaya]:{type:Ge.Imaged,colors:{...$e,b:"#448ab9",w:"#91bad9"}},[Le.GolubIzumrud]:{type:Ge.Colored,colors:{...$e,b:"#00847a",w:"#9ce1f9"}},[Le.SvetloGolubyie]:{type:Ge.Colored,colors:{...$e,b:"#699eb3",w:"#d3e8e8"}},[Le.TemnoSiniy]:{type:Ge.Colored,colors:{...$e,b:"#24344c",w:"#3c5a6a"}},[Le.SinDifrakcya]:{type:Ge.Imaged,colors:{...$e,b:"#3bb5e6",w:"#ace0ea"}},[Le.TopazBel]:{type:Ge.Colored,colors:{...$e,b:"#89becd",w:"#ffffff"}},[Le.GolubSerdechky]:{type:Ge.Imaged,colors:{...$e,b:"#d4e5fd",w:"#e6eff9"}},[Le.IzumrudBel]:{type:Ge.Colored,colors:{...$e,b:"#005364",w:"#ffffff"}},[Le.SeroSineBel]:{type:Ge.Colored,colors:{...$e,b:"#577284",w:"#ffffff"}},[Le.GoluboyBezh]:{type:Ge.Colored,colors:{...$e,b:"#bca498",w:"#7ee3db"}},[Le.Baltika]:{type:Ge.Colored,colors:{...$e,b:"#491a01",w:"#5ca8f7"}},[Le.BlackBluePlitka]:{type:Ge.Imaged,colors:{...$e,b:"#f0ece4",w:"#a0b9bb"}},[Le.BlackWhitePlitka]:{type:Ge.Imaged,colors:{...$e,b:"#131313",w:"#e2e0dc"}},[Le.BlackWhiteParquet]:{type:Ge.Imaged,colors:{...$e,b:"#2e2c2a",w:"#f0ece4"}},[Le.BlackWhiteContrastPlitka]:{type:Ge.Imaged,colors:{...$e,b:"#131313",w:"#dfe4e5"}},[Le.BlackWhiteGranite]:{type:Ge.Imaged,colors:{...$e,b:"#060b0f",w:"#cdc0b7"}},[Le.SmokyQuartz]:{type:Ge.Imaged,colors:{...$e,b:"#39373e",w:"#eee7e2"}},[Le.BlackWhitePearl]:{type:Ge.Imaged,colors:{...$e,b:"#1e2828",w:"#fcfcfa"}},[Le.SeriyKamen]:{type:Ge.Imaged,colors:{...$e,b:"#182027",w:"#b9b2ac"}},[Le.BlackWhite]:{type:Ge.Colored,colors:{...$e,b:"#131313",w:"#ffffff"}},[Le.BezhChern]:{type:Ge.Colored,colors:{...$e,b:"#1f1000",w:"#ffe0c0"}},[Le.BezhOnyx]:{type:Ge.Imaged,colors:{...$e,b:"#895527",w:"#d3c7bf"}},[Le.BrownParquet]:{type:Ge.Imaged,colors:{...$e,b:"#936d56",w:"#c7ac91"}},[Le.VividParquet]:{type:Ge.Imaged,colors:{...$e,b:"#370701",w:"#d38348"}},[Le.Wood]:{type:Ge.Imaged,colors:{...$e,b:"#3f251b",w:"#e4b79a"}},[Le.ChocolateMarble]:{type:Ge.Imaged,colors:{...$e,b:"#1a120d",w:"#ce9171",possibleMoveTo:"#ffffff77"}},[Le.Cocoa]:{type:Ge.Colored,colors:{...$e,b:"#b65c16",w:"#d7874d"}},[Le.Korichneviy]:{type:Ge.Colored,colors:{...$e,b:"#311a14",w:"#df8f00"}},[Le.Shokolad]:{type:Ge.Colored,colors:{...$e,b:"#815547",w:"#efbf89"}},[Le.FioletovayaCaramel]:{type:Ge.Colored,colors:{...$e,b:"#421b3e",w:"#ba7b33"}},[Le.MalinaYadrena]:{type:Ge.Colored,colors:{...$e,b:"#ff419e",w:"#ff9ace"}},[Le.RozovayaFistashka]:{type:Ge.Colored,colors:{...$e,b:"#febfb2",w:"#f6ffdd"}},[Le.MalinoviyKrem]:{type:Ge.Colored,colors:{...$e,b:"#e397a4",w:"#f0d1af"}},[Le.RozovyKrem]:{type:Ge.Colored,colors:{...$e,b:"#fdb39f",w:"#f0e1d7"}},[Le.RozYagodky]:{type:Ge.Imaged,colors:{...$e,b:"#ffe0d4",w:"#feffff"}},[Le.RozDifrakcya]:{type:Ge.Imaged,colors:{...$e,b:"#fae3e6",w:"#ffffff"}},[Le.RozGoroshek]:{type:Ge.Imaged,colors:{...$e,b:"#ffd1e3",w:"#fcf0f5"}},[Le.RozGradient]:{type:Ge.Imaged,colors:{...$e,b:"#ff92af",w:"#ffb4c4"}},[Le.RozKrem]:{type:Ge.Colored,colors:{...$e,b:"#feaea9",w:"#ffefc0"}},[Le.RozVata]:{type:Ge.Colored,colors:{...$e,b:"#ffbece",w:"#ffecf2"}},[Le.Marshmello]:{type:Ge.Colored,colors:{...$e,b:"#ede5fd",w:"#ffffff"}},[Le.DeepPurple]:{type:Ge.Colored,colors:{...$e,b:"#af76b5",w:"#d6aee1"}},[Le.DeepPurpleDark]:{type:Ge.Colored,colors:{...$e,b:"#905fb0",w:"#c29ad7"}},[Le.RozChern]:{type:Ge.Colored,colors:{...$e,b:"#000000",w:"#ffc0cf"}},[Le.RozBiruza]:{type:Ge.Colored,colors:{...$e,b:"#ff9a9c",w:"#43ffff"}},[Le.SalatFioletTemniy]:{type:Ge.Colored,colors:{...$e,b:"#ff7eb7",w:"#02d2c7"}},[Le.FioletoviyZeleniy]:{type:Ge.Colored,colors:{...$e,b:"#9d5cb0",w:"#68bf9b"}},[Le.FioletGolub]:{type:Ge.Colored,colors:{...$e,b:"#a178d2",w:"#b4e7ff"}},[Le.SalatFiolet]:{type:Ge.Colored,colors:{...$e,b:"#eccdf8",w:"#bcffe2"}},[Le.KlubnikaFistashka]:{type:Ge.Colored,colors:{...$e,b:"#aed6c8",w:"#ffc5cf"}},[Le.RozovayaFistashkaTemnaya]:{type:Ge.Colored,colors:{...$e,b:"#b6bc5d",w:"#feb09a"}},[Le.RozovayaZelen]:{type:Ge.Colored,colors:{...$e,b:"#666d48",w:"#fdb39f"}},[Le.SpokoynayaZelen]:{type:Ge.Colored,colors:{...$e,b:"#495933",w:"#879775"}},[Le.Fistashka]:{type:Ge.Colored,colors:{...$e,b:"#96895c",w:"#e8dca5"}},[Le.Fistashka2]:{type:Ge.Colored,colors:{...$e,b:"#9c9d70",w:"#c3c5ad"}},[Le.HakiDifrakcya]:{type:Ge.Imaged,colors:{...$e,b:"#aeb896",w:"#c5cbb5"}},[Le.ZelDifrakcya]:{type:Ge.Imaged,colors:{...$e,b:"#9fe3a0",w:"#e0f0dc"}},[Le.IzumrudDifrakcya]:{type:Ge.Imaged,colors:{...$e,b:"#91e3c2",w:"#d6eee1"}},[Le.IzumrudBelSvetliy]:{type:Ge.Colored,colors:{...$e,b:"#b1d9cb",w:"#ffffff"}},[Le.IzumrudDifrakcyaTemniy]:{type:Ge.Imaged,colors:{...$e,b:"#1aa98f",w:"#72bfaf"}},[Le.ZheltDifrakcya]:{type:Ge.Imaged,colors:{...$e,b:"#ffe7b1",w:"#fbf3e2"}},[Le.GoldPlatinum]:{type:Ge.Imaged,colors:{...$e,b:"#d5ae56",w:"#edeceb"}},[Le.BezheviyKrem]:{type:Ge.Colored,colors:{...$e,b:"#ffcb6f",w:"#ecd3c0"}},[Le.SeroZhelt]:{type:Ge.Colored,colors:{...$e,b:"#bab3ad",w:"#ffefc0"}},[Le.Trava]:{type:Ge.Imaged,colors:{...$e,b:"#4b851f",w:"#d7e0da"}},[Le.MetalSetka]:{type:Ge.Imaged,colors:{...$e,b:"#040204",w:"#b4ada6"}},[Le.MalachiteOnyx]:{type:Ge.Imaged,colors:{...$e,b:"#003224",w:"#fad6dc"}},[Le.GoldPearl]:{type:Ge.Imaged,colors:{...$e,b:"#b96e1f",w:"#fafaf4"}}},sj=e=>b_e[e]||{type:Ge.Arena,colors:$e};class lj{constructor(t,n){this.getFigureImg=t,this.getSquareImg=n}}const w_e=30,S_e=5,$B=(e,t,n,r)=>{const o=1/(1+Math.pow(10,(t-e)/400)),i=e>=2400?10:r>w_e?20:r>S_e?40:350-70*(r-1);return Math.round(i*(n-o))},Xy=e=>{const t=isNaN(Number.parseInt(`${e}`))||!e?wn():e;return Math.min(1e4,Math.max(10,t))},MD=(e,t,n)=>{const r=e!=null&&e.counts?e:Rh();return{...r,counts:{...r.counts,total:r.counts.total+1,[t]:r.counts[t]+1},averageOpponentsRating:Math.round((r.averageOpponentsRating*r.counts.total+Xy(n))/(r.counts.total+1))}},cj=(e,t=!1)=>{var P;const n=yn.Blitz,{result:r,opponentRating:o,turn:i}=e,a=ru(e.playerState),l=((P=a.playerData)==null?void 0:P[n])||ad(),u=t?"withComputerGames":"games",d=t?"withComputerRating":"rating",f=r===ni.Victory?1:r===ni.Defeat?0:.5,m=l[d]||zE(),g=l[u]||UE(),v=(g.total.counts.total||0)+1,y=Math.min(wn(),Xy(o)),_=v===1&&t?y:a[d]??wn(),b=v===1&&t?y:m.maximum,E=v===1&&t?y:m.minimum,A=$B(_,Xy(o),f,v),C=Math.min(1e4,Math.max(_+A,50)),M={current:C,maximum:C>b?C:b,minimum:C<E?C:E};a[d]=C;const T=MD(g[r],i,o),I=MD(g.total,i,o);return{...a,playerData:{...a.playerData||Is(),[n]:{...l,[d]:M,[u]:{...g,[r]:T,total:I}}}}},A_e=e=>cj(e,!1),C_e=e=>cj(e,!0),k_e=e=>{const{playerData:t,diff:n,newValue:r}=e,o=t||Is(),i=o.config||F8(),a={...i,passivePriority:r??i.passivePriority+n};return{...o,config:a}},PD=e=>{const{result:t,opponentRating:n,totalMoves:r,withBonuses:o,leaderBoardType:i}=e,a=Math.floor(r/2),l=ru(e.playerState);let u=0;return t===ni.Victory?o?u=a*3:u=Xy(n):t===ni.Draw?u=a*2:u=a,me.isPremium()&&(u=Math.round(u*1.2)),l.score+=u,l[i]+=u,l},uj={[$E.Figures]:"figuresProgress",[$E.Boards]:"boardsProgress"},gl=(e,t,n)=>{const r=(e==null?void 0:e.unlockedDesigns)??_y(),o=uj[n],i=(r[o]??_y()[o])[t];return!!i&&i===To},TD=e=>{const t=e??{};return Object.keys(t).filter(n=>!!t[n]&&t[n]===To)},ID=(e,t,n,r=1)=>{const o=e??Is(),i=o.unlockedDesigns??_y(),a=uj[n],l=i[a]??{},u=Math.min(To,Math.max(0,(l[t]??0)+r)),d=u===To,f=i[n]??[];d&&!f.includes(t)&&f.push(t);const m={...i,[a]:{...l,[t]:u},[n]:f};return{...o,unlockedDesigns:m}},xk=()=>Math.round(Math.random()*10**9).toString(16),E_e=`${xk()}${xk()}${xk()}`,B_e={locale:me.isCrazyGames()||me.isGamePix()?He.EN:He.RU,gameT:be,isMobile:FN(),isSmallMobile:NN(),isPortrait:y0(),aspectRatio:GN(),windowSize:jN(),aiGiveUpEnabled:!1,opponentProvider:void 0,settingsByOptionLevelType:{},currentOpponents:{},excludedOpponents:[],levelsOpponentsWasPlayed:[],settingsTabValue:Ci.Figures,uniqueOnlineID:E_e,onlineName:"",soundEnable:!0,saveSoundEnable:!0,musicEnable:!0,saveMusicEnable:!0,enemyEmojiSettings:da.DEFAULT,adsCount:0,lastViewRewardedVideoMS:0,fullscreenCount:0,stickyTimeMs:0,lastInGameAdvTimestamp:null,countOfUnlockedFigureDesignsForRewarded:0,countOfUnlockedBoardDesignsForRewarded:0,boardFading:0,boardTheme:"",figureTheme:"",isDesignChanged:!1,displayScoreDifference:!1,showConfirmFriendGameModal:!0,lastAnalyzePercentage:50,onlineBetSize:yd()?0:10,searchOnlyByRatingEnabled:!0,leaderboardMode:Gc.Default,leaderboardGameModeTab:aj.TotalScore,leaderboardSelectedTab:Bt().feature[we.Online]?Tn.TotalScore:Tn.WithComputerScore,boardImageManager:new lj(()=>"",()=>"")},zt=xn.getLogger("CONFIG_STORE"),R_e={...B_e,changeLocale:Z(async(e,t,n)=>{await lg.setLocaleInstance(t),e.setLocale(t),zt.info("changeLocale",t)}),onPlayerReady:QK([(e,t)=>t.platform.isPlayerReady],async(e,t,n)=>{const[r]=t.current;return r?(await e.initDesign(),zt.info("onPlayerChange"),()=>{}):()=>{}}),setSettingsTabValue:ue((e,t)=>{e.settingsTabValue=t,zt.info("setSettingsTabValue",t)}),initDesign:Z(async(e,t,n)=>{zt.info("initDesign");const r=n.getState().defaultFigureDesign,o=n.getState().defaultBoardDesign,i=n.getStoreState().platform.player;if(!i)throw new Error("platform player is absent");const a={...i.playerData,unlockedDesigns:{...i.playerData.unlockedDesigns,figures:i.playerData.unlockedDesigns.figures??[],boards:i.playerData.unlockedDesigns.boards??[],boardsProgress:i.playerData.unlockedDesigns.boardsProgress??{},figuresProgress:i.playerData.unlockedDesigns.figuresProgress??{}}};let l=!1;r.forEach(u=>{gl(a,u,Ci.Figures)||(a.unlockedDesigns.figuresProgress[u]=To,l=!0),a.unlockedDesigns.figures.includes(u)||(a.unlockedDesigns.figures.push(u),l=!0)}),o.forEach(u=>{gl(a,u,Ci.Boards)||(a.unlockedDesigns.boardsProgress[u]=To,l=!0),a.unlockedDesigns.boards.includes(u)||(a.unlockedDesigns.boards.push(u),l=!0)}),me.isPremium()||(!gl(a,n.getState().boardTheme,Ci.Boards)&&o[0]&&n.getStoreActions().config.setBoardTheme(o[0]),!gl(a,n.getState().figureTheme,Ci.Figures)&&r[0]&&n.getStoreActions().config.setFigureTheme(r[0])),l&&(await n.getStoreActions().platform.updatePlayerData({playerData:a}),zt.info("initDesign success",r,o,a.unlockedDesigns))}),setOnlineBetSize:ue((e,t)=>{e.onlineBetSize=t,zt.info("setOnlineBetSize",t)}),maxBotRating:ze([e=>e.settingsByOptionLevelType],e=>{let t=0;return Object.keys(e).forEach(n=>{e[n].rating>t&&(t=e[n].rating)}),t}),strongerThanBots:ze([e=>e.maxBotRating,(e,t)=>{var n;return(n=t.platform.player)==null?void 0:n.rating},(e,t)=>t.flags.onlineRatingDelta],(e,t,n)=>t?e+n<t:!1),figureDesigns:ze([(e,t)=>{var n;return(n=t.platform.player)==null?void 0:n.playerData.unlockedDesigns.figuresProgress},e=>e.allFigureDesigns,(e,t)=>t.platform.premiumChangeTrigger],(e,t)=>me.isPremium()?t:TD(e).filter(n=>t.includes(n))),boardDesigns:ze([(e,t)=>{var n;return(n=t.platform.player)==null?void 0:n.playerData.unlockedDesigns.boardsProgress},e=>e.allBoardDesigns,(e,t)=>t.platform.premiumChangeTrigger],(e,t)=>me.isPremium()?t:TD(e).filter(n=>t.includes(n))),addFigureDesign:Z(async(e,t,n)=>{zt.info("addFigureDesign");const r=n.getStoreState().platform.player;if(!r)throw new Error("platform player is absent");const o={...r.playerData,unlockedDesigns:{...r.playerData.unlockedDesigns,figures:[...r.playerData.unlockedDesigns.figures]}};o.unlockedDesigns.figures.includes(t)||(o.unlockedDesigns.figures.push(t),o.unlockedDesigns.figuresProgress[t]=To,await n.getStoreActions().platform.updatePlayerData({playerData:o}),zt.info("addFigureDesign success",t,o.unlockedDesigns.figures))}),addBoardDesign:Z(async(e,t,n)=>{zt.info("addBoardDesign");const r=n.getStoreState().platform.player;if(!r)throw new Error("platform player is absent");const o={...r.playerData,unlockedDesigns:{...r.playerData.unlockedDesigns,boards:[...r.playerData.unlockedDesigns.boards??[]]}};o.unlockedDesigns.boards.includes(t)||(o.unlockedDesigns.boards.push(t),o.unlockedDesigns.boardsProgress[t]=To,await n.getStoreActions().platform.updatePlayerData({playerData:o}),zt.info("addBoardDesign success",t,o.unlockedDesigns.boards))}),defaultFigureDesign:ze([],()=>{throw new Error("   defaultFigureDesign   ")}),defaultBoardDesign:ze([],()=>{throw new Error("   defaultBoardDesign   ")}),allFigureDesigns:ze([e=>e.figureDesigns],e=>{throw new Error("   allFigureDesigns   ")}),allBoardDesigns:ze([e=>e.boardDesigns],e=>{throw new Error("   allBoardDesigns   ")}),unlockableFigureDesigns:ze([e=>e.figureDesigns,e=>e.allFigureDesigns],(e,t)=>BL(t,e)),unlockableBoardDesigns:ze([e=>e.boardDesigns,e=>e.allBoardDesigns],(e,t)=>BL(t,e)),unlockFiguresDesignProgress:ze([(e,t)=>{var n,r,o;return(o=(r=(n=t.platform.player)==null?void 0:n.playerData)==null?void 0:r.unlockedDesigns)==null?void 0:o.figuresProgress}],e=>e??{}),unlockBoardsDesignProgress:ze([(e,t)=>{var n,r,o;return(o=(r=(n=t.platform.player)==null?void 0:n.playerData)==null?void 0:r.unlockedDesigns)==null?void 0:o.boardsProgress}],e=>e??{}),updateProgressFigureDesign:Z(async(e,t,n)=>{zt.info("updateProgressFigureDesign",t);const r=n.getStoreState().platform.player;if(!r){zt.error("updateProgressBoardDesign",new Error("platform player is absent"));return}if(gl(r.playerData,t,Ci.Figures)){zt.error("updateProgressBoardDesign",new Error(`Figure design [${t}] already unlocked`));return}if(!await n.getStoreActions().platform.showRewardedVideo({rewardType:Ja.UnlockFigures}))return;const a=ID(n.getStoreState().platform.player.playerData,t,Ci.Figures,B5());gl(a,t,Ci.Figures)&&U6(),await n.getStoreActions().platform.updatePlayerData({playerData:a}),zt.info("updateProgressFigureDesign success",t)}),updateProgressBoardDesign:Z(async(e,t,n)=>{zt.info("updateProgressBoardDesign",t);const r=n.getStoreState().platform.player;if(!r){zt.error("updateProgressBoardDesign",new Error("platform player is absent"));return}if(gl(r.playerData,t,Ci.Boards)){zt.error("updateProgressBoardDesign",new Error(`Board design [${t}] already unlocked`));return}if(!await n.getStoreActions().platform.showRewardedVideo({rewardType:Ja.UnlockBoard}))return;const a=ID(n.getStoreState().platform.player.playerData,t,Ci.Boards,B5());gl(a,t,Ci.Boards)&&U6(),await n.getStoreActions().platform.updatePlayerData({playerData:a}),zt.info("updateProgressBoardDesign success",t)}),setLastInGameAdvTimestamp:ue((e,t)=>{e.lastInGameAdvTimestamp=t}),resetCurrentOpponents:ue(e=>{e.currentOpponents={},zt.info("resetCurrentOpponents",e.currentOpponents)}),incCountOfUnlockedFigureDesignsForRewarded:ue(e=>{e.countOfUnlockedFigureDesignsForRewarded++,zt.info("incCountOfUnlockedFigureDesignsForRewarded",e.countOfUnlockedFigureDesignsForRewarded)}),incCountOfUnlockedBoardDesignsForRewarded:ue(e=>{e.countOfUnlockedBoardDesignsForRewarded++,zt.info("incCountOfUnlockedBoardDesignsForRewarded",e.countOfUnlockedBoardDesignsForRewarded)}),updateLastGameMove:Z(async(e,t,n)=>{throw new Error("   updateLastGameMove   ")}),setCurrentOpponents:ue((e,t)=>{e.currentOpponents=t,zt.info("setCurrentOpponents",t)}),setExcludedOpponents:ue((e,t)=>{e.excludedOpponents=t,zt.info("setExcludedOpponents",t)}),addLevelsOpponentsWasPlayed:ue((e,t)=>{throw new Error("   addLevelsOpponentsWasPlayed   ")}),initOpponentAvatarAndName:Z(async(e,t,n)=>{throw new Error("   initOpponentAvatarAndName   ")}),updateOpponentNameAndAvatar:Z(async(e,t,n)=>{n.getStoreState().session.isNicksGenerated&&(t??(t=[n.getStoreState().engine.optionLevelType]),await e.updateOpponentName({levelsToUpdate:t}),await e.updateOpponentAvatar({levelsToUpdate:t}),e.addLevelsOpponentsWasPlayed(t),zt.info("updateOpponentNameAndAvatar"))}),updateOpponentName:Z(async(e,t,n)=>{throw new Error("   updateOpponentName   ")}),updateOpponentAvatar:Z(async(e,t,n)=>{throw new Error("   updateOpponentAvatar   ")}),setLocale:ue((e,t)=>{e.locale=t,zt.info("setLocale",t)}),setAiGiveUpEnabled:ue((e,t)=>{e.aiGiveUpEnabled=t,zt.info("setAiGiveUpEnabled",t)}),setEnemyEmojiSettings:ue((e,t)=>{e.enemyEmojiSettings=t,zt.info("setEnemyEmojiSettings",t)}),enemyEmojiMode:ze([(e,t)=>e.enemyEmojiSettings,(e,t)=>t.flags.isScreenshotTest],(e,t)=>t?da.BLOCK:e),toggleCaptureFigures:ue((e,t)=>{e.displayScoreDifference=!e.displayScoreDifference,zt.info("toggleCaptureFigures",e.displayScoreDifference)}),setDisplayScoreDifference:ue((e,t)=>{e.displayScoreDifference=t,zt.info("setDisplayScoreDifference",e.displayScoreDifference)}),onWindowResize:ue((e,t)=>{e.isPortrait=y0(),e.aspectRatio=GN(),e.isMobile=FN(),e.isSmallMobile=NN(),e.windowSize=jN()}),setBoardTheme:ue((e,t)=>{const n=t;e.boardTheme=n,e.isDesignChanged=!0,ca?Ne.trackChangeDesign(n):Ne.trackChangeBoard(n),zt.info("setBoardTheme",n)}),setFigureTheme:ue((e,t)=>{const n=t;e.figureTheme=n,ca||Ne.trackChangeFigures(n),e.isDesignChanged=!0,zt.info("setFigureTheme",n)}),setBoardFading:ue((e,t)=>{const n=Math.round(t*100)/100;e.boardFading!==n&&(e.boardFading=n,zt.info("setBoardFading",n))}),incrementAdsCount:ue((e,t)=>{e.adsCount+=1,zt.info("incrementAdsCount")}),incrementFullscreenCount:ue((e,t)=>{e.fullscreenCount+=1,zt.info("incrementFullscreenCount")}),incrementStickyTime:ue((e,t)=>{e.stickyTimeMs+=5e3;const n=Math.floor(e.stickyTimeMs/1e3);me.isTV()||(n%600===0&&e.stickyTimeMs>=600&&Ne.trackSticky10(),n%1200===0&&e.stickyTimeMs>=1200&&Ne.trackSticky20(),n%1800===0&&e.stickyTimeMs>=1800&&Ne.trackSticky30())}),toggleSound:ue((e,t)=>{e.saveSoundEnable=!e.soundEnable,e.soundEnable=!e.soundEnable,zt.info("toggleSound",e.soundEnable),Ne.trackChangeSound(e.soundEnable),ux(n=>{e.soundEnable?n.onSoundOn():n.onSoundOff()})}),setSoundEnabled:ue((e,t)=>{t!==e.soundEnable&&(e.soundEnable=t,zt.info("setSoundEnabled",e.soundEnable))}),toggleMusic:ue((e,t)=>{e.saveMusicEnable=!e.musicEnable,e.musicEnable=!e.musicEnable,zt.info("toggleMusic",e.musicEnable),Ne.trackChangeMusic(e.musicEnable)}),setMusicEnabled:ue((e,t)=>{t!==e.musicEnable&&(e.musicEnable=t,zt.info("setMusicEnabled",e.musicEnable))}),setOnlineName:ue((e,t)=>{e.onlineName=t,zt.info("setOnlineName",t)}),setShowConfirmFriendGameModal:ue((e,t)=>{e.showConfirmFriendGameModal=t}),setLastAnalyzePercentage:ue((e,t)=>{e.lastAnalyzePercentage=t,zt.info("setLastAnalyzePercentage",e.soundEnable)}),switchLeaderboardMode:ue((e,t)=>{t!==eG.toggle?e.leaderboardMode=t:e.leaderboardMode=e.leaderboardMode===Gc.Default?Gc.Leaders:Gc.Default,Ne.trackSwitchLeaderboardMode(e.leaderboardMode)}),setLeaderboardSelectedTab:ue((e,t)=>{e.leaderboardSelectedTab=t,Ne.trackSwitchLeadersTab(t,e.leaderboardMode)}),setLeaderboardGameModeTab:ue((e,t)=>{e.leaderboardGameModeTab=t}),setSearchOnlyByRating:ue((e,t)=>{e.searchOnlyByRatingEnabled=t,zt.info("setSearchOnlyByRating",t)})},Ox={en:{checkersEnTitle:"Checkers",checkersEnSubtitle:"English",checkersRuTitle:"Checkers",checkersRuSubtitle:"Russian",checkersGiveawayTitle:"Checkers",checkersGiveawaySubtitle:"Giveaway",checkersCGEnTitle:"English Checkers",checkersCGEnSubtitle:"Free",checkersCGRuTitle:"Russian Checkers",checkersCGRuSubtitle:"Free",checkersCGGiveawayTitle:"Giveaway Checkers",checkersCGGiveawaySubtitle:"Free",allCheckersCaptured:"All the checkers have been captured",handicapHintTitle:"Click on checkers to make them kings or remove them",mandatoryTaken:"Capture is mandatory",selectCaptureRules:"Select the rules for capturing your opponent's checkers",mandatory:"Mandatory",asDesired:"As desired",CheckersRuRules:{giveaway:"The goal of the game is to give away or block all your checkers",0:"A simple checker moves diagonally forward one square",1:`A simple checker is taken both forward and backward.
The checker next to the opponent's checker, behind which there is an empty field, is transferred to this field`,2:"Taking is mandatory: if there is an opportunity to take the opponent's checker, the player must take",3:"If there is an opportunity to continue taking other opponent's checkers, then this continues until the striking shashKa will not reach a position from which combat is impossible",4:"With several options for taking, for example, one or two checkers, the player can choose any option",5:"When the last horizontal row is reached, a simple checker turns into a king",6:"The queen walks diagonally on any free field both forward and backward, but cannot jump her checkers or queens",7:"The queen hits diagonally as forward, so back, and stands on any free field after a beaten checker",8:"The queen can beat several opponent's pieces and must beat as long as possible"},CheckersEnRules:{0:"A simple checker moves diagonally forward one square",1:`A simple checker is taken forward only.
The checker next to the opponent's checker, behind which there is an empty field, is transferred to this field`,2:"Taking is mandatory: if there is an opportunity to take the opponent's checker, the player must take",3:"If there is an opportunity to continue taking other opponent's checkers, then this continues until the striking shashKa will not reach a position from which combat is impossible",4:"With several options for taking, for example, one or two checkers, the player can choose any option",5:"Upon reaching the last horizontal row, a simple checker turns into a king",6:"The queen walks diagonally both forward and backward one square",7:"The queen hits diagonally, both forward and backward, if there is an empty field behind the opponent's checker",8:"The queen can beat several opponent's pieces and must beat as long as possible"}}},x_e=Object.freeze(Object.defineProperty({__proto__:null,default:Ox},Symbol.toStringTag,{value:"Module"})),Mx={ru:{checkersEnTitle:"",checkersEnSubtitle:"",checkersRuTitle:" ",checkersRuSubtitle:"",checkersGiveawayTitle:" ",checkersGiveawaySubtitle:"",checkersCGEnTitle:" ",checkersCGEnSubtitle:"",checkersCGRuTitle:" ",checkersCGRuSubtitle:"",checkersCGGiveawayTitle:"",checkersCGGiveawaySubtitle:"",allCheckersCaptured:"  ",handicapHintTitle:"  ,      ",mandatoryTaken:" ",selectCaptureRules:"    ",mandatory:"",asDesired:" ",CheckersRuRules:{giveaway:"  -      ",0:"        ",1:`     ,   .
    ,    ,    `,2:" :      ,   ",3:"       ,   ,      ,    ",4:"   , ,    ,     ",5:"         ",6:"         ,   ,        ",7:"   ,  ,   ,         ",8:"           ,   "},CheckersEnRules:{0:"        ",1:`     .
    ,    ,    `,2:" :      ,   ",3:"       ,   ,      ,    ",4:"   , ,    ,     ",5:"         ",6:"     ,      ",7:"   ,  ,   ,      ",8:"           ,   "}}},O_e=Object.freeze(Object.defineProperty({__proto__:null,default:Mx},Symbol.toStringTag,{value:"Module"})),M_e=Object.assign({"./translations/LanguageModule/checkers.ar.translations.ts":()=>De(()=>import("./checkers.ar.translations-4LiC7bYB.js"),[],import.meta.url),"./translations/LanguageModule/checkers.de.translations.ts":()=>De(()=>import("./checkers.de.translations-DNy1i_aE.js"),[],import.meta.url),"./translations/LanguageModule/checkers.en.translations.ts":()=>De(()=>Promise.resolve().then(()=>x_e),void 0,import.meta.url),"./translations/LanguageModule/checkers.es.translations.ts":()=>De(()=>import("./checkers.es.translations-DpTFPyTM.js"),[],import.meta.url),"./translations/LanguageModule/checkers.fr.translations.ts":()=>De(()=>import("./checkers.fr.translations-By0oW-iQ.js"),[],import.meta.url),"./translations/LanguageModule/checkers.hi.translations.ts":()=>De(()=>import("./checkers.hi.translations-DioqGaTy.js"),[],import.meta.url),"./translations/LanguageModule/checkers.id.translations.ts":()=>De(()=>import("./checkers.id.translations-B8MT59Iu.js"),[],import.meta.url),"./translations/LanguageModule/checkers.it.translations.ts":()=>De(()=>import("./checkers.it.translations-DgNUtsjm.js"),[],import.meta.url),"./translations/LanguageModule/checkers.ja.translations.ts":()=>De(()=>import("./checkers.ja.translations-CbypFSnk.js"),[],import.meta.url),"./translations/LanguageModule/checkers.ko.translations.ts":()=>De(()=>import("./checkers.ko.translations-uJMfkE2t.js"),[],import.meta.url),"./translations/LanguageModule/checkers.pl.translations.ts":()=>De(()=>import("./checkers.pl.translations-CjiKYFr2.js"),[],import.meta.url),"./translations/LanguageModule/checkers.pt.translations.ts":()=>De(()=>import("./checkers.pt.translations-DV2CXdBN.js"),[],import.meta.url),"./translations/LanguageModule/checkers.ru.translations.ts":()=>De(()=>Promise.resolve().then(()=>O_e),void 0,import.meta.url),"./translations/LanguageModule/checkers.tr.translations.ts":()=>De(()=>import("./checkers.tr.translations-Bo27FYiP.js"),[],import.meta.url),"./translations/LanguageModule/checkers.vi.translations.ts":()=>De(()=>import("./checkers.vi.translations-DhOkXyAe.js"),[],import.meta.url),"./translations/LanguageModule/checkers.zh.translations.ts":()=>De(()=>import("./checkers.zh.translations-g9h_ZG14.js"),[],import.meta.url)}),P_e=[me.isPlatformWithEnDefaultLocale()?Ox:Mx],T_e=Hd.combineTranslations(P_e),S1=new Hd(T_e);S1.localeLoader=e=>{const t={[He.RU]:Mx,[He.EN]:Ox}[e];return t?{default:t}:M_e[`./translations/LanguageModule/checkers.${e}.translations.ts`]()};const Pc=S1.getT();S1.getTn();const Co=(e,t)=>({shadow:t,extension:e}),Ce={webp:{none:Co(so.WEBP,ar.None),rightBottom:Co(so.WEBP,ar.RightBottom),leftBottom:Co(so.WEBP,ar.LeftBottom),bottom:Co(so.WEBP,ar.Bottom),center:Co(so.WEBP,ar.Center),left:Co(so.WEBP,ar.Left),right:Co(so.WEBP,ar.Right)},png:{none:Co(so.PNG,ar.None),rightBottom:Co(so.PNG,ar.RightBottom),leftBottom:Co(so.PNG,ar.LeftBottom),bottom:Co(so.PNG,ar.Bottom),center:Co(so.PNG,ar.Center),left:Co(so.PNG,ar.Left),right:Co(so.PNG,ar.Right)}},dj={[se.Biryza]:Ce.webp.rightBottom,[se.Chernye]:Ce.webp.rightBottom,[se.Inversiya]:Ce.webp.rightBottom,[se.Kazino]:Ce.webp.rightBottom,[se.Kofe]:Ce.webp.rightBottom,[se.Obiyem]:Ce.webp.rightBottom,[se.Oval]:Ce.webp.bottom,[se.Eyes]:Ce.webp.rightBottom,[se.OvalMetalic]:Ce.webp.rightBottom,[se.OvalMetalicGold]:Ce.webp.rightBottom,[se.Hex]:Ce.webp.leftBottom,[se.Puziry]:Ce.webp.leftBottom,[se.Shaiba]:Ce.webp.leftBottom,[se.ShaibaMalina]:Ce.webp.leftBottom,[se.Plyazh]:Ce.webp.bottom,[se.Sumerki]:Ce.webp.rightBottom,[se.Golf]:Ce.webp.rightBottom,[se.BezhFiolet]:Ce.webp.rightBottom,[se.EyesOrange]:Ce.webp.rightBottom,[se.IlluminatorMalina]:Ce.webp.rightBottom,[se.IlluminatorMishka]:Ce.webp.rightBottom,[se.IlluminatorOrange]:Ce.webp.rightBottom,[se.KafelBezh]:Ce.webp.rightBottom,[se.KafelSin]:Ce.webp.rightBottom,[se.KnopkaKra]:Ce.webp.bottom,[se.KnopkaPur]:Ce.webp.bottom,[se.KnopkaVipuklaya]:Ce.webp.bottom,[se.KnopkaZel]:Ce.webp.bottom,[se.MedalMalina]:Ce.webp.leftBottom,[se.MedalOrange]:Ce.webp.leftBottom,[se.MedalShokolad]:Ce.webp.leftBottom,[se.Risunok]:Ce.webp.none,[se.RisunokGol]:Ce.webp.bottom,[se.RisunokKamen]:Ce.webp.leftBottom,[se.RisunokZel]:Ce.webp.none,[se.RozGol]:Ce.webp.rightBottom,[se.SeriyCherniy]:Ce.webp.rightBottom,[se.SeriyShokolad]:Ce.webp.rightBottom,[se.SinFiolet]:Ce.webp.rightBottom,[se.TabletkaGol]:Ce.webp.bottom,[se.TabletkaKra]:Ce.webp.bottom,[se.TabletkaZel]:Ce.webp.bottom,[se.TabletkaZhe]:Ce.webp.bottom,[se.ZelKra]:Ce.webp.rightBottom,[se.ZelZhel]:Ce.webp.rightBottom,[se.Prostye]:Ce.webp.rightBottom,[se.Siniye]:Ce.webp.rightBottom,[se.Sirenevye]:Ce.webp.rightBottom,[se.Vanil]:Ce.webp.rightBottom,[se.Zoloto]:Ce.webp.rightBottom,[se.Wooden]:Ce.png.rightBottom,[se.Classic]:Ce.webp.none,[se.Initial]:Ce.webp.none,[se.Akkuratistiky]:Ce.webp.leftBottom,[se.Kvadradutye]:Ce.webp.center,[se.Koshky]:Ce.webp.rightBottom,[se.Shahmatushky]:Ce.webp.rightBottom,[se.ZolotayaKaemka]:Ce.webp.none,[se.Levitacya]:Ce.webp.rightBottom,[se.BlueBeige]:Ce.png.rightBottom,[se.Freska]:Ce.png.rightBottom,[se.Freska3D]:Ce.png.rightBottom,[se.MolokoShokolad]:Ce.webp.rightBottom,[se.Emotions]:Ce.webp.rightBottom,[se.Kuklyashky]:Ce.png.rightBottom,[se.Steel3d]:Ce.png.rightBottom,[se.Bronzovye]:Ce.png.rightBottom,[se.Farfor]:Ce.png.rightBottom,[se.Diagonal]:Ce.png.rightBottom,[se.Drakoshky]:Ce.webp.leftBottom,[se.Multik]:Ce.webp.rightBottom,[se.BlackWhite3d]:Ce.png.rightBottom,[se.Gold3d]:Ce.png.rightBottom,[se.Drakon]:Ce.png.leftBottom,[se.Kost]:Ce.webp.leftBottom,[se.Mramor]:Ce.png.rightBottom,[se.Kubyshki]:Ce.webp.rightBottom,[se.Steklo]:Ce.png.rightBottom,[se.Golovastiky]:Ce.png.rightBottom,[se.Risovannye]:Ce.png.rightBottom,[se.SivkaBurka]:Ce.png.rightBottom,[se.GoldPlatinum]:Ce.png.rightBottom,[se.DetskieRisunky]:Ce.webp.rightBottom,[se.Bashenky]:Ce.webp.rightBottom,[se.Gravyra]:Ce.png.rightBottom,[se.KalyaMalya]:Ce.webp.rightBottom,[se.KruglyeVSerebre]:Ce.webp.bottom,[se.Kvadratnye]:Ce.png.rightBottom,[se.ModernRyzh]:Ce.webp.rightBottom,[se.ModernSin]:Ce.webp.rightBottom,[se.ModernZel]:Ce.webp.rightBottom,[se.Chelovechky]:Ce.png.rightBottom,[se.Kukly]:Ce.webp.right,[se.KuklyYarkie]:Ce.webp.right,[se.Raskraska]:Ce.png.rightBottom,[se.Chely]:Ce.png.rightBottom,[se.Troyanskye]:Ce.png.rightBottom,[se.Knights]:Ce.png.rightBottom},I_e=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,L_e=e=>{if(!I_e.test(e))throw new Error(`Invalid or unsupported color format. Must be hex of "#xxx" or "#xxxxxx", but your value is "${e}"`);if(e.length===4)return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)];if(e.length===7)return[parseInt(e[1]+e[2],16),parseInt(e[3]+e[4],16),parseInt(e[5]+e[6],16)];throw new Error(`Invalid or unsupported color format. Must be hex of "#xxx" or "#xxxxxx", but your value is "${e}"`)},D_e=(e,t,n)=>(e=Math.max(0,Math.min(255,Math.round(e))),t=Math.max(0,Math.min(255,Math.round(t))),n=Math.max(0,Math.min(255,Math.round(n))),"#"+((1<<24)+(e<<16)+(t<<8)+n).toString(16).slice(1)),N_e=(e,t)=>{let[n,r,o]=L_e(e);return n=Math.min(255,n*t),r=Math.min(255,r*t),o=Math.min(255,o*t),D_e(n,r,o)},F_e=e=>{let t=[];for(let n=-6;n<=3;n++){let r=1-n*.1;t.push(N_e(e,r))}return t},Px={[Yt.Primary]:"#818869",[Yt.Secondary]:"#525429",[Yt.Reject]:"#d26c45",[Yt.Success]:"#9fbf32",[Yt.Neutral]:"#868e96",[Yt.LightNeutral]:"#e9ecef"},G_e={...Px,[Yt.Primary]:"#3a737c",[Yt.Secondary]:"#15414d"},j_e={...Px,[Yt.Primary]:"#673AB7",[Yt.Secondary]:"#4A148C"},$_e={[Sr.Default]:Px,[Sr.Blue]:G_e,[Sr.Purple]:j_e},z_e=[Sr.Default,Sr.Blue,Sr.Purple],A1=()=>{const e=(pn().themeType||{})[ts]||pn().themeType,t=Sr.Purple;return z_e.includes(e)?e:t},Tx=()=>$_e[A1()],LD=(e=Tx())=>{let t={};for(const n in e)t[n]=F_e(e[n]);return t},U_e=(e=[])=>{const[t,n]=O.useState(LD());return O.useEffect(()=>{const r=Tx(),o=LD(r);n(o)},e),t},Ar=e=>({...Tx(),[fo.Reject2]:"#ff9761",[fo.Reject3]:"#fc8253",[fo.Success2]:"#dfff46",[fo.Success3]:"#bfe53c",[fo.Neutral2]:"#a1aab4",[fo.Neutral3]:"#bcc7d2"})[e]??e,V_e={[Sr.Default]:Le.Green,[Sr.Blue]:Le.Brown,[Sr.Purple]:Le.Gray},fj=()=>V_e[A1()],q_e=[...s_e],Q_e={[Sr.Default]:se.Zoloto,[Sr.Blue]:se.Oval,[Sr.Purple]:se.RozGol},hj=()=>Q_e[A1()],H_e={[se.Biryza]:1,[se.Chernye]:1,[se.Inversiya]:1,[se.Kazino]:1,[se.Kofe]:1,[se.Obiyem]:1,[se.Oval]:1,[se.Prostye]:1,[se.Siniye]:1,[se.Sirenevye]:1,[se.Vanil]:1,[se.Zoloto]:1,[se.Eyes]:1,[se.Hex]:1,[se.OvalMetalic]:1,[se.OvalMetalicGold]:1,[se.Plyazh]:1,[se.Puziry]:1,[se.Shaiba]:1,[se.ShaibaMalina]:1,[se.Sumerki]:1,[se.Golf]:1,[se.BezhFiolet]:1,[se.EyesOrange]:1,[se.IlluminatorMalina]:1,[se.IlluminatorMishka]:1,[se.IlluminatorOrange]:1,[se.KafelBezh]:1,[se.KafelSin]:1,[se.KnopkaKra]:1,[se.KnopkaPur]:1,[se.KnopkaVipuklaya]:1,[se.KnopkaZel]:1,[se.MedalMalina]:1,[se.MedalOrange]:1,[se.MedalShokolad]:1,[se.Risunok]:1,[se.RisunokGol]:1,[se.RisunokKamen]:1,[se.RisunokZel]:1,[se.RozGol]:1,[se.SeriyCherniy]:1,[se.SeriyShokolad]:1,[se.SinFiolet]:1,[se.TabletkaGol]:1,[se.TabletkaKra]:1,[se.TabletkaZel]:1,[se.TabletkaZhe]:1,[se.ZelKra]:1,[se.ZelZhel]:1,[se.ZolotayaKaemka]:1},W_e=Object.keys(H_e);var co=(e=>(e[e.Man=0]="Man",e[e.Woman=1]="Woman",e))(co||{}),J_e=(e=>(e[e.Real=0]="Real",e[e.Alias=1]="Alias",e[e.Generated=2]="Generated",e))(J_e||{}),Z_e=(e=>(e[e.Surname=0]="Surname",e[e.Patronymics=1]="Patronymics",e[e.SurnameAndPatronymics=2]="SurnameAndPatronymics",e[e.Initials=3]="Initials",e[e.Adjective=4]="Adjective",e[e.DoubleName=5]="DoubleName",e[e.DoubleSurname=6]="DoubleSurname",e[e.None=7]="None",e[e.Alias=8]="Alias",e))(Z_e||{}),Y_e=(e=>(e[e.En=0]="En",e[e.Ru=1]="Ru",e))(Y_e||{}),mj=(e=>(e[e.Ru=0]="Ru",e[e.Ta=1]="Ta",e[e.En=2]="En",e))(mj||{}),Gh=(e=>(e.Beginner="beginner",e.Advanced="advanced",e.Ai="ai",e))(Gh||{}),zB=(e=>(e.Human="human",e.NonHuman="non-human",e))(zB||{});const K_e=e=>{if(e!==void 0)return{[co.Man]:"male",[co.Woman]:"female"}[e]},X_e=e=>{if(e!==void 0)return{male:co.Man,female:co.Woman}[e]},ebe=e=>e?"non-human":"human",tbe=e=>({human:!1,"non-human":!0})[e];class nbe{constructor(t,n,r,o,i,a,l,u){z(this,"config");z(this,"isConfigInited",!1);z(this,"excludedByLevel",{});this.getImagesConfig=t,this.levelKeyToConfigLevel=n,this.levelKeyToConfigRace=r,this.avaGpBaseUrl=o,this.avaYcBaseUrl=i,this.getAvaGpPath=a,this.getAvaYcPath=l,this.getDefaultLocalAvaByLevelKey=u}async initConfig(){if(!this.isConfigInited){const t=await this.getImagesConfig();this.config=t}this.isConfigInited=!0}async fetchAvaToObjectUrl(t){await this.initConfig();try{const n=`${this.avaGpBaseUrl()}/${this.getAvaGpPath(t)}`,r=await nr({url:n,responseType:"blob",method:"GET"}),o=URL.createObjectURL(r.data);return document.createElement("img").src=o,o}catch(n){Ne.trackEvent("image_loading_failed_gp",{error:`${n}`})}try{const n=`${this.avaYcBaseUrl()}/${this.getAvaYcPath(t)}`,r=await nr({url:n,responseType:"blob",method:"GET"}),o=URL.createObjectURL(r.data);return document.createElement("img").src=o,o}catch(n){Ne.trackEvent("image_loading_failed_yc",{error:`${n}`})}try{return this.getDefaultLocalAvaByLevelKey(t.level)}catch{}return""}getRandomOpponentAvaData(t){const{level:n,gender:r,race:o,excluded:i=[]}=t,a=n&&this.levelKeyToConfigLevel(n),l=v=>!!i.find(y=>y&&y.avaLevel===v.avaLevel&&y.avaGender===v.avaGender&&y.avaRace===v.avaRace&&y.avaNumber===v.avaNumber),u={},d={};Object.entries(this.config).forEach(([v,y])=>{Object.entries(y).forEach(([_,b])=>{Object.entries(b).forEach(([E,A])=>{Array(A).fill(0).map((C,M)=>{const T={avaLevel:v,avaGender:_,avaRace:E,avaNumber:M+1};let I=0;T.avaLevel===a&&(I+=4),T.avaGender===r&&(I+=3),T.avaRace===o&&(I+=2),l(T)||(I+=1),(u[I]??(u[I]=[])).push(T),d[I]??(d[I]=0),d[I]++})})})});const f=Object.keys(d).map(v=>parseInt(v,10)).sort((v,y)=>y-v).find(v=>u[v]&&u[v].some(y=>!l(y)));if(f===void 0)return console.error("No images found",new Error("all potential variants excluded or none exist"),{level:n,gender:r,race:o,excluded:i.map(v=>v==null?void 0:v.avaLevel)}),{avaLevel:"advanced",avaGender:"female",avaRace:"human",avaNumber:-1};const m=u[f].filter(v=>!l(v)),g=m.length;return m[Math.floor(Math.random()*g)]}async getUpdatedOpponents({currentOpponents:t,isUpdateNames:n=!1,isUpdateAvatars:r=!1,levelsToUpdate:o,excluded:i=[],locale:a,isSavePrevGender:l}){await this.initConfig();const u=(await De(async()=>{const{generateNick:m}=await import("./generateNick-BF_tQQgy.js");return{generateNick:m}},__vite__mapDeps([0,1,2]),import.meta.url)).generateNick,d={...t},f={};Object.values(t).forEach(m=>{f[m.level]=m});for(const m of o){const g={...t[m]};if(g.nameRace=g.avaRace=this.levelKeyToConfigRace(m),n){let v=g.name,y=l?X_e(g.nameGender):void 0,_=tbe(g.nameRace);const b=await u({customGender:y,levelOpponent:m,nonHuman:_,language:a});y=b.gender,_=b.nonHuman,v=b.name.replace(/\d/g,""),g.nameGender=K_e(y),g.nameRace=ebe(_),g.name=v}if(r){const v=this.getRandomOpponentAvaData({level:m,gender:g.nameGender,race:g.nameRace,excluded:[...Object.values(this.excludedByLevel),...Object.values(f),...i]});g.avaLevel=v.avaLevel,g.avaGender=v.avaGender,g.avaRace=v.avaRace,g.avaNumber=v.avaNumber,f[m]=v}d[m]=g}return this.excludedByLevel=f,d}}const rbe={1:{gender:co.Woman,path:"1/opponent-ava--beginner--female--non-human--001.webp"},2:{gender:co.Woman,path:"2/opponent-ava--advanced--female--human--027.webp"},3:{gender:co.Woman,path:"3/opponent-ava--advanced--female--human--002.webp"},4:{gender:co.Man,path:"4/opponent-ava--advanced--male--human--003.webp"},5:{gender:co.Man,path:"5/opponent-ava--advanced--male--human--036.webp"},6:{gender:co.Woman,path:"6/opponent-ava--advanced--female--human--018.webp"},7:{gender:co.Man,path:"7/opponent-ava--advanced--male--non-human--001.webp"},8:{gender:co.Man,path:"8/opponent-ava--advanced--male--human--031.webp"},9:{gender:co.Man,path:"9/opponent-ava--advanced--male--human--055.webp"},10:{gender:co.Man,path:"9/opponent-ava--ai--male--non-human--005.webp"}},C1=()=>A1()!==Sr.Default,obe=async()=>C1()?(await De(async()=>{const{default:e}=await import("./opponent-avatars.config-BbOmVTFK.js");return{default:e}},[],import.meta.url)).default:(await De(async()=>{const{default:e}=await import("./opponent-avatars.config-CMmNRyq1.js");return{default:e}},[],import.meta.url)).default,UB=10,ibe=e=>{const t=e;return t===1?Gh.Beginner:t>=2&&t<=UB-1?Gh.Advanced:t===UB?Gh.Ai:(console.error(`Method "levelKeyToConfigLevel", Unsupported level: ${t}`),Gh.Advanced)},abe=e=>{const t=e;return[1,UB].includes(t)?zB.NonHuman:zB.Human},sbe=()=>C1()?"https://s3.eponesh.com/games/files/17872":"https://s3.eponesh.com/games/files/16274",lbe=()=>C1()?"https://storage.yandexcloud.net/arena-games/opponents-photos":"https://storage.yandexcloud.net/checkers/opponents-photos",gj=e=>`opponent-ava--${e.avaLevel}--${e.avaGender}--${e.avaRace}--${`${e.avaNumber}`.padStart(3,"0")}.webp`,cbe=gj,ube=Object.assign({}),dbe=e=>{var t;return C1()?"":ube[`#images/opponents/${((t=rbe[e])==null?void 0:t.path)??""}`]},fbe=new nbe(obe,ibe,abe,sbe,lbe,gj,cbe,dbe),pj=()=>Object.entries(Mg).map(([e,t])=>[e,{level:+e,rating:t.rating}]).reduce((e,t)=>(e[t[0]]=t[1],e),{}),DD=Object.assign({"../../packages/chess-board/src/images/checkers/figures/bezh-fiolet/black/p.webp":cpe,"../../packages/chess-board/src/images/checkers/figures/bezh-fiolet/black/q.webp":upe,"../../packages/chess-board/src/images/checkers/figures/bezh-fiolet/white/p.webp":dpe,"../../packages/chess-board/src/images/checkers/figures/bezh-fiolet/white/q.webp":fpe,"../../packages/chess-board/src/images/checkers/figures/biryza/black/p.webp":hpe,"../../packages/chess-board/src/images/checkers/figures/biryza/black/q.webp":mpe,"../../packages/chess-board/src/images/checkers/figures/biryza/white/p.webp":gpe,"../../packages/chess-board/src/images/checkers/figures/biryza/white/q.webp":ppe,"../../packages/chess-board/src/images/checkers/figures/chernye/black/p.webp":vpe,"../../packages/chess-board/src/images/checkers/figures/chernye/black/q.webp":ype,"../../packages/chess-board/src/images/checkers/figures/chernye/white/p.webp":_pe,"../../packages/chess-board/src/images/checkers/figures/chernye/white/q.webp":bpe,"../../packages/chess-board/src/images/checkers/figures/eyes-orange/black/p.webp":wpe,"../../packages/chess-board/src/images/checkers/figures/eyes-orange/black/q.webp":Spe,"../../packages/chess-board/src/images/checkers/figures/eyes-orange/white/p.webp":Ape,"../../packages/chess-board/src/images/checkers/figures/eyes-orange/white/q.webp":Cpe,"../../packages/chess-board/src/images/checkers/figures/eyes/black/p.webp":kpe,"../../packages/chess-board/src/images/checkers/figures/eyes/black/q.webp":Epe,"../../packages/chess-board/src/images/checkers/figures/eyes/white/p.webp":Bpe,"../../packages/chess-board/src/images/checkers/figures/eyes/white/q.webp":Rpe,"../../packages/chess-board/src/images/checkers/figures/golf/black/p.webp":xpe,"../../packages/chess-board/src/images/checkers/figures/golf/black/q.webp":Ope,"../../packages/chess-board/src/images/checkers/figures/golf/white/p.webp":Mpe,"../../packages/chess-board/src/images/checkers/figures/golf/white/q.webp":Ppe,"../../packages/chess-board/src/images/checkers/figures/hex/black/p.webp":Tpe,"../../packages/chess-board/src/images/checkers/figures/hex/black/q.webp":Ipe,"../../packages/chess-board/src/images/checkers/figures/hex/white/p.webp":Lpe,"../../packages/chess-board/src/images/checkers/figures/hex/white/q.webp":Dpe,"../../packages/chess-board/src/images/checkers/figures/illuminator-malina/black/p.webp":Npe,"../../packages/chess-board/src/images/checkers/figures/illuminator-malina/black/q.webp":Fpe,"../../packages/chess-board/src/images/checkers/figures/illuminator-malina/white/p.webp":Gpe,"../../packages/chess-board/src/images/checkers/figures/illuminator-malina/white/q.webp":jpe,"../../packages/chess-board/src/images/checkers/figures/illuminator-mishka/black/p.webp":$pe,"../../packages/chess-board/src/images/checkers/figures/illuminator-mishka/black/q.webp":zpe,"../../packages/chess-board/src/images/checkers/figures/illuminator-mishka/white/p.webp":Upe,"../../packages/chess-board/src/images/checkers/figures/illuminator-mishka/white/q.webp":Vpe,"../../packages/chess-board/src/images/checkers/figures/illuminator-orange/black/p.webp":qpe,"../../packages/chess-board/src/images/checkers/figures/illuminator-orange/black/q.webp":Qpe,"../../packages/chess-board/src/images/checkers/figures/illuminator-orange/white/p.webp":Hpe,"../../packages/chess-board/src/images/checkers/figures/illuminator-orange/white/q.webp":Wpe,"../../packages/chess-board/src/images/checkers/figures/inversiya/black/p.webp":Jpe,"../../packages/chess-board/src/images/checkers/figures/inversiya/black/q.webp":Zpe,"../../packages/chess-board/src/images/checkers/figures/inversiya/white/p.webp":Ype,"../../packages/chess-board/src/images/checkers/figures/inversiya/white/q.webp":Kpe,"../../packages/chess-board/src/images/checkers/figures/kafel-bezh/black/p.webp":Xpe,"../../packages/chess-board/src/images/checkers/figures/kafel-bezh/black/q.webp":eve,"../../packages/chess-board/src/images/checkers/figures/kafel-bezh/white/p.webp":tve,"../../packages/chess-board/src/images/checkers/figures/kafel-bezh/white/q.webp":nve,"../../packages/chess-board/src/images/checkers/figures/kafel-sin/black/p.webp":rve,"../../packages/chess-board/src/images/checkers/figures/kafel-sin/black/q.webp":ove,"../../packages/chess-board/src/images/checkers/figures/kafel-sin/white/p.webp":ive,"../../packages/chess-board/src/images/checkers/figures/kafel-sin/white/q.webp":ave,"../../packages/chess-board/src/images/checkers/figures/kazino/black/p.webp":sve,"../../packages/chess-board/src/images/checkers/figures/kazino/black/q.webp":lve,"../../packages/chess-board/src/images/checkers/figures/kazino/white/p.webp":cve,"../../packages/chess-board/src/images/checkers/figures/kazino/white/q.webp":uve,"../../packages/chess-board/src/images/checkers/figures/knopka-kra/black/p.webp":dve,"../../packages/chess-board/src/images/checkers/figures/knopka-kra/black/q.webp":fve,"../../packages/chess-board/src/images/checkers/figures/knopka-kra/white/p.webp":hve,"../../packages/chess-board/src/images/checkers/figures/knopka-kra/white/q.webp":mve,"../../packages/chess-board/src/images/checkers/figures/knopka-pur/black/p.webp":gve,"../../packages/chess-board/src/images/checkers/figures/knopka-pur/black/q.webp":pve,"../../packages/chess-board/src/images/checkers/figures/knopka-pur/white/p.webp":vve,"../../packages/chess-board/src/images/checkers/figures/knopka-pur/white/q.webp":yve,"../../packages/chess-board/src/images/checkers/figures/knopka-vipuklaya/black/p.webp":_ve,"../../packages/chess-board/src/images/checkers/figures/knopka-vipuklaya/black/q.webp":bve,"../../packages/chess-board/src/images/checkers/figures/knopka-vipuklaya/white/p.webp":wve,"../../packages/chess-board/src/images/checkers/figures/knopka-vipuklaya/white/q.webp":Sve,"../../packages/chess-board/src/images/checkers/figures/knopka-zel/black/p.webp":Ave,"../../packages/chess-board/src/images/checkers/figures/knopka-zel/black/q.webp":Cve,"../../packages/chess-board/src/images/checkers/figures/knopka-zel/white/p.webp":kve,"../../packages/chess-board/src/images/checkers/figures/knopka-zel/white/q.webp":Eve,"../../packages/chess-board/src/images/checkers/figures/kofe/black/p.webp":Bve,"../../packages/chess-board/src/images/checkers/figures/kofe/black/q.webp":Rve,"../../packages/chess-board/src/images/checkers/figures/kofe/white/p.webp":xve,"../../packages/chess-board/src/images/checkers/figures/kofe/white/q.webp":Ove,"../../packages/chess-board/src/images/checkers/figures/medal-malina/black/p.webp":Mve,"../../packages/chess-board/src/images/checkers/figures/medal-malina/black/q.webp":Pve,"../../packages/chess-board/src/images/checkers/figures/medal-malina/white/p.webp":Tve,"../../packages/chess-board/src/images/checkers/figures/medal-malina/white/q.webp":Ive,"../../packages/chess-board/src/images/checkers/figures/medal-orange/black/p.webp":Lve,"../../packages/chess-board/src/images/checkers/figures/medal-orange/black/q.webp":Dve,"../../packages/chess-board/src/images/checkers/figures/medal-orange/white/p.webp":Nve,"../../packages/chess-board/src/images/checkers/figures/medal-orange/white/q.webp":Fve,"../../packages/chess-board/src/images/checkers/figures/medal-shokolad/black/p.webp":Gve,"../../packages/chess-board/src/images/checkers/figures/medal-shokolad/black/q.webp":jve,"../../packages/chess-board/src/images/checkers/figures/medal-shokolad/white/p.webp":$ve,"../../packages/chess-board/src/images/checkers/figures/medal-shokolad/white/q.webp":zve,"../../packages/chess-board/src/images/checkers/figures/obiyem/black/p.webp":Uve,"../../packages/chess-board/src/images/checkers/figures/obiyem/black/q.webp":Vve,"../../packages/chess-board/src/images/checkers/figures/obiyem/white/p.webp":qve,"../../packages/chess-board/src/images/checkers/figures/obiyem/white/q.webp":Qve,"../../packages/chess-board/src/images/checkers/figures/oval-metalic-gold/black/p.webp":Hve,"../../packages/chess-board/src/images/checkers/figures/oval-metalic-gold/black/q.webp":Wve,"../../packages/chess-board/src/images/checkers/figures/oval-metalic-gold/white/p.webp":Jve,"../../packages/chess-board/src/images/checkers/figures/oval-metalic-gold/white/q.webp":Zve,"../../packages/chess-board/src/images/checkers/figures/oval-metalic/black/p.webp":Yve,"../../packages/chess-board/src/images/checkers/figures/oval-metalic/black/q.webp":Kve,"../../packages/chess-board/src/images/checkers/figures/oval-metalic/white/p.webp":Xve,"../../packages/chess-board/src/images/checkers/figures/oval-metalic/white/q.webp":eye,"../../packages/chess-board/src/images/checkers/figures/oval/black/p.webp":tye,"../../packages/chess-board/src/images/checkers/figures/oval/black/q.webp":nye,"../../packages/chess-board/src/images/checkers/figures/oval/white/p.webp":rye,"../../packages/chess-board/src/images/checkers/figures/oval/white/q.webp":oye,"../../packages/chess-board/src/images/checkers/figures/plyazh/black/p.webp":iye,"../../packages/chess-board/src/images/checkers/figures/plyazh/black/q.webp":aye,"../../packages/chess-board/src/images/checkers/figures/plyazh/white/p.webp":sye,"../../packages/chess-board/src/images/checkers/figures/plyazh/white/q.webp":lye,"../../packages/chess-board/src/images/checkers/figures/prostye/black/p.webp":cye,"../../packages/chess-board/src/images/checkers/figures/prostye/black/q.webp":uye,"../../packages/chess-board/src/images/checkers/figures/prostye/white/p.webp":dye,"../../packages/chess-board/src/images/checkers/figures/prostye/white/q.webp":fye,"../../packages/chess-board/src/images/checkers/figures/puziry/black/p.webp":hye,"../../packages/chess-board/src/images/checkers/figures/puziry/black/q.webp":mye,"../../packages/chess-board/src/images/checkers/figures/puziry/white/p.webp":gye,"../../packages/chess-board/src/images/checkers/figures/puziry/white/q.webp":pye,"../../packages/chess-board/src/images/checkers/figures/risunok-gol/black/p.webp":vye,"../../packages/chess-board/src/images/checkers/figures/risunok-gol/black/q.webp":yye,"../../packages/chess-board/src/images/checkers/figures/risunok-gol/white/p.webp":_ye,"../../packages/chess-board/src/images/checkers/figures/risunok-gol/white/q.webp":bye,"../../packages/chess-board/src/images/checkers/figures/risunok-kamen/black/p.webp":wye,"../../packages/chess-board/src/images/checkers/figures/risunok-kamen/black/q.webp":Sye,"../../packages/chess-board/src/images/checkers/figures/risunok-kamen/white/p.webp":Aye,"../../packages/chess-board/src/images/checkers/figures/risunok-kamen/white/q.webp":Cye,"../../packages/chess-board/src/images/checkers/figures/risunok-zel/black/p.webp":kye,"../../packages/chess-board/src/images/checkers/figures/risunok-zel/black/q.webp":Eye,"../../packages/chess-board/src/images/checkers/figures/risunok-zel/white/p.webp":Bye,"../../packages/chess-board/src/images/checkers/figures/risunok-zel/white/q.webp":Rye,"../../packages/chess-board/src/images/checkers/figures/risunok/black/p.webp":xye,"../../packages/chess-board/src/images/checkers/figures/risunok/black/q.webp":Oye,"../../packages/chess-board/src/images/checkers/figures/risunok/white/p.webp":Mye,"../../packages/chess-board/src/images/checkers/figures/risunok/white/q.webp":Pye,"../../packages/chess-board/src/images/checkers/figures/roz-gol/black/p.webp":Tye,"../../packages/chess-board/src/images/checkers/figures/roz-gol/black/q.webp":Iye,"../../packages/chess-board/src/images/checkers/figures/roz-gol/white/p.webp":Lye,"../../packages/chess-board/src/images/checkers/figures/roz-gol/white/q.webp":Dye,"../../packages/chess-board/src/images/checkers/figures/seriy-cherniy/black/p.webp":Nye,"../../packages/chess-board/src/images/checkers/figures/seriy-cherniy/black/q.webp":Fye,"../../packages/chess-board/src/images/checkers/figures/seriy-cherniy/white/p.webp":Gye,"../../packages/chess-board/src/images/checkers/figures/seriy-cherniy/white/q.webp":jye,"../../packages/chess-board/src/images/checkers/figures/seriy-shokolad/black/p.webp":$ye,"../../packages/chess-board/src/images/checkers/figures/seriy-shokolad/black/q.webp":zye,"../../packages/chess-board/src/images/checkers/figures/seriy-shokolad/white/p.webp":Uye,"../../packages/chess-board/src/images/checkers/figures/seriy-shokolad/white/q.webp":Vye,"../../packages/chess-board/src/images/checkers/figures/shaiba-malina/black/p.webp":qye,"../../packages/chess-board/src/images/checkers/figures/shaiba-malina/black/q.webp":Qye,"../../packages/chess-board/src/images/checkers/figures/shaiba-malina/white/p.webp":Hye,"../../packages/chess-board/src/images/checkers/figures/shaiba-malina/white/q.webp":Wye,"../../packages/chess-board/src/images/checkers/figures/shaiba/black/p.webp":Jye,"../../packages/chess-board/src/images/checkers/figures/shaiba/black/q.webp":Zye,"../../packages/chess-board/src/images/checkers/figures/shaiba/white/p.webp":Yye,"../../packages/chess-board/src/images/checkers/figures/shaiba/white/q.webp":Kye,"../../packages/chess-board/src/images/checkers/figures/sin-fiolet/black/p.webp":Xye,"../../packages/chess-board/src/images/checkers/figures/sin-fiolet/black/q.webp":e0e,"../../packages/chess-board/src/images/checkers/figures/sin-fiolet/white/p.webp":t0e,"../../packages/chess-board/src/images/checkers/figures/sin-fiolet/white/q.webp":n0e,"../../packages/chess-board/src/images/checkers/figures/siniye/black/p.webp":r0e,"../../packages/chess-board/src/images/checkers/figures/siniye/black/q.webp":o0e,"../../packages/chess-board/src/images/checkers/figures/siniye/white/p.webp":i0e,"../../packages/chess-board/src/images/checkers/figures/siniye/white/q.webp":a0e,"../../packages/chess-board/src/images/checkers/figures/sirenevye/black/p.webp":s0e,"../../packages/chess-board/src/images/checkers/figures/sirenevye/black/q.webp":l0e,"../../packages/chess-board/src/images/checkers/figures/sirenevye/white/p.webp":c0e,"../../packages/chess-board/src/images/checkers/figures/sirenevye/white/q.webp":u0e,"../../packages/chess-board/src/images/checkers/figures/sumerki/black/p.webp":d0e,"../../packages/chess-board/src/images/checkers/figures/sumerki/black/q.webp":f0e,"../../packages/chess-board/src/images/checkers/figures/sumerki/white/p.webp":h0e,"../../packages/chess-board/src/images/checkers/figures/sumerki/white/q.webp":m0e,"../../packages/chess-board/src/images/checkers/figures/tabletka-gol/black/p.webp":g0e,"../../packages/chess-board/src/images/checkers/figures/tabletka-gol/black/q.webp":p0e,"../../packages/chess-board/src/images/checkers/figures/tabletka-gol/white/p.webp":v0e,"../../packages/chess-board/src/images/checkers/figures/tabletka-gol/white/q.webp":y0e,"../../packages/chess-board/src/images/checkers/figures/tabletka-kra/black/p.webp":_0e,"../../packages/chess-board/src/images/checkers/figures/tabletka-kra/black/q.webp":b0e,"../../packages/chess-board/src/images/checkers/figures/tabletka-kra/white/p.webp":w0e,"../../packages/chess-board/src/images/checkers/figures/tabletka-kra/white/q.webp":S0e,"../../packages/chess-board/src/images/checkers/figures/tabletka-zel/black/p.webp":A0e,"../../packages/chess-board/src/images/checkers/figures/tabletka-zel/black/q.webp":C0e,"../../packages/chess-board/src/images/checkers/figures/tabletka-zel/white/p.webp":k0e,"../../packages/chess-board/src/images/checkers/figures/tabletka-zel/white/q.webp":E0e,"../../packages/chess-board/src/images/checkers/figures/tabletka-zhe/black/p.webp":B0e,"../../packages/chess-board/src/images/checkers/figures/tabletka-zhe/black/q.webp":R0e,"../../packages/chess-board/src/images/checkers/figures/tabletka-zhe/white/p.webp":x0e,"../../packages/chess-board/src/images/checkers/figures/tabletka-zhe/white/q.webp":O0e,"../../packages/chess-board/src/images/checkers/figures/vanil/black/p.webp":M0e,"../../packages/chess-board/src/images/checkers/figures/vanil/black/q.webp":P0e,"../../packages/chess-board/src/images/checkers/figures/vanil/white/p.webp":T0e,"../../packages/chess-board/src/images/checkers/figures/vanil/white/q.webp":I0e,"../../packages/chess-board/src/images/checkers/figures/zel-kra/black/p.webp":L0e,"../../packages/chess-board/src/images/checkers/figures/zel-kra/black/q.webp":D0e,"../../packages/chess-board/src/images/checkers/figures/zel-kra/white/p.webp":N0e,"../../packages/chess-board/src/images/checkers/figures/zel-kra/white/q.webp":F0e,"../../packages/chess-board/src/images/checkers/figures/zel-zhel/black/p.webp":G0e,"../../packages/chess-board/src/images/checkers/figures/zel-zhel/black/q.webp":j0e,"../../packages/chess-board/src/images/checkers/figures/zel-zhel/white/p.webp":$0e,"../../packages/chess-board/src/images/checkers/figures/zel-zhel/white/q.webp":z0e,"../../packages/chess-board/src/images/checkers/figures/zolotaya-kaemka/black/p.webp":U0e,"../../packages/chess-board/src/images/checkers/figures/zolotaya-kaemka/black/q.webp":V0e,"../../packages/chess-board/src/images/checkers/figures/zolotaya-kaemka/white/p.webp":q0e,"../../packages/chess-board/src/images/checkers/figures/zolotaya-kaemka/white/q.webp":Q0e,"../../packages/chess-board/src/images/checkers/figures/zoloto/black/p.webp":H0e,"../../packages/chess-board/src/images/checkers/figures/zoloto/black/q.webp":W0e,"../../packages/chess-board/src/images/checkers/figures/zoloto/white/p.webp":J0e,"../../packages/chess-board/src/images/checkers/figures/zoloto/white/q.webp":Z0e}),hbe=({theme:e,color:t,type:n})=>{try{const r=`../../packages/chess-board/src/images/checkers/figures/${e}/${KZ[t]}/${n}.${dj[e].extension}`;return typeof DD[r]=="string"?DD[r]:""}catch(r){return console.log(r),""}},ND=Object.assign({"../../packages/chess-board/src/images/chess/boards/bezh-onyx/b.png":Y0e,"../../packages/chess-board/src/images/chess/boards/bezh-onyx/w.png":K0e,"../../packages/chess-board/src/images/chess/boards/black-blue-plitka/b.png":X0e,"../../packages/chess-board/src/images/chess/boards/black-blue-plitka/w.png":e1e,"../../packages/chess-board/src/images/chess/boards/black-white-contrast-plitka/b.png":t1e,"../../packages/chess-board/src/images/chess/boards/black-white-contrast-plitka/w.png":n1e,"../../packages/chess-board/src/images/chess/boards/black-white-granite/b.png":r1e,"../../packages/chess-board/src/images/chess/boards/black-white-granite/w.png":o1e,"../../packages/chess-board/src/images/chess/boards/black-white-parquet/b.png":i1e,"../../packages/chess-board/src/images/chess/boards/black-white-parquet/w.png":a1e,"../../packages/chess-board/src/images/chess/boards/black-white-pearl/b.png":s1e,"../../packages/chess-board/src/images/chess/boards/black-white-pearl/w.png":l1e,"../../packages/chess-board/src/images/chess/boards/black-white-plitka/b.png":c1e,"../../packages/chess-board/src/images/chess/boards/black-white-plitka/w.png":u1e,"../../packages/chess-board/src/images/chess/boards/brown-parquet/b.png":d1e,"../../packages/chess-board/src/images/chess/boards/brown-parquet/w.png":f1e,"../../packages/chess-board/src/images/chess/boards/chocolate-marble/b.png":h1e,"../../packages/chess-board/src/images/chess/boards/chocolate-marble/w.png":m1e,"../../packages/chess-board/src/images/chess/boards/gold-pearl/b.png":g1e,"../../packages/chess-board/src/images/chess/boards/gold-pearl/w.png":p1e,"../../packages/chess-board/src/images/chess/boards/gold-platinum/b.png":v1e,"../../packages/chess-board/src/images/chess/boards/gold-platinum/w.png":y1e,"../../packages/chess-board/src/images/chess/boards/golub-difrakcya-temnaya/b.png":_1e,"../../packages/chess-board/src/images/chess/boards/golub-difrakcya-temnaya/w.png":b1e,"../../packages/chess-board/src/images/chess/boards/golub-difrakcya/b.png":w1e,"../../packages/chess-board/src/images/chess/boards/golub-difrakcya/w.png":S1e,"../../packages/chess-board/src/images/chess/boards/golub-serdechky/b.png":A1e,"../../packages/chess-board/src/images/chess/boards/golub-serdechky/w.png":C1e,"../../packages/chess-board/src/images/chess/boards/haki-difrakcya/b.png":k1e,"../../packages/chess-board/src/images/chess/boards/haki-difrakcya/w.png":E1e,"../../packages/chess-board/src/images/chess/boards/izumrud-difrakcya-temniy/b.png":B1e,"../../packages/chess-board/src/images/chess/boards/izumrud-difrakcya-temniy/w.png":R1e,"../../packages/chess-board/src/images/chess/boards/izumrud-difrakcya/b.png":x1e,"../../packages/chess-board/src/images/chess/boards/izumrud-difrakcya/w.png":O1e,"../../packages/chess-board/src/images/chess/boards/malachite-onyx/b.png":M1e,"../../packages/chess-board/src/images/chess/boards/malachite-onyx/w.png":P1e,"../../packages/chess-board/src/images/chess/boards/metal-setka/b.png":T1e,"../../packages/chess-board/src/images/chess/boards/metal-setka/w.png":I1e,"../../packages/chess-board/src/images/chess/boards/roz-difrakcya/b.png":L1e,"../../packages/chess-board/src/images/chess/boards/roz-difrakcya/w.png":D1e,"../../packages/chess-board/src/images/chess/boards/roz-goroshek/b.png":N1e,"../../packages/chess-board/src/images/chess/boards/roz-goroshek/w.png":F1e,"../../packages/chess-board/src/images/chess/boards/roz-gradient/b.png":G1e,"../../packages/chess-board/src/images/chess/boards/roz-gradient/w.png":j1e,"../../packages/chess-board/src/images/chess/boards/roz-yagodky/b.png":$1e,"../../packages/chess-board/src/images/chess/boards/roz-yagodky/w.png":z1e,"../../packages/chess-board/src/images/chess/boards/seriy-kamen/b.png":U1e,"../../packages/chess-board/src/images/chess/boards/seriy-kamen/w.png":V1e,"../../packages/chess-board/src/images/chess/boards/sin-difrakcya/b.png":q1e,"../../packages/chess-board/src/images/chess/boards/sin-difrakcya/w.png":Q1e,"../../packages/chess-board/src/images/chess/boards/smoky-quartz/b.png":H1e,"../../packages/chess-board/src/images/chess/boards/smoky-quartz/w.png":W1e,"../../packages/chess-board/src/images/chess/boards/trava/b.png":J1e,"../../packages/chess-board/src/images/chess/boards/trava/w.png":Z1e,"../../packages/chess-board/src/images/chess/boards/vivid-parquet/b.png":Y1e,"../../packages/chess-board/src/images/chess/boards/vivid-parquet/w.png":K1e,"../../packages/chess-board/src/images/chess/boards/wood/b.png":X1e,"../../packages/chess-board/src/images/chess/boards/wood/b2.png":e_e,"../../packages/chess-board/src/images/chess/boards/wood/w.png":t_e,"../../packages/chess-board/src/images/chess/boards/zel-difrakcya/b.png":n_e,"../../packages/chess-board/src/images/chess/boards/zel-difrakcya/w.png":r_e,"../../packages/chess-board/src/images/chess/boards/zhelt-difrakcya/b.png":o_e,"../../packages/chess-board/src/images/chess/boards/zhelt-difrakcya/w.png":i_e}),mbe=({theme:e,color:t})=>{try{const n=`../../packages/chess-board/src/images/chess/boards/${e}/${t}.png`;return typeof ND[n]=="string"?ND[n]:""}catch{return""}},gbe={figureTheme:hj(),boardTheme:fj(),displayScoreDifference:!0,currentOpponentLvl:lo.Rank4,lastGameResult:0,settingsByOptionLevelType:Mg,opponentProvider:fbe,currentOpponents:pj(),hasUsedMandatoryCaptureOption:!1,boardImageManager:new lj(hbe,mbe)},bs=xn.getLogger("CONFIG_STORE"),pbe={...R_e,...gbe,resetCurrentOpponents:ue(e=>{e.currentOpponents=pj(),bs.info("resetCurrentOpponents",e.currentOpponents)}),changeLocale:Z(async(e,t,n)=>{await Promise.all([lg.setLocaleInstance(t),S1.setLocaleInstance(t)]),e.setLocale(t),bs.info("changeLocale",t)}),defaultFigureDesign:ze([],()=>[hj()]),defaultBoardDesign:ze([],()=>[fj()]),allFigureDesigns:ze([],()=>W_e),allBoardDesigns:ze([],()=>q_e),addLevelsOpponentsWasPlayed:ue((e,t)=>{if(t=t.filter(r=>!e.levelsOpponentsWasPlayed.includes(r)),!t.length)return;const n=Object.keys(e.settingsByOptionLevelType).map(r=>parseInt(r));e.levelsOpponentsWasPlayed=[...e.levelsOpponentsWasPlayed,...t].filter(r=>n.includes(r)),bs.info("addLevelsOpponentsWasPlayed",t)}),updateOpponentName:Z(async(e,t,n)=>{const r=n.getState().locale,o=n.getState().currentOpponents,i=await n.getState().opponentProvider.getUpdatedOpponents({currentOpponents:o,isUpdateNames:!0,levelsToUpdate:t.levelsToUpdate,excluded:n.getState().excludedOpponents,locale:r,isSavePrevGender:t.isSavePrevGender});e.setCurrentOpponents(i),n.getStoreActions().session.setLastInitLocale(r),bs.info("updateOpponentName")}),updateOpponentAvatar:Z(async(e,t,n)=>{const r=n.getState().locale,o=n.getState().currentOpponents,i=await n.getState().opponentProvider.getUpdatedOpponents({currentOpponents:o,isUpdateAvatars:!0,levelsToUpdate:t.levelsToUpdate,excluded:n.getState().excludedOpponents,locale:r,isSavePrevGender:t.isSavePrevGender});e.setCurrentOpponents(i),bs.info("updateOpponentAvatar")}),initOpponentAvatarAndName:Z(async(e,t,n)=>{const r=n.getStoreState().session.isNicksGenerated,{locale:o}=n.getState(),i=o!==n.getStoreState().session.lastInitLocale;if(r&&!i)return;n.getStoreActions().session.setNickGenerationProcess(!0);const a={...n.getState().settingsByOptionLevelType},l=n.getState().levelsOpponentsWasPlayed,u=Object.keys(a).filter(d=>!l.includes(Number(d))).map(d=>Number(d));await e.updateOpponentName({isSavePrevGender:i,levelsToUpdate:i?Object.keys(a).map(d=>Number(d)):u}),n.getStoreActions().session.setNickGenerationProcess(!1),n.getStoreState().session.isImagesLoad||(await e.updateOpponentAvatar({levelsToUpdate:u}),e.updateOpponentNameAndAvatar(l)),n.getStoreActions().session.setIsImagesLoad(!0),bs.info("generateRandomOpponentAvatarAndName")}),updateLastGameMove:Z(async(e,t,n)=>{const r=n.getStoreState().progress.lastSavedGame,{app:{gameType:o,gameState:i,gameResult:a},board:{history:l,myColor:u,playerTimeLeft:d,optionTimeLeft:f,gameEngine:m},gameSettings:{hintsEnabled:g,isMandatoryTaken:v},config:{currentOpponents:y},engine:{optionLevelType:_}}=n.getStoreState(),b=l.length>=2&&i===xe.InGame&&a===null&&o&&!Qn(o),E=i===xe.AfterGame&&!Qn(o)&&a!==null&&(r==null?void 0:r.myColor)!==null;if(b){let A={...r,gameType:o,pgn:m.pgn(),myColor:u,hintsEnabled:g,isMandatoryTaken:v,ai:void 0,myTimeLeft:d,opponentTimeLeft:f};if(o===re.AI){const C=y[_];A={...A,ai:C,myTimeLeft:null,opponentTimeLeft:null},e.setExcludedOpponents([C])}n.getStoreActions().progress.setLastSavedGame(A)}E&&n.getStoreActions().progress.setLastSavedGame(sG),bs.success("updateLastGameMove",b)}),setCurrentOpponentLvl:ue((e,t)=>{e.currentOpponentLvl=t,bs.info("setCurrentOpponentLvl",e.currentOpponentLvl)}),useMandatoryCaptureOption:ue(e=>{e.hasUsedMandatoryCaptureOption=!0,bs.info("useMandatoryCaptureOption")})},FD=xn.getLogger("ENGINE_STORE"),vbe={optionLevelType:0,renderHintsAnyArrowPromise:null},ybe={...vbe,computer:ze([e=>e.optionLevelType,(e,t)=>t.config.currentOpponents,(e,t)=>t.config.opponentProvider,(e,t)=>t.online.fakeOnlineOpponent,(e,t)=>t.app.gameType],(e,t,n,r,o)=>{const i=t[e];return{levelType:e,...i||{},...o===re.FakeOnline&&r}}),_setOptionLevelType:ue((e,t)=>{e.optionLevelType=t}),setOptionLevelType:Z(()=>{throw new Error("   setOptionLevelType   ")}),resetEngine:Z(()=>{throw new Error("   resetEngine   ")}),getCurrentScore:Z(async()=>{throw new Error("   getAvailableMove   ")}),stop:Z(()=>{throw new Error("   stop   ")}),applyNewOpponentLvlIfNeed:Z((e,t,n)=>{if(n.getStoreState().app.gameType===re.FakeOnline){const r=Math.random()*100;((n.getStoreState().online.fakeOnlineOpponent||{}).opponents||[]).reduce((i,a)=>r<i+a.chance?(e.setOptionLevelType(a.lvl),-200):i+a.chance,0)}}),fakeOnlineAdaptiveCalcualte:Z(async(e,t,n)=>{const{getCalculation:r,optionLvl:o}=t;return n.getStoreState().app.gameType===re.FakeOnline?new Promise(async a=>{let l=!1;const u=r(o,n.getStoreState().board.fakeAIMoveDelay).then(f=>(l=!0,f));if(await n.getStoreState().board.fakeAIMoveDelayPromise,!l&&o>=2){FD.info("fakeOnlineAdaptiveCalcualte","   ,  ");const f=await r(o-1);a(f);return}FD.info("fakeOnlineAdaptiveCalcualte","  ");const d=await u;a(d)}):r(o)})},_be={engine:void 0,engineForHints:null,optionLevelType:lo.Rank4,...Mg[lo.Rank4],MCTSIterations:1,depth:1};let La=null,Ok=[];const yc=xn.getLogger("ENGINE_STORE"),bbe={...ybe,..._be,setOptionLevelType:Z((e,t,n)=>{var o,i;n.getState().optionLevelType=t;const r=(((i=(o=n.getStoreState())==null?void 0:o.config)==null?void 0:i.settingsByOptionLevelType)||Mg)[t];e.setRandomMoves(r.randomMoves),e.setDepth(r.depth??1),e.setMCTSIterations(r.iterations??1),yc.info("setOptionLevelType",t)}),setRandomMoves:ue((e,t)=>{e.randomMoves=t,yc.info("setRandomMoves",t)}),setDepth:ue((e,t)=>{e.depth=t>=Cge?1/0:t,yc.info("setDepth",e.depth)}),setMCTSIterations:ue((e,t)=>{e.MCTSIterations=t,yc.info("setMCTSIterations",e.MCTSIterations)}),resetEngine:Z(async(e,t,n)=>{}),stopRenderHints:Z(async(e,t,n)=>{Ok.forEach(r=>{r.onmessage=null,r.terminate(),n.getStoreActions().board.setHintsCalculationProgress(null)}),Ok=[],yc.info("stopRenderHints")}),stop:Z((e,t,n)=>{La&&(La.onmessage=()=>{},La.terminate(),La=null),e.stopRenderHints(),n.getStoreActions().canvas.clearCanvas(),yc.info("stop")}),renderHints:Z(async(e,t,n)=>{const{gameEngine:r}=t;if(!SD(n))return;const o=r.fen();n.getStoreActions().canvas.clearCanvas(),n.getStoreActions().canvas.setIsShowCanvas(!0),e.stopRenderHints();const i=a=>{const{move:l,chain:u}=a,{gameEngine:d}=n.getStoreState().board;if(!SD(n)||o!==d.fen()||n.getStoreState().canvas.arrows.some(g=>`${g.from}${g.chain.join("")}`==`${l[0]}${l[1]}${u.join("")}`))return;const m=[{from:`${l[0]}${l[1]}`,chain:u.length?u:[`${l[2]}${l[3]}`]}];n.getStoreActions().canvas.clearCanvas(),n.getStoreActions().canvas.addArrows(m)};n.getStoreActions().board.setHintsCalculationProgress("infinite");{const a=Hy(o,9,null,{...FB(i),isInstantForSingleAction:!0});Ok.push(a.worker),n.getState().renderHintsAnyArrowPromise=a.promise,await a.promise.then(i)}n.getStoreActions().board.setHintsCalculationProgress(null),yc.success("Generate hints")}),getCurrentScore:Z((e,t,n)=>{const r=n.getStoreState().board.lastSearchEva;return r?zm(r,ma(n.getStoreState().board.myColor),n.getStoreState().board.myColor):50}),getAvailableMove:Z(async(e,t,n)=>{await e.applyNewOpponentLvlIfNeed();const{gameEngine:r,timeLimit:o}=t,i=r.history().length<2&&r.turn()!==lt.Black,a=n.getState().optionLevelType,l=n.getStoreState().app.gameType===re.FakeOnline,d=(m=>{La&&(La.onmessage=()=>{},La.terminate(),La=null);const{promise:g,worker:v}=Hy(r.fen(),m,La,{isRandomMove:i,timeLimit:o||1e4});return La=v,g})(a),[f]=await Promise.all([d,lr(l||t.step?0:1500)]);return f})};({...lt});const GD=Bs(yn.Blitz).split(" + "),wbe={color:Vc,timeControl:!0,gameTime:Number(GD[0])*60,stepTime:Number(GD[1]),opponentTime:null,playerTime:null,anyTimeMode:!0,hintsEnabled:!1,handicapEnabled:!1,handicapRewarded:!1,hintsRewarded:!1,handicapBoardFen:""},ko=xn.getLogger("GAME_SETTINGS_STORE"),Sbe={...wbe,isGameWithSimplifications:ze([e=>e.hintsEnabled,e=>e.handicapEnabled],(e,t)=>t||e),_setColor:ue((e,t)=>{e.color=t}),setColor:Wr((e,t,n)=>{e._setColor(t),t!==Vc&&e.swapHandicapColor(t),ko.info("setColor",t)}),setTimeControl:ue((e,t)=>{e.timeControl=t,ko.info("setTimeControl",t)}),setAnyTimeMode:ue((e,t)=>{e.anyTimeMode=t,ko.info("setAnyTimeMode",t)}),setGameTime:ue((e,t)=>{e.gameTime=t,ko.info("setGameTime",t)}),setStepTime:ue((e,t)=>{e.stepTime=t,ko.info("setStepTime",t)}),setOpponentTime:ue((e,t)=>{e.opponentTime=t,ko.info("setOptionTimeLeft",t)}),setPlayerTime:ue((e,t)=>{e.playerTime=t,ko.info("setPlayerTimeLeft",t)}),setHintsEnabled:ue((e,t)=>{e.hintsEnabled=t,ko.info("setHintsEnabled",t)}),setHandicapEnabled:ue((e,t)=>{e.handicapEnabled=t,ko.info("setHandicapEnabled",t)}),setHandicapBoardFen:ue((e,t)=>{e.handicapBoardFen=t,ko.info("setHandicapBoardFen",t)}),swapHandicapColor:ue((e,t)=>{throw new Error("   swapHandicapColor   ")}),getDefaultBoardType:Wr((e,t,n)=>""),rewardHandicap:Wr(async(e,t,n)=>{await n.getStoreActions().platform.showRewardedVideo({gameType:n.getStoreState().app.gameType,rewardType:Ja.Handicap})&&(n.getState().handicapRewarded=!0,e.setHandicapEnabled(!0),await e.setColor(lt.White),e.swapHandicapColor(lt.White))}),rewardHints:Wr(async(e,t,n)=>{await n.getStoreActions().platform.showRewardedVideo({gameType:n.getStoreState().app.gameType,rewardType:Ja.AllHints})&&(sx(0),n.getState().hintsRewarded=!0,e.setHintsEnabled(!0))}),resetRewarded:Wr((e,t,n)=>{n.getState().hintsRewarded=!1,n.getState().handicapRewarded=!1,e.setHandicapEnabled(!1),e.setHintsEnabled(!1),ko.info("resetRewarded")}),setDefaultSettingsForAI:Wr((e,t,n)=>{e.setTimeControl(!1),ko.info("setDefaultSettingsForAI")}),setDefaultSettingsForOneScreenGame:Wr((e,t,n)=>{e.setTimeControl(!0),e.setColor(lt.White),e.setHandicapEnabled(!1),ko.info("setDefaultSettingsForOneScreenGame")}),setSettingsForSavedGame:Wr(async(e,t,n)=>{throw new Error("   swapHandicapColor   ")}),applySettings:Wr((e,t,n)=>{ko.info("applySettings");const{timeControl:r,gameTime:o,playerTime:i,opponentTime:a,stepTime:l,color:u,handicapEnabled:d}=n.getState(),f=n.getStoreState().session.isGameStartedFromSave,m=n.getStoreState().session.gameStartedFromAnalytics;if(n.getStoreActions().board.setTimeControl(r),r){const g=f&&i||o,v=f&&a||o;n.getStoreActions().board.setPlayerTimeLeft(g),n.getStoreActions().board.setOptionTimeLeft(v),n.getStoreActions().board.setTimeByStep(l)}if(!m){const g=u===Vc?d?lt.White:X9():u;n.getStoreActions().board.setMyColor(g),n.getStoreActions().board.setRotatedSetting(g===lt.Black),e.swapHandicapColor(g),e.applyHandicap()}}),serializeSettings:Wr((e,t,n)=>{throw new Error("   serializeSettings   ")}),applyHandicap:Wr((e,t,n)=>{throw new Error("   applyHandicap   ")}),deserializeSettings:Wr((e,t,n)=>{throw new Error("   deserializeSettings   ")})},Abe=(e,t)=>{const n=sr.fromBoardFen(e),r=sr.fromBoardFen(Pg),o=n.getFigure(t),i=r.getFigure(t);return i?o?o.color!==i.color?n.withChangedFigureIf(t,{type:o.type,color:i.color}).boardFen:o.type===Oo.Pawn?n.withChangedFigureIf(t,{type:Oo.King,color:o.color}).boardFen:o.type===Oo.King?n.withChangedFigureIf(t,void 0).boardFen:e:n.withChangedFigureIf(t,{type:Oo.Pawn,color:i.color}).boardFen:e},Cbe={handicapBoardFen:Pg,isMandatoryTaken:!0},Xu=xn.getLogger("GAME_SETTINGS_STORE"),kbe={...Sbe,...Cbe,resetHandicap:ue(e=>{e.handicapBoardFen=Pg,Xu.info("resetHandicap")}),swapHandicapColor:ue((e,t)=>{}),toggleHandicapCell:ue((e,t)=>{e.handicapBoardFen=Abe(e.handicapBoardFen,t),Xu.info("toggleHandicapCell",t)}),setMandatoryTaken:ue((e,t)=>{e.isMandatoryTaken=t,jm.isMandatoryTaken=t,Xu.info("setMandatoryTaken",t)}),updateMandatoryCaptureByUi:Z((e,t,n)=>{e.setMandatoryTaken(t);const r=n.getStoreActions().board.setGameEngine,o=n.getStoreState().board.gameEngine,i=JSON.parse(o.fen());r(new sr({...i,isMandatoryTaken:t},o.nativeEngine.history)),n.getStoreActions().config.useMandatoryCaptureOption(),Xu.info("updateMandatoryCapture",t)}),applyHandicap:Z((e,t,n)=>{const{handicapBoardFen:r,handicapEnabled:o}=n.getState();if(!o)return;const i=sr.fromBoardFen(r).fen();n.getStoreActions().board.setNextGameEngineByFen(i),Xu.info("applyHandicap")}),setSettingsForSavedGame:Z(async(e,t,n)=>{const r=n.getStoreState().progress.lastSavedGame,o=n.getState().gameTime,i=n.getStoreState().engine.optionLevelType;if(r.gameType!==null){if(r.gameType===re.AI){const a=n.getStoreState().config.currentOpponents,l=n.getStoreActions().config.setCurrentOpponents,u=r.ai;if(u){const d=u.level;l({...a,[d]:u}),n.getStoreActions().engine.setOptionLevelType(d),n.getStoreActions().config.addLevelsOpponentsWasPlayed([d])}else n.getStoreActions().engine.setOptionLevelType(i),n.getStoreActions().config.addLevelsOpponentsWasPlayed([i])}e.setColor(r.myColor||n.getState().color),e.setHintsEnabled(!!r.hintsEnabled),e.setMandatoryTaken(r.isMandatoryTaken??!0),e.setTimeControl(r.myTimeLeft!==null),e.setPlayerTime(r.myTimeLeft||o),e.setOpponentTime(r.opponentTimeLeft||o),n.getStoreActions().board.setNextGameEngineByPGN(r.pgn||""),n.getStoreActions().app.setGameType(r.gameType),n.getStoreActions().app.setGameResult(null)}Xu.info("setSettingsForSavedGame")}),serializeSettings:Z((e,t,n)=>({hintsEnabled:n.getState().hintsEnabled,handicapEnabled:n.getState().handicapEnabled,handicapBoardFen:n.getState().handicapBoardFen,timeControl:n.getState().timeControl,gameTime:n.getState().gameTime,stepTime:n.getState().stepTime,isMandatoryTaken:n.getState().isMandatoryTaken})),deserializeSettings:Z((e,t,n)=>{e.setTimeControl(t.timeControl),e.setStepTime(t.stepTime),e.setGameTime(t.gameTime),e.setHintsEnabled(t.hintsEnabled),e.setHandicapEnabled(t.handicapEnabled),e.setHandicapBoardFen(t.handicapBoardFen),e.setMandatoryTaken(t.isMandatoryTaken)})},Ebe={},Bbe={...zde,...Ebe,isShowMandatoryCaptureDialog:ze([(e,t)=>t.config.hasUsedMandatoryCaptureOption,(e,t)=>t.board.gameEngine,(e,t)=>t.app.gameType,(e,t)=>t.board.myColor],(e,t,n,r)=>{if(!Bt().feature[we.NotMandatoryCapture]||e||!t.nativeEngine.moves.some(a=>a.captures.length))return!1;if(n===re.Together)return!0;const i=t.turn()===r;return!!(n===re.AI&&i)})},Rbe={onlineState:xt.OFFLINE,isPassiveGameConfirmed:!1},jD=.2,Mk=xn.getLogger("ONLINE_CONFIRMATION_STORE"),xbe={...Rbe,setPassiveGameConfirmed:ue((e,t)=>{e.isPassiveGameConfirmed=t}),setConfirmationRematchFake:Z(async(e,t,n)=>{bn.rematch.update(t);const r=bn.rematch.player.isConfirmed(),o=bn.rematch.opponent.isConfirmed(),i=n.getStoreState().flags.maioRematchPercent,a=n.getStoreState().flags.confirmationDuration*1e3/3,l=i>=Math.random(),u=lr((Math.random()*.5+.5)*a);if(r&&o){Ne.trackClickRematch(re.FakeOnline,!0),n.getStoreActions().app.rematch();return}await u,n.getStoreState().app.gameState!==xe.InGame&&n.getStoreState().app.gameState!==xe.Menu&&(r?(Ne.trackClickRematch(re.FakeOnline,l),l?(bn.rematch.opponent.confirm(!0),n.getStoreActions().app.rematch()):bn.rematch.opponent.confirm(!1)):o&&n.getStoreState().platform.playerCash>=n.getStoreState().config.onlineBetSize&&(bn.rematch.opponent.confirm(!0),n.getStoreActions().modals.openConfirmRematchRequestModal()),Mk.info("setConfirmationRematchFake",t))}),confirmPassiveGame:Z((e,t,n)=>{Ne.trackGameProposal(fx.Accept),n.getStoreActions().online.updatePassivePriority({diff:1}),e.setPassiveGameConfirmed(!0);const r=n.getStoreState().p2p.newOpponent,o=yd()?0:10;n.getStoreActions().config.setOnlineBetSize((r==null?void 0:r.betSize)||o),r!=null&&r.gameMode?n.getStoreActions().online.setGameMode(r.gameMode):(n.getStoreActions().online.setGameMode(yn.Blitz),Mk.warn("confirmPassiveGame","gameMode in newOpponent is null")),r?n.getStoreActions().online.deSerilizeOnlineGameSettings(r):Mk.warn("confirmPassiveGame","newOpponent is null"),n.getStoreActions().online.sendReady(),n.getStoreActions().modals.closeModal()}),onUndoRequest:Z(async(e,t,n)=>{const r=Nt.undo.notAvailable$.pipe(xv(1)).subscribe(()=>{var i,a;Nt.undo.reject(),(a=(i=n.getStoreState().modals.modalData[tt.CustomConfirmModal])==null?void 0:i.data)==null||a.callback(!1),n.getStoreActions().modals.closeModalIfOpened(tt.CustomConfirmModal)}),o=await n.getStoreActions().modals.waitCustomConfirmModal({title:be("undoRequest"),applyText:be("requestApply"),cancelText:be("requestCancel"),applyColor:Yt.Primary,timeOut:15e3});if(r.unsubscribe(),o)(await Nt.undo.accept()).stage===rt.Done&&await n.getStoreActions().board.undoMove()&&Ac();else return Nt.undo.reject(),!1}),onHintRequest:Z(async(e,t,n)=>{const r=Nt.hint.notAvailable$.pipe(xv(1)).subscribe(()=>{var i,a;Nt.hint.reject(),(a=(i=n.getStoreState().modals.modalData[tt.CustomConfirmModal])==null?void 0:i.data)==null||a.callback(!1),n.getStoreActions().modals.closeModalIfOpened(tt.CustomConfirmModal)}),o=await n.getStoreActions().modals.waitCustomConfirmModal({title:be("hintRequest"),applyText:be("requestApply"),cancelText:be("requestCancel"),applyColor:Yt.Primary,timeOut:15e3});if(r.unsubscribe(),o)(await Nt.hint.accept()).stage===rt.Done&&n.getStoreActions().board.showHint();else return Nt.hint.reject(),!1}),onFatalUndoRequest:Z(async(e,t,n)=>{const r=Nt.fatalUndo.notAvailable$.pipe(xv(1)).subscribe(()=>{var i,a;Nt.fatalUndo.reject(),(a=(i=n.getStoreState().modals.modalData[tt.CustomConfirmModal])==null?void 0:i.data)==null||a.callback(!1),n.getStoreActions().modals.closeModalIfOpened(tt.CustomConfirmModal)}),o=await n.getStoreActions().modals.waitCustomConfirmModal({title:be("undoRequest"),applyText:be("requestApply"),cancelText:be("requestCancel"),applyColor:Yt.Primary,timeOut:15e3});if(r.unsubscribe(),o)(await Nt.fatalUndo.accept()).stage===rt.Done&&await n.getStoreActions().app.undoFatalMove()&&Ac();else return Nt.fatalUndo.reject(),!1}),sendUndoRequest:Z(async(e,t,n)=>{if(!Qn(n.getStoreState().app.gameType))return!1;const r=n.getStoreState().app.gameType===re.FakeOnline,o=await(async()=>{if(r){const i=Math.random()<jD,a=Math.random()*3e3+1500;Nt.undo.fakeRequest(rt.Question),await lr(a);const l=i?rt.Accept:rt.Reject;return Nt.undo.fakeRequest(l),l}return await Nt.undo.question().then(i=>i.stage)})();return o===rt.Accept?await n.getStoreActions().board.undoMove()?(Ac(),r?Nt.undo.fakeRequest(rt.Done):Nt.undo.done({}),!0):(r?Nt.undo.fakeRequest(rt.Fail):Nt.undo.fail(),!1):(o===rt.Reject&&n.getStoreActions().modals.openRejectedByOpponentModal(),!1)}),sendHintRequest:Z(async(e,t,n)=>{if(!Qn(n.getStoreState().app.gameType))return!1;const r=n.getStoreState().app.gameType===re.FakeOnline,o=await(async()=>{if(r){const i=Math.random()<jD,a=Math.random()*4e3+2e3;Nt.hint.fakeRequest(rt.Question),await lr(a);const l=i?rt.Accept:rt.Reject;return Nt.hint.fakeRequest(l),l}return await Nt.hint.question().then(i=>i.stage)})();return o===rt.Accept?await n.getStoreActions().board.showHint()?(sx(0),r?Nt.hint.fakeRequest(rt.Done):Nt.hint.done({}),!0):(r?Nt.hint.fakeRequest(rt.Fail):Nt.hint.fail(),!1):(o===rt.Reject&&n.getStoreActions().modals.openRejectedByOpponentModal(),!1)}),sendFatalUndoRequest:Z(async(e,t,n)=>{var l;const r=n.getStoreState().app.gameType;if(!Qn(r))return!1;const o=r===re.Online,i=n.getStoreState().app.gameType===re.FakeOnline;if(o||i){if(await n.getStoreActions().app.undoFatalMove()){Ac();const d=((l=n.getStoreState().p2p.opponent)==null?void 0:l.rating)||wn();await n.getStoreActions().config.initOpponentAvatarAndName(),n.getStoreActions().app.setGameType(re.AI),n.getStoreActions().app.setGameResult(null),n.getStoreActions().session.setGameCompleteReason(null),n.getStoreActions().gameSettings.setTimeControl(!1),n.getStoreActions().p2p.setNewOpponent(null),n.getStoreActions().p2p.setOpponent(null);const f=Object.values(n.getStoreState().config.settingsByOptionLevelType),m=f.findIndex(g=>g.rating>=d)+1;n.getStoreActions().engine.setOptionLevelType(m||f.length),n.getStoreActions().online.setOfflineState({reason:"restart_from_curr_pos_from_analyze"})}return}const a=await Nt.fatalUndo.question().then(u=>u.stage);return a===rt.Accept?await n.getStoreActions().app.undoFatalMove()?(Ac(),Nt.fatalUndo.done({}),!0):(Nt.fatalUndo.fail(),!1):(a===rt.Reject&&n.getStoreActions().modals.openRejectedByOpponentModal(),!1)}),onAfterMove:Hc((e,t)=>[t.board.checkGameStatusAfterMove,t.app.startGame],async(e,t,n)=>{const r=t.type===t.resolvedTargets[0];n.getStoreState().app.gameType===re.FakeOnline&&Nt.resetLimits(r?Bd.Move:Bd.Game)})},Obe={maioTimeout:null,serverUpdateInterval:null,inQueue:!1,fromActiveSearch:!1,fullScreenStartActiveSearchShowed:!1},io=xn.getLogger("ONLINE_STORE"),Mbe={...Obe,serilizeOnlineGameSettings:Z(()=>({})),deSerilizeOnlineGameSettings:Z(()=>{}),updateMaio:Z(async(e,t,n)=>{if(n.getStoreState().flags.maioEnabled&&n.getStoreState().app.gameState!==xe.InGame&&!n.getStoreState().config.strongerThanBots){io.info("updateMaio","maioEnabled",n.getStoreState().flags.maioEnabled);const r=()=>(io.info("updateMaio","isValidStart",n.getStoreState().app.gameState),n.getStoreState().app.gameState===xe.InGame?!1:n.getStoreState().app.gameType!==re.TogetherOnline);e.clearMaio(),n.getState().maioTimeout=setTimeout(()=>{if(io.info("updateMaio","maioTimeout",n.getStoreState().online.onlineState),!r())return io.warn("maio invalidStart",{gameState:n.getStoreState().app.gameState,gameType:n.getStoreState().app.gameType}),!1;n.getStoreState().online.onlineState<xt.GAME_PLAY&&n.getStoreState().online.onlineState>=xt.ACTIVE_SEARCH_CONNECTING?(io.info("updateMaio","setOfflineState"),n.getStoreActions().online.setOnlineState(xt.OFFLINE),gt.leaveLobby(),e.stopServerUpdate(),n.getStoreActions().app.startFakeOnlineGame()):io.warn("maio onlineState invalid",{onlineState:n.getStoreState().online.onlineState,gameType:n.getStoreState().app.gameType,gameState:n.getStoreState().app.gameState})},n.getStoreState().flags.maioTimeToFindOpponent*1e3)}return!1}),updateServerAnswerForActiveSearch:Z(async(e,t,n)=>{const r=n.getStoreState().platform.player,{activeSearchByRatingEnabled:o,maioEnabled:i}=n.getStoreState().flags,a=i?o:n.getStoreState().config.searchOnlyByRatingEnabled;if(r===null){io.warn("updateServerAnswerForActiveSearch","player is null");return}if(!gt.initialized){io.warn("updateServerAnswerForActiveSearch","p2pService.network is not initialized");return}try{n.getStoreActions().online.clearFirstActiveSearchTimer(),e.stopServerUpdate(),!n.getState().fullScreenStartActiveSearchShowed&&t&&(await Zy(n,At.ActiveSearchChangeMode),n.getState().fullScreenStartActiveSearchShowed=!0);const l=r.rating||wn(),u=n.getStoreState().gameSettings.stepTime,d=n.getStoreState().gameSettings.gameTime,f=n.getStoreState().gameSettings.anyTimeMode;Ne.trackStartActiveSearch(a,`${d/60} ${u}`),n.getStoreActions().online.setOnlineState(xt.ACTIVE_SEARCH_CONNECTING);const m=await gt.activeSearchLobbies({player:{id:r.id,name:r.name,avatar:r.avatar,premium:r.premium},activeSearch:!0,betSize:n.getStoreState().config.onlineBetSize,byRating:a,rating:l,stepTime:f?kl:u,gameTime:f?kl:d,color:Vc,timeControl:n.getStoreState().gameSettings.timeControl,...e.serilizeOnlineGameSettings()});n.getState().fromActiveSearch=!0,m.success?m.activeSearch?(io.info("PEER onOpponentIsFound",m.lobbies[0]),gt.joinLobby(m.lobbies[0])):(e.onSearchOpponent(m.lobbies),n.getStoreActions().online.setOnlineState(xt.ACTIVE_SEARCH)):(n.getStoreActions().online.setOnlineState(xt.ACTIVE_SEARCH),n.getState().inQueue=!0),io.success("updateServerAnswerForActiveSearch",m)}catch(l){if(io.warn("updateServerAnswerForActiveSearch",l),n.getStoreState().flags.maioEnabled&&!n.getStoreState().config.strongerThanBots)return n.getStoreState().online.onlineState===xt.OFFLINE||(n.getStoreActions().online.setOnlineState(xt.ACTIVE_SEARCH),await Ic(5e3-n.getStoreState().flags.startActiveSearchTimeout),n.getStoreState().online.onlineState===xt.OFFLINE)?void 0:(n.getStoreActions().online.setOnlineState(xt.OFFLINE),n.getStoreActions().app.startFakeOnlineGame())}}),enterToQueueForPassiveSearch:Z(async(e,t=0,n)=>{const{player:r,passivePriority:o}=n.getStoreState().platform;if(t?n.getStoreActions().online.setOnlineState(xt.PASSIVE_SEARCH_RECONNECTING):n.getStoreActions().online.setOnlineState(xt.PASSIVE_SEARCH_CONNECTING),r===null){io.warn("enterToQueueForPassiveSearch","player is null");return}const i=r==null?void 0:r.rating,a=r==null?void 0:r.withComputerRating,l=i||a||wn();try{e.stopServerUpdate(),gt.lobbyCreate$.next({public:!0,payload:{player:{id:r.id,name:r.name,avatar:r.avatar,premium:r.premium},activeSearch:!1,byRating:!1,rating:l,stepTime:kl,gameTime:kl,timeControl:!0,priority:o,color:Vc,...e.serilizeOnlineGameSettings()}}),n.getState().fromActiveSearch=!1,n.getStoreActions().online.setOnlineState(xt.PASSIVE_SEARCH),io.success("enterToQueueForPassiveSearch")}catch(u){io.warn("enterToQueueForPassiveSearch",u)}}),onSearchOpponent:Z(async(e,t,n)=>{io.info("onSearchOpponent"),e.stopServerUpdate();const{activeSearchUpdateIntervalStep:r=20}=n.getStoreState().flags,o=()=>{!n.getStoreState().session.isPause&&n.getStoreState().online.onlineState<xt.GAME_PLAY&&(gt.passiveAnswerDisabled=!0,e.updateServerAnswerForActiveSearch())},i=n.getState().serverUpdateInterval;i&&clearInterval(i),n.getState().serverUpdateInterval=setInterval(o,r*1e3),n.getStoreActions().p2p.tryOpenConnectionStepByStep(t)}),stopServerUpdate:Z(async(e,t,n)=>{gt.passiveAnswerDisabled=!0;const r=n.getState().serverUpdateInterval;r&&clearInterval(r)}),clearMaio:Z((e,t,n)=>{const r=n.getState().maioTimeout;r&&clearTimeout(r)})},Pbe=e=>{const t=atob(e);return new Uint8Array(t.length).map((n,r)=>t.charCodeAt(r))},Tbe=e=>new TextDecoder().decode(Pbe(e)),Ibe=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","#","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","*","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Lbe=["b24gYSBzbGVkZ2U=","b24gc2tpcw==","aW4gYm9vdHM=","aW4gYSB0dXhlZG8=","aW4gYSB0YWlsY29hdA==","aW4gYSBoYXQ=","aW4gYSBjYXA=","aW4gc29ja3M=","aW4gc29ja3M=","aW4gc2xhdGVz","aW4gZmxpcC1mbG9wcw==","aW4gc25lYWtlcnM=","aW4gYSBzbGlwcGVy","aW4gYSB2ZXN0","aW4gYSB2ZXN0","aW4gdGhlIGNsb3NldA==","aW4gdGhlIGF0dGlj","b24gdGhlIGNoYW5kZWxpZXI=","YmVoaW5kIHRoZSBib2FyZA==","aW4gdGhlIGZpZWxk","aW4gYSBzaGlydA==","aW4gYSBwYWRkZWQgamFja2V0","aW4gYmFzdCBzaG9lcw==","aW4gdHJvdXNlcnM=","aW4gc2hvcnRz","aW4gYSBULXNoaXJ0","aW4gYW4gYXJtY2hhaXI=","b24gYSB0aHJvbmU=","aW4gbWl0dGVucw==","aW4gZ2xvdmVz","aW4gYSBoYXQ=","aW4gYSBwYW5hbWEgaGF0","aW4gYSBwYW5hbWEgaGF0","aW4gcGFqYW1hcw==","aW4gc2FuZGFscw==","aW4gYSBzbGVldmU=","aW4gc2FuZGFscw==","aW4gc29ja3M=","aW4gdGlnaHRz","aW4gcGFudHM=","aW4gdGhlIHRvd2Vy","aW4gdGhlIGNhc3RsZQ==","b24gdGhlIHJvb2Y=","b24gdGhlIGJlbmNo","b24gdGhlIG1lenphbmluZQ==","b24gdGhlIGJhbGNvbnk=","aW4gdGhlIGtpdGNoZW4=","aW4gYSBiYXJyZWw=","aW4gYW1idXNo","aW4gaW1wYXRpZW5jZQ==","ZnJvbSBMZW5pbmdyYWQ=","ZnJvbSBNb3Njb3c=","ZnJvbSBNb3Njb3c=","ZnJvbSBTdC4gUGV0ZXJzYnVyZw==","ZnJvbSBTYXJhdG92","ZnJvbSBSb3N0b3Y=","ZnJvbSBSeWF6YW4=","ZnJvbSBUdWxh","ZnJvbSBLYWx1Z2E=","ZnJvbSBDaGVseWFiaW5zaw==","ZnJvbSBVZmE=","ZnJvbSBTeWt0eXZrYXI=","ZnJvbSBBbmFwYQ==","ZnJvbSBBbHVwa2E=","ZnJvbSBBbHVzaHRh","ZnJvbSBTYW1hcmE=","ZnJvbSBJdmFub3Zv","ZnJvbSBWb2xvZ2RhIHJlZ2lvbg==","d2l0aCBhIG11c3RhY2hl","d2l0aCBhIGJlYXJk","d2l0aCBzaWRlYnVybnM=","YnkgaGVsaWNvcHRlcg==","b24gYSBiaWtl","Zm9yIGx1Y2s=","b24gYSB0YW5r","aW4gYSB0YW5r","b24gc3RpbHRz","b24gYSBzbGVk","b24gYSBjbHVua2Vy","b24gYSBjb252ZXJ0aWJsZQ==","Y292ZXJzIHdpdGggYSBtYXQ=","SSBjdXQgd2l0aCBhIG1hdA==","d2hpc3RsZWQgYSByb29r","c3RvbGUgYSBwYXdu","d2FsayBhIGhvcnNl","b24gYSBob3JzZQ==","b24gYW4gZWxlcGhhbnQ=","b24gYSBkb25rZXk=","d2l0aCBhIGdsYXNz","aW4gYSBiYXRocm9iZQ==","aW4gYSB0aWU=","d2l0aCBhIGNpZ2Fy","aW4gdHJvdXNlcnM=","d2l0aCBhIGNoaXA=","d2l0aCBhIHR3aXN0","d2l0aCBhIHNlY3JldA==","d2l0aCBhIGh1cmR5LWd1cmR5","b24gYSBzdG9vbA==","b24gYSBzdG9vbA==","aW4gYm9vdHM=","aW4gZmVsdCBib290cw==","aW4gdHJvdXNlcnM=","aW4gYSBidXJrYQ==","aW4gYSBjYXA=","b24gaGVlbHM=","cnVzaGluZyBsaWtlIGEgdGFuaw==","b24gYSBoZWxpY29wdGVy","aW4gYSBzaGVlcHNraW4gY29hdA==","aW4gYSBmdXIgY29hdA==","aW4gYSBjb2F0","aW4gYSBzd2VhdHNoaXJ0","aW4gYSB0dWp1cmth","ZnJvbSBPZGVzc2E=","ZnJvbSBWb3JvbmV6aA==","ZnJvbSBSb3N0b3Y=","ZnJvbSBNeXRpc2hjaGk=","ZnJvbSBJc3RyYQ==","d2hhdHMgdGhlIGRpZmZlcmVuY2U/","cmVtZW1iZXIgbWU=","ZnJvbSBLaGlta2k="],Dbe=["0L3QsCDRgdCw0L3QutCw0YU=","0L3QsCDQu9GL0LbQsNGF","0LIg0LHQvtGC0LjQvdC60LDRhQ==","0LIg0YHQvNC+0LrQuNC90LPQtQ==","0LLQviDRhNGA0LDQutC1","0LIg0YjQsNC/0LrQtQ==","0LIg0LrQtdC/0LrQtQ==","0LIg0L3QvtGB0LrQsNGF","0LIg0L3QvtGB0LrQtQ==","0LIg0YHQu9Cw0L3RhtCw0YU=","0LIg0YjQu9C10L/QutCw0YU=","0LIg0YLQsNC/0LrQsNGF","0LIg0YLQsNC/0LrQtQ==","0LIg0LbQuNC70LXRgtC1","0LIg0LbQuNC70LXRgtC60LU=","0LIg0YjQutCw0YTRgw==","0L3QsCDRh9C10YDQtNCw0LrQtQ==","0L3QsCDQu9GO0YHRgtGA0LU=","0LfQsCDQtNC+0YHQutC+0Lk=","0LIg0L/QvtC70LU=","0LIg0YDRg9Cx0LDRiNC60LU=","0LIg0YLQtdC70L7Qs9GA0LXQudC60LU=","0LIg0LvQsNC/0YLRj9GF","0LIg0YjRgtCw0L3QsNGF","0LIg0YjQvtGA0YLQsNGF","0LIg0LzQsNC50LrQtQ==","0LIg0LrRgNC10YHQu9C1","0L3QsCDRgtGA0L7QvdC1","0LIg0YDRg9C60LDQstC40YbQsNGF","0LIg0L/QtdGA0YfQsNGC0LrQsNGF","0LIg0YjQu9GP0L/QtQ==","0LIg0L/QsNC90LDQvNC1","0LIg0L/QsNC90LDQvNC60LU=","0LIg0L/QuNC20LDQvNC1","0LIg0YHQsNC90LTQsNC70Y/RhQ==","0LIg0YDRg9C60LDQstC1","0LIg0LHQvtGB0L7QvdC+0LbQutCw0YU=","0LIg0LPQvtC70YzRhNCw0YU=","0LIg0LrQvtC70LPQvtGC0LDRhQ==","0LIg0YjRgtCw0L3QuNGI0LrQsNGF","0LIg0LHQsNGI0L3QtQ==","0LIg0LfQsNC80LrQtQ==","0L3QsCDQutGA0YvRiNC1","0L3QsCDQu9Cw0LLQutC1","0L3QsCDQsNC90YLRgNC10YHQvtC70Lg=","0L3QsCDQsdCw0LvQutC+0L3QtQ==","0L3QsCDQutGD0YXQvdC1","0LIg0LHQvtGH0LrQtQ==","0LIg0LfQsNGB0LDQtNC1","0LIg0L3QtdGC0LXRgNC/0LXQvdC40Lg=","0LjQtyDQm9C10L3QuNC90LPRgNCw0LTQsA==","0LjQtyDQnNC+0YHQutCy0Ys=","0YEg0JzQvtGB0LrQstGL","0LjQtyDQn9C40YLQtdGA0LA=","0LjQtyDQodCw0YDQsNGC0L7QstCw","0YEg0KDQvtGB0YLQvtCy0LA=","0LjQtyDQoNGP0LfQsNC90Lg=","0LjQtyDQotGD0LvRiw==","0LjQtyDQmtCw0LvRg9Cz0Lg=","0LjQtyDQp9C10LvRj9Cx0LjQvdGB0LrQsA==","0LjQtyDQo9GE0Ys=","0LjQtyDQodGL0LrRgtGL0LLQutCw0YDQsA==","0LjQtyDQkNC90LDQv9GL","0LjQtyDQkNC70YPQv9C60Lg=","0LjQtyDQkNC70YPRiNGC0Ys=","0LjQtyDQodCw0LzQsNGA0Ys=","0LjQtyDQmNCy0LDQvdC+0LLQvg==","0YEg0JLQvtC70L7Qs9C+0LTRh9C40L3Riw==","0YEg0YPRgdCw0LzQuA==","0YEg0LHQvtGA0L7QtNC+0Lk=","0YEg0LHQsNC60LXQvdCx0LDRgNC00LDQvNC4","0L3QsCDQstC10YDRgtC+0LvQtdGC0LU=","0L3QsCDQstC10LvQvtGB0LjQv9C10LTQtQ==","0L3QsCDRgdGH0LDRgdGC0YzQtQ==","0L3QsCDRgtCw0L3QutC1","0LIg0YLQsNC90LrQtQ==","0L3QsCDRhdC+0LTRg9C70Y/RhQ==","0L3QsCDRgdCw0LvQsNC30LrQsNGF","0L3QsCDQtNGA0LDQvdC00YPQu9C10YLQtQ==","0L3QsCDQutCw0LHRgNC40L7Qu9C10YLQtQ==","0LrRgNC+0LXRgiDQvNCw0YLQvtC8","0LrRgNC+0Y4g0LzQsNGC0L7QvA==","0YHQstC40YHRgtC90YPQuyDQu9Cw0LTRjNGO","0YHRgtCw0YnQuNC7INC/0LXRiNC60YM=","0LvQvtGI0LDQtNGM0Y4g0YXQvtC00Lg=","0L3QsCDQutC+0L3QtQ==","0L3QsCDRgdC70L7QvdC1","0L3QsCDQvtGB0LvQuNC60LU=","0YEg0LHQvtC60LDQu9C+0Lw=","0LIg0YXQsNC70LDRgtC1","0LIg0LPQsNC70YHRgtGD0LrQtQ==","0YEg0YHQuNCz0LDRgNC+0Lk=","0LIg0LHRgNGO0LrQsNGF","0YEg0YTQuNGI0LrQvtC5","0YEg0LjQt9GO0LzQuNC90LrQvtC5","0YEg0YHQtdC60YDQtdGC0L7QvA==","0YEg0YjQsNGA0LzQsNC90LrQvtC5","0L3QsCDRgtCw0LHRg9GA0LXRgtC60LU=","0L3QsCDRgtCw0LHRg9GA0LXRgtC1","0LIg0YHQsNC/0L7Qs9Cw0YU=","0LIg0LLQsNC70LXQvdC60LDRhQ==","0LIg0YjQsNGA0L7QstCw0YDQsNGF","0LIg0LHRg9GA0LrQtQ==","0LIg0YTRg9GA0LDQttC60LU=","0L3QsCDQutCw0LHQu9GD0LrQsNGF","0L/RgNGR0YIg0LrQsNC6INGC0LDQvdC6","0L3QsCDQstC10YDRgtC+0LvRkdGC0LU=","0LIg0YLRg9C70YPQv9C1","0LIg0YjRg9Cx0LU=","0LIg0L/QsNC70YzRgtC+","0LIg0YTRg9GE0LDQudC60LU=","0LIg0YLRg9C20YPRgNC60LU=","0LjQtyDQntC00LXRgdGB0Ys=","0LjQtyDQktC+0YDQvtC90LXQttCw","0LjQtyDQoNC+0YHRgtC+0LLQsA==","0LjQtyDQnNGL0YLQuNGJ","0LjQtyDQmNGB0YLRgNGL","0LrQsNC60LDRjyDRgNCw0LfQvdC40YbQsD8=","0LfQsNC/0L7QvNC90Lgg0LzQtdC90Y8=","0LjQtyDQpdC40LzQvtC6"],vj=({arr:e,decode:t=!0})=>{if(e){const n=Math.round(Math.random()*(e.length-1));return t?Tbe(e[n]):e[n]}return""},Txe=e=>e.charAt(0).toUpperCase()+e.slice(1),Nbe=e=>e.split("").map(t=>Math.random()>.5?t.toLowerCase():t.toUpperCase()).join(""),Ixe=(e,t)=>Math.random()>.015?e:`${e.split(" ")[0]} ${vj({arr:t===mj.En?Lbe:Dbe})}`,Lxe=e=>{const t=Math.random(),r=Math.random()>.5?".":" ";return e.split(" ").map(o=>t>.25?o.charAt(0).toUpperCase()+o.slice(1):t>.055?o.toLowerCase():t>.035?o.toUpperCase():t>.005?Nbe(o):o.split("").join(r)).join(" ")},Dxe=e=>e.split(" ").length===2&&Math.random()>.95?`${e.split(" ")[1]} ${e.split(" ")[0]}`:e,Fbe=()=>{const e=Math.round(Math.random()*4);return`${Math.random()>.8?"0":""}${Math.round(Math.random()*Math.pow(10,e))}`},Nxe=e=>{const t=Math.random();return t>.98?e.replace(" ",""):t>.975?e.replace(" ","-"):t>.97?e.replace(" "," - "):e},Fxe=e=>{if(Math.random()<.95)return e;const t=Math.random()>.33?" ":"",n=Math.random(),r=vj({arr:Ibe,decode:!1});return n>.55?`${e}${t}-`:n>.06?`${e}${t}${r}`:n>.04?`***${t}${e}${t}***`:n>.02?`*${t}${e}${t}*`:`@${t}${e}${t}@`},Gxe=e=>e.split("").map(t=>({:Math.random()>.99?"k":t,:Math.random()>.99?"ff":t,i:Math.random()>.99?"1":t,:Math.random()>.99?"4":t,:Math.random()>.99?"0":t,o:Math.random()>.99?"0":t})[t.toLowerCase()]||t).join(""),jxe=e=>{const t=(Math.random()>.9?e.split(" ")[Math.random()>.5?0:1]:e)??e;if(t.split(" ").length===1){const n=Math.random()>.8,r=n?Fbe():"",o=n&&Math.random()>.66?" ":"";return Math.random()>.33?`${t}${o}${r}`:`${r}${o}${t}`}return t},$xe=(e,t)=>{Object.keys(e).forEach(n=>{for(let r=0;r<e[n]*100;r+=1)t.push(n)})},yj=e=>{const t=Math.random()>.8;return e.split("").map(n=>({:"y",:"c",:"u",:"k",:"e",:t?"":"",:"n",:"g",:"sh",:"sch",:"z",:"h",:"",:"f",:"y",:"v",:"a",:"p",:"r",:"o",:"l",:"d",:"zh",:"e",:"ya",:"ch",:"s",:"m",:"i",:"t",:"",:"b",:"yu",:"Y",:"C",:"U",:"K",:"E",:t?"":"",:"N",:"G",:"Sh",:"Sch",:"Z",:"H",:"",:"F",:"Y",:"V",:"A",:"P",:"R",:"O",:"L",:"D",:"Zh",:"E",:"Ya",:"Ch",:"S",:"M",:"I",:"T",:"",:"B",:"Yu"})[n]??n).join("")},zxe=e=>Math.random()>.1?e:yj(e),_j=()=>Math.random()>.3?".":"",Uxe=e=>e===""?"":Math.random()>.5?e:`${e[0]}${_j()}`,Vxe=e=>e===""?"":`${e[0].toUpperCase()}${_j()}`,Gbe=e=>/[--]/.test(e),jbe=()=>ca||$l?me.isVk()||me.isOk():!1,$be=()=>1-(jbe()?.1:.15),Sv={},zbe={withFriendOpenedLobby:!0,inviteLinkDetails:null,inviteLink:"",readyForPlay:!1,gameModeVariants:[],fakeOnlineOpponent:null,ratingGameResult:null,gameMode:yn.Blitz,onlineState:xt.OFFLINE,firstActiveSearchStartTimer:null,opponentNameIsLoading:!0,playerRatingBeforeStart:0},Ht=xn.getLogger("ONLINE_STORE"),Ube={...Mbe,...xbe,...zbe,opponentRatingScaleForUpdateRatingAfterGame:ze([],()=>1),ignoreOnReadyIfNeed:ze([e=>e.onlineState,e=>e.isPassiveGameConfirmed],(e,t)=>e===xt.PASSIVE_GAME_CONFIRMATION&&!t||e===xt.GAME_PLAY),ignoreOnDrawRequestIfNeed:ze([e=>e.onlineState,(e,t)=>t.app.gameType],(e,t)=>[...$l?[re.AI]:[],re.FakeOnline,re.Online,re.TogetherOnline].includes(t)?[re.Online,re.TogetherOnline].includes(t)?e!==xt.GAME_PLAY:!1:!0),ignoreOnRematchRequestIfNeed:ze([e=>e.onlineState],e=>e!==xt.GAME_PLAY_ENDED),setOpponentNameLoading:ue((e,t)=>{e.opponentNameIsLoading=t,Ht.info("setOpponentNameLoading",t)}),setFakeOnlineOpponent:ue((e,t)=>{e.fakeOnlineOpponent=t,Ht.info("setFakeOnlineOpponent",t)}),setGameMode:ue((e,t)=>{e.gameMode=t,Ne.trackSwitchActiveSearchGameMode(t),Ht.info("setGameMode",t)}),setInviteLink:ue((e,t)=>{e.inviteLink=t,Ht.info("setInviteLink",t)}),setWithFriendOpenedLobby:ue((e,t)=>{e.withFriendOpenedLobby=t,Ht.info("setWithFriendOpenedLobby",t)}),setInviteLinkDetails:ue((e,t)=>{e.inviteLinkDetails=t,Ht.info("setInviteLinkDetails",t)}),updateInviteLinkDetails:Z(async(e,t,n)=>{if(n.getStoreState().app.gameType!==re.TogetherOnline)return;const r=n.getStoreActions().gameSettings.serializeSettings(),o=n.getStoreState().platform.player;o&&e.setInviteLinkDetails({...r,player:{id:o.id,name:o.name,avatar:o.avatar,premium:o.premium},activeSearch:!0,rating:o.rating,color:n.getStoreState().gameSettings.color,timeControl:n.getStoreState().gameSettings.timeControl,betSize:n.getStoreState().config.onlineBetSize,stepTime:n.getStoreState().gameSettings.stepTime,gameTime:n.getStoreState().gameSettings.gameTime})}),onGameSettingsChanged:Hc((e,t)=>[t.gameSettings.setColor,t.gameSettings.setHandicapEnabled,t.gameSettings.setStepTime,t.gameSettings.setGameTime,t.gameSettings.setTimeControl,t.config.setOnlineBetSize],e=>{e.updateInviteLinkDetails()}),updateInviteLink:Z(async(e,t,n)=>{if(n.getStoreState().app.gameType!==re.TogetherOnline||!gt.initialized||gt.lobbyId===null)return;const r=gt.lobbyId;if(await n.getStoreActions().online.stopServerUpdate(),pn().connectionTypeForTogetherOnline===Eg.ById){e.setInviteLink(r),e.setOnlineState(xt.WAIT_FRIEND);return}try{const o=!n.getState().withFriendOpenedLobby,i=await hfe(r,o);e.setInviteLink(i),e.setOnlineState(xt.WAIT_FRIEND)}catch(o){Ht.warn("updateInviteLink","inviteLink generate error",o)}}),closeOnlineModals:Z(async(e,t=!0,n)=>{n.getStoreActions().modals.closeModalIfOpened(tt.ConfirmDrawRequestModal),n.getStoreActions().modals.closeModalIfOpened(tt.ConfirmRematchRequestModal),n.getStoreActions().modals.closeModalIfOpened(tt.OnlineGameStatusModal),t&&(bn.rematch.reset(),bn.draw.reset())}),onDrawConfirmationReset:Hc((e,t)=>[t.p2p.sendMove,t.online.onMoveEnded],()=>{bn.draw.reset()}),setDrawGame:Z(async(e,t,n)=>{await Ic(300),n.getStoreActions().app.completeGame(ht.Draw),n.getStoreActions().session.setGameCompleteReason(Lo.DrawByAgreement),Ht.info("setDrawGame")}),_setOnlineState:ue((e,t)=>{e.onlineState=t}),setRatingGameResult:ue((e,t)=>{e.ratingGameResult=t,Ht.info("setRatingGameResult",t)}),clearFirstActiveSearchTimer:ue((e,t)=>{e.firstActiveSearchStartTimer!==null&&(clearTimeout(e.firstActiveSearchStartTimer),e.firstActiveSearchStartTimer=null)}),setOnlineState:Z((e,t,n)=>{e._setOnlineState(t),Ht.info("setOnlineState",t)}),setOfflineState:Z(async(e,t,n)=>{n.getStoreState().app.gameState===xe.InGame&&Xr(n.getStoreState().app.gameType)&&!t.ignoreGameState&&setTimeout(()=>{n.getStoreState().app.gameState===xe.InGame&&Xr(n.getStoreState().app.gameType)&&(n.getStoreActions().app.completeGame(ht.Victory),Ht.info("setOfflineState","game in process, cancel game"))},2e3);const r=n.getState().onlineState;e.setOnlineState(xt.OFFLINE),e.closeOnlineModals(),gt.leaveLobby(),e.stopServerUpdate(),r>=xt.ACTIVE_SEARCH&&!t.ignorePassive&&await e.startPassiveSearch()}),startPassiveSearch:Z(async(e,t,n)=>{if(!n.getStoreState().platform.isAuthOrGuest){Ht.warn("startPassiveSearch","not auth"),e.setOfflineState({reason:"start_passive_search_not_auth"});return}if(n.getStoreState().session.isPassiveSearchDisabled){Ht.warn("startPassiveSearch","isPassiveSearchDisabled"),e.setOfflineState({reason:"start_passive_search_is_disabled"});return}if(n.getStoreState().platform.passivePriority<=n.getStoreState().flags.priorityNegativeLimit){Ht.warn("startPassiveSearch","priorityNegativeLimit out the bounds"),e.setOfflineState({reason:"start_passive_search_priority_negative_limit"});return}e.closeOnlineModals(),e.stopServerUpdate();let r=gt.initialized;r||(r=await n.getStoreActions().p2p.init()),r?await e.enterToQueueForPassiveSearch():await e.setOfflineState({reason:"start_passive_search_p2p_init_fail"})}),startActiveSearch:Z(async(e,t,n)=>{if(e.closeOnlineModals(),await gt.leaveLobby(),e.stopServerUpdate(),n.getStoreActions().online.setOnlineState(xt.ACTIVE_SEARCH_CONNECTING),n.getStoreState().platform.playerCash<10){n.getStoreActions().modals.openCashValueIsZeroModal();return}await n.getStoreActions().app.openOnlineGameModal()&&await new Promise(i=>{n.getState().firstActiveSearchStartTimer=setTimeout(async()=>{e.clearFirstActiveSearchTimer(),i(!0)},n.getStoreState().flags.startActiveSearchTimeout);const a=setInterval(()=>{const l=n.getStoreState().modals.modalVisibility[tt.OnlineGameStatusModal];(n.getState().firstActiveSearchStartTimer===null||!l)&&(clearInterval(a),e.clearFirstActiveSearchTimer(),i(!1))},10)})&&(n.getStoreActions().app.setGameType(re.Online),await e.updateServerAnswerForActiveSearch())}),setPassiveConfirmationState:Z(async(e,t,n)=>{e.setOnlineState(xt.PASSIVE_GAME_CONFIRMATION),e.closeOnlineModals(!1),e.stopServerUpdate(),n.getStoreActions().online.setPassiveGameConfirmed(!1),n.getStoreActions().modals.openConfirmOnlineGamesModal()}),setGamePlayingState:Z(async(e,t,n)=>{e.setOnlineState(xt.GAME_PLAY),bn.draw.resetTimesLeft(),bn.rematch.resetTimesLeft(),e.closeOnlineModals()}),sendReady:Z(async(e,t,n)=>{const r={gameType:n.getStoreState().app.gameType};if(n.getStoreState().app.gameType===re.TogetherOnline){const o=n.getStoreState().gameSettings.color,i=n.getStoreState().gameSettings.handicapEnabled,a=o===Vc?i?lt.White:X9():o;n.getStoreActions().gameSettings._setColor(a),r.turn=a,r.inviteSettings=n.getStoreActions().gameSettings.serializeSettings()}else r.turn=Math.random()>.5?lt.White:lt.Black;n.getStoreActions().p2p.send({eventType:Yn.Ready,payload:{...r,turn:ma(r.turn)}}),e.onReady(r)}),setGameEndedState:Z(async(e,t,n)=>{if(Xr(n.getStoreState().app.gameType)&&(e.setOnlineState(xt.GAME_PLAY_ENDED),e.closeOnlineModals()),!n.getStoreState().session.playedAfterFatalMove){const r=n.getStoreState().config.onlineBetSize,o=n.getStoreState().platform.playerCash,i=n.getStoreState().app.gameResult,a=n.getStoreState().board.gameEngine,l=jv(a);let u=r;if(i===ht.Victory||i===ht.Draw)l&&r>0&&(i===ht.Victory&&(Z7(0),yt.add("cash",Math.floor(r*2*$be()))),i===ht.Draw&&yt.add("cash",r));else if(o<r){const f=[...yd()?[10]:[],50,200,1e3,2500];let m=yd()?0:10;f.forEach(g=>{o>g&&r>g&&(m=g)}),u=m}l||yt.add("cash",r),n.getStoreActions().platform.firePlayerCashChangeTrigger(),await e.updateOnlineRating(),n.getStoreActions().config.setOnlineBetSize(u)}Ht.success("setGameEndedState")}),updateSingleRating:Z(async(e,t,n)=>{throw new Error("   updateSingleRating  ")}),onReady:Z(async(e,t,n)=>{throw new Error("   onReady  ")}),onArenaReady:Z(async(e,t,n)=>{throw new Error("   onArenaReady  ")}),onNewStageStarted:Z(async(e,t,n)=>{throw new Error("   onNewStageStarted  ")}),onDrawRequest:Z(async(e,t,n)=>{if(n.getState().ignoreOnDrawRequestIfNeed){Ht.warn("onDrawRequest ignored by ignoreOnDrawRequestIfNeed"),bn.draw.opponent.confirm(!1);return}Ht.info("onDrawRequest",t);const r=bn.draw.opponent.confirm(t.confirm);bn.draw.player.isDefined()?r&&e.setDrawGame():n.getStoreActions().modals.openConfirmDrawRequestModal()}),onMakeMove:Z(async(e,t,n)=>{throw new Error("   onMakeMove  ")}),onMoveEnded:Z(async(e,t,n)=>{if(!t.isGameInProcess&&!n.getStoreState().board.gameEngine.nativeEngine.isGameOver()){const r=n.getStoreState().board.gameEngine;n.getStoreActions().board.setPrevGameBoard({board:r.board(),fen:r.fen()}),r.undo(),n.getStoreActions().board.setAvailableMoves([]),n.getStoreActions().board.setSelectedCell(null)}n.getStoreActions().p2p.setSendingMoveProcess(!1)}),onRematchRequest:Z(async(e,t,n)=>{if(n.getState().ignoreOnRematchRequestIfNeed){Ht.warn("onRematchRequest ignored by ignoreOnRematchRequestIfNeed");return}if(n.getStoreState().platform.playerCash<n.getStoreState().config.onlineBetSize){Ht.warn("onRematchRequest ignored by small cash size");return}Ht.info("onRematchRequest",t);const r=bn.rematch.opponent.confirm(t.confirm);bn.rematch.player.isDefined()?(Ne.trackClickRematch(n.getStoreState().app.gameType,r),r&&e.onReady({turn:ma(n.getStoreState().board.myColor),gameType:n.getStoreState().app.gameType})):t.confirm?n.getStoreActions().modals.openConfirmRematchRequestModal():e.setOfflineState({reason:"on_rematch_request_un_confirm"})}),onOnlineCustomEvent:Z((e,t,n)=>{Ht.info("onOnlineCustomEvent",t)}),onExit:Z(async(e,t,n)=>{if(n.getState().onlineState===xt.GAME_PLAY){let r=t||ht.Victory;Ht.info("onExit"),await n.getStoreActions().app.completeGame(r)}e.setOfflineState({reason:"on_opponent_exit"})}),onOpponentConnected:Z((e,t,n)=>{n.getState().readyForPlay=!1,Ht.info("onOpponentConnected");const r={...t.player},{timeMode:o,gameMode:i}=(()=>{const f=r.timeMode,m=n.getStoreState().p2p.player.timeMode,g=n.getStoreState().p2p.player.gameMode;return f===qv&&m===qv?{timeMode:"5 3",gameMode:yn.Blitz}:f===qv?{timeMode:m,gameMode:g}:{timeMode:f,gameMode:r.gameMode}})(),a=(()=>{if(!r.boardType)return{};const f=r.boardType,g=n.getStoreActions().gameSettings.serializeSettings().boardType;return f===Hh&&g===Hh?{boardType:n.getStoreActions().gameSettings.getDefaultBoardType()}:f===Hh?{boardType:g}:{boardType:f}})(),l=yd()?0:10,u={rating:r.rating,playedCountOnlineGames:r.playedCountOnlineGames||1,withComputerRating:r.withComputerRating,avatar:null,name:"",id:r.id,isPremium:r.isPremium,gameMode:i,timeMode:o,betSize:(r==null?void 0:r.betSize)||l,...a};if(u.betSize>n.getStoreState().platform.playerCash){e.setOfflineState({reason:"ignore_passive_search_when_big_bet"});return}else!gt.isLobbyCreator&&t.type!=Dc.Passive&&n.getStoreState().app.gameType!==re.Online&&n.getStoreActions().config.setOnlineBetSize(u.betSize);n.getStoreActions().p2p.setNewOpponent(u),e.setOpponentNameLoading(!0),me.isPoki()?(async()=>{const{generateNick:f}=await De(async()=>{const{generateNick:v}=await import("./generateNick-BF_tQQgy.js");return{generateNick:v}},__vite__mapDeps([0,1,2]),import.meta.url),{name:m}=await f({language:n.getStoreState().config.locale,nonHuman:!1}),g={...u,name:m};n.getStoreActions().p2p.setNewOpponent(g),n.getStoreActions().p2p.setOpponent(g),e.setOpponentNameLoading(!1)})():(async()=>{var m,g,v;if(Sv[r.id]===void 0){const _=(await me.getOtherPlayers([r.id])||[])[0]||null;Sv[r.id]=_||null}const f={...u,...((m=Sv[r.id])==null?void 0:m.state)||{},isPremium:(((v=(g=Sv[r.id])==null?void 0:g.state)==null?void 0:v.premium)||0)>0};f.name=Gbe(f.name)&&!zte.includes(n.getStoreState().config.locale)?yj(f.name):f.name,n.getStoreActions().p2p.setNewOpponent(f),n.getStoreActions().p2p.setOpponent(f),e.setOpponentNameLoading(!1)})();const d=n.getState().onlineState;if(t.type===Dc.Passive){Ht.info("onOpponentConnected","passive search");return}else if(xt.PASSIVE_SEARCH===d)Ht.info("onOpponentConnected","passive search confirmation"),n.getStoreState().app.gameState!==xe.InGame?e.setPassiveConfirmationState():e.setOfflineState({reason:"ignore_passive_search_when_playing_with_ai"});else if(xt.PASSIVE_GAME_CONFIRMATION===d){Ht.info("onOpponentConnected","passive game confirmation");return}else Ht.info("onOpponentConnected","game play",gt.isLobbyCreator),gt.isLobbyCreator&&(r.gameMode!==n.getState().gameMode&&(Ht.info("onOpponentConnected","game play is lobby creator gameMode"),e.setGameMode(r.gameMode||yn.Blitz)),e.sendReady())}),onMakeEmotion:Z((e,t,n)=>{n.getStoreState().board.opponentEmotion===null?Jc.some(o=>o.emotions.filter(j0).some(i=>i.e===t.emotion.e&&i.s===t.emotion.s))?(n.getStoreActions().board.setOpponentEmotion(t.emotion),Ht.info("onMakeEmotion",t)):(n.getStoreActions().board.setOpponentEmotion(pte()),Ht.info("onMakeEmotion",t)):Ht.warn("onMakeEmotion",t)}),rejectPassiveGameConfirmation:Z(async(e,t,n)=>{n.getState().onlineState===xt.PASSIVE_GAME_CONFIRMATION&&(Ne.trackGameProposal(t),e.updatePassivePriority({diff:-1}),e.setOfflineState({reason:"reject_passive_game_confirmation"}),n.getStoreActions().session.setPassiveSearchDisabled(!0),n.getStoreActions().modals.closeModalIfOpened(tt.ConfirmOnlineGamesModal))}),updateWithComputerRating:Z(async(e,t,n)=>{var M,T,I,P,B;const r=n.getStoreState().app.gameResult,o=n.getStoreState().p2p.player,{computer:i}=n.getStoreState().engine,a=n.getStoreState().platform.player,{isGameWithSimplifications:l}=n.getStoreState().gameSettings,{gameEngine:u}=n.getStoreState().board,{gameStartedFromAnalytics:d}=n.getStoreState().session;if(d)return;const f=i.rating;if(!a||!o){Ht.warn("updateWithComputerRating","one user is null");return}if(r===null){Ht.warn("updateWithComputerRating","result is null");return}const m=aB(r);let g=ru({score:a.score,[Tn.OnlineScore]:a[Tn.OnlineScore],[Tn.WithComputerScore]:a[Tn.WithComputerScore],playerData:a.playerData,withComputerRating:a.withComputerRating});jv(u)&&(g=PD({playerState:g,opponentRating:f*n.getState().opponentRatingScaleForUpdateRatingAfterGame,result:m,totalMoves:ca?u.totalHistoryLength:u.history().length,withBonuses:l,leaderBoardType:Tn.WithComputerScore}),l||(g=C_e({playerState:g,result:m,opponentRating:f,turn:n.getStoreState().board.myColor})));const y=((B=(P=(I=(T=(M=a.playerData)==null?void 0:M.blitz)==null?void 0:T.withComputerGames)==null?void 0:I.total)==null?void 0:P.counts)==null?void 0:B.total)||0,_=g.withComputerRating||wn(),b=y===0?Math.min(wn(),f):a.withComputerRating||wn(),E=g.withComputerScore||0,A=a.withComputerScore||0,C=g.score||0;e.setRatingGameResult({rating:_,ratingDiff:_-b,opponentRating:f,opponentRatingDiff:0,score:E,scoreDiff:E-A,commonScore:C,gameResult:m}),await n.getStoreActions().platform.updatePlayerData(g),Ht.success("updateWithComputerRating")}),correctOnlineRatingAfter2moves:Z(async(e,t,n)=>{var _;const r=n.getStoreState().app.gameType;if(!Qn(r))return;const o=n.getStoreState().p2p.player,i=n.getStoreState().platform.player,a=n.getStoreState().p2p.opponent,l=n.getStoreState().online.fakeOnlineOpponent,u=r===re.FakeOnline?l:a,d=(u==null?void 0:u.rating)||wn(),f=(o==null?void 0:o.rating)||wn(),g=((((_=i==null?void 0:i.playerData)==null?void 0:_[yn.Blitz])||ad()).games.total.counts.total||0)+1,v=$B(f,d,0,g),y=Math.min(1e4,Math.max(f+v,50));n.getState().playerRatingBeforeStart=f,yt.set("rating",y),await yt.sync()}),updateOnlineRating:Z(async(e,t,n)=>{const r=n.getStoreState().app.gameType,o=n.getStoreState().app.gameResult,i=n.getStoreState().p2p.opponent,a=n.getStoreState().online.fakeOnlineOpponent,l=n.getStoreState().p2p.player,u=n.getStoreState().platform.player,d=n.getState().playerRatingBeforeStart,f=d>0?d:(u==null?void 0:u.rating)??wn(),m=n.getStoreState().board.gameEngine,{isGameWithSimplifications:g}=n.getStoreState().gameSettings,v=r===re.FakeOnline?a:i;if(!v||!u||!l||o===null)return;const y=jv(m),_=g&&r===re.TogetherOnline,b=_||!y;n.getState().playerRatingBeforeStart<=0&&!b&&Ht.error("updateOnlineRating",new Error("playerRatingBeforeStart is zero"));const E=v==null?void 0:v.rating,A=aB(o);let C=ru({score:u.score,[Tn.OnlineScore]:u[Tn.OnlineScore],[Tn.WithComputerScore]:u[Tn.WithComputerScore],playerData:u.playerData,rating:f});C=b?C:A_e({playerState:C,result:A,opponentRating:E,turn:n.getStoreState().board.myColor});const M=Sle[sB(A)],T=(v==null?void 0:v.playedCountOnlineGames)||10,I=b?0:$B(E,f,M,T),P=E+I;r===re.FakeOnline?n.getStoreActions().online.setFakeOnlineOpponent({...v,rating:P}):n.getStoreActions().p2p.setOpponent({...v,rating:P}),y&&(C=PD({playerState:C,opponentRating:E*n.getState().opponentRatingScaleForUpdateRatingAfterGame,result:A,totalMoves:ca?m.totalHistoryLength:m.history().length,withBonuses:_,leaderBoardType:Tn.OnlineScore}));const B=C.rating||wn(),R=f||wn(),x=C.onlineScore||0,D=u.onlineScore||0,$=C.score||0;e.setRatingGameResult({rating:B,ratingDiff:B-R,opponentRating:P,opponentRatingDiff:P-E,score:x,betSize:n.getStoreState().config.onlineBetSize,scoreDiff:x-D,commonScore:$,gameResult:A}),await n.getStoreActions().platform.updatePlayerData(C),Ht.success("updateOnlineRating")}),updatePassivePriority:Z(async(e,t,n)=>{const r=n.getStoreState().platform.player;if(!r){Ht.warn("updatePassivePriority","user is null");return}const o=k_e({playerData:r.playerData,diff:t.diff,newValue:t.newValue});await n.getStoreActions().platform.updatePlayerData({playerData:o}),Ht.success("updatePassivePriority")})},Vbe={readyForPlay:!1,gameModeVariants:[{value:yn.Bullet,label:Bs(yn.Bullet)},{value:yn.Blitz,label:Bs(yn.Blitz)},{value:yn.Rapid,label:Bs(yn.Rapid)},{value:yn.Classic,label:Bs(yn.Classic)}]},Pk=xn.getLogger("ONLINE_STORE"),qbe={...Ube,...Vbe,onReady:Z(async(e,t,n)=>{if(n.getState().ignoreOnReadyIfNeed){Pk.warn("onReady ignored by ignoreOnReadyIfNeed");return}Pk.info("onReady",t),n.getState().fullScreenStartActiveSearchShowed=!1,e.stopServerUpdate(),n.getStoreActions().p2p.applyNewOpponentIfNeed();const{gameType:r,gameState:o}=n.getStoreState().app,i=async()=>{e.setGamePlayingState(),n.getStoreActions().gameSettings.setColor(t.turn),n.getStoreActions().board.setMyColor(t.turn),t.gameType===re.TogetherOnline?await n.getStoreActions().app.startOnlineWithFriendGame(t):(await n.getStoreActions().app.startOnlineGame(),n.getStoreActions().board.setNextGameEngine(new sr)),n.getStoreActions().board.checkGameStatusAfterMove(),n.getStoreState().platform.passivePriority<0&&n.getState().fromActiveSearch&&(e.updatePassivePriority({newValue:0,diff:0}),_1.trackResetPriorityToZero())};r===re.AI&&o===xe.InGame?n.getStoreActions().online.setOfflineState({reason:"ignore_on_ready_when_playing_with_ai"}):await i(),n.getState().readyForPlay=!0}),onMakeMove:Z((e,t,n)=>{Pk.info("onMakeMove",t);const r=n.getStoreState().app.gameState===xe.InGame,o=gt.ping;if(!r){n.getStoreActions().p2p.sendMoveEnded(r);return}const{timeLeft:i}=t,a=gx(t.move),{gameEngine:l}=n.getStoreState().board;if(l.isValidMove(a.from,a.to)){const u={board:l.board(),fen:l.fen()};l.move(a),n.getStoreActions().board.setPrevGameBoard(u),n.getStoreActions().board.checkGameStatusAfterMove(),n.getStoreActions().board.setOptionTimeLeft(i+o/1e3*2)}n.getStoreActions().p2p.sendMoveEnded(r)})},Qbe=[],Hbe=["settingsByOptionLevelType","opponentProvider"],Wbe=[],Jbe=[],Zbe=["isMandatoryTaken","gameTime","stepTime"],Ybe=["engine","engineForHints"],Kbe={config:ev(pbe,{storage:pv,allow:Qbe,deny:Hbe}),progress:ev(yfe,{storage:pv,allow:Jbe}),session:bfe,app:rpe,flags:Vue,board:lpe,engine:ev(bbe,{storage:pv,allow:Wbe,deny:Ybe}),canvas:Jee,modals:Bbe,analyze:epe,platform:gfe,gameSettings:ev(kbe,{storage:pv,allow:Zbe}),online:qbe,p2p:Hhe,tv:{},payment:Sfe},Xbe=gX({...Kbe});var hh={},$D;function ewe(){if($D)return hh;$D=1,Object.defineProperty(hh,"__esModule",{value:!0});var e=LN(),t=$d();/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var n=function(){return n=Object.assign||function(V){for(var X,oe=1,ce=arguments.length;oe<ce;oe++){X=arguments[oe];for(var he in X)Object.prototype.hasOwnProperty.call(X,he)&&(V[he]=X[he])}return V},n.apply(this,arguments)},r=function(){if(typeof Map<"u")return Map;function N(V,X){var oe=-1;return V.some(function(ce,he){return ce[0]===X?(oe=he,!0):!1}),oe}return function(){function V(){this.__entries__=[]}return Object.defineProperty(V.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),V.prototype.get=function(X){var oe=N(this.__entries__,X),ce=this.__entries__[oe];return ce&&ce[1]},V.prototype.set=function(X,oe){var ce=N(this.__entries__,X);~ce?this.__entries__[ce][1]=oe:this.__entries__.push([X,oe])},V.prototype.delete=function(X){var oe=this.__entries__,ce=N(oe,X);~ce&&oe.splice(ce,1)},V.prototype.has=function(X){return!!~N(this.__entries__,X)},V.prototype.clear=function(){this.__entries__.splice(0)},V.prototype.forEach=function(X,oe){oe===void 0&&(oe=null);for(var ce=0,he=this.__entries__;ce<he.length;ce++){var ye=he[ce];X.call(oe,ye[1],ye[0])}},V}()}(),o=typeof window<"u"&&typeof document<"u"&&window.document===document,i=function(){return typeof Es<"u"&&Es.Math===Math?Es:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),a=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(i):function(N){return setTimeout(function(){return N(Date.now())},1e3/60)}}(),l=2;function u(N,V){var X=!1,oe=!1,ce=0;function he(){X&&(X=!1,N()),oe&&Fe()}function ye(){a(he)}function Fe(){var H=Date.now();if(X){if(H-ce<l)return;oe=!0}else X=!0,oe=!1,setTimeout(ye,V);ce=H}return Fe}var d=20,f=["top","right","bottom","left","width","height","size","weight"],m=typeof MutationObserver<"u",g=function(){function N(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=u(this.refresh.bind(this),d)}return N.prototype.addObserver=function(V){~this.observers_.indexOf(V)||this.observers_.push(V),this.connected_||this.connect_()},N.prototype.removeObserver=function(V){var X=this.observers_,oe=X.indexOf(V);~oe&&X.splice(oe,1),!X.length&&this.connected_&&this.disconnect_()},N.prototype.refresh=function(){var V=this.updateObservers_();V&&this.refresh()},N.prototype.updateObservers_=function(){var V=this.observers_.filter(function(X){return X.gatherActive(),X.hasActive()});return V.forEach(function(X){return X.broadcastActive()}),V.length>0},N.prototype.connect_=function(){!o||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),m?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},N.prototype.disconnect_=function(){!o||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},N.prototype.onTransitionEnd_=function(V){var X=V.propertyName,oe=X===void 0?"":X,ce=f.some(function(he){return!!~oe.indexOf(he)});ce&&this.refresh()},N.getInstance=function(){return this.instance_||(this.instance_=new N),this.instance_},N.instance_=null,N}(),v=function(N,V){for(var X=0,oe=Object.keys(V);X<oe.length;X++){var ce=oe[X];Object.defineProperty(N,ce,{value:V[ce],enumerable:!1,writable:!1,configurable:!0})}return N},y=function(N){var V=N&&N.ownerDocument&&N.ownerDocument.defaultView;return V||i},_=R(0,0,0,0);function b(N){return parseFloat(N)||0}function E(N){for(var V=[],X=1;X<arguments.length;X++)V[X-1]=arguments[X];return V.reduce(function(oe,ce){var he=N["border-"+ce+"-width"];return oe+b(he)},0)}function A(N){for(var V=["top","right","bottom","left"],X={},oe=0,ce=V;oe<ce.length;oe++){var he=ce[oe],ye=N["padding-"+he];X[he]=b(ye)}return X}function C(N){var V=N.getBBox();return R(0,0,V.width,V.height)}function M(N){var V=N.clientWidth,X=N.clientHeight;if(!V&&!X)return _;var oe=y(N).getComputedStyle(N),ce=A(oe),he=ce.left+ce.right,ye=ce.top+ce.bottom,Fe=b(oe.width),H=b(oe.height);if(oe.boxSizing==="border-box"&&(Math.round(Fe+he)!==V&&(Fe-=E(oe,"left","right")+he),Math.round(H+ye)!==X&&(H-=E(oe,"top","bottom")+ye)),!I(N)){var te=Math.round(Fe+he)-V,le=Math.round(H+ye)-X;Math.abs(te)!==1&&(Fe-=te),Math.abs(le)!==1&&(H-=le)}return R(ce.left,ce.top,Fe,H)}var T=function(){return typeof SVGGraphicsElement<"u"?function(N){return N instanceof y(N).SVGGraphicsElement}:function(N){return N instanceof y(N).SVGElement&&typeof N.getBBox=="function"}}();function I(N){return N===y(N).document.documentElement}function P(N){return o?T(N)?C(N):M(N):_}function B(N){var V=N.x,X=N.y,oe=N.width,ce=N.height,he=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,ye=Object.create(he.prototype);return v(ye,{x:V,y:X,width:oe,height:ce,top:X,right:V+oe,bottom:ce+X,left:V}),ye}function R(N,V,X,oe){return{x:N,y:V,width:X,height:oe}}var x=function(){function N(V){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=R(0,0,0,0),this.target=V}return N.prototype.isActive=function(){var V=P(this.target);return this.contentRect_=V,V.width!==this.broadcastWidth||V.height!==this.broadcastHeight},N.prototype.broadcastRect=function(){var V=this.contentRect_;return this.broadcastWidth=V.width,this.broadcastHeight=V.height,V},N}(),D=function(){function N(V,X){var oe=B(X);v(this,{target:V,contentRect:oe})}return N}(),$=function(){function N(V,X,oe){if(this.activeObservations_=[],this.observations_=new r,typeof V!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=V,this.controller_=X,this.callbackCtx_=oe}return N.prototype.observe=function(V){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(V instanceof y(V).Element))throw new TypeError('parameter 1 is not of type "Element".');var X=this.observations_;X.has(V)||(X.set(V,new x(V)),this.controller_.addObserver(this),this.controller_.refresh())}},N.prototype.unobserve=function(V){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(V instanceof y(V).Element))throw new TypeError('parameter 1 is not of type "Element".');var X=this.observations_;X.has(V)&&(X.delete(V),X.size||this.controller_.removeObserver(this))}},N.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},N.prototype.gatherActive=function(){var V=this;this.clearActive(),this.observations_.forEach(function(X){X.isActive()&&V.activeObservations_.push(X)})},N.prototype.broadcastActive=function(){if(this.hasActive()){var V=this.callbackCtx_,X=this.activeObservations_.map(function(oe){return new D(oe.target,oe.broadcastRect())});this.callback_.call(V,X,V),this.clearActive()}},N.prototype.clearActive=function(){this.activeObservations_.splice(0)},N.prototype.hasActive=function(){return this.activeObservations_.length>0},N}(),U=typeof WeakMap<"u"?new WeakMap:new r,j=function(){function N(V){if(!(this instanceof N))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var X=g.getInstance(),oe=new $(V,X,this);U.set(this,oe)}return N}();["observe","unobserve","disconnect"].forEach(function(N){j.prototype[N]=function(){var V;return(V=U.get(this))[N].apply(V,arguments)}});var G=function(){return typeof i.ResizeObserver<"u"?i.ResizeObserver:j}(),q=function(N,V){return N===void 0&&(N={}),V===void 0&&(V={}),JSON.stringify(N)===JSON.stringify(V)},Q=t.createContext({top:0,bottom:0,left:0,right:0}),F=function(N){var V=N.children,X=t.useState({top:0,right:0,bottom:0,left:0}),oe=X[0],ce=X[1],he=["safe-area-inset-top","safe-area-inset-right","safe-area-inset-bottom","safe-area-inset-left"];t.useEffect(function(){he.forEach(function(H){document.documentElement.style.setProperty("--"+H,"env("+H+")")})},[]);var ye=t.useCallback(function(){var H=he.map(function(ft){return parseInt(window.getComputedStyle(document.documentElement).getPropertyValue("--"+ft)||"0")}),te=H[0],le=H[1],Ve=H[2],_e=H[3],Ee={top:te,bottom:Ve,left:_e,right:le};return Ee},[]),Fe=t.useCallback(function(){ce(function(H){var te=ye();return q(H,te)?H:n({},te)})},[ye]);return t.useEffect(function(){Fe();var H=new G(Fe);return window.visualViewport&&window.visualViewport.addEventListener("resize",Fe),window.addEventListener("orientationchange",Fe),H&&H.observe(document.body),function(){H&&H.disconnect(),window.visualViewport&&window.visualViewport.removeEventListener("resize",Fe),window.removeEventListener("orientationchange",Fe)}},[Fe]),e.jsx(Q.Provider,n({value:oe},{children:V}),void 0)},W=function(){var N=t.useContext(Q);return N},Y=function(){return W()};return hh.SafeAreaProvider=F,hh.useSafeArea=Y,hh}var bj=ewe();function twe(e){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M137.273 41c1.41 59.526 16.381 119.035 35.125 167.77 19.69 51.191 44.086 90.988 57.965 104.867l2.637 2.636V343h46v-26.727l2.637-2.636c13.879-13.88 38.275-53.676 57.965-104.867 18.744-48.735 33.715-108.244 35.125-167.77zm-50.605 68.295c-17.97 6.05-32.296 18.214-37.625 30.367-3.015 6.875-3.48 13.44-.988 20.129.285.766.62 1.54.996 2.318a119.032 119.032 0 0 1 8.504-4.812l6.277-3.215 4.621 5.326c5.137 5.92 9.61 12.37 13.422 19.125 2.573-3.06 5.207-7.864 7.05-14.037 4.491-15.034 4.322-36.95-2.257-55.201zm338.664 0c-6.58 18.25-6.748 40.167-2.258 55.201 1.844 6.173 4.478 10.977 7.051 14.037 3.813-6.756 8.285-13.205 13.422-19.125l4.621-5.326 6.277 3.215a119.033 119.033 0 0 1 8.504 4.812c.375-.779.71-1.552.996-2.318 2.492-6.689 2.027-13.254-.988-20.129-5.329-12.153-19.655-24.317-37.625-30.367zm-365.975 67.74c-20.251 12.486-34.121 31.475-36.746 47.973-1.447 9.1.09 17.224 5.323 24.545 1.66 2.324 3.743 4.594 6.304 6.76a116.606 116.606 0 0 1 11.44-14.977l4.72-5.24 6.217 3.33c7.91 4.236 15.262 9.424 21.94 15.252.973-3.633 1.619-7.892 1.773-12.616.636-19.438-6.762-45.536-20.97-65.027zm393.286 0c-14.21 19.49-21.607 45.59-20.971 65.027.154 4.724.8 8.983 1.773 12.616 6.678-5.828 14.03-11.016 21.94-15.252l6.217-3.33 4.72 5.24a116.606 116.606 0 0 1 11.44 14.976c2.56-2.165 4.643-4.435 6.304-6.76 5.233-7.32 6.77-15.444 5.323-24.544-2.625-16.498-16.495-35.487-36.746-47.973zM54.4 259.133c-14.394 18.806-20.496 41.413-17.004 57.748 1.928 9.014 6.298 16.078 13.844 21.078 4.944 3.276 11.48 5.7 19.94 6.645a120.631 120.631 0 0 1 7.101-17.852l3.125-6.338 6.9 1.535c4.095.911 8.133 2.046 12.094 3.377-.373-3.838-1.309-8.185-2.925-12.82-6.416-18.396-22.749-40.184-43.075-53.373zm403.2 0c-20.326 13.189-36.66 34.977-43.075 53.373-1.616 4.635-2.552 8.982-2.925 12.82a119.337 119.337 0 0 1 12.093-3.377l6.9-1.535 3.126 6.338a120.63 120.63 0 0 1 7.101 17.852c8.46-.944 14.996-3.37 19.94-6.645 7.546-5 11.916-12.065 13.844-21.078 3.492-16.335-2.61-38.942-17.004-57.748zM91.5 341.527c-9.285 23.14-9.027 47.85-.709 63.54 4.57 8.619 11.106 14.607 20.268 17.562 4.586 1.479 9.957 2.19 16.185 1.803-2.135-11.155-2.771-22.97-1.756-34.938l.602-7.074 7.02-1.065a129.43 129.43 0 0 1 13.458-1.312c.554-.025 1.107-.04 1.66-.059-12.419-15.776-33.883-31.43-56.728-38.457zm329 0c-22.845 7.027-44.31 22.68-56.729 38.457.554.019 1.107.034 1.66.059 4.5.206 8.995.637 13.46 1.312l7.02 1.065.6 7.074c1.016 11.967.38 23.783-1.755 34.938 6.228.386 11.6-.324 16.185-1.803 9.162-2.955 15.699-8.943 20.268-17.563 8.318-15.69 8.576-40.4-.709-63.539zM199.729 361c-1.943 7.383-6.045 14.043-11.366 19.363a46.544 46.544 0 0 1-3.484 3.125c14.804 3.295 28.659 8.692 40.404 15.46 2.384-5.36 5.376-10.345 9.408-14.534C239.96 378.942 247.51 375 256 375c8.491 0 16.041 3.942 21.309 9.414 4.032 4.19 7.024 9.175 9.408 14.533 11.815-6.808 25.766-12.23 40.67-15.52a48.107 48.107 0 0 1-3.739-3.413c-5.227-5.333-9.27-11.852-11.261-19.014zM256 393c-3.434 0-5.635 1.084-8.34 3.895-2.704 2.81-5.395 7.52-7.527 13.298-4.265 11.556-6.343 27-7.156 38.446-1.07 15.043 3 33.368 12.285 40.06 4.733 3.412 16.743 3.412 21.476 0 9.285-6.692 13.355-25.017 12.285-40.06-.813-11.446-2.891-26.89-7.156-38.446-2.132-5.777-4.823-10.488-7.527-13.298-2.705-2.81-4.906-3.895-8.34-3.895zm-103.521 4.979c-1.714-.008-3.424.022-5.127.09-1.405.055-2.77.281-4.164.39-.418 27.817 9.816 53.543 24.994 66.644 8.264 7.134 17.586 10.772 28.35 10.157 5.908-.338 12.394-2.03 19.374-5.52-1.27-7.665-1.377-15.42-.883-22.379.632-8.89 1.852-19.962 4.479-30.877-17.16-10.686-42.426-18.395-67.023-18.506zm207.042 0c-24.597.11-49.863 7.82-67.023 18.505 2.627 10.915 3.847 21.987 4.479 30.877.494 6.958.387 14.714-.883 22.38 6.98 3.49 13.466 5.181 19.375 5.519 10.763.615 20.085-3.023 28.35-10.156 15.177-13.102 25.411-38.828 24.993-66.645-1.393-.109-2.76-.335-4.164-.39a116.32 116.32 0 0 0-5.127-.09z"},child:[]}]})(e)}function zD(e){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M367.717 25.318L325.94 63.475l49.953 38.296 26.002-50.247-34.178-26.205zm-62.71 41.608l-38.562 49.242 70.936 55.66 38.604-49.12-70.978-55.782zm-50.495 64.28l-58.035 73.85 118.628 88.885s3.513 2.384 5.48 5.904c2.02 3.612 1.81 6.935 1.81 6.935v128.544H297.14v-24.56H89.255v24.56H61.51v59.358H432.963V338.184c-9.25 4.65-19.462 7.077-29.817 7.084-36.706 0-66.463-29.758-66.462-66.465.034-23.723 12.71-45.63 33.26-57.48L254.51 131.206zM185 220.175l-68.21 87.103 112.83 1.668 27.495-34.984L185 220.175zm218.146 11.285a47.344 47.344 0 0 0-47.34 47.343 47.344 47.344 0 0 0 47.34 47.343 47.344 47.344 0 0 0 47.344-47.343 47.344 47.344 0 0 0-47.344-47.344zm0 17.67a29.674 29.674 0 0 1 29.676 29.673 29.674 29.674 0 0 1-29.676 29.674 29.674 29.674 0 0 1-29.673-29.674 29.674 29.674 0 0 1 29.673-29.674z"},child:[]}]})(e)}const nwe={md:"1rem"},er={xxxs:"16px",xxs:"18px",xs:"20px",sm:"22px",md:"24px",lg:"28px"},rwe={md:"2rem"},owe="_button_6he1d_1",iwe="_groupButton_6he1d_5",awe="_fullWidthMobile_6he1d_16",swe="_colorWithoutRewarded_6he1d_27",ld={button:owe,groupButton:iwe,fullWidthMobile:awe,colorWithoutRewarded:swe},lwe=fe.forwardRef((e,t)=>{const{groupButton:n,fullWidthMobile:r,colorWithoutRewarded:o,className:i,classNames:a,...l}=e,u={className:qt({[ld.groupButton]:n,[ld.fullWidthMobile]:r,[ld.colorWithoutRewarded]:o},i),classNames:(d,f,m)=>{const g=typeof a=="function"?a(d,f,m):a;return{...g,root:qt(ld.button,g==null?void 0:g.root)}}};return w.jsx(wg,{fz:nwe.md,...l,...u,ref:t},`custom-button-${l.id}`)}),cr=fe.memo(lwe),cwe=O.forwardRef((e,t)=>{const{groupButton:n,classNames:r,className:o,...i}=e,a={className:qt({[ld.groupButton]:n},o),classNames:(l,u,d)=>{const f=typeof r=="function"?r(l,u,d):r;return{...f,root:qt(ld.button,f==null?void 0:f.root)}}};return w.jsx(gg,{...i,ref:t,...a},`custom-action-icon-${i.id}`)}),Hl=fe.memo(cwe);var El=(e=>(e.Secondary="secondary",e.Primary="primary",e.Default="default",e))(El||{});const uwe=fe.forwardRef((e,t)=>{const{children:n,withBorder:r=!1,type:o="default",size:i,disabled:a,onClick:l,id:u,color:d}=e;let{variant:f}=e;const m=o==="primary",g=o==="default";f=f||(m?"filled":"outline");const v=Yt.Secondary,y=d||v,_=d||(a?Yt.Neutral:"#e9ecef"),b=g?r?w.jsx(_m,{ref:t,size:i,color:y,variant:f,children:w.jsx(li,{component:"div",c:_,size:i,fs:"initial",lh:0,children:n},"styled-icon-text")},"styled-icon-theme-icon"):w.jsx(li,{component:"div",ref:t,c:_,size:i,fs:"initial",lh:0,children:n},"styled-icon-text"):w.jsx(_m,{ref:t,size:i,color:y,variant:f,children:n},"styled-icon-theme-icon");return l?w.jsx(Hl,{ref:t,id:u,size:i,onClick:l,variant:f,color:y,style:{maxWidth:"fit-content"},children:b}):b});var un=(e=>(e.Primary="primary",e.Secondary="secondary",e.Outline="outline",e.Light="light",e.Transparent="transparent",e))(un||{});const Cr=(e,t)=>{const{color:n,variant:r}=(()=>{if(e==="primary")return{color:"",variant:"filled"};if(e==="secondary")return{color:Yt.Secondary,variant:"filled"};if(e==="outline")return{color:Yt.Secondary,variant:"outline"};if(e==="light")return{color:Yt.Neutral,variant:"light"};if(e==="transparent")return{color:Yt.Neutral,variant:"transparent"};throw new Error(`Unknown button type "${e}"`)})(),o=window.innerHeight<365?t!=null&&t.isCompact?"compact-xs":"xs":t!=null&&t.isCompact?"compact-md":"md";return{color:n,variant:r,size:o}},Vn=fe.memo(uwe);function UD(e){return We({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"},child:[]}]})(e)}function wj(e){return We({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95a15.65 15.65 0 0 0-1.38-3.56A8.03 8.03 0 0 1 18.92 8zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56A7.987 7.987 0 0 1 5.08 16zm2.95-8H5.08a7.987 7.987 0 0 1 4.33-3.56A15.65 15.65 0 0 0 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95a8.03 8.03 0 0 1-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z"},child:[]}]})(e)}function dwe(e){return We({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M22 12c0-5.5-4.5-10-10-10S2 6.5 2 12s4.5 10 10 10 10-4.5 10-10zM5.7 7.1l11.2 11.2c-1.3 1.1-3 1.7-4.9 1.7-4.4 0-8-3.6-8-8 0-1.9.6-3.6 1.7-4.9zM20 12c0 1.9-.6 3.6-1.7 4.9L7.1 5.7C8.4 4.6 10.1 4 12 4c4.4 0 8 3.6 8 8z"},child:[]}]})(e)}function fwe(e){return We({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 18c1.1 0 1.99-.9 1.99-2L22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2h-4zM4 6h16v10H4V6z"},child:[]}]})(e)}function Sj(e){return We({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"},child:[]}]})(e)}function Aj(e){return We({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M4.27 3 3 4.27l9 9v.28c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4v-1.73L19.73 21 21 19.73 4.27 3zM14 7h4V3h-6v5.18l2 2z"},child:[]}]})(e)}function qxe(e){return We({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9 1h6v2H9zM13 8v2.17l6.98 6.98a8.963 8.963 0 0 0-.95-9.76l1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42a8.962 8.962 0 0 0-9.77-.96L10.83 8H13zM2.81 2.81 1.39 4.22l3.4 3.4a8.994 8.994 0 0 0 12.59 12.59l2.4 2.4 1.41-1.41L2.81 2.81z"},child:[]}]})(e)}function hwe(e){return We({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M21 3H3c-1.11 0-2 .89-2 2v12a2 2 0 0 0 2 2h5v2h8v-2h5c1.1 0 1.99-.9 1.99-2L23 5a2 2 0 0 0-2-2zm0 14H3V5h18v12zm-5-6-7 4V7z"},child:[]}]})(e)}function mwe(e){return We({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m12 3.19 7 3.11V11c0 4.52-2.98 8.69-7 9.93-4.02-1.24-7-5.41-7-9.93V6.3l7-3.11M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm-1 6h2v2h-2V7zm0 4h2v6h-2v-6z"},child:[]}]})(e)}function VD(e){return We({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M6 13c0-1.65.67-3.15 1.76-4.24L6.34 7.34A8.014 8.014 0 0 0 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91zm14 0c0-4.42-3.58-8-8-8-.06 0-.12.01-.18.01l1.09-1.09L11.5 2.5 8 6l3.5 3.5 1.41-1.41-1.08-1.08c.06 0 .12-.01.17-.01 3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93z"},child:[]}]})(e)}function Qxe(e){return We({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"m21 11 2-2c-3.73-3.73-8.87-5.15-13.7-4.31l2.58 2.58c3.3-.02 6.61 1.22 9.12 3.73zm-2 2a9.895 9.895 0 0 0-3.72-2.33l3.02 3.02.7-.69zM9 17l3 3 3-3a4.237 4.237 0 0 0-6 0zM3.41 1.64 2 3.05 5.05 6.1C3.59 6.83 2.22 7.79 1 9l2 2c1.23-1.23 2.65-2.16 4.17-2.78l2.24 2.24A9.823 9.823 0 0 0 5 13l2 2a6.999 6.999 0 0 1 4.89-2.06l7.08 7.08 1.41-1.41L3.41 1.64z"},child:[]}]})(e)}const gwe=()=>ne(t=>t.platform.playerCoins)>0||pn().isAdvDisabled,k1=e=>{const{size:t,opacity:n,color:r,paymentIcon:o,rewardIcon:i}=e;return gwe()&&(!i||o)?w.jsx(ij,{size:t,opacity:n??.7}):w.jsx(hwe,{size:t,color:r,opacity:n??.35})},pwe=e=>{const{label:t,children:n,...r}=e;return w.jsx($s,{maw:"100%",label:t,children:w.jsx(cr,{...r,children:n})})},Cj=fe.memo(pwe),vwe=e=>{const{id:t,label:n,buttonType:r=un.Secondary,Icon:o,iconSize:i,onClick:a,disabled:l,loading:u,withText:d,textLabel:f,withRewardIcon:m,paymentIcon:g,className:v,color:y,textColor:_}=e,b=Cr(r,{isCompact:!0}),E=ne(I=>I.config.windowSize.windowWidth<=350),A=Rn(),C=w.jsx(o,{size:i||20,color:_}),M=f||n,T=A?void 0:rwe.md;return w.jsx(Cj,{id:t,label:n,onClick:a,disabled:l,loading:u,groupButton:!0,maw:"100%",h:T,className:v,leftSection:w.jsxs(ln,{align:"center",gap:"5",children:[d&&w.jsx(li,{fw:500,component:"div",c:_,style:{whiteSpace:"nowrap"},children:M}),C]}),styles:{section:{marginRight:m?4:0}},...b,...!!y&&{color:y},...E?{px:4}:{},children:m&&w.jsx(k1,{size:16,paymentIcon:g})})},Fi=fe.memo(vwe),kj=({onClick:e,id:t,withText:n,isGameInfoButton:r})=>{hn();const o=ne(u=>u.board.history.length===0),i=Re(u=>u.app.analyzeBoard),a=Cr(un.Primary),l=Ql();return Bt().feature[we.Analyze]?r?w.jsx(Fi,{id:t,label:be("analyze"),Icon:zD,buttonType:un.Primary,iconSize:20,onClick:e||i,disabled:o,textLabel:be("analyzeShort"),withText:n,withRewardIcon:!0}):w.jsx(cr,{id:t,onClick:e||i,disabled:o,...a,leftSection:w.jsx(zD,{size:l.normal||er.md}),rightSection:w.jsx(k1,{size:l.normal||16},"analyze-button-reward-icon"),children:be("analyze")}):null};function e0(e){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m441 336.2-.06-.05c-9.93-9.18-22.78-11.34-32.16-12.92l-.69-.12c-9.05-1.49-10.48-2.5-14.58-6.17-2.44-2.17-5.35-5.65-5.35-9.94s2.91-7.77 5.34-9.94l30.28-26.87c25.92-22.91 40.2-53.66 40.2-86.59s-14.25-63.68-40.2-86.6c-35.89-31.59-85-49-138.37-49C223.72 48 162 71.37 116 112.11c-43.87 38.77-68 90.71-68 146.24s24.16 107.47 68 146.23c21.75 19.24 47.49 34.18 76.52 44.42a266.17 266.17 0 0 0 86.87 15h1.81c61 0 119.09-20.57 159.39-56.4 9.7-8.56 15.15-20.83 15.34-34.56.21-14.17-5.37-27.95-14.93-36.84zM112 208a32 32 0 1 1 32 32 32 32 0 0 1-32-32zm40 135a32 32 0 1 1 32-32 32 32 0 0 1-32 32zm40-199a32 32 0 1 1 32 32 32 32 0 0 1-32-32zm64 271a48 48 0 1 1 48-48 48 48 0 0 1-48 48zm72-239a32 32 0 1 1 32-32 32 32 0 0 1-32 32z"},child:[]}]})(e)}function ywe(e){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M320 176v-40a40 40 0 0 0-40-40H88a40 40 0 0 0-40 40v240a40 40 0 0 0 40 40h192a40 40 0 0 0 40-40v-40m64-160 80 80-80 80m-193-80h273"},child:[]}]})(e)}function VB(e){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M467.51 248.83c-18.4-83.18-45.69-136.24-89.43-149.17A91.5 91.5 0 0 0 352 96c-26.89 0-48.11 16-96 16s-69.15-16-96-16a99.09 99.09 0 0 0-27.2 3.66C89 112.59 61.94 165.7 43.33 248.83c-19 84.91-15.56 152 21.58 164.88 26 9 49.25-9.61 71.27-37 25-31.2 55.79-40.8 119.82-40.8s93.62 9.6 118.66 40.8c22 27.41 46.11 45.79 71.42 37.16 41.02-14.01 40.44-79.13 21.43-165.04z"},child:[]},{tag:"circle",attr:{cx:"292",cy:"224",r:"20"},child:[]},{tag:"path",attr:{d:"M336 288a20 20 0 1 1 20-19.95A20 20 0 0 1 336 288z"},child:[]},{tag:"circle",attr:{cx:"336",cy:"180",r:"20"},child:[]},{tag:"circle",attr:{cx:"380",cy:"224",r:"20"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M160 176v96m48-48h-96"},child:[]}]})(e)}function Hxe(e){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M64 144h226.75a48 48 0 0 0 90.5 0H448a16 16 0 0 0 0-32h-66.75a48 48 0 0 0-90.5 0H64a16 16 0 0 0 0 32zm384 224h-66.75a48 48 0 0 0-90.5 0H64a16 16 0 0 0 0 32h226.75a48 48 0 0 0 90.5 0H448a16 16 0 0 0 0-32zm0-128H221.25a48 48 0 0 0-90.5 0H64a16 16 0 0 0 0 32h66.75a48 48 0 0 0 90.5 0H448a16 16 0 0 0 0-32z"},child:[]}]})(e)}function _we(e){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"square",strokeMiterlimit:"10",strokeWidth:"32",d:"M320 146s24.36-12-64-12a160 160 0 1 0 160 160"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"square",strokeMiterlimit:"10",strokeWidth:"32",d:"m256 58 80 80-80 80"},child:[]}]})(e)}function qD(e){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M378 324a69.78 69.78 0 0 0-48.83 19.91L202 272.41a69.68 69.68 0 0 0 0-32.82l127.13-71.5A69.76 69.76 0 1 0 308.87 129l-130.13 73.2a70 70 0 1 0 0 107.56L308.87 383A70 70 0 1 0 378 324z"},child:[]}]})(e)}const bwe=({onClick:e,source:t,withText:n,isIconSecondary:r})=>{let o="design";const i=Re(u=>u.modals.openBoardSettingsModal),a=Ar(Yt.Secondary),l=()=>{e&&e(),i(t)};return r?w.jsx(Fi,{id:_t.mainScreen.button.openBoardSettingsModal,label:be(o),buttonType:un.Secondary,Icon:e0,iconSize:20,onClick:l,withText:n}):w.jsx(cr,{onClick:l,id:_t.mainScreen.button.openBoardSettingsModal,w:"100%",color:a,leftSection:w.jsx(e0,{size:er.md}),children:be(o)})},wwe=({source:e})=>{const t=Re(o=>o.modals.openBoardSettingsModal),n=Ar(Yt.Neutral),r=()=>{t(e)};return w.jsx(Hl,{onClick:r,color:n,variant:"transparent",children:w.jsx(Ige,{color:"var(--mantine-color-text)",size:er.xs})})};function Swe(e){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(e)}function Awe(e){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(e)}function QD(e){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function Cwe(e){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(e)}const kwe=()=>{hn();const e=Re(r=>r.board.toggleRotated),t=Cr(un.Transparent),n=Ql();return Bt().isRotateBoardEnable?w.jsx($s,{maw:"100%",label:be("flipTheBoard"),children:w.jsx(Hl,{id:_t.gameInfo.gameControlButton.button.flipBoard,onClick:e,...t,children:w.jsx(Cwe,{size:n.small||16})})}):null},Ewe=fe.memo(kwe);function Bwe(e){return We({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M680 95.328c-160 0-202.655-96-405.312-96C144-.672 64 98.016 64 98.016v894.656c0 17.665 14.336 32 32 32s32-14.335 32-32V584.8c33.76-21.776 80.336-41.472 138.688-41.472 202.656 0 261.312 96 421.312 96s272-96 272-96v-544s-120 96-280 96zM896.001 510.72c-36.16 23.584-112.784 64.606-208 64.606-62.912 0-105.84-17.263-160.224-39.135-66.272-26.64-141.408-56.864-261.088-56.864-54.688 0-101.072 13.76-138.688 32.16V124.017c24.096-21.92 76.624-60.688 146.688-60.688 94.112 0 147.088 22.848 203.184 47.008 55.872 24.08 113.664 48.992 202.128 48.992 85.248 0 160.128-23.568 216-48.912V510.72z"},child:[]}]})(e)}const Rwe=e=>{hn();const{className:t,withText:n}=e,r=Re(v=>v.modals.openConfirmDefeatModal),o=Re(v=>v.modals.openConfirmVictoryModal),i=ne(v=>v.board.isComputerGaveUp),a=_7(),l=Ar(Yt.Success),u=Ar(Yt.Reject),d=Ar(Yt.Neutral),f=i?l:a?u:d,m=be(i?"wining":a?"giveUp":"cancelTheGame"),g=n?be(a?"giveUp":"cancelGame"):void 0;return w.jsx(Fi,{id:_t.gameInfo.gameControlButton.button.giveUp,label:m,buttonType:un.Primary,Icon:Bwe,iconSize:16,onClick:()=>{i?o():r()},withText:n,textLabel:g,className:t,color:f})},Ej=fe.memo(Rwe);function xwe(e){return We({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M689 165.1L308.2 493.5c-10.9 9.4-10.9 27.5 0 37L689 858.9c14.2 12.2 35 1.2 35-18.5V183.6c0-19.7-20.8-30.7-35-18.5z"},child:[]}]})(e)}function Owe(e){return We({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M715.8 493.5L335 165.1c-14.2-12.2-35-1.2-35 18.5v656.8c0 19.7 20.8 30.7 35 18.5l380.8-328.4c10.9-9.4 10.9-27.6 0-37z"},child:[]}]})(e)}var Vm=(e=>(e.Right="right",e.Left="left",e))(Vm||{});const Mwe=e=>{const{id:t,size:n,direction:r,onClick:o}=e,i=ne(v=>v.board.history),a=ne(v=>v.board.historyOffset),l=Re(v=>v.board.setMoveForView),u=Cr(un.Outline),d=O.useCallback(async()=>{r==="right"?a!==null&&a<i.length-1&&l({fen:i[a+1].after,offset:a+1}):a!==null&&a>0?l({fen:i[a-1].after,offset:a-1}):a===null&&l({fen:i[i.length-2].after,offset:i.length-2})},[a,i,l]),f=a===0||i.length<2,g=r==="right"?a===null:f;return w.jsx(Hl,{id:t,groupButton:!0,disabled:g,...u,size:n,onClick:o??d,...g&&{opacity:.6},children:w.jsx(Vn,{disabled:g,children:r==="right"?w.jsx(Owe,{}):w.jsx(xwe,{})})})},t0=fe.memo(Mwe),Pwe=({position:e,children:t})=>e?w.jsx("div",{style:{...e,position:"absolute"},children:t}):t,Twe=e=>{const{onClick:t,id:n,title:r,position:o,size:i,iconSize:a,defaultButton:l=!1}=e,u=Re(A=>A.online.setOfflineState),d=ne(A=>A.app.gameState),f=ne(A=>Xr(A.app.gameType)),m=Re(A=>A.app.openMenu),g=Re(A=>A.modals.openConfirmExitModal),v=Cr(un.Outline),y=Ar(fo.Neutral2),_=Um(At.NonGameButton,{place:"HomeInGame"}),b=d===xe.AfterGame,E=async()=>{t&&t(),_(),d===xe.InGame?g():(f&&u({reason:"click_home"}),m())};return w.jsx(Pwe,{position:o,children:l?w.jsx(cr,{id:n,onClick:E,...v,leftSection:w.jsx(Vn,{size:"auto",children:w.jsx(UD,{size:a||24},"home-button-icon")}),style:{...b&&{color:"rgb(161, 170, 180)"}},styles:{label:{color:y}},children:r}):w.jsx(Vn,{id:n,onClick:E,size:i,children:w.jsx(UD,{size:a||24},"home-button-icon")})})},Iwe=fe.memo(Twe);function Fd(e){return We({attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.904 16c1.777-3.219 2.076-8.13-4.904-7.966v3.966l-6-6 6-6v3.881c8.359-0.218 9.29 7.378 4.904 12.119z"},child:[]}]})(e)}function Wxe(e){return We({attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M13.5 2l-7.5 7.5-3.5-3.5-2.5 2.5 6 6 10-10z"},child:[]}]})(e)}const Lwe={"icon-container":"_icon-container_3dzwg_1"},Dwe=e=>{const{onClick:t,id:n,w:r}=e,o=ne(u=>u.progress.lastSavedGame),i=Re(u=>u.app.startLastSavedGame);if(!ne(u=>u.progress.isLastGameSaved)||!Bt().feature[we.GameSave])return null;const l=async()=>{t&&await t(),o!=null&&o.gameType&&(await i(!1),Ne.trackGameContinued(o.gameType))};return w.jsx(cr,{onClick:l,id:n,w:r||"100%",leftSection:w.jsx(Fd,{className:Lwe["icon-container"],size:20}),children:be("continuePlaying")})},Nwe=({id:e,onClick:t,buttonType:n,color:r=Yt.Secondary})=>{const o=Re(d=>d.modals.openLeaderboardModal),i=ne(d=>d.app.gameState===xe.AfterGame),a=Ar(fo.Neutral2),l=Cr(n||un.Light),u=()=>{t&&t(),o()};return w.jsx(cr,{...n&&l,onClick:u,id:e,w:"100%",color:r,leftSection:w.jsx(Vn,{size:"auto",children:w.jsx(twe,{size:er.md})}),style:{...i&&{color:"rgb(161, 170, 180)"}},styles:n===un.Outline?{label:{color:a}}:{},children:be("leaders")})},E1=({onClick:e,id:t,withText:n,isGameInfoButton:r})=>{hn();const o=ne(g=>g.app.gameType),i=Re(g=>g.online.startActiveSearch),a=Re(g=>g.app.newGame),l=Re(g=>g.app.openMenu),u=Re(g=>g.app.createOnlineWithFriendGame),d=async()=>{e&&await e(),Qn(o)?o===re.TogetherOnline?(l(),u(!0)):(i(),l()):a()},f="startNewBatch",m=Cr(un.Secondary);return r?w.jsx(Fi,{id:t,label:be("startNewBatch"),Icon:QD,iconSize:20,onClick:d,withText:n}):w.jsx(cr,{id:t,onClick:d,colorWithoutRewarded:!0,leftSection:w.jsx(QD,{size:er.md}),...m,children:be(f)})},Fwe=()=>{const e=Re(o=>o.app.createAIGame),t=ne(o=>o.progress.isLastGameSaved),n=ne(o=>o.progress.lastSavedGame),r=Re(o=>o.modals.openDeleteLastSavedGameModal);return async()=>{t&&n.gameType===re.AI&&Bt().feature[we.GameSave]?await r():(e(),Ne.trackClickPlay(re.AI,xe.Menu))}},Gwe=({onClick:e,id:t,w:n})=>{const r=Fwe(),o=async()=>{e&&await e(),await r()};return w.jsx(cr,{id:t,w:n||"100%",leftSection:w.jsx(fwe,{size:er.md,style:{minWidth:20}}),onClick:o,children:be("playWithComputer")})},jwe=e=>w.jsx(fr.Label,{p:"0.25rem",...e}),$we=e=>w.jsx(fr.Item,{p:"0.25rem",...e},"custom-menu-item"),zwe=e=>{const{style:t,...n}=e,r={style:{display:"flex",flexFlow:"column",maxWidth:"190px",padding:"0.25rem",...t}};return w.jsx(fr.Dropdown,{...r,...n},"custom-menu-dropdown")},yr={Label:jwe,Item:$we,Target:fr.Target,Dropdown:zwe};var B1=(e=>(e.MainMenu="main_menu",e.ModalGameResult="modal_game_result",e.MobileMenuDialog="mobile_menu_dialog",e.DesktopBottomIcon="desktop_bottom_icon ",e))(B1||{});const Uwe=({place:e,size:t})=>{const n=Cr(un.Outline),r=Ar(fo.Neutral2),o=ex();if(!pn().isOtherGamesButtonEnabled||pn().gamePushOverlayDisabled||o)return null;const i=()=>{Ne.trackClickOtherGamesCustom(e),window.gp.gamesCollections.open({tag:"COMMON"}),Ne.trackGPRequest(_r.GameCollectionsOpen)};return w.jsx(cr,{onClick:i,w:"100%",...n,...!!t&&{size:t},variant:"outline",leftSection:w.jsx(VB,{color:"white",size:er.md}),styles:{label:{color:r}},children:be("otherGames")})},Bj=e=>{const{place:t,size:n,iconSize:r}=e,o=Rn(),i=ex();if(!pn().isOtherGamesButtonEnabled||pn().gamePushOverlayDisabled||i)return null;const a=()=>{Ne.trackClickOtherGamesCustom(t),window.gp.gamesCollections.open({tag:"COMMON"}),Ne.trackGPRequest(_r.GameCollectionsOpen)};return o?w.jsx(yr.Item,{onClick:a,closeMenuOnClick:!0,id:"other-game-button",leftSection:w.jsx(Vn,{type:El.Default,size:n,withBorder:!0,children:w.jsx(VB,{size:r},"other-game-button-icon")}),children:be("otherGames")}):w.jsx(Vn,{id:"other-game-button",onClick:a,size:n,withBorder:!0,children:w.jsx(VB,{size:r},"other-game-button-icon")})},Tg=({id:e,onClick:t,place:n,isGameInfoButton:r,withText:o})=>{hn();let i="shop";const a=Re(m=>m.modals.openPaymentsModal),l=Ar(Yt.Secondary),u=Cr(un.Secondary),d=()=>{t&&t(),a({place:n})},f=[Tr.MainMenuButton,Tr.PlayerGoldSelectDown,Tr.PlayerZeroGoldButton].includes(n);return r?w.jsx(Fi,{id:e,label:be(i),buttonType:un.Secondary,Icon:Ky,iconSize:20,onClick:d,withText:o}):w.jsx(cr,{onClick:d,id:e,w:"100%",leftSection:w.jsx(Ky,{size:er.md},"payments-button-icon"),...f?{color:l}:u,children:be(i)})},Rj=e=>{const{size:t,iconSize:n}=e,r=Re(a=>a.modals.openPaymentsModal),o=Rn(),i=()=>{r({place:Tr.MenuItemInSettings})};return o?w.jsx(yr.Item,{onClick:i,closeMenuOnClick:!0,id:"payments-button",leftSection:w.jsx(Vn,{type:El.Default,size:t,withBorder:!0,children:w.jsx(Ky,{size:n},"payments-button-icon")}),children:be("shop")}):w.jsx(Vn,{id:"payments-button",onClick:i,size:t,withBorder:!0,children:w.jsx(Ky,{size:n},"payments-button-icon")})},Vwe=({size:e,style:t,...n})=>w.jsx("svg",{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 269.393 269.393",style:{width:ve(e),height:ve(e),...t},...n,children:w.jsx("path",{d:`M134.696,0C60.424,0,0,60.425,0,134.696s60.424,134.696,134.696,134.696s134.696-60.425,134.696-134.696
				S208.968,0,134.696,0z M136.869,252.518c-12.91,0-25.84-8.779-36.409-24.721c-4.421-6.669-8.316-14.428-11.614-22.979h38.351v20.879
				c0,4.143,3.358,7.5,7.5,7.5s7.5-3.357,7.5-7.5v-20.879h42.616C173.729,233.559,156.188,252.518,136.869,252.518z M15.242,142.196
				H39.23c2.921,11.683,12.5,20.75,24.457,22.928c1.12,8.63,2.689,16.884,4.66,24.693H28.471
				C20.961,175.403,16.303,159.28,15.242,142.196z M142.196,17.372c13.801,2.521,26.969,14.745,37.083,34.544
				c-3.816,3.294-6.688,7.649-8.15,12.607h-28.934V17.372z M196.607,83.585c-6.375,0-11.563-5.187-11.563-11.563
				s5.187-11.563,11.563-11.563s11.563,5.187,11.563,11.563S202.983,83.585,196.607,83.585z M171.13,79.522
				c3.01,10.206,11.992,17.875,22.887,18.934c1.574,9.312,2.518,18.938,2.841,28.74h-54.661V79.522H171.13z M127.196,127.196H99.257
				c-2.597-10.386-10.455-18.707-20.568-21.958c1.209-8.956,2.981-17.578,5.238-25.716h43.269V127.196z M69.244,150.634
				c-8.788,0-15.938-7.149-15.938-15.938s7.149-15.938,15.938-15.938s15.938,7.149,15.938,15.938S78.032,150.634,69.244,150.634z
				 M63.697,104.267c-11.961,2.175-21.545,11.243-24.467,22.93H15.242c1.063-17.104,5.731-33.247,13.257-47.674H68.42
				C66.401,87.448,64.81,95.734,63.697,104.267z M78.7,164.15c10.108-3.253,17.961-11.572,20.557-21.954h27.939v47.621h-43.29
				C81.657,181.696,79.906,173.082,78.7,164.15z M142.196,189.817v-47.621h54.667c-0.576,17.011-3.092,33.174-7.111,47.621H142.196z
				 M211.869,142.196h18.328c4.142,0,7.5-3.357,7.5-7.5s-3.358-7.5-7.5-7.5h-18.331c-0.332-10.757-1.371-21.329-3.116-31.561
				c6.386-3.297,11.269-9.105,13.336-16.113h18.809c8.618,16.521,13.499,35.287,13.499,55.174c0,19.866-4.871,38.614-13.471,55.121
				h-35.547C209.143,174.965,211.356,158.863,211.869,142.196z M231.602,64.522h-9.517c-3.245-11.005-13.435-19.063-25.477-19.063
				c-1.242,0-2.463,0.092-3.66,0.258c-4.421-8.751-9.442-16.33-14.927-22.601C199.615,31.531,218.182,46.041,231.602,64.522z
				 M127.196,15.242v49.281H88.854c3.211-8.316,6.994-15.876,11.277-22.426c2.267-3.467,1.294-8.115-2.173-10.382
				c-3.467-2.268-8.115-1.293-10.382,2.173c-5.761,8.811-10.693,19.19-14.666,30.635H37.791
				C58.186,36.436,90.473,17.524,127.196,15.242z M37.752,204.817H72.81c6.236,18.028,14.801,32.962,24.934,43.73
				C73.41,240.63,52.477,225.118,37.752,204.817z M178.108,246.242c4.755-5.473,9.176-11.948,13.18-19.369
				c3.662-6.787,6.855-14.192,9.587-22.056h30.765C218.235,223.299,199.686,237.815,178.108,246.242z`})}),qwe=()=>{const[e,t]=O.useState(Un.Disconnected);return O.useEffect(()=>{const n=gt.status$.subscribe(t);return()=>n.unsubscribe()},[]),e},Qwe=()=>{const[e,t]=O.useState(gt.status===Un.Connecting||gt.status===Un.Connected);return O.useEffect(()=>{const n=gt.status$.subscribe(r=>{r===Un.Connecting||r===Un.Connected?t(!0):t(!1)});return()=>n.unsubscribe()},[]),e},Jxe=()=>{const[e,t]=O.useState(null),n=O.useRef(null);return O.useEffect(()=>{const r=[gt.error$.subscribe(o=>{if(o){const i=KY(o);t(i),n.current&&clearTimeout(n.current),n.current=setTimeout(()=>{t(null)},2e3)}else t(null)})];return()=>r.forEach(o=>o.unsubscribe())},[]),e},xj=()=>{const[e,t]=O.useState(!1);return O.useEffect(()=>{const n=gt.initialize$.subscribe(t);return()=>n.unsubscribe()},[]),e},Zxe=()=>{const[e,t]=O.useState(null);return O.useEffect(()=>{const n=gt.openLobbies$.subscribe(t);return()=>n.unsubscribe()},[]),e},Yxe=()=>{const[e,t]=O.useState(null);return O.useEffect(()=>{const n=gt.lobby$.subscribe(t);return()=>n.unsubscribe()},[]),e},Hwe=({onClick:e,id:t,loading:n})=>{const r=ne(y=>y.flags.maioEnabled),o=xj(),i=ne(y=>y.platform.isAuthOrGuest),a=Re(y=>y.platform.login),l=Re(y=>y.app.createOnlineGame),u=Re(y=>y.session.setPassiveSearchDisabled);if(!Bt().feature[we.Online])return null;const[d,f,m]=[w.jsx(Vwe,{size:er.sm}),be("playOnline"),void 0],g=()=>{Ne.trackClickPlay(re.Online),Ne.trackShowAuthModal(re.Online),a({force:!0,showModal:!0}).then(async y=>{y&&(e&&await e(),l())})},v=async()=>{Ne.trackClickPlay(re.Online),e&&await e(),l(),u(!1)};return w.jsx(cr,{loading:!r&&(o||n),disabled:!r&&o,onClick:i?v:g,id:t,w:"100%",leftSection:d,rightSection:m,children:f})},Wwe=({onClick:e,id:t})=>{let n="playTogether";const r=ne(l=>l.config.showConfirmFriendGameModal),o=Re(l=>l.app.createFriendGame),i=Re(l=>l.modals.openConfirmFriendGameModal),a=async()=>{e&&await e(),r?i():o(),Ne.trackClickPlay(re.Together)};return w.jsx(cr,{onClick:a,id:t,leftSection:w.jsx(Dge,{size:er.md,style:{minWidth:20}}),w:"100%",children:be(n)})},Jwe=(e,t)=>e.opponent===t.opponent&&e.player===t.player&&e.timesLeft===t.timesLeft,Oj=e=>{const[t,n]=O.useState(bn.getState(e)),r=O.useRef(t);return O.useEffect(()=>{const o=bn.state$.subscribe(i=>{const a=i[e];Jwe(a,r.current)||(n(a),r.current=a)});return()=>o.unsubscribe()},[e]),t},Mj=e=>{const[t,n]=O.useState(!1),r=O.useRef(!1);return O.useEffect(()=>{const o=bn.state$.subscribe(i=>{const a=i[e].isOpponentWaiting();a!==r.current&&(n(a),r.current=a)});return()=>o.unsubscribe()},[e]),t},Zwe=e=>{const[t,n]=O.useState(!1),r=O.useRef(!1);return O.useEffect(()=>{const o=bn.state$.subscribe(i=>{const a=i[e].player!==In.UnKnown,l=i[e].timesLeft,u=a||l<=0;u!==r.current&&(n(u),r.current=u)});return()=>o.unsubscribe()},[e]),t},Kxe=()=>Oj(ho.DrawRequest),Ywe=()=>Mj(ho.DrawRequest),Kwe=()=>Zwe(ho.DrawRequest),Xwe=()=>Oj(ho.RematchRequest),eSe=()=>Mj(ho.RematchRequest),tSe=()=>{const[e,t]=O.useState(!1),n=O.useRef(!1);return O.useEffect(()=>{const r=Nt.hint.progress$.subscribe(o=>{o!==n.current&&(t(o),n.current=o)});return()=>r.unsubscribe()},[]),e},nSe=()=>{const[e,t]=O.useState(!1),n=O.useRef(!1);return O.useEffect(()=>{const r=Nt.hint.limited$.subscribe(o=>{o!==n.current&&(t(o),n.current=o)});return()=>r.unsubscribe()},[]),e},rSe=()=>{const[e,t]=O.useState(!1),n=O.useRef(!1);return O.useEffect(()=>{const r=Nt.undo.progress$.subscribe(o=>{o!==n.current&&(t(o),n.current=o)});return()=>r.unsubscribe()},[]),e},oSe=()=>{const[e,t]=O.useState(!1),n=O.useRef(!1);return O.useEffect(()=>{const r=Nt.undo.limited$.subscribe(o=>{o!==n.current&&(t(o),n.current=o)});return()=>r.unsubscribe()},[]),e},iSe=()=>{const[e,t]=O.useState(!1),n=O.useRef(!1);return O.useEffect(()=>{const r=Nt.fatalUndo.progress$.subscribe(o=>{o!==n.current&&(t(o),n.current=o)});return()=>r.unsubscribe()},[]),e},aSe=()=>{const[e,t]=O.useState(!1),n=O.useRef(!1);return O.useEffect(()=>{const r=Nt.fatalUndo.limited$.subscribe(o=>{o!==n.current&&(t(o),n.current=o)});return()=>r.unsubscribe()},[]),e},R1=({onClick:e,id:t,withText:n,isGameInfoButton:r})=>{hn();const o=Re(x=>x.app.rematch),i=Re(x=>x.p2p.sendRematchRequest),a=Re(x=>x.online.setConfirmationRematchFake),l=Qwe(),u=ne(x=>x.app.gameType),d=ne(x=>x.gameSettings.handicapEnabled||x.gameSettings.hintsEnabled),f=ne(x=>x.flags.confirmationDuration),m=Xr(u),g=u===re.FakeOnline,v=m||g,y=ne(x=>x.platform.playerCash<x.config.onlineBetSize),[_,b]=O.useState(!1);O.useEffect(()=>{const x=setTimeout(()=>{b(!0)},f*1e3);return()=>{clearTimeout(x)}},[]);const A=eSe()&&(m||g),C=Xwe(),M=m&&(C.player!==In.UnKnown||!l)||g&&(_||C.player!==In.UnKnown&&C.opponent===In.UnConfirmed)||v&&y,T=()=>{A||(m?(i(!0),bn.rematch.player.confirm(!0)):g?a({player:In.Confirmed}):(e&&e(),Ne.trackClickRematch(u,!0),o()))},I=Cr(un.Primary),P=Cr(un.Secondary),B=Ql(),R=d?I:P;return r?w.jsx(Fi,{id:t,label:be("rematch"),Icon:VD,iconSize:24,withRewardIcon:d,onClick:T,disabled:M,loading:A,withText:n}):w.jsx(cr,{id:t,onClick:T,colorWithoutRewarded:!d,disabled:M,loading:A,leftSection:w.jsx(VD,{size:B.normal||er.md},"rematch-button-icon"),rightSection:d&&w.jsx(k1,{size:B.normal||16},"rematch-button-reward-icon"),...R,children:be("rematch")})},sSe=({size:e,color:t})=>w.jsx(Fd,{style:{transform:"scaleX(-1)"},size:e,color:t},"rematch-from-analyze-button-icon"),Pj=({id:e,onClick:t,isGameInfoButton:n,withText:r})=>{const o=ne(m=>m.analyze.restartDisabled),i=Re(m=>m.analyze.restartFromCurrPos),a=Re(m=>m.session.setPlayedFromAnalyze),l=Cr(un.Primary),u=Ql(),d=Cr(un.Primary),f=O.useCallback(()=>{t&&t(),i(),a(!0)},[]);return Bt().feature[we.Analyze]?n?w.jsx(Fi,{id:e,label:be("playFromHere"),Icon:sSe,iconSize:20,buttonType:un.Primary,onClick:f,disabled:o,withText:r}):w.jsx(cr,{id:e,groupButton:!0,onClick:f,...l,...d,disabled:o,leftSection:w.jsx(Fd,{style:{transform:"scaleX(-1)"},size:u.normal||20},"rematch-from-analyze-button-icon"),children:be("playFromHere")}):null},lSe=e=>{hn();const{className:t,withText:n}=e,r=Re(u=>u.p2p.sendDrawRequest),o=Ar(Yt.Neutral),i=Ywe(),a=Kwe();if(!Bt().feature[we.Online]&&!Bt().feature[we.OnlineTogether])return null;const l=()=>{i||(r(!0),bn.draw.decrementTimesLeft())};return w.jsx(Fi,{id:_t.gameInfo.gameControlButton.button.requestDrawOnlineOpponent,label:be("draw"),buttonType:un.Primary,Icon:a?h_e:oj,iconSize:20,onClick:l,disabled:a,loading:i,withText:n,className:t,color:o})},Tj=fe.memo(lSe),cSe="_modalLangButton_108te_1",uSe={modalLangButton:cSe},dSe={[He.EN]:{getId:e=>e==null?void 0:e.changeLanguageEn},[He.RU]:{getId:e=>e==null?void 0:e.changeLanguageRu},[He.ES]:{getId:e=>e==null?void 0:e.changeLanguageEs},[He.PT]:{getId:e=>e==null?void 0:e.changeLanguagePt},[He.ID]:{getId:e=>e==null?void 0:e.changeLanguageId},[He.FR]:{getId:e=>e==null?void 0:e.changeLanguageFr},[He.TR]:{getId:e=>e==null?void 0:e.changeLanguageTr},[He.DE]:{getId:e=>e==null?void 0:e.changeLanguageDe},[He.ZH]:{getId:e=>e==null?void 0:e.changeLanguageZh},[He.AR]:{getId:e=>e==null?void 0:e.changeLanguageAr},...!me.isPoki()&&{[He.VI]:{getId:e=>e==null?void 0:e.changeLanguageVi}},[He.IT]:{getId:e=>e==null?void 0:e.changeLanguageIt},...!me.isPoki()&&{[He.KO]:{getId:e=>e==null?void 0:e.changeLanguageKo},[He.JA]:{getId:e=>e==null?void 0:e.changeLanguageJa}},[He.PL]:{getId:e=>e==null?void 0:e.changeLanguagePl},[He.HI]:{getId:e=>e==null?void 0:e.changeLanguageHi}},fSe=e=>{const{id:t,changeLocale:n,isMenuItem:r=!0}=e,o=a=>{Ne.trackChangeLanguage(a),n(a)},i=Object.entries(dSe).map(([a,{getId:l}])=>({locale:a,id:l(t),name:YZ[a]}));return w.jsxs(w.Fragment,{children:[r&&i.map(a=>w.jsx(yr.Item,{id:a.id,onClick:()=>o(a.locale),py:6,px:8,children:a.name},`${a.locale}-language-CustomMenu-item`)),!r&&i.map(a=>w.jsx("div",{id:a.id,onClick:()=>o(a.locale),className:uSe.modalLangButton,children:a.name},`${a.locale}-language-menu-item`))]})},hSe=fe.memo(fSe),HD=()=>{const e=()=>{window.open(pn().privacyPolicy,"_blank","noopener,noreferrer")};return w.jsx(yr.Item,{py:4,id:"privaty_policy",onClick:e,closeMenuOnClick:!1,children:be("privacyPolicy")})},Ij=({size:e,iconSize:t})=>{const n=Rn();return pn().privacyPolicy?n?w.jsx(HD,{},"privacy-policy-menu-item"):w.jsxs(fr,{shadow:"md",position:"left-end",width:200,closeOnClickOutside:!0,loop:!1,closeOnItemClick:!0,closeOnEscape:!0,children:[w.jsx(yr.Target,{children:w.jsx(Vn,{size:e,withBorder:!0,children:w.jsx(mwe,{size:t,id:"open-info-button"})})}),w.jsx(yr.Dropdown,{children:w.jsx(HD,{},"privacy-policy-menu-item")})]}):null},mSe="_langMenuOptionsContainer_1n4qa_1",gSe={langMenuOptionsContainer:mSe},pSe=e=>{hn();const{id:t,showLanguage:n=!0,menuItems:r,size:o,iconSize:i}=e,a=Re(g=>g.config.changeLocale),l=Re(g=>g.config.toggleSound),u=Re(g=>g.config.toggleMusic),d=Re(g=>g.modals.openBoardSettingsModal),f=ne(g=>g.config.soundEnable),m=ne(g=>g.config.musicEnable);return w.jsxs(ln,{gap:4,onlyVertOffset:!0,direction:"column",className:"desktop-settings",children:[w.jsx(Rj,{size:o,iconSize:i}),n&&w.jsxs(fr,{shadow:"md",position:"left-start",width:200,closeOnClickOutside:!0,closeOnItemClick:!0,loop:!1,closeOnEscape:!0,id:"menu-language",children:[w.jsx(yr.Target,{children:w.jsx(Vn,{withBorder:!0,size:o,children:w.jsx(wj,{id:t==null?void 0:t.openLanguageMenu,size:i})})}),w.jsxs(yr.Dropdown,{maw:300,w:"fit-content",children:[w.jsx(fr.Label,{children:be("language")}),w.jsxs("div",{className:gSe.langMenuOptionsContainer,children:[w.jsx(hSe,{id:t,changeLocale:a}),w.jsx("span",{style:{fontSize:"10px",color:"gray",padding:"0 8px"},children:IN()})]})]})]}),w.jsx(Vn,{id:"desktop-sound-settings",onClick:l,size:o,withBorder:!0,children:f?w.jsx(KG,{size:i}):w.jsx(YG,{size:i})}),Bt().isBackgroundMusicInGameEnabled&&w.jsx(Vn,{id:"desktop-music-settings",onClick:u,size:o,withBorder:!0,children:m?w.jsx(Sj,{size:i}):w.jsx(Aj,{size:i})}),Bt().isDesignSelectorEnable&&w.jsx(Vn,{id:t==null?void 0:t.openBoardSettingsModal,onClick:()=>d(Rg.desktopCornerMenu),size:o,withBorder:!0,children:w.jsx(e0,{size:i})},"desktop-settings-board-settings-icon"),w.jsx(Ij,{size:o,iconSize:i}),w.jsx(Bj,{size:o,iconSize:i,place:B1.DesktopBottomIcon}),r]})},vSe=fe.memo(pSe);function ySe(e){return We({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M19.85 8.75l4.15.83v4.84l-4.15.83 2.35 3.52-3.43 3.43-3.52-2.35-.83 4.15H9.58l-.83-4.15-3.52 2.35-3.43-3.43 2.35-3.52L0 14.42V9.58l4.15-.83L1.8 5.23 5.23 1.8l3.52 2.35L9.58 0h4.84l.83 4.15 3.52-2.35 3.43 3.43-2.35 3.52zm-1.57 5.07l4-.81v-2l-4-.81-.54-1.3 2.29-3.43-1.43-1.43-3.43 2.29-1.3-.54-.81-4h-2l-.81 4-1.3.54-3.43-2.29-1.43 1.43L6.38 8.9l-.54 1.3-4 .81v2l4 .81.54 1.3-2.29 3.43 1.43 1.43 3.43-2.29 1.3.54.81 4h2l.81-4 1.3-.54 3.43 2.29 1.43-1.43-2.29-3.43.54-1.3zm-8.186-4.672A3.43 3.43 0 0 1 12 8.57 3.44 3.44 0 0 1 15.43 12a3.43 3.43 0 1 1-5.336-2.852zm.956 4.274c.281.188.612.288.95.288A1.7 1.7 0 0 0 13.71 12a1.71 1.71 0 1 0-2.66 1.422z"},child:[]}]})(e)}const WD=({onClick:e})=>{const t=Re(o=>o.modals.openRulesModal),n=Ar(Yt.Secondary),r=()=>{e&&e(),Ne.trackClickRules("main_screen"),t()};return Bt().feature[we.Rules]?w.jsx(cr,{onClick:r,id:_t.mainScreen.button.openRulesModal,w:"100%",color:n,leftSection:w.jsx($m,{size:er.md}),children:be("rules")}):null},Lj=()=>fV(),Dj=e=>{const{className:t,withText:n}=e,r=Re(g=>g.modals.openRulesModal),o=ne(g=>g.app.gameState),i=ne(g=>g.app.gameType),a=ne(g=>g.board.myColor),l=ne(g=>g.board.gameEngine);hn();const u=ne(g=>g.config.windowSize.windowWidth<400&&g.config.windowSize.windowWidth<g.config.windowSize.windowHeight),d=()=>{Ne.trackClickRules("near_board"),r()},f=Ar(Yt.Neutral);if(u||!Bt().feature[we.Rules])return null;const m=o===xe.InGame&&Ag(i)&&Lj()&&l.turn()!==a;return w.jsx(Fi,{id:_t.mainScreen.button.openRulesModal,label:be("rules"),buttonType:un.Outline,Icon:$m,textColor:f,iconSize:16,onClick:d,disabled:m,withText:n,className:t})},_Se=()=>{const e=Re(d=>d.modals.openRulesModal),t=ne(d=>d.app.gameState),n=ne(d=>d.app.gameType),r=ne(d=>d.board.myColor),o=ne(d=>d.board.gameEngine);hn();const i=ne(d=>d.config.windowSize.windowWidth>=400&&d.config.windowSize.windowWidth<d.config.windowSize.windowHeight),a=Ql(),l=()=>{Ne.trackClickRules("near_board"),e()};if(i||!Bt().feature[we.Rules])return null;const u=t===xe.InGame&&Ag(n)&&Lj()&&o.turn()!==r;return w.jsx(yr.Item,{onClick:l,closeMenuOnClick:!0,disabled:u,id:"rules-button",leftSection:w.jsx(Vn,{type:El.Default,size:a,withBorder:!0,children:w.jsx($m,{size:a.small||16},"rules-button-icon")}),children:be("rules")})},bSe=({size:e,id:t,iconSize:n,menuItems:r=null})=>{const o=Re(f=>f.config.toggleSound),i=Re(f=>f.config.toggleMusic);hn();const a=Re(f=>f.modals.toggleLangSettingsModal),l=Re(f=>f.modals.openBoardSettingsModal),u=ne(f=>f.config.soundEnable),d=ne(f=>f.config.musicEnable);return w.jsxs(fr,{shadow:"md",width:200,returnFocus:!0,loop:!1,closeOnClickOutside:!0,closeOnItemClick:!0,closeOnEscape:!0,position:"right-end",children:[w.jsx(yr.Target,{children:w.jsx(Vn,{size:e,children:w.jsx(ySe,{id:t==null?void 0:t.openSettingsMenu,size:n||20})})}),w.jsxs(yr.Dropdown,{children:[w.jsx(yr.Label,{children:be("settings")}),w.jsx(Rj,{}),w.jsx(yr.Item,{id:t==null?void 0:t.openLanguageMenu,onClick:a,closeMenuOnClick:!0,leftSection:w.jsx(Vn,{type:El.Default,withBorder:!0,children:w.jsx(wj,{size:n})}),children:be("language")}),w.jsx(yr.Item,{id:t==null?void 0:t.toggleSound,onClick:o,closeMenuOnClick:!1,leftSection:w.jsx(Vn,{type:El.Default,withBorder:!0,children:u?w.jsx(KG,{}):w.jsx(YG,{})}),children:be("sound")}),Bt().isBackgroundMusicInGameEnabled&&w.jsx(yr.Item,{id:t==null?void 0:t.toggleMusic,onClick:i,closeMenuOnClick:!1,leftSection:w.jsx(Vn,{type:El.Default,withBorder:!0,children:d?w.jsx(Sj,{}):w.jsx(Aj,{})}),children:be("music")}),Bt().isDesignSelectorEnable&&w.jsx(yr.Item,{id:t==null?void 0:t.openBoardSettingsModal,onClick:()=>l(Rg.mobileMenuDialog),closeMenuOnClick:!0,leftSection:w.jsx(Vn,{type:El.Default,withBorder:!0,children:w.jsx(e0,{})}),children:be("design")}),w.jsx(Ij,{}),w.jsx(_Se,{}),w.jsx(Bj,{place:B1.MobileMenuDialog}),r,w.jsx("span",{style:{fontSize:"12px",color:"gray",padding:"0.25rem"},children:IN()})]})]})},wSe=fe.memo(bSe),SSe=({position:e,children:t})=>w.jsx(w.Fragment,{children:e?w.jsx("div",{style:{...e,position:"absolute"},children:t}):w.jsx(w.Fragment,{children:t})}),ASe=e=>{const{id:t,position:n,menuItems:r}=e,o=ne(l=>[xe.Menu,xe.GameFriendSettings,xe.GameAISettings].includes(l.app.gameState)),i=Ql(),a=Rn();return o&&me.isTV()?null:w.jsx(SSe,{position:n,children:a?w.jsx(wSe,{id:t.mobile,size:i.large||30,iconSize:i.normal||18,menuItems:r}):w.jsx(vSe,{id:t.desktop,showLanguage:!me.isTV(),size:i.large||"2.25rem",iconSize:i.normal||"1.5rem",menuItems:r})})},CSe=fe.memo(ASe),kSe="_shareButton_jpwjo_1",JD={shareButton:kSe},n0=xn.getLogger("CLIPBOARD"),ZD=e=>{const t=document.createElement("textarea");t.value=e,t.style.top="0",t.style.left="0",t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();let n=!0;try{const o=document.execCommand("copy")?"successful":"unsuccessful";n0.info("Fallback: Copying text command was "+o)}catch(r){n=!1,n0.error("Fallback: Oops, unable to copy",r)}return document.body.removeChild(t),n},ESe=async e=>{if(!navigator.clipboard)return ZD(e);try{return await navigator.clipboard.writeText(e),n0.info("Async: Copying to clipboard was successful!"),!0}catch(t){n0.error("Async: Could not copy text: ",t)}return ZD(e)},BSe=({children:e,timeout:t,value:n})=>{const[r,o]=O.useState(!1);return e({copied:r,copy:()=>{r||ESe(n).then(a=>{o(a),setTimeout(()=>{o(!1)},t||250)})}})},RSe=()=>{if(!me.isYandex())return"";const t=me.getNativeSdk().environment;return`https://${t.data.secondDomain}.${t.i18n.tld}${t.data.baseUrl}/${t.app.id}`},xSe=({id:e})=>{var a;const t=Cr(un.Secondary),n=ex(),o=Rn(),i=()=>{window.gp.socials.share(),Ne.trackShare()};return!((a=window.gp)!=null&&a.socials.isSupportsShare)||pn().shareDisabled||pn().gamePushOverlayDisabled?null:n?w.jsx(BSe,{value:RSe(),children:({copied:l,copy:u})=>w.jsx(Cj,{label:be(l?"copied":"copy"),id:e,className:JD.shareButton,onClick:u,...t,mt:0,w:36,h:36,p:0,...o&&{size:"1.875rem",mt:"calc(36px - 2rem)"},variant:"outline",children:w.jsx(Vn,{children:w.jsx(qD,{size:er.md,...o&&{size:er.sm}})},"share-button-icon")})}):w.jsx(Hl,{id:e,className:JD.shareButton,onClick:i,...t,size:36,mt:0,...o&&{size:"1.875rem",mt:"calc(36px - 2rem)"},variant:"outline",children:w.jsx(Vn,{children:w.jsx(qD,{size:er.md,...o&&{size:er.sm}})},"share-button-icon")})},OSe=fe.memo(xSe),MSe=({onClick:e,className:t,withText:n})=>{hn();const r=ne(v=>{var y;return[re.Single,re.Together].includes(v.app.gameType)?v.board.isHintWasShown:v.board.isHintWasShown||v.board.myColor!==((y=v.board.gameEngine)==null?void 0:y.turn())}),o=ne(v=>v.gameSettings.hintsEnabled),i=Re(v=>v.board.showHint),a=Re(v=>v.online.sendHintRequest),l=Re(v=>v.modals.openPaymentsModal),u=ne(v=>v.platform.playerCoins),d=ne(v=>Qn(v.app.gameType)),f=nSe()&&d,m=tSe()&&d,g=()=>{e&&e(),d?u>0?a():l({place:Tr.NoAvailableGems}):i()};return!Bt().feature[we.Hints]||o?null:w.jsx(Fi,{id:_t.gameInfo.gameControlButton.button.showHint,label:be("showHint"),buttonType:un.Primary,Icon:Fge,iconSize:20,onClick:g,disabled:r||m||f,loading:m,withText:n,textLabel:be("hintShort"),withRewardIcon:!0,paymentIcon:d,className:t})},Nj=fe.memo(MSe),PSe=({onClick:e,className:t,withText:n})=>{hn();const r=ne(_=>_.board.isTimeRemaining),o=ne(_=>_.app.gameType),i=Re(_=>_.board.undoMove),a=Re(_=>_.online.sendUndoRequest),l=Re(_=>_.modals.openPaymentsModal),u=ne(_=>_.platform.playerCoins),d=ne(_=>Qn(_.app.gameType)),f=ne(_=>Qn(_.app.gameType)&&_.board.history.length<=2)&&v0(),m=rSe()&&d,g=oSe()&&d,v=ne(_=>{const{history:b,historyOffset:E,myColor:A,gameEngine:C}=_.board;return[re.Single,re.Together].includes(_.app.gameType)?!b.length:A!==C.turn()||b.length<(A===lt.White?1:2)||E!==null}),y=()=>{e&&e(),d?u>0?a():l({place:Tr.NoAvailableGems}):i().then(_=>{_&&Ac()})};return!Bt().feature[we.UndoMove]||!r&&![re.AI,re.TogetherOnline].includes(o)?null:w.jsx(Fi,{id:_t.gameInfo.gameControlButton.button.undoMove,label:be("undoMove"),buttonType:un.Primary,Icon:Fd,iconSize:20,onClick:y,disabled:v||m||g||f,loading:m,withText:n,textLabel:be("undoShort"),withRewardIcon:!0,paymentIcon:d,className:t})},Fj=fe.memo(PSe),Gj=()=>{const e=ne(o=>o.board.isTimeRemaining),t=ne(o=>o.app.gameType),n=ne(o=>o.session.gameCompleteReason===Lo.PlayerGiveUp),r=ne(o=>o.app.gameResult);return!(!Bt().feature[we.UndoMove]||n||r===ht.Victory||!e&&![re.AI,re.TogetherOnline].includes(t))},jj=({onUndo:e,onClick:t,id:n,withText:r,isGameInfoButton:o})=>{hn();const i=Re(b=>b.app.undoFatalMove),a=ne(b=>Qn(b.app.gameType)),l=ne(b=>b.platform.playerCoins),u=Re(b=>b.modals.openPaymentsModal),d=Re(b=>b.online.sendFatalUndoRequest),f=Cr(un.Primary),m=iSe()&&a,g=aSe()&&a,v=Ql(),y=()=>{t&&t(),a?l>0?d():u({place:Tr.NoAvailableGems}):i().then(b=>e==null?void 0:e(b))};return Gj()?o?w.jsx(Fi,{id:n,label:be("undoMove"),buttonType:un.Primary,Icon:Fd,iconSize:20,onClick:y,withText:r,textLabel:be("undoShort"),withRewardIcon:!0,paymentIcon:a}):w.jsx(cr,{id:n,onClick:y,loading:m,disabled:m||g,...f,leftSection:w.jsx(Fd,{size:er.sm},"undo-fatal-move-button-icon"),rightSection:w.jsx(k1,{size:v.normal||16,paymentIcon:a},"undo-fatal-move-button-reward-icon"),children:be("undoMove")}):null};function TSe(e){return We({attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M0.877014 7.49988C0.877014 3.84219 3.84216 0.877045 7.49985 0.877045C11.1575 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1575 14.1227 7.49985 14.1227C3.84216 14.1227 0.877014 11.1575 0.877014 7.49988ZM7.49985 1.82704C4.36683 1.82704 1.82701 4.36686 1.82701 7.49988C1.82701 8.97196 2.38774 10.3131 3.30727 11.3213C4.19074 9.94119 5.73818 9.02499 7.50023 9.02499C9.26206 9.02499 10.8093 9.94097 11.6929 11.3208C12.6121 10.3127 13.1727 8.97172 13.1727 7.49988C13.1727 4.36686 10.6328 1.82704 7.49985 1.82704ZM10.9818 11.9787C10.2839 10.7795 8.9857 9.97499 7.50023 9.97499C6.01458 9.97499 4.71624 10.7797 4.01845 11.9791C4.97952 12.7272 6.18765 13.1727 7.49985 13.1727C8.81227 13.1727 10.0206 12.727 10.9818 11.9787ZM5.14999 6.50487C5.14999 5.207 6.20212 4.15487 7.49999 4.15487C8.79786 4.15487 9.84999 5.207 9.84999 6.50487C9.84999 7.80274 8.79786 8.85487 7.49999 8.85487C6.20212 8.85487 5.14999 7.80274 5.14999 6.50487ZM7.49999 5.10487C6.72679 5.10487 6.09999 5.73167 6.09999 6.50487C6.09999 7.27807 6.72679 7.90487 7.49999 7.90487C8.27319 7.90487 8.89999 7.27807 8.89999 6.50487C8.89999 5.73167 8.27319 5.10487 7.49999 5.10487Z",fill:"currentColor"},child:[]}]})(e)}function Xxe(e){return We({attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor"},child:[]}]})(e)}const ISe=({id:e,title:t="profile",withIcon:n=!0,mt:r,w:o,loading:i,onClick:a})=>{const l=Ar(Yt.Secondary),u=Re(m=>m.modals.openUserProfileModal),d=ne(m=>m.platform.player),f=()=>{d!==null&&(a&&a(),u({player:{state:d}}))};return w.jsx(cr,{mt:r,onClick:f,id:e,w:o||"100%",color:l,leftSection:n&&w.jsx(TSe,{size:er.md,style:{minWidth:20}}),loading:i,children:be(t)})},LSe=O.forwardRef((e,t)=>{const{gap:n,className:r,style:o,onlyHorOffset:i,onlyVertOffset:a,children:l,...u}=e;return n&&me.isAnyAndroidPlatform()?w.jsx(Ds,{className:qt(r,{[_d["gap-fix-container"]]:!!n&&!i&&!a,[_d["gap-fix-container-hor"]]:!!n&&i,[_d["gap-fix-container-ver"]]:!!n&&a}),style:{"--container-gap":rj(n),...o},...u,ref:t,gap:0,children:Yy(l)}):w.jsx(Ds,{className:qt(r),...u,gap:n,style:o,ref:t,children:l})}),x1=fe.memo(LSe),DSe="_shortButton_6npf7_6",$j={shortButton:DSe},NSe=()=>{const e=ne(d=>Qn(d.app.gameType)),t=ne(d=>me.isFirstLaunchGame&&d.session.numberOfGamesPlayed<=1),n={draw:e,rules:t,payments:!e&&!t},r=n.payments&&w.jsx(Tg,{isGameInfoButton:!0,place:Tr.InGameShopButton,id:_t.gameInfo.gameControlButton.button.openPaymentsModal},"payments-button"),o=w.jsx(Ej,{className:$j.shortButton}),i=n.draw&&w.jsx(Tj,{}),a=n.rules&&w.jsx(Dj,{}),l=w.jsx(Nj,{}),u=w.jsx(Fj,{});return w.jsxs(w.Fragment,{children:[o,i,u,l,a,r]})},FSe=fe.memo(NSe),GSe="_groupSize_gi8ns_2",jSe={groupSize:GSe},$Se=({children:e})=>w.jsx(ln,{direction:"column",gap:"xs",className:qt(jSe.groupSize),children:e}),Ix=fe.memo($Se),zSe="_groupEqualSize_c6h41_1",USe={groupEqualSize:zSe},VSe=({children:e,equalRowSize:t=!1})=>w.jsx(ln,{gap:"xs",className:qt({[USe.groupEqualSize]:t}),children:e}),Lx=fe.memo(VSe),qSe=()=>{const e=ne(T=>T.config.windowSize.windowHeight<=500),t=ne(T=>T.config.windowSize.windowWidth>=1132),n=ne(T=>Qn(T.app.gameType)),r={giveUp:!0,hint:!0,undo:!0,payments:!0,rules:!0,draw:n,design:!1},o=Object.values(r).filter(Boolean).length,i=!e,a=o===6,l=t?v0():i,u=w.jsx(Ej,{className:qt({[$j.shortButton]:!a}),withText:i},"GiveUpButton"),d=r.design,f=w.jsx(Tg,{isGameInfoButton:!0,place:Tr.InGameShopButton,id:_t.gameInfo.gameControlButton.button.openPaymentsModal,withText:i},"PaymentsButton"),m=r.draw&&w.jsx(Tj,{withText:i},"RequestDrawButton"),g=w.jsx(Dj,{withText:i},"RulesActionIcon"),v=w.jsx(Nj,{withText:i},"ShowHintButton"),_=[w.jsx(Fj,{withText:i},"UndoButton"),v],b=[m,u],E=[],A=[],C=[];l?(E.push(..._),n?(A.push(f,g,d),C.push(...b)):(A.push(f,d),C.push(g,...b))):(E.push(f,..._),C.push(d,g,...b));const M=[E,A,C].filter(T=>!!T.length);return w.jsx(Ix,{children:M.map((T,I)=>w.jsx(Lx,{equalRowSize:a,children:T},I))})},QSe=fe.memo(qSe),HSe="_group_117lc_1",WSe={group:HSe},JSe=({children:e})=>{const t=Rn();return w.jsx(x1,{justify:"apart",gap:"xs",w:"100%",wrap:t?"nowrap":"wrap",grow:!0,mih:me.isTV()?void 0:36,onlyHorOffset:me.isAnyAndroidPlatform(),className:qt(WSe.group),children:e})},zj=fe.memo(JSe),ZSe=()=>{const e=Rn();return ne(n=>n.app.gameState===xe.InGame)?w.jsx(zj,{children:e?w.jsx(FSe,{}):w.jsx(QSe,{})}):null},YSe=fe.memo(ZSe),KSe=()=>{const e=w.jsx(jj,{id:_t.gameInfo.gameControlButton.button.undoFatalMove,isGameInfoButton:!0}),t=w.jsx(R1,{id:_t.gameInfo.gameControlButton.button.startRematch,isGameInfoButton:!0}),n=w.jsx(E1,{id:_t.gameInfo.gameControlButton.button.openNewGameModal,isGameInfoButton:!0}),r=w.jsx(kj,{id:_t.gameInfo.gameControlButton.button.startAnalyze,isGameInfoButton:!0});return w.jsxs(w.Fragment,{children:[t,n,e,r]})},XSe=fe.memo(KSe),eAe=()=>{const e=ne(b=>b.config.windowSize.windowHeight<=500),t=Gj(),n=!e,r={historyleft:Bt().feature[we.HistorySurf],historyright:Bt().feature[we.HistorySurf],analyze:!0,rematch:!0,newGame:!0,undoFatal:t,payments:!t},i=Object.values(r).filter(Boolean).length%2===0,a=r.historyleft&&r.historyright&&w.jsxs(fe.Fragment,{children:[w.jsx(t0,{id:_t.gameInfo.gameControlButton.button.decrementHistory,direction:Vm.Left}),w.jsx(t0,{id:_t.gameInfo.gameControlButton.button.incrementHistory,direction:Vm.Right})]},"history-buttons"),l=w.jsx(kj,{id:_t.gameInfo.gameControlButton.button.startAnalyze,isGameInfoButton:!0,withText:n},"analyze-button"),u=r.payments&&w.jsx(Tg,{id:_t.gameInfo.gameControlButton.button.openPaymentsModal,place:Tr.AfterGameShopButton,isGameInfoButton:!0,withText:n},"payments-button"),d=r.undoFatal&&w.jsx(jj,{id:_t.gameInfo.gameControlButton.button.undoFatalMove,isGameInfoButton:!0,withText:n},"undo-fatal-move-button"),f=w.jsx(R1,{id:_t.gameInfo.gameControlButton.button.startRematch,isGameInfoButton:!0,withText:n},"rematch-button"),m=w.jsx(E1,{id:_t.gameInfo.gameControlButton.button.openNewGameModal,isGameInfoButton:!0,withText:n},"new-game-button"),g=[],v=[],y=[];a?(g.push(a),v.push(d||u,l),y.push(f,m)):(g.push(d||u,l),y.push(f,m));const _=[g,v,y].filter(b=>!!b.length);return w.jsx(Ix,{children:_.map((b,E)=>w.jsx(Lx,{equalRowSize:i,children:b},E))})},tAe=fe.memo(eAe),nAe=()=>{const e=Rn();return ne(n=>n.app.gameState===xe.AfterGame)?w.jsxs(zj,{children:[e&&w.jsx(XSe,{}),!e&&w.jsx(tAe,{})]}):null},rAe=fe.memo(nAe),Uj={bgWhite:"#ffffff",contentWhite:"#1a1b1f",bgBlack:"#1a1b1f",bgBlack2:"#000000",contentBlack:"#ffffff"},oAe={bgWhite:"#eee9d5",contentWhite:"#1a1b1f",bgBlack:"#1a1b1f",bgBlack2:"#000000",contentBlack:"#eee9d5"},iAe={bgWhite:"#f8f1df",contentWhite:"#5b2f13",bgBlack:"#5b2f13",bgBlack2:"#5b2f13",contentBlack:"#f8f1df"},aAe={[se.Classic]:Uj,[se.Initial]:oAe,[se.Wooden]:iAe},sAe=e=>aAe[e],lAe=Uj,cAe="_svg__display_dv16q_2",Jh={svg__display:cAe},uAe=Zc.isnumber,Wv=e=>{const{size:t=100,strokeWidth:n=10,progress:r,className:o="",activeStrokeColor:i,unActiveStrokeColor:a,tickSize:l=50,secondsForRotate:u,isStaticDisplay:d=!1}=e;let{currentPercentage:f=0,isInfinity:m=!1}=e;r==="infinite"&&(m=!0),uAe(r)&&(f=r);const{w:g,b:v}=ne(M=>sj(M.config.boardTheme??Le.Brown).colors,wr),y=(t-n)/2,_=Math.PI*2*y,b=_-f/100*_,[E,A]=O.useState(_),C=M=>setInterval(()=>{A(T=>T-1)},M);return O.useEffect(()=>{let M=m?C(l):void 0;if(u){const T=Math.round(1e3/(_/u));M=C(T)}return()=>clearInterval(M)},[m,l,u]),w.jsx("div",{className:o,style:{opacity:f||m||u?1:0,height:t,display:"flex",alignItems:"center",justifyContent:"center"},children:w.jsxs("svg",{className:qt(Jh.svg,{[Jh.svg__display]:!d}),width:t,height:t,"aria-labelledby":"title",role:"img",children:[w.jsxs("title",{id:"progress-title",children:["Progress: ",f,"%"]}),w.jsx("circle",{fill:"transparent",r:y,cx:t/2,cy:t/2,strokeWidth:n,stroke:a||g,shapeRendering:"geometricPrecision"}),w.jsx("circle",{fill:"transparent",r:y,cx:t/2,cy:t/2,strokeWidth:n,stroke:i||v,strokeDasharray:_,strokeDashoffset:m||u?E:b,style:{transition:`stroke-dashoffset ${f===0?"0s":"0.2s"} ease-in-out`},transform:`rotate(-90, ${t/2}, ${t/2})`})]})})},dAe=e=>{const{isMateType:t,mateMovesCnt:n}=ne(a=>({isMateType:a.analyze.moveAnalyzeDetails.scoreType==="mate",mateMovesCnt:Math.abs(a.analyze.moveAnalyzeDetails.mateMoveCnt)}),wr),o=ne(a=>a2())?100-e:e;return{score:t?`M${n}`:Math.abs(o)>100?"100%":Math.abs(o)<.5?"0%":o?Math.abs(o).toFixed(0)+"%":0}},fAe=e=>{const t=ne(i=>$l&&i.board.myColor===lt.Black),n=ne(i=>i.config.lastAnalyzePercentage),{normalizedScore:r}=e,o=r??n;return t?100-o:o},hAe="_loaderBox_o7204_1",mAe="_scoreContainer_o7204_8",gAe="_scoreLineContainerHorizontal_o7204_16",pAe="_scoreLineWhiteGauge_o7204_30",vAe="_scoreLineScore_o7204_37",mh={loaderBox:hAe,scoreContainer:mAe,scoreLineContainerHorizontal:gAe,scoreLineWhiteGauge:pAe,scoreLineScore:vAe},yAe=e=>{hn();const{showLine:t=!0,showText:n=!0}=e,r=ne(y=>y.analyze.isAnalyticsProgress),o=ne(y=>y.board.isRotated),i=ne(y=>sAe(y.config.figureTheme)??lAe),a=ne(y=>({type:y.analyze.moveAnalyzeDetails.type,normalizedScore:y.analyze.moveAnalyzeDetails.normalizedScore}),wr),{normalizedScore:l,type:u}=a,d=fAe(a),{score:f}=dAe(l),m=Jge[u],g=d>50,v=(()=>{if(!o&&!g)return{right:0,color:i.contentBlack};if(!o&&g)return{left:0,color:i.contentWhite};if(o&&!g)return{left:0,color:i.contentBlack};if(o&&g)return{right:0,color:i.contentWhite}})();return w.jsxs("div",{className:mh.scoreContainer,children:[t&&w.jsxs("div",{className:mh.scoreLineContainerHorizontal,style:{backgroundColor:i.bgBlack2,color:i.contentBlack,justifyContent:"start",flexDirection:"row",...o&&{justifyContent:"end",flexDirection:"row-reverse"}},children:[w.jsx("div",{className:mh.scoreLineWhiteGauge,style:{width:`${d}%`,backgroundColor:i.bgWhite}}),w.jsx("div",{className:mh.scoreLineScore,style:v,children:f||"..."})]}),n&&w.jsxs(ln,{align:"center",h:"fit-content",mih:30,children:[r&&w.jsx("div",{className:mh.loaderBox,children:w.jsx(Wv,{size:16,strokeWidth:3,isInfinity:!0})}),!r&&w.jsxs(Sg,{order:me.isTV()?5:4,w:"100%",style:{display:"flex",alignItems:"center"},children:[be("evaluationMove")[u],m&&w.jsx(m.icon,{color:m.color,style:{marginLeft:4,opacity:m.opacity}})]})]})]})},Vj=fe.memo(yAe),_Ae=()=>{const t=!ne(y=>y.config.windowSize.windowHeight<=500),o=Object.values({historyleft:!0,historyright:!0,analyze:!0,rematch:!0,newGame:!0,payments:!0}).filter(Boolean).length%2===0,i=w.jsxs(w.Fragment,{children:[w.jsx(t0,{id:_t.gameInfo.gameControlButton.button.decrementHistory,direction:Vm.Left}),w.jsx(t0,{id:_t.gameInfo.gameControlButton.button.incrementHistory,direction:Vm.Right})]}),a=w.jsx(Pj,{id:_t.gameInfo.gameControlButton.button.startAnalyzeRematch,isGameInfoButton:!0,withText:t},"rematch-from-analyze-button"),l=w.jsx(Tg,{id:_t.gameInfo.gameControlButton.button.openPaymentsModal,place:Tr.AfterGameShopButton,isGameInfoButton:!0,withText:t}),u=w.jsx(R1,{id:_t.gameInfo.gameControlButton.button.startRematch,isGameInfoButton:!0,withText:t},"rematch-button"),d=w.jsx(E1,{id:_t.gameInfo.gameControlButton.button.openNewGameModal,isGameInfoButton:!0,withText:t},"new-game-button"),f=[],m=[],g=[];i?(f.push(i),m.push(l,a),g.push(u,d)):(f.push(l,a),g.push(u,d));const v=[f,m,g].filter(y=>!!y.length);return w.jsx(Ix,{children:v.map((y,_)=>w.jsx(Lx,{equalRowSize:o,children:y},_))})},bAe=fe.memo(_Ae),wAe=()=>{const e=w.jsx(R1,{id:_t.gameInfo.gameControlButton.button.startRematch,isGameInfoButton:!0}),t=w.jsx(E1,{id:_t.gameInfo.gameControlButton.button.openNewGameModal,isGameInfoButton:!0}),n=w.jsx(Pj,{id:_t.gameInfo.gameControlButton.button.startAnalyzeRematch,isGameInfoButton:!0});return w.jsxs(w.Fragment,{children:[e,t,n]})},SAe=fe.memo(wAe),AAe=()=>{const e=Rn();return ne(n=>n.analyze.isAnalyzeMode)?e?w.jsx(SAe,{}):w.jsxs(w.Fragment,{children:[w.jsx(Vj,{showLine:!1,showText:!0}),w.jsx(bAe,{})]}):null},CAe=fe.memo(AAe),kAe="_group_iyk10_1",EAe={group:kAe},BAe=({settingsButton:e})=>{const t=ne(o=>o.app.gameState===xe.InGame),n=Rn(),r=Ql();return w.jsx(ln,{gap:"xs",justify:"space-between",align:"center",direction:"row",wrap:"nowrap",w:"100%",children:w.jsxs(x1,{justify:t||n?"apart":"center",wrap:n?"nowrap":"wrap",w:"100%",gap:"xs",className:qt({[EAe.group]:!t&&!n}),...t?{onlyHorOffset:me.isAnyAndroidPlatform()}:{grow:n},children:[n&&w.jsx(Iwe,{size:r.large||"1.875rem",iconSize:r.normal||"1.25rem",id:_t.gameInfo.gameControlButton.button.openMainScreen}),w.jsx(YSe,{}),w.jsx(rAe,{}),w.jsx(CAe,{}),e]})})},eOe=fe.memo(BAe),RAe=e=>{const{size:t,strokeWidth:n,currTime:r,startTime:o,className:i,applyBoardColor:a=!1}=e,l=ne(g=>g.config.boardTheme),u=r/(o/100),d=(t-n)/2,f=Math.PI*2*d,m=f-u/100*f;return w.jsx("div",{className:i,style:{opacity:1,height:t},children:w.jsxs("svg",{className:Jh.svg,width:t,height:t,"aria-labelledby":"title",role:"img",children:[w.jsxs("title",{id:"progress-title",children:["Progress: ",u,"%"]}),w.jsx("circle",{className:qt(Jh["svg__backStroke-gray"]),fill:"transparent",r:d,cx:t/2,cy:t/2,strokeWidth:n,shapeRendering:"geometricPrecision"}),w.jsx("circle",{className:qt(Jh[`svg__progressStroke-${u<40&&!a?"red":a?l:"blue"}`]),fill:"transparent",r:d,cx:t/2,cy:t/2,strokeWidth:n,strokeDasharray:f,strokeDashoffset:m,style:{transition:`stroke-dashoffset ${u===0?"0s":"0.2s"} ease-in-out`},transform:`rotate(-90, ${t/2}, ${t/2})`})]})})},YD={"OnlineIndicator-container":"_OnlineIndicator-container_xshvu_1","OnlineIndicator-container-interactive":"_OnlineIndicator-container-interactive_xshvu_5"},qj=e=>{const t=Re(o=>o.session.setOnlineIndicatorVisible),n=O.useCallback(()=>{t(!0)},[t]),r=O.useCallback(()=>{t(!1)},[t]);return w.jsx(Ll,{mounted:e.mounted,transition:"scale-y",duration:300,timingFunction:"ease",onEnter:n,onExited:r,children:o=>w.jsx(Dl,{onClick:e.onClick,style:o,className:qt(YD["OnlineIndicator-container"],{[YD["OnlineIndicator-container-interactive"]]:!!e.onClick}),shadow:"sm",padding:"lg",py:"xs",radius:"md",withBorder:!0,children:w.jsx(Dl.Section,{withBorder:!0,inheritPadding:!0,py:"xs",children:w.jsx(Ds,{justify:"center",children:w.jsx(ln,{align:"center",gap:4,children:e.children})})})})})},xAe=()=>{const e=qwe(),t=ne(d=>d.app.gameState),n=ne(d=>d.app.gameType),r=e===Un.Failed,o=e===Un.Disconnected,i=!window.navigator.onLine,a=(r||o||i)&&[Td.Online,Td.TogetherOnline].includes(n)&&[xe.AfterGame,xe.InGame].includes(t),l=nD-Ihe*2,u=_le(l,100,void 0,[e]);return O.useEffect(()=>{(r||i)&&u.reset()},[e]),w.jsx(qj,{mounted:a,children:r?w.jsxs(w.Fragment,{children:[be(i?"connectionLose":"theOpponentIsNotResponding"),w.jsx(RAe,{size:20,strokeWidth:5,currTime:u.time,startTime:nD,applyBoardColor:i})]}):w.jsxs(w.Fragment,{children:[be(i?"connectionLose":"theOpponentHasLeftTheGame"),w.jsx(ywe,{size:20,color:"#dc402c"})]})})},OAe=({width:e="1em",height:t="1em",className:n,isAnimate:r=!0})=>w.jsxs("svg",{stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",className:n,height:t,width:e,xmlns:"http://www.w3.org/2000/svg",children:[w.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),w.jsx("path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}),w.jsx("path",{d:"M12 7v5"}),w.jsxs("g",{children:[r&&w.jsx("animateTransform",{attributeType:"xml",attributeName:"transform",type:"rotate",from:"0 12 12",to:"360 12 12",dur:"3s",additive:"sum",repeatCount:"indefinite"}),w.jsx("path",{d:"M12 12l2 -3"})]})]}),MAe=()=>{const e=ne(i=>!!i.modals.modalVisibility[tt.OnlineGameStatusModal]),t=Re(i=>i.modals.openOnlineGameStatusModal),n=ne(i=>i.online.onlineState),o=ne(i=>i.app.gameState)!==xe.Menu&&!e&&n>xt.PASSIVE_SEARCH&&n<xt.GAME_PLAY;return w.jsxs(qj,{mounted:o,onClick:t,children:[be("searchForAnOpponent"),w.jsx(OAe,{width:20,height:20})]})},PAe=()=>Bt().feature[we.Online]?w.jsxs(vg,{position:{top:0,left:"50%"},style:{transform:"translateX(-50%)"},children:[w.jsx(MAe,{}),w.jsx(xAe,{})]}):null,TAe=()=>w.jsx(vg,{position:{left:0,top:0},w:"calc(var(--vw, 1vw) * 100)",h:"100vh",children:w.jsx(X0,{children:w.jsx(ln,{w:"100%",h:"100%",align:"center",justify:"center",children:w.jsx(ri,{})})})}),Dx=fe.memo(TAe),Nx=e=>{const{renderLoader:t,renderOverlayLoader:n,fallback:r,children:o,...i}=e,a={fallback:w.jsxs(w.Fragment,{children:[r,t&&w.jsx(ri,{}),n&&w.jsx(Dx,{})]})};return w.jsx(O.Suspense,{...i,...a,children:o})},IAe={isCustomBoard:!1,isRotated:!1},Qj=O.createContext(IAe),tOe=()=>O.useContext(Qj),LAe=({children:e,...t})=>w.jsx(Qj.Provider,{value:t,children:e}),DAe=fe.lazy(()=>De(()=>import("./BoardCell-ChT1TErB.js"),__vite__mapDeps([3,4,5,1,2,6]),import.meta.url)),Tk=new Map,NAe=(e,t)=>{const n=`${e}-${t}`;return Tk.has(n)||Tk.set(n,_t.gameBoard.cell[Wa[e]][7-t]),Tk.get(n)},FAe=e=>{const{board:t,playerTryMove:n}=e,r=ne(l=>l.config.boardTheme),o=ne(l=>l.config.boardImageManager),i=sj(r),a=ne(l=>l.board.historyOffset!==null);return w.jsx(w.Fragment,{children:t.map(l=>w.jsx(Nx,{renderOverlayLoader:!0,children:w.jsx(DAe,{playerTryMove:n,themeConfig:i,boardImageManager:o,boardTheme:r,isHistoryMode:a,id:l.id,cell:l.cell,isCheck:l.isCheck},l.id)},l.id))})},GAe=e=>{const{board:t,playerTryMove:n,isCustomBoard:r=!1}=e,o=ne(a=>a.board.isRotated),i=t.reduce((a,l,u)=>(l.forEach((d,f)=>{a.push({id:NAe(f,u),cell:d,isCheck:!!d.isCheck})}),a),[]);return w.jsx(LAe,{isCustomBoard:r,isRotated:!r&&o,children:w.jsx(FAe,{board:i,playerTryMove:n})})},nOe=fe.memo(GAe,wr),jAe="#36cb37",rOe="rgb(21, 120, 27)",oOe="#c94443",$Ae=20,Av=800,iOe=(e,t,n)=>e===t?e:t<e?e-n:e+n,aOe=(e,t)=>{const o=Math.atan2(e.y-t.y,e.x-t.x)*180/Math.PI,i=(o+35)*Math.PI/180,a=(o-35)*Math.PI/180,l=35*Math.cos(i),u=35*Math.sin(i),d=35*Math.cos(a),f=35*Math.sin(a);return{topX:l,topY:u,botX:d,botY:f}},zAe=e=>[Wa.indexOf(e[0])+1,Number(e[1])],KD=e=>{const t=zAe(e);return{x:t[0],y:9-t[1]}},UAe=(e,t)=>e.chain.every(n=>t.chain.includes(n))&&e.from===t.from,VAe="_arrowsContainer_1rf0i_1",qAe="_arrowsContainerOnTop_1rf0i_16",QAe="_arrowsContainerHide_1rf0i_19",HAe="_arrowsElement_1rf0i_22",Ik={arrowsContainer:VAe,arrowsContainerOnTop:qAe,arrowsContainerHide:QAe,arrowsElement:HAe},WAe=fe.lazy(()=>De(()=>import("./Arrow-CNeIKriu.js"),__vite__mapDeps([7,1,2]),import.meta.url)),JAe=(e,t,n=-1)=>({fromShort:!1,toShort:e.some((r,o)=>(r.from===t.chain.at(-1)||r.chain.at(-1)===t.chain.at(-1))&&o!==n&&r.chain.length)}),Hj=(e,t)=>e.map((n,r)=>({color:n.color||jAe,width:n.width||$Ae,from:KD(n.from),chain:n.chain.map(KD),toDelete:!!n.toDelete,...JAe(t,n,r)})),ZAe=e=>{const t=[...e.canvas.arrows,...e.canvas.tempArrow?[e.canvas.tempArrow]:[],...e.canvas.arrowsBeforeClear.filter(n=>!e.canvas.arrows.find(r=>UAe(n,r))).map(n=>({...n,toDelete:!0}))];return Hj(t,e.canvas.arrows)},Wj=({size:e,onTop:t,formattedArrows:n,isShowCanvas:r})=>w.jsx("svg",{width:Av,height:Av,viewBox:`0 0 ${Av} ${Av}`,xmlns:"http://www.w3.org/2000/svg",className:qt(Ik.arrowsContainer,{[Ik.arrowsContainerHide]:!r,[Ik.arrowsContainerOnTop]:t}),xmlnsXlink:"http://www.w3.org/1999/xlink",children:w.jsx(Nx,{renderOverlayLoader:!0,children:n.map((o,i)=>{const a=!!n.find((f,m)=>o.from.x===f.from.x&&o.from.y===f.from.y&&i!==m),l=`${o.from.x}${o.from.y}`,u=`${o.chain.map(f=>f.x).join("-")}${o.chain.map(f=>f.y).join("-")}`,d=`${l}${a?u:""}`;return O.createElement(WAe,{...o,key:d,size:e})})})}),YAe=({size:e,onTop:t})=>{const n=ne(o=>o.canvas.isShowCanvas),r=ne(ZAe,wr);return w.jsx(Wj,{size:e,onTop:t,formattedArrows:r,isShowCanvas:n})},KAe=({size:e,onTop:t,arrows:n,isShowCanvas:r})=>{const o=O.useMemo(()=>Hj(n,n),[n]);return w.jsx(Wj,{size:e,onTop:t,formattedArrows:o,isShowCanvas:r})},sOe=fe.memo(KAe,wr),lOe=fe.memo(YAe),XAe="_containerBase_l4bhy_5",eCe="_premiumBackground_l4bhy_11",tCe="_avatarImage_l4bhy_21",nCe="_avatarImageCenter_l4bhy_25",pl={"container__avatar-static":"_container__avatar-static_l4bhy_1",containerBase:XAe,premiumBackground:eCe,avatarImage:tCe,avatarImageCenter:nCe,"avatar-premium":"_avatar-premium_l4bhy_29"},Fx=""+new URL("premium-bu7Q7_-q.webp",import.meta.url).href,cOe=({size:e=16})=>{const t=Re(r=>r.modals.openAvatarDetailsModal),n=()=>{t({title:"",avatar:null,rating:0,isPremium:!0,isMyAvatar:!0})};return w.jsx(du,{style:{cursor:"pointer",pointerEvents:"auto"},onClick:n,fit:"contain",src:Fx,h:e,w:e})},uOe=({size:e=16})=>w.jsx(du,{fit:"contain",src:Fx,h:e,w:e}),rCe=({onClick:e,isStaticSize:t,size:n,disabled:r,title:o,isMyAvatar:i,isPremium:a,radius:l="sm",avatar:u,rating:d,inGame:f})=>{const m=Re(E=>E.modals.openAvatarDetailsModal),g=Re(E=>E.modals.openUserProfileModal),v=ne(E=>E.p2p.opponent),y=ne(E=>E.app.gameType),_=ne(E=>E.config.strongerThanBots),b=async()=>{if(!u&&i)return;const E=y===Td.TogetherOnline||y===Td.Online&&_;if(!i&&E&&f&&(v!=null&&v.id)){const A=await me.getOtherPlayers([v.id]);if(A&&A[0]){const C=A[0].state;g({player:{state:{...C,name:C.name||"guest",playerData:C.playerData||Is()}},tabType:Bg.Online});return}}m({title:o||be(i?"you":"guest"),avatar:u,rating:d,isPremium:a,isMyAvatar:i})};return w.jsxs("div",{className:qt(pl.containerBase,{[pl.container]:!t}),id:"computer-avatar",onClick:e||b,style:{width:n,height:n,maxWidth:n,maxHeight:n,cursor:r?"default":"pointer"},children:[w.jsx(FR,{src:a?Fx:"",className:pl.premiumBackground}),w.jsx(i1,{className:qt(pl.container__avatar,{[pl["container__avatar-static"]]:!t,[pl["avatar-premium"]]:a}),classNames:{image:ca?pl.avatarImageCenter:pl.avatarImage},src:u||lx,radius:l,size:n})]})},oCe=fe.memo(rCe,wr),iCe="_customSegmentedControl_1vxmw_1",aCe="_customSegmentedControlIndicator_1vxmw_5",XD={customSegmentedControl:iCe,customSegmentedControlIndicator:aCe},sCe=({className:e,classNames:t,...n})=>{const r={...n,className:qt(XD.customSegmentedControl,e),classNames:(o,i,a)=>{const l=typeof t=="function"?t(o,i,a):t;return{...l,indicator:qt(XD.customSegmentedControlIndicator,l==null?void 0:l.indicator)}}};return w.jsx(XR,{...r},"custom-segmented-control")},lCe=fe.memo(sCe,wr);var Gx=Lg(),Tt=e=>Ig(e,Gx),jx=Lg();Tt.write=e=>Ig(e,jx);var O1=Lg();Tt.onStart=e=>Ig(e,O1);var $x=Lg();Tt.onFrame=e=>Ig(e,$x);var zx=Lg();Tt.onFinish=e=>Ig(e,zx);var wd=[];Tt.setTimeout=(e,t)=>{const n=Tt.now()+t,r=()=>{const i=wd.findIndex(a=>a.cancel==r);~i&&wd.splice(i,1),Rl-=~i?1:0},o={time:n,handler:e,cancel:r};return wd.splice(Jj(n),0,o),Rl+=1,Zj(),o};var Jj=e=>~(~wd.findIndex(t=>t.time>e)||~wd.length);Tt.cancel=e=>{O1.delete(e),$x.delete(e),zx.delete(e),Gx.delete(e),jx.delete(e)};Tt.sync=e=>{qB=!0,Tt.batchedUpdates(e),qB=!1};Tt.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function r(...o){t=o,Tt.onStart(n)}return r.handler=e,r.cancel=()=>{O1.delete(n),t=null},r};var Ux=typeof window<"u"?window.requestAnimationFrame:()=>{};Tt.use=e=>Ux=e;Tt.now=typeof performance<"u"?()=>performance.now():Date.now;Tt.batchedUpdates=e=>e();Tt.catch=console.error;Tt.frameLoop="always";Tt.advance=()=>{Tt.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):Kj()};var Bl=-1,Rl=0,qB=!1;function Ig(e,t){qB?(t.delete(e),e(0)):(t.add(e),Zj())}function Zj(){Bl<0&&(Bl=0,Tt.frameLoop!=="demand"&&Ux(Yj))}function cCe(){Bl=-1}function Yj(){~Bl&&(Ux(Yj),Tt.batchedUpdates(Kj))}function Kj(){const e=Bl;Bl=Tt.now();const t=Jj(Bl);if(t&&(Xj(wd.splice(0,t),n=>n.handler()),Rl-=t),!Rl){cCe();return}O1.flush(),Gx.flush(e?Math.min(64,Bl-e):16.667),$x.flush(),jx.flush(),zx.flush()}function Lg(){let e=new Set,t=e;return{add(n){Rl+=t==e&&!e.has(n)?1:0,e.add(n)},delete(n){return Rl-=t==e&&e.has(n)?1:0,e.delete(n)},flush(n){t.size&&(e=new Set,Rl-=t.size,Xj(t,r=>r(n)&&e.add(r)),Rl+=e.size,t=e)}}}function Xj(e,t){e.forEach(n=>{try{t(n)}catch(r){Tt.catch(r)}})}var uCe=Object.defineProperty,dCe=(e,t)=>{for(var n in t)uCe(e,n,{get:t[n],enumerable:!0})},wa={};dCe(wa,{assign:()=>hCe,colors:()=>Ml,createStringInterpolator:()=>qx,skipAnimation:()=>t$,to:()=>e$,willAdvance:()=>Qx});function QB(){}var fCe=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),Te={arr:Array.isArray,obj:e=>!!e&&e.constructor.name==="Object",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",und:e=>e===void 0};function As(e,t){if(Te.arr(e)){if(!Te.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var en=(e,t)=>e.forEach(t);function es(e,t,n){if(Te.arr(e)){for(let r=0;r<e.length;r++)t.call(n,e[r],`${r}`);return}for(const r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r)}var ei=e=>Te.und(e)?[]:Te.arr(e)?e:[e];function Zh(e,t){if(e.size){const n=Array.from(e);e.clear(),en(n,t)}}var jh=(e,...t)=>Zh(e,n=>n(...t)),Vx=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),qx,e$,Ml=null,t$=!1,Qx=QB,hCe=e=>{e.to&&(e$=e.to),e.now&&(Tt.now=e.now),e.colors!==void 0&&(Ml=e.colors),e.skipAnimation!=null&&(t$=e.skipAnimation),e.createStringInterpolator&&(qx=e.createStringInterpolator),e.requestAnimationFrame&&Tt.use(e.requestAnimationFrame),e.batchedUpdates&&(Tt.batchedUpdates=e.batchedUpdates),e.willAdvance&&(Qx=e.willAdvance),e.frameLoop&&(Tt.frameLoop=e.frameLoop)},Yh=new Set,Ri=[],Lk=[],r0=0,M1={get idle(){return!Yh.size&&!Ri.length},start(e){r0>e.priority?(Yh.add(e),Tt.onStart(mCe)):(n$(e),Tt(HB))},advance:HB,sort(e){if(r0)Tt.onFrame(()=>M1.sort(e));else{const t=Ri.indexOf(e);~t&&(Ri.splice(t,1),r$(e))}},clear(){Ri=[],Yh.clear()}};function mCe(){Yh.forEach(n$),Yh.clear(),Tt(HB)}function n$(e){Ri.includes(e)||r$(e)}function r$(e){Ri.splice(gCe(Ri,t=>t.priority>e.priority),0,e)}function HB(e){const t=Lk;for(let n=0;n<Ri.length;n++){const r=Ri[n];r0=r.priority,r.idle||(Qx(r),r.advance(e),r.idle||t.push(r))}return r0=0,Lk=Ri,Lk.length=0,Ri=t,Ri.length>0}function gCe(e,t){const n=e.findIndex(t);return n<0?e.length:n}var pCe={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},la="[-+]?\\d*\\.?\\d+",o0=la+"%";function P1(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var vCe=new RegExp("rgb"+P1(la,la,la)),yCe=new RegExp("rgba"+P1(la,la,la,la)),_Ce=new RegExp("hsl"+P1(la,o0,o0)),bCe=new RegExp("hsla"+P1(la,o0,o0,la)),wCe=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,SCe=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ACe=/^#([0-9a-fA-F]{6})$/,CCe=/^#([0-9a-fA-F]{8})$/;function kCe(e){let t;return typeof e=="number"?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=ACe.exec(e))?parseInt(t[1]+"ff",16)>>>0:Ml&&Ml[e]!==void 0?Ml[e]:(t=vCe.exec(e))?(ed(t[1])<<24|ed(t[2])<<16|ed(t[3])<<8|255)>>>0:(t=yCe.exec(e))?(ed(t[1])<<24|ed(t[2])<<16|ed(t[3])<<8|nN(t[4]))>>>0:(t=wCe.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=CCe.exec(e))?parseInt(t[1],16)>>>0:(t=SCe.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=_Ce.exec(e))?(eN(tN(t[1]),Cv(t[2]),Cv(t[3]))|255)>>>0:(t=bCe.exec(e))?(eN(tN(t[1]),Cv(t[2]),Cv(t[3]))|nN(t[4]))>>>0:null}function Dk(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function eN(e,t,n){const r=n<.5?n*(1+t):n+t-n*t,o=2*n-r,i=Dk(o,r,e+1/3),a=Dk(o,r,e),l=Dk(o,r,e-1/3);return Math.round(i*255)<<24|Math.round(a*255)<<16|Math.round(l*255)<<8}function ed(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function tN(e){return(parseFloat(e)%360+360)%360/360}function nN(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(t*255)}function Cv(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function rN(e){let t=kCe(e);if(t===null)return e;t=t||0;const n=(t&4278190080)>>>24,r=(t&16711680)>>>16,o=(t&65280)>>>8,i=(t&255)/255;return`rgba(${n}, ${r}, ${o}, ${i})`}var qm=(e,t,n)=>{if(Te.fun(e))return e;if(Te.arr(e))return qm({range:e,output:t,extrapolate:n});if(Te.str(e.output[0]))return qx(e);const r=e,o=r.output,i=r.range||[0,1],a=r.extrapolateLeft||r.extrapolate||"extend",l=r.extrapolateRight||r.extrapolate||"extend",u=r.easing||(d=>d);return d=>{const f=BCe(d,i);return ECe(d,i[f],i[f+1],o[f],o[f+1],u,a,l,r.map)}};function ECe(e,t,n,r,o,i,a,l,u){let d=u?u(e):e;if(d<t){if(a==="identity")return d;a==="clamp"&&(d=t)}if(d>n){if(l==="identity")return d;l==="clamp"&&(d=n)}return r===o?r:t===n?e<=t?r:o:(t===-1/0?d=-d:n===1/0?d=d-t:d=(d-t)/(n-t),d=i(d),r===-1/0?d=-d:o===1/0?d=d+r:d=d*(o-r)+r,d)}function BCe(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}var RCe={linear:e=>e},Qm=Symbol.for("FluidValue.get"),Gd=Symbol.for("FluidValue.observers"),Ei=e=>!!(e&&e[Qm]),Mo=e=>e&&e[Qm]?e[Qm]():e,oN=e=>e[Gd]||null;function xCe(e,t){e.eventObserved?e.eventObserved(t):e(t)}function Hm(e,t){const n=e[Gd];n&&n.forEach(r=>{xCe(r,t)})}var o$=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");OCe(this,e)}},OCe=(e,t)=>i$(e,Qm,t);function hf(e,t){if(e[Qm]){let n=e[Gd];n||i$(e,Gd,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function Wm(e,t){const n=e[Gd];if(n&&n.has(t)){const r=n.size-1;r?n.delete(t):e[Gd]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var i$=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),Jv=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,MCe=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,iN=new RegExp(`(${Jv.source})(%|[a-z]+)`,"i"),PCe=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,T1=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,a$=e=>{const[t,n]=TCe(e);if(!t||Vx())return e;const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(n&&n.startsWith("--")){const o=window.getComputedStyle(document.documentElement).getPropertyValue(n);return o||e}else{if(n&&T1.test(n))return a$(n);if(n)return n}return e},TCe=e=>{const t=T1.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]},Nk,ICe=(e,t,n,r,o)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${o})`,s$=e=>{Nk||(Nk=Ml?new RegExp(`(${Object.keys(Ml).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map(i=>Mo(i).replace(T1,a$).replace(MCe,rN).replace(Nk,rN)),n=t.map(i=>i.match(Jv).map(Number)),o=n[0].map((i,a)=>n.map(l=>{if(!(a in l))throw Error('The arity of each "output" value must be equal');return l[a]})).map(i=>qm({...e,output:i}));return i=>{var u;const a=!iN.test(t[0])&&((u=t.find(d=>iN.test(d)))==null?void 0:u.replace(Jv,""));let l=0;return t[0].replace(Jv,()=>`${o[l++](i)}${a||""}`).replace(PCe,ICe)}},Hx="react-spring: ",l$=e=>{const t=e;let n=!1;if(typeof t!="function")throw new TypeError(`${Hx}once requires a function parameter`);return(...r)=>{n||(t(...r),n=!0)}},LCe=l$(console.warn);function DCe(){LCe(`${Hx}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var NCe=l$(console.warn);function FCe(){NCe(`${Hx}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function I1(e){return Te.str(e)&&(e[0]=="#"||/\d/.test(e)||!Vx()&&T1.test(e)||e in(Ml||{}))}function GCe(e){const t=O.useRef(null);return t.current===null&&(t.current=e()),t.current}var Wx=Vx()?O.useEffect:O.useLayoutEffect,jCe=()=>{const e=O.useRef(!1);return Wx(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function c$(){const e=O.useState()[1],t=jCe();return()=>{t.current&&e(Math.random())}}function $Ce(e,t){const[n]=O.useState(()=>({inputs:t,result:e()})),r=O.useRef(),o=r.current;let i=o;return i?t&&i.inputs&&zCe(t,i.inputs)||(i={inputs:t,result:e()}):i=n,O.useEffect(()=>{r.current=i,o==n&&(n.inputs=n.result=void 0)},[i]),i.result}function zCe(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var Jx=e=>O.useEffect(e,UCe),UCe=[];function aN(e){const t=O.useRef();return O.useEffect(()=>{t.current=e}),t.current}var Jm=Symbol.for("Animated:node"),VCe=e=>!!e&&e[Jm]===e,ja=e=>e&&e[Jm],Zx=(e,t)=>fCe(e,Jm,t),L1=e=>e&&e[Jm]&&e[Jm].getPayload(),u$=class{constructor(){Zx(this,this)}getPayload(){return this.payload||[]}},Dg=class extends u${constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,Te.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new Dg(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return Te.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,Te.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},Zm=class extends Dg{constructor(e){super(0),this._string=null,this._toString=qm({output:[e,e]})}static create(e){return new Zm(e)}getValue(){const e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if(Te.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=qm({output:[this.getValue(),e]})),this._value=0,super.reset()}},i0={dependencies:null},D1=class extends u${constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return es(this.source,(n,r)=>{VCe(n)?t[r]=n.getValue(e):Ei(n)?t[r]=Mo(n):e||(t[r]=n)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&en(this.payload,e=>e.reset())}_makePayload(e){if(e){const t=new Set;return es(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){i0.dependencies&&Ei(e)&&i0.dependencies.add(e);const t=L1(e);t&&en(t,n=>this.add(n))}},d$=class extends D1{constructor(e){super(e)}static create(e){return new d$(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const t=this.getPayload();return e.length==t.length?t.map((n,r)=>n.setValue(e[r])).some(Boolean):(super.setValue(e.map(qCe)),!0)}};function qCe(e){return(I1(e)?Zm:Dg).create(e)}function WB(e){const t=ja(e);return t?t.constructor:Te.arr(e)?d$:I1(e)?Zm:Dg}var sN=(e,t)=>{const n=!Te.fun(e)||e.prototype&&e.prototype.isReactComponent;return O.forwardRef((r,o)=>{const i=O.useRef(null),a=n&&O.useCallback(y=>{i.current=WCe(o,y)},[o]),[l,u]=HCe(r,t),d=c$(),f=()=>{const y=i.current;if(n&&!y)return;(y?t.applyAnimatedValues(y,l.getValue(!0)):!1)===!1&&d()},m=new QCe(f,u),g=O.useRef();Wx(()=>(g.current=m,en(u,y=>hf(y,m)),()=>{g.current&&(en(g.current.deps,y=>Wm(y,g.current)),Tt.cancel(g.current.update))})),O.useEffect(f,[]),Jx(()=>()=>{const y=g.current;en(y.deps,_=>Wm(_,y))});const v=t.getComponentProps(l.getValue());return O.createElement(e,{...v,ref:a})})},QCe=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){e.type=="change"&&Tt.write(this.update)}};function HCe(e,t){const n=new Set;return i0.dependencies=n,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)}),e=new D1(e),i0.dependencies=null,[e,n]}function WCe(e,t){return e&&(Te.fun(e)?e(t):e.current=t),t}var lN=Symbol.for("AnimatedComponent"),JCe=(e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:n=o=>new D1(o),getComponentProps:r=o=>o}={})=>{const o={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:r},i=a=>{const l=cN(a)||"Anonymous";return Te.str(a)?a=i[a]||(i[a]=sN(a,o)):a=a[lN]||(a[lN]=sN(a,o)),a.displayName=`Animated(${l})`,a};return es(e,(a,l)=>{Te.arr(e)&&(l=cN(a)),i[l]=i(a)}),{animated:i}},cN=e=>Te.str(e)?e:e&&Te.str(e.displayName)?e.displayName:Te.fun(e)&&e.name||null;function Ec(e,...t){return Te.fun(e)?e(...t):e}var Kh=(e,t)=>e===!0||!!(t&&e&&(Te.fun(e)?e(t):ei(e).includes(t))),f$=(e,t)=>Te.obj(e)?t&&e[t]:e,h$=(e,t)=>e.default===!0?e[t]:e.default?e.default[t]:void 0,ZCe=e=>e,Yx=(e,t=ZCe)=>{let n=YCe;e.default&&e.default!==!0&&(e=e.default,n=Object.keys(e));const r={};for(const o of n){const i=t(e[o],o);Te.und(i)||(r[o]=i)}return r},YCe=["config","onProps","onStart","onChange","onPause","onResume","onRest"],KCe={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function XCe(e){const t={};let n=0;if(es(e,(r,o)=>{KCe[o]||(t[o]=r,n++)}),n)return t}function m$(e){const t=XCe(e);if(t){const n={to:t};return es(e,(r,o)=>o in t||(n[o]=r)),n}return{...e}}function Ym(e){return e=Mo(e),Te.arr(e)?e.map(Ym):I1(e)?wa.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function eke(e){for(const t in e)return!0;return!1}function JB(e){return Te.fun(e)||Te.arr(e)&&Te.obj(e[0])}function tke(e,t){var n;(n=e.ref)==null||n.delete(e),t==null||t.delete(e)}function nke(e,t){var n;t&&e.ref!==t&&((n=e.ref)==null||n.delete(e),t.add(e),e.ref=t)}var rke={default:{tension:170,friction:26}},ZB={...rke.default,mass:1,damping:1,easing:RCe.linear,clamp:!1},oke=class{constructor(){this.velocity=0,Object.assign(this,ZB)}};function ike(e,t,n){n&&(n={...n},uN(n,t),t={...n,...t}),uN(e,t),Object.assign(e,t);for(const a in ZB)e[a]==null&&(e[a]=ZB[a]);let{frequency:r,damping:o}=e;const{mass:i}=e;return Te.und(r)||(r<.01&&(r=.01),o<0&&(o=0),e.tension=Math.pow(2*Math.PI/r,2)*i,e.friction=4*Math.PI*o*i/r),e}function uN(e,t){if(!Te.und(t.decay))e.duration=void 0;else{const n=!Te.und(t.tension)||!Te.und(t.friction);(n||!Te.und(t.frequency)||!Te.und(t.damping)||!Te.und(t.mass))&&(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}}var dN=[],ake=class{constructor(){this.changed=!1,this.values=dN,this.toValues=null,this.fromValues=dN,this.config=new oke,this.immediate=!1}};function g$(e,{key:t,props:n,defaultProps:r,state:o,actions:i}){return new Promise((a,l)=>{let u,d,f=Kh(n.cancel??(r==null?void 0:r.cancel),t);if(f)v();else{Te.und(n.pause)||(o.paused=Kh(n.pause,t));let y=r==null?void 0:r.pause;y!==!0&&(y=o.paused||Kh(y,t)),u=Ec(n.delay||0,t),y?(o.resumeQueue.add(g),i.pause()):(i.resume(),g())}function m(){o.resumeQueue.add(g),o.timeouts.delete(d),d.cancel(),u=d.time-Tt.now()}function g(){u>0&&!wa.skipAnimation?(o.delayed=!0,d=Tt.setTimeout(v,u),o.pauseQueue.add(m),o.timeouts.add(d)):v()}function v(){o.delayed&&(o.delayed=!1),o.pauseQueue.delete(m),o.timeouts.delete(d),e<=(o.cancelId||0)&&(f=!0);try{i.start({...n,callId:e,cancel:f},a)}catch(y){l(y)}}})}var Kx=(e,t)=>t.length==1?t[0]:t.some(n=>n.cancelled)?Sd(e.get()):t.every(n=>n.noop)?p$(e.get()):na(e.get(),t.every(n=>n.finished)),p$=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),na=(e,t,n=!1)=>({value:e,finished:t,cancelled:n}),Sd=e=>({value:e,cancelled:!0,finished:!1});function v$(e,t,n,r){const{callId:o,parentId:i,onRest:a}=t,{asyncTo:l,promise:u}=n;return!i&&e===l&&!t.reset?u:n.promise=(async()=>{n.asyncId=o,n.asyncTo=e;const d=Yx(t,(b,E)=>E==="onRest"?void 0:b);let f,m;const g=new Promise((b,E)=>(f=b,m=E)),v=b=>{const E=o<=(n.cancelId||0)&&Sd(r)||o!==n.asyncId&&na(r,!1);if(E)throw b.result=E,m(b),b},y=(b,E)=>{const A=new fN,C=new hN;return(async()=>{if(wa.skipAnimation)throw Km(n),C.result=na(r,!1),m(C),C;v(A);const M=Te.obj(b)?{...b}:{...E,to:b};M.parentId=o,es(d,(I,P)=>{Te.und(M[P])&&(M[P]=I)});const T=await r.start(M);return v(A),n.paused&&await new Promise(I=>{n.resumeQueue.add(I)}),T})()};let _;if(wa.skipAnimation)return Km(n),na(r,!1);try{let b;Te.arr(e)?b=(async E=>{for(const A of E)await y(A)})(e):b=Promise.resolve(e(y,r.stop.bind(r))),await Promise.all([b.then(f),g]),_=na(r.get(),!0,!1)}catch(b){if(b instanceof fN)_=b.result;else if(b instanceof hN)_=b.result;else throw b}finally{o==n.asyncId&&(n.asyncId=i,n.asyncTo=i?l:void 0,n.promise=i?u:void 0)}return Te.fun(a)&&Tt.batchedUpdates(()=>{a(_,r,r.item)}),_})()}function Km(e,t){Zh(e.timeouts,n=>n.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var fN=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},hN=class extends Error{constructor(){super("SkipAnimationSignal")}},YB=e=>e instanceof Xx,ske=1,Xx=class extends o${constructor(){super(...arguments),this.id=ske++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=ja(this);return e&&e.getValue()}to(...e){return wa.to(this,e)}interpolate(...e){return DCe(),wa.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){Hm(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||M1.sort(this),Hm(this,{type:"priority",parent:this,priority:e})}},ou=Symbol.for("SpringPhase"),y$=1,_$=2,b$=4,Fk=e=>(e[ou]&y$)>0,vl=e=>(e[ou]&_$)>0,gh=e=>(e[ou]&b$)>0,mN=(e,t)=>t?e[ou]|=_$|y$:e[ou]&=-3,gN=(e,t)=>t?e[ou]|=b$:e[ou]&=-5,w$=class extends Xx{constructor(e,t){if(super(),this.animation=new ake,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!Te.und(e)||!Te.und(t)){const n=Te.obj(e)?{...e}:{...t,from:e};Te.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(vl(this)||this._state.asyncTo)||gh(this)}get goal(){return Mo(this.animation.to)}get velocity(){const e=ja(this);return e instanceof Dg?e.lastVelocity||0:e.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return Fk(this)}get isAnimating(){return vl(this)}get isPaused(){return gh(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,n=!1;const r=this.animation;let{toValues:o}=r;const{config:i}=r,a=L1(r.to);!a&&Ei(r.to)&&(o=ei(Mo(r.to))),r.values.forEach((d,f)=>{if(d.done)return;const m=d.constructor==Zm?1:a?a[f].lastPosition:o[f];let g=r.immediate,v=m;if(!g){if(v=d.lastPosition,i.tension<=0){d.done=!0;return}let y=d.elapsedTime+=e;const _=r.fromValues[f],b=d.v0!=null?d.v0:d.v0=Te.arr(i.velocity)?i.velocity[f]:i.velocity;let E;const A=i.precision||(_==m?.005:Math.min(1,Math.abs(m-_)*.001));if(Te.und(i.duration))if(i.decay){const C=i.decay===!0?.998:i.decay,M=Math.exp(-(1-C)*y);v=_+b/(1-C)*(1-M),g=Math.abs(d.lastPosition-v)<=A,E=b*M}else{E=d.lastVelocity==null?b:d.lastVelocity;const C=i.restVelocity||A/10,M=i.clamp?0:i.bounce,T=!Te.und(M),I=_==m?d.v0>0:_<m;let P,B=!1;const R=1,x=Math.ceil(e/R);for(let D=0;D<x&&(P=Math.abs(E)>C,!(!P&&(g=Math.abs(m-v)<=A,g)));++D){T&&(B=v==m||v>m==I,B&&(E=-E*M,v=m));const $=-i.tension*1e-6*(v-m),U=-i.friction*.001*E,j=($+U)/i.mass;E=E+j*R,v=v+E*R}}else{let C=1;i.duration>0&&(this._memoizedDuration!==i.duration&&(this._memoizedDuration=i.duration,d.durationProgress>0&&(d.elapsedTime=i.duration*d.durationProgress,y=d.elapsedTime+=e)),C=(i.progress||0)+y/this._memoizedDuration,C=C>1?1:C<0?0:C,d.durationProgress=C),v=_+i.easing(C)*(m-_),E=(v-d.lastPosition)/e,g=C==1}d.lastVelocity=E,Number.isNaN(v)&&(console.warn("Got NaN while animating:",this),g=!0)}a&&!a[f].done&&(g=!1),g?d.done=!0:t=!1,d.setValue(v,i.round)&&(n=!0)});const l=ja(this),u=l.getValue();if(t){const d=Mo(r.to);(u!==d||n)&&!i.decay?(l.setValue(d),this._onChange(d)):n&&i.decay&&this._onChange(u),this._stop()}else n&&this._onChange(u)}set(e){return Tt.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(vl(this)){const{to:e,config:t}=this.animation;Tt.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let n;return Te.und(e)?(n=this.queue||[],this.queue=[]):n=[Te.obj(e)?e:{...t,to:e}],Promise.all(n.map(r=>this._update(r))).then(r=>Kx(this,r))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),Km(this._state,e&&this._lastCallId),Tt.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:n,from:r}=e;n=Te.obj(n)?n[t]:n,(n==null||JB(n))&&(n=void 0),r=Te.obj(r)?r[t]:r,r==null&&(r=void 0);const o={to:n,from:r};return Fk(this)||(e.reverse&&([n,r]=[r,n]),r=Mo(r),Te.und(r)?ja(this)||this._set(n):this._set(r)),o}_update({...e},t){const{key:n,defaultProps:r}=this;e.default&&Object.assign(r,Yx(e,(a,l)=>/^on/.test(l)?f$(a,n):a)),vN(this,e,"onProps"),vh(this,"onProps",e,this);const o=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const i=this._state;return g$(++this._lastCallId,{key:n,props:e,defaultProps:r,state:i,actions:{pause:()=>{gh(this)||(gN(this,!0),jh(i.pauseQueue),vh(this,"onPause",na(this,ph(this,this.animation.to)),this))},resume:()=>{gh(this)&&(gN(this,!1),vl(this)&&this._resume(),jh(i.resumeQueue),vh(this,"onResume",na(this,ph(this,this.animation.to)),this))},start:this._merge.bind(this,o)}}).then(a=>{if(e.loop&&a.finished&&!(t&&a.noop)){const l=S$(e);if(l)return this._update(l,!0)}return a})}_merge(e,t,n){if(t.cancel)return this.stop(!0),n(Sd(this));const r=!Te.und(e.to),o=!Te.und(e.from);if(r||o)if(t.callId>this._lastToId)this._lastToId=t.callId;else return n(Sd(this));const{key:i,defaultProps:a,animation:l}=this,{to:u,from:d}=l;let{to:f=u,from:m=d}=e;o&&!r&&(!t.default||Te.und(f))&&(f=m),t.reverse&&([f,m]=[m,f]);const g=!As(m,d);g&&(l.from=m),m=Mo(m);const v=!As(f,u);v&&this._focus(f);const y=JB(t.to),{config:_}=l,{decay:b,velocity:E}=_;(r||o)&&(_.velocity=0),t.config&&!y&&ike(_,Ec(t.config,i),t.config!==a.config?Ec(a.config,i):void 0);let A=ja(this);if(!A||Te.und(f))return n(na(this,!0));const C=Te.und(t.reset)?o&&!t.default:!Te.und(m)&&Kh(t.reset,i),M=C?m:this.get(),T=Ym(f),I=Te.num(T)||Te.arr(T)||I1(T),P=!y&&(!I||Kh(a.immediate||t.immediate,i));if(v){const D=WB(f);if(D!==A.constructor)if(P)A=this._set(T);else throw Error(`Cannot animate between ${A.constructor.name} and ${D.name}, as the "to" prop suggests`)}const B=A.constructor;let R=Ei(f),x=!1;if(!R){const D=C||!Fk(this)&&g;(v||D)&&(x=As(Ym(M),T),R=!x),(!As(l.immediate,P)&&!P||!As(_.decay,b)||!As(_.velocity,E))&&(R=!0)}if(x&&vl(this)&&(l.changed&&!C?R=!0:R||this._stop(u)),!y&&((R||Ei(u))&&(l.values=A.getPayload(),l.toValues=Ei(f)?null:B==Zm?[1]:ei(T)),l.immediate!=P&&(l.immediate=P,!P&&!C&&this._set(u)),R)){const{onRest:D}=l;en(cke,U=>vN(this,t,U));const $=na(this,ph(this,u));jh(this._pendingCalls,$),this._pendingCalls.add(n),l.changed&&Tt.batchedUpdates(()=>{var U;l.changed=!C,D==null||D($,this),C?Ec(a.onRest,$):(U=l.onStart)==null||U.call(l,$,this)})}C&&this._set(M),y?n(v$(t.to,t,this._state,this)):R?this._start():vl(this)&&!v?this._pendingCalls.add(n):n(p$(M))}_focus(e){const t=this.animation;e!==t.to&&(oN(this)&&this._detach(),t.to=e,oN(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;Ei(t)&&(hf(t,this),YB(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;Ei(e)&&Wm(e,this)}_set(e,t=!0){const n=Mo(e);if(!Te.und(n)){const r=ja(this);if(!r||!As(n,r.getValue())){const o=WB(n);!r||r.constructor!=o?Zx(this,o.create(n)):r.setValue(n),r&&Tt.batchedUpdates(()=>{this._onChange(n,t)})}}return ja(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,vh(this,"onStart",na(this,ph(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),Ec(this.animation.onChange,e,this)),Ec(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;ja(this).reset(Mo(e.to)),e.immediate||(e.fromValues=e.values.map(t=>t.lastPosition)),vl(this)||(mN(this,!0),gh(this)||this._resume())}_resume(){wa.skipAnimation?this.finish():M1.start(this)}_stop(e,t){if(vl(this)){mN(this,!1);const n=this.animation;en(n.values,o=>{o.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),Hm(this,{type:"idle",parent:this});const r=t?Sd(this.get()):na(this.get(),ph(this,e??n.to));jh(this._pendingCalls,r),n.changed&&(n.changed=!1,vh(this,"onRest",r,this))}}};function ph(e,t){const n=Ym(t),r=Ym(e.get());return As(r,n)}function S$(e,t=e.loop,n=e.to){const r=Ec(t);if(r){const o=r!==!0&&m$(r),i=(o||e).reverse,a=!o||o.reset;return Xm({...e,loop:t,default:!1,pause:void 0,to:!i||JB(n)?n:void 0,from:a?e.from:void 0,reset:a,...o})}}function Xm(e){const{to:t,from:n}=e=m$(e),r=new Set;return Te.obj(t)&&pN(t,r),Te.obj(n)&&pN(n,r),e.keys=r.size?Array.from(r):null,e}function lke(e){const t=Xm(e);return Te.und(t.default)&&(t.default=Yx(t)),t}function pN(e,t){es(e,(n,r)=>n!=null&&t.add(r))}var cke=["onStart","onRest","onChange","onPause","onResume"];function vN(e,t,n){e.animation[n]=t[n]!==h$(t,n)?f$(t[n],e.key):void 0}function vh(e,t,...n){var r,o,i,a;(o=(r=e.animation)[t])==null||o.call(r,...n),(a=(i=e.defaultProps)[t])==null||a.call(i,...n)}var uke=["onStart","onChange","onRest"],dke=1,fke=class{constructor(e,t){this.id=dke++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((t,n)=>e[n]=t.get()),e}set(e){for(const t in e){const n=e[t];Te.und(n)||this.springs[t].set(n)}}update(e){return e&&this.queue.push(Xm(e)),this}start(e){let{queue:t}=this;return e?t=ei(e).map(Xm):this.queue=[],this._flush?this._flush(this,t):(B$(this,t),KB(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const n=this.springs;en(ei(t),r=>n[r].stop(!!e))}else Km(this._state,this._lastAsyncId),this.each(n=>n.stop(!!e));return this}pause(e){if(Te.und(e))this.start({pause:!0});else{const t=this.springs;en(ei(e),n=>t[n].pause())}return this}resume(e){if(Te.und(e))this.start({pause:!1});else{const t=this.springs;en(ei(e),n=>t[n].resume())}return this}each(e){es(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:n}=this._events,r=this._active.size>0,o=this._changed.size>0;(r&&!this._started||o&&!this._started)&&(this._started=!0,Zh(e,([l,u])=>{u.value=this.get(),l(u,this,this._item)}));const i=!r&&this._started,a=o||i&&n.size?this.get():null;o&&t.size&&Zh(t,([l,u])=>{u.value=a,l(u,this,this._item)}),i&&(this._started=!1,Zh(n,([l,u])=>{u.value=a,l(u,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;Tt.onFrame(this._onFrame)}};function KB(e,t){return Promise.all(t.map(n=>A$(e,n))).then(n=>Kx(e,n))}async function A$(e,t,n){const{keys:r,to:o,from:i,loop:a,onRest:l,onResolve:u}=t,d=Te.obj(t.default)&&t.default;a&&(t.loop=!1),o===!1&&(t.to=null),i===!1&&(t.from=null);const f=Te.arr(o)||Te.fun(o)?o:void 0;f?(t.to=void 0,t.onRest=void 0,d&&(d.onRest=void 0)):en(uke,_=>{const b=t[_];if(Te.fun(b)){const E=e._events[_];t[_]=({finished:A,cancelled:C})=>{const M=E.get(b);M?(A||(M.finished=!1),C&&(M.cancelled=!0)):E.set(b,{value:null,finished:A||!1,cancelled:C||!1})},d&&(d[_]=t[_])}});const m=e._state;t.pause===!m.paused?(m.paused=t.pause,jh(t.pause?m.pauseQueue:m.resumeQueue)):m.paused&&(t.pause=!0);const g=(r||Object.keys(e.springs)).map(_=>e.springs[_].start(t)),v=t.cancel===!0||h$(t,"cancel")===!0;(f||v&&m.asyncId)&&g.push(g$(++e._lastAsyncId,{props:t,state:m,actions:{pause:QB,resume:QB,start(_,b){v?(Km(m,e._lastAsyncId),b(Sd(e))):(_.onRest=l,b(v$(f,_,m,e)))}}})),m.paused&&await new Promise(_=>{m.resumeQueue.add(_)});const y=Kx(e,await Promise.all(g));if(a&&y.finished&&!(n&&y.noop)){const _=S$(t,a,o);if(_)return B$(e,[_]),A$(e,_,!0)}return u&&Tt.batchedUpdates(()=>u(y,e,e.item)),y}function yN(e,t){const n={...e.springs};return t&&en(ei(t),r=>{Te.und(r.keys)&&(r=Xm(r)),Te.obj(r.to)||(r={...r,to:void 0}),E$(n,r,o=>k$(o))}),C$(e,n),n}function C$(e,t){es(t,(n,r)=>{e.springs[r]||(e.springs[r]=n,hf(n,e))})}function k$(e,t){const n=new w$;return n.key=e,t&&hf(n,t),n}function E$(e,t,n){t.keys&&en(t.keys,r=>{(e[r]||(e[r]=n(r)))._prepareNode(t)})}function B$(e,t){en(t,n=>{E$(e.springs,n,r=>k$(r,e))})}var N1=({children:e,...t})=>{const n=O.useContext(a0),r=t.pause||!!n.pause,o=t.immediate||!!n.immediate;t=$Ce(()=>({pause:r,immediate:o}),[r,o]);const{Provider:i}=a0;return O.createElement(i,{value:t},e)},a0=hke(N1,{});N1.Provider=a0.Provider;N1.Consumer=a0.Consumer;function hke(e,t){return Object.assign(e,O.createContext(t)),e.Provider._context=e,e.Consumer._context=e,e}var mke=()=>{const e=[],t=function(r){FCe();const o=[];return en(e,(i,a)=>{if(Te.und(r))o.push(i.start());else{const l=n(r,i,a);l&&o.push(i.start(l))}}),o};t.current=e,t.add=function(r){e.includes(r)||e.push(r)},t.delete=function(r){const o=e.indexOf(r);~o&&e.splice(o,1)},t.pause=function(){return en(e,r=>r.pause(...arguments)),this},t.resume=function(){return en(e,r=>r.resume(...arguments)),this},t.set=function(r){en(e,(o,i)=>{const a=Te.fun(r)?r(i,o):r;a&&o.set(a)})},t.start=function(r){const o=[];return en(e,(i,a)=>{if(Te.und(r))o.push(i.start());else{const l=this._getProps(r,i,a);l&&o.push(i.start(l))}}),o},t.stop=function(){return en(e,r=>r.stop(...arguments)),this},t.update=function(r){return en(e,(o,i)=>o.update(this._getProps(r,o,i))),this};const n=function(r,o,i){return Te.fun(r)?r(i,o):r};return t._getProps=n,t};function gke(e,t,n){const r=Te.fun(t)&&t;r&&!n&&(n=[]);const o=O.useMemo(()=>r||arguments.length==3?mke():void 0,[]),i=O.useRef(0),a=c$(),l=O.useMemo(()=>({ctrls:[],queue:[],flush(E,A){const C=yN(E,A);return i.current>0&&!l.queue.length&&!Object.keys(C).some(T=>!E.springs[T])?KB(E,A):new Promise(T=>{C$(E,C),l.queue.push(()=>{T(KB(E,A))}),a()})}}),[]),u=O.useRef([...l.ctrls]),d=[],f=aN(e)||0;O.useMemo(()=>{en(u.current.slice(e,f),E=>{tke(E,o),E.stop(!0)}),u.current.length=e,m(f,e)},[e]),O.useMemo(()=>{m(0,Math.min(f,e))},n);function m(E,A){for(let C=E;C<A;C++){const M=u.current[C]||(u.current[C]=new fke(null,l.flush)),T=r?r(C,M):t[C];T&&(d[C]=lke(T))}}const g=u.current.map((E,A)=>yN(E,d[A])),v=O.useContext(N1),y=aN(v),_=v!==y&&eke(v);Wx(()=>{i.current++,l.ctrls=u.current;const{queue:E}=l;E.length&&(l.queue=[],en(E,A=>A())),en(u.current,(A,C)=>{o==null||o.add(A),_&&A.start({default:v});const M=d[C];M&&(nke(A,M.ref),A.ref?A.queue.push(M):A.start(M))})}),Jx(()=>()=>{en(l.ctrls,E=>E.stop(!0))});const b=g.map(E=>({...E}));return o?[b,o]:b}function pke(e,t){const n=Te.fun(e),[[r],o]=gke(1,n?e:[e],n?t||[]:t);return n||arguments.length==2?[r,o]:r}var dOe=(e,t)=>{const n=GCe(()=>new w$(e,t));return Jx(()=>()=>{n.stop()}),n},R$=class extends Xx{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=qm(...t);const n=this._get(),r=WB(n);Zx(this,r.create(n))}advance(e){const t=this._get(),n=this.get();As(t,n)||(ja(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&_N(this._active)&&Gk(this)}_get(){const e=Te.arr(this.source)?this.source.map(Mo):ei(Mo(this.source));return this.calc(...e)}_start(){this.idle&&!_N(this._active)&&(this.idle=!1,en(L1(this),e=>{e.done=!1}),wa.skipAnimation?(Tt.batchedUpdates(()=>this.advance()),Gk(this)):M1.start(this))}_attach(){let e=1;en(ei(this.source),t=>{Ei(t)&&hf(t,this),YB(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){en(ei(this.source),e=>{Ei(e)&&Wm(e,this)}),this._active.clear(),Gk(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=ei(this.source).reduce((t,n)=>Math.max(t,(YB(n)?n.priority:0)+1),0))}};function vke(e){return e.idle!==!1}function _N(e){return!e.size||Array.from(e).every(vke)}function Gk(e){e.idle||(e.idle=!0,en(L1(e),t=>{t.done=!0}),Hm(e,{type:"idle",parent:e}))}var fOe=(e,...t)=>new R$(e,t);wa.assign({createStringInterpolator:s$,to:(e,t)=>new R$(e,t)});var x$=/^--/;function yke(e,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!x$.test(e)&&!(Xh.hasOwnProperty(e)&&Xh[e])?t+"px":(""+t).trim()}var bN={};function _ke(e,t){if(!e.nodeType||!e.setAttribute)return!1;const n=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter",{className:r,style:o,children:i,scrollTop:a,scrollLeft:l,viewBox:u,...d}=t,f=Object.values(d),m=Object.keys(d).map(g=>n||e.hasAttribute(g)?g:bN[g]||(bN[g]=g.replace(/([A-Z])/g,v=>"-"+v.toLowerCase())));i!==void 0&&(e.textContent=i);for(const g in o)if(o.hasOwnProperty(g)){const v=yke(g,o[g]);x$.test(g)?e.style.setProperty(g,v):e.style[g]=v}m.forEach((g,v)=>{e.setAttribute(g,f[v])}),r!==void 0&&(e.className=r),a!==void 0&&(e.scrollTop=a),l!==void 0&&(e.scrollLeft=l),u!==void 0&&e.setAttribute("viewBox",u)}var Xh={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bke=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),wke=["Webkit","Ms","Moz","O"];Xh=Object.keys(Xh).reduce((e,t)=>(wke.forEach(n=>e[bke(n,t)]=e[t]),e),Xh);var Ske=/^(matrix|translate|scale|rotate|skew)/,Ake=/^(translate)/,Cke=/^(rotate|skew)/,jk=(e,t)=>Te.num(e)&&e!==0?e+t:e,Zv=(e,t)=>Te.arr(e)?e.every(n=>Zv(n,t)):Te.num(e)?e===t:parseFloat(e)===t,kke=class extends D1{constructor({x:e,y:t,z:n,...r}){const o=[],i=[];(e||t||n)&&(o.push([e||0,t||0,n||0]),i.push(a=>[`translate3d(${a.map(l=>jk(l,"px")).join(",")})`,Zv(a,0)])),es(r,(a,l)=>{if(l==="transform")o.push([a||""]),i.push(u=>[u,u===""]);else if(Ske.test(l)){if(delete r[l],Te.und(a))return;const u=Ake.test(l)?"px":Cke.test(l)?"deg":"";o.push(ei(a)),i.push(l==="rotate3d"?([d,f,m,g])=>[`rotate3d(${d},${f},${m},${jk(g,u)})`,Zv(g,0)]:d=>[`${l}(${d.map(f=>jk(f,u)).join(",")})`,Zv(d,l.startsWith("scale")?1:0)])}}),o.length&&(r.transform=new Eke(o,i)),super(r)}},Eke=class extends o${constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return en(this.inputs,(n,r)=>{const o=Mo(n[0]),[i,a]=this.transforms[r](Te.arr(o)?o:n.map(Mo));e+=" "+i,t=t&&a}),t?"none":e}observerAdded(e){e==1&&en(this.inputs,t=>en(t,n=>Ei(n)&&hf(n,this)))}observerRemoved(e){e==0&&en(this.inputs,t=>en(t,n=>Ei(n)&&Wm(n,this)))}eventObserved(e){e.type=="change"&&(this._value=null),Hm(this,e)}},Bke=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];wa.assign({batchedUpdates:H0.unstable_batchedUpdates,createStringInterpolator:s$,colors:pCe});var Rke=JCe(Bke,{applyAnimatedValues:_ke,createAnimatedStyle:e=>new kke(e),getComponentProps:({scrollTop:e,scrollLeft:t,...n})=>n}),xke=Rke.animated;const s0=(e,t,n=[])=>{const r=O.useRef(e),o=O.useCallback(()=>r.current,[]),i=O.useCallback(a=>{r.current=a},n);return[o,i,r]},O$=e=>{const[t,n,r]=s0(e);return n(e),[t,r]},Oke="_emotionContainer_17kpc_1",Mke="_emotionContainer_icon_17kpc_6",$k={emotionContainer:Oke,emotionContainer_icon:Mke,"emotionContainer_icon-hidden":"_emotionContainer_icon-hidden_17kpc_11"},M$=({emotion:e,size:t,isAnimated:n})=>{const[r,o]=O.useState(!0),i=!r&&n&&t!==void 0,[a]=O$(i);O.useEffect(()=>{n&&t!==void 0&&(o(!1),setTimeout(()=>{o(!0)},Vh-jE))},[t]);const l=pke(i?{from:{scale:.5},to:async u=>{for(;!(!a()||(await u({scale:.9}),!a()));)await u({scale:.5})},config:{mass:6,tension:100,friction:6}}:{to:{scale:1},immediate:!0});if(e)return w.jsx("div",{style:{width:t,height:t},className:qt($k.emotionContainer),"data-not-hightlight":"1","data-hightlight-children":"1",children:w.jsx(xke.div,{style:{...l,fontSize:t},className:qt($k.emotionContainer_icon,{[$k["emotionContainer_icon-hidden"]]:r&&n}),id:"emotion-active-icon",children:e})})},wN=({emotion:e=null,size:t,animated:n,children:r,isYou:o=!1})=>{const i=ne(v=>v.app.gameType===re.Together),a=ne(v=>v.config.soundEnable),l=ne(v=>v.config.enemyEmojiMode),u=ne(v=>v.board.opponentEmotion),d=Re(v=>v.board.setOpponentEmotion),[f,m]=O.useState(null),g=O.useCallback(async(v,y)=>{if(!v)return;const _=(l===da.DEFAULT||i||o)&&a;if(l===da.BLOCK&&!i&&!o){m(null),d(null);return}await Ede(v,_),m(v.e),setTimeout(()=>{m(null),y&&d(null)},Vh)},[l,i,a,o,m,d]);return O.useEffect(()=>{u&&!o&&g(u,!0)},[u]),O.useEffect(()=>{e&&o&&g(e,!1)},[e]),w.jsx("div",{style:{width:t,height:t},"data-hightlight-children":"1",children:f?w.jsx(M$,{emotion:f,size:t,isAnimated:n}):r})},Pke="_EmotionsTrigger_zpjof_1",Tke="_EmotionsMenuRoot_zpjof_21",Ike="_EmotionsMenuLabel_zpjof_24",Lke="_EmotionsMenuItem_zpjof_27",Dke="_EmotionsMenuItemLabel_zpjof_33",Yi={EmotionsTrigger:Pke,"EmotionsTrigger-portrait":"_EmotionsTrigger-portrait_zpjof_7","EmotionsTrigger-desktop":"_EmotionsTrigger-desktop_zpjof_10","EmotionsTrigger-hidden":"_EmotionsTrigger-hidden_zpjof_13",EmotionsMenuRoot:Tke,EmotionsMenuLabel:Ike,EmotionsMenuItem:Lke,EmotionsMenuItemLabel:Dke};function hOe(e){return We({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zm6.5 4.5v5.793l2.146-2.147a.5.5 0 0 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 1 1 .708-.708L7.5 10.293V4.5a.5.5 0 0 1 1 0"},child:[]}]})(e)}function mOe(e){return We({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M2 16a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2zm6.5-4.5V5.707l2.146 2.147a.5.5 0 0 0 .708-.708l-3-3a.5.5 0 0 0-.708 0l-3 3a.5.5 0 1 0 .708.708L7.5 5.707V11.5a.5.5 0 0 0 1 0"},child:[]}]})(e)}function P$(e){return We({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8c0 3.866-3.582 7-8 7a9 9 0 0 1-2.347-.306c-.584.296-1.925.864-4.181 1.234-.2.032-.352-.176-.273-.362.354-.836.674-1.95.77-2.966C.744 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7M5 8a1 1 0 1 0-2 0 1 1 0 0 0 2 0m4 0a1 1 0 1 0-2 0 1 1 0 0 0 2 0m3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2"},child:[]}]})(e)}function Nke(e){return We({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0m4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0m3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2"},child:[]},{tag:"path",attr:{d:"m2.165 15.803.02-.004c1.83-.363 2.948-.842 3.468-1.105A9 9 0 0 0 8 15c4.418 0 8-3.134 8-7s-3.582-7-8-7-8 3.134-8 7c0 1.76.743 3.37 1.97 4.6a10.4 10.4 0 0 1-.524 2.318l-.003.011a11 11 0 0 1-.244.637c-.079.186.074.394.273.362a22 22 0 0 0 .693-.125m.8-3.108a1 1 0 0 0-.287-.801C1.618 10.83 1 9.468 1 8c0-3.192 3.004-6 7-6s7 2.808 7 6-3.004 6-7 6a8 8 0 0 1-2.088-.272 1 1 0 0 0-.711.074c-.387.196-1.24.57-2.634.893a11 11 0 0 0 .398-2"},child:[]}]})(e)}function SN(e){return We({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"},child:[]},{tag:"path",attr:{d:"M4.285 9.567a.5.5 0 0 1 .683.183A3.5 3.5 0 0 0 8 11.5a3.5 3.5 0 0 0 3.032-1.75.5.5 0 1 1 .866.5A4.5 4.5 0 0 1 8 12.5a4.5 4.5 0 0 1-3.898-2.25.5.5 0 0 1 .183-.683M7 6.5C7 7.328 6.552 8 6 8s-1-.672-1-1.5S5.448 5 6 5s1 .672 1 1.5m4 0c0 .828-.448 1.5-1 1.5s-1-.672-1-1.5S9.448 5 10 5s1 .672 1 1.5"},child:[]}]})(e)}const Fke=({onClick:e,emotions:t=[]})=>w.jsx(w.Fragment,{children:t.map(n=>w.jsx("div",{onClick:()=>e(n),children:w.jsx(yr.Item,{id:`emotion-el-${n.e}`,className:Yi.EmotionsMenuItem,classNames:{itemLabel:Yi.EmotionsMenuItemLabel},children:w.jsx(M$,{emotion:n.e,size:24})})},n.e))}),Gke=fe.memo(Fke,wr),jke=Jc.map(({header:e})=>({label:e,value:e})),$ke=({isYou:e})=>{const t=Re(x=>x.p2p.sendEmotion),n=Re(x=>x.board.setOpponentEmotion),r=ne(x=>!!x.board.opponentEmotion),o=ne(x=>x.app.gameType),i=Rn(),a=c1(),l=i?a:a*.8,[u,d]=O.useState(!1),[f,m]=O.useState(null),[g,v]=O.useState(!0),[y,_]=O.useState(Jc[0].header),b=Re(x=>x.config.setEnemyEmojiSettings),E=ne(x=>x.config.enemyEmojiMode),A=ne(x=>{var D;return((D=x.online.fakeOnlineOpponent)==null?void 0:D.emojiAnswerChance)||0}),C=O.useMemo(()=>({[da.DEFAULT]:w.jsx(SN,{size:l}),[da.BLOCK]:w.jsx(dwe,{size:l}),[da.MUTE]:w.jsx(Nge,{size:l})}),[l]),M=O.useMemo(()=>{var x,D;return(D=(x=Jc.find(({header:$})=>$===y))==null?void 0:x.emotions)==null?void 0:D.filter(j0)},[y]),T=O.useCallback(x=>{e?(Xr(o)&&t(x),(()=>{if(Ag(o)){const D=M;if(!D||o===re.FakeOnline&&Math.random()>=A)return;const $=_G();setTimeout(()=>{n(D[Math.floor(Math.random()*D.length)]),Ne.trackEmojiSendByAi()},Vh+jE+$)}})(),m(x),v(!1),setTimeout(()=>m(null),Vh),setTimeout(()=>v(!0),Vh-jE)):o===re.Together&&n(x),Ne.trackOpenEmojiDialog(x.e,o)},[e,o,y,M]),I=()=>{const x=(E+1)%Object.keys(C).length;b(x),Ne.trackSwitchOpponentEmojiMode(x,o)},P=O.useCallback(()=>{d(!1),!r&&!f&&Ne.trackOpenEmojiDialog(null,o)},[r,f]),B=O.useCallback(()=>d(!0),[]),R=!!(e&&f||!e&&o===re.Together&&r);return e||o===re.Together?w.jsxs(fr,{shadow:"md",position:"top-start",returnFocus:!0,loop:!1,closeOnClickOutside:!0,closeOnItemClick:!0,disabled:R,closeOnEscape:!0,onOpen:B,opened:u,onClose:P,zIndex:100,children:[w.jsx(yr.Target,{"data-hightlight-children":"1",children:w.jsx(ln,{"data-hightlight-children":"1",children:w.jsx(wN,{size:l,emotion:f,isYou:e,animated:!0,children:w.jsx("div",{...e&&{id:_t.gameInfo.player.emojisMenuButton},className:qt(Yi.EmotionsTrigger,{[Yi["EmotionsTrigger-portrait"]]:i,[Yi["EmotionsTrigger-desktop"]]:!i,[Yi["EmotionsTrigger-hidden"]]:f&&!g}),children:w.jsx(SN,{size:l})})})})}),w.jsx(yr.Dropdown,{"data-hightlight-children":"1",style:{maxWidth:void 0},children:w.jsxs(Ds,{id:_t.gameInfo.emojisMenu.menu,maw:240,children:[w.jsx(Cl,{gutter:0,children:w.jsx(Gke,{emotions:M,onClick:T})}),w.jsx(lCe,{id:"smile-segment-control",data:jke,value:y,onChange:_,classNames:{root:Yi.EmotionsMenuRoot,label:Yi.EmotionsMenuLabel}})]})})]}):w.jsx("div",{onClick:I,"data-hightlight-children":"1",children:w.jsx(wN,{size:l,animated:!0,isYou:!1,children:w.jsx("div",{className:qt(Yi.EmotionsTrigger,{[Yi["EmotionsTrigger-portrait"]]:i,[Yi["EmotionsTrigger-desktop"]]:!i}),children:C[E]})})})},zke=fe.memo($ke),Uke={"ml-auto":"_ml-auto_17r0a_1"};var AN;(function(e){e.PlayerNotFound="player_not_found",e.ProjectNotFound="project_not_found",e.OriginNotAllowed="origin_not_allowed",e.PlayerBanned="player_banned",e.InternalError="internal_error",e.EmptyChannelId="empty_channel_id",e.AccessDenied="access_denied",e.Undefined="undefined"})(AN||(AN={}));var XB;(function(e){e.OpenChat="openChat",e.ErrorOpenChat="error:openChat",e.CloseChat="closeChat",e.EventMessage="event:message"})(XB||(XB={}));const T$=e=>{const t=Re(m=>m.modals.openChatOpenErrorModal),n=Re(m=>m.modals.openChatSelectModal),r=Um(At.NonGameButton,{place:{openChat:e}}),o=Um(At.NonGameButton,{place:{closeChat:e}}),i=hn(),a=me.isYandex()&&$l&&i===He.VI,l=ne(m=>m.flags.chatIdsByLocale),u=Object.keys(l||{}).filter(m=>a?m!=="vi":!0).length,d=a?l==null?void 0:l[He.EN]:(l==null?void 0:l[i])??(l==null?void 0:l[He.EN]),f=ne(m=>{var g;return(((g=m.platform.player)==null?void 0:g.score)??0)<m.flags.minScoreToEnableChat});return O.useCallback(async()=>{var m,g;Ne.trackClickOpenChat(e,!f),f?t():(await r(),(m=window.gp.channels)==null||m.once(XB.CloseChat,o),u>1?n():((g=window.gp.channels)==null||g.openChat({id:d}),Ne.trackGPRequest(_r.ChannelOpenChat)))},[e,f,u,d])},CN=({place:e,size:t})=>{const n=ne(a=>a.flags.isChatEnabled),r=Cr(un.Outline),o=Ar(fo.Neutral2),i=T$(e);return n?w.jsx(cr,{onClick:i,w:"100%",id:"chat-button-id",leftSection:w.jsx(P$,{color:"white",size:er.xs}),styles:{label:{color:o}},...r,...!!t&&{size:t},variant:"outline",children:be("chat")}):null};var l0=(e=>(e.MainMenu="main_screen_button",e.ModalGameResult="result_game_modal",e.InGame="in_game",e))(l0||{});function Vke(e){return We({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 3h-1v13h1a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2zM4 16h7l-1.122 3.368A2 2 0 0 0 11.775 22H12l5-5.438V3H6l-3.937 8.649-.063.293V14a2 2 0 0 0 2 2z"},child:[]}]})(e)}function qke(e){return We({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M4 21h1V8H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2zM20 8h-7l1.122-3.368A2 2 0 0 0 12.225 2H12L7 7.438V21h11l3.912-8.596L22 12v-2a2 2 0 0 0-2-2z"},child:[]}]})(e)}const Qke=e=>ne(t=>{const n=t.app.gameResult,r=t.board.myColor;return n===ht.WhitesVictory&&e===lt.White||n===ht.BlacksVictory&&e===lt.Black||n===ht.Victory&&e===r||n===ht.Defeat&&e!==r}),zk=({color:e,children:t})=>w.jsx(_m,{variant:"light",color:e,size:22,bg:"transparent",children:t}),Hke=({color:e})=>{const t=Ar(fo.Success2),n=Ar(fo.Reject2),r=Ar(fo.Neutral3),o=Qke(e),i=yle(),a=_7();return i||!a?w.jsx(zk,{color:r,children:w.jsx(oj,{})}):o?w.jsx(zk,{color:t,children:w.jsx(qke,{})}):w.jsx(zk,{color:n,children:w.jsx(Vke,{})})},Wke=({color:e})=>{const t=Rn(),n=ne(o=>o.app.gameResult);return!(t&&!n)&&!!n?w.jsx(Hke,{color:e}):null},kN=fe.memo(Wke),EN={"EyeMaterialButton__toggle-image":"_EyeMaterialButton__toggle-image_l9xe0_1","EyeMaterialButton__toggle-image-half-hidden":"_EyeMaterialButton__toggle-image-half-hidden_l9xe0_4"},Jke=()=>{hn();const e=ne(r=>r.config.displayScoreDifference),t=Re(r=>r.config.toggleCaptureFigures),n=Cr(un.Transparent);return w.jsx($s,{maw:"100%",label:be(e?"showAll":"showDifference"),children:w.jsx(Hl,{id:"change-display-score",onClick:()=>t(),...n,...me.isTV()&&{size:22,mt:5},children:e?w.jsx(Awe,{size:me.isTV()?12:void 0,className:EN["EyeMaterialButton__toggle-image"]}):w.jsx(Swe,{size:me.isTV()?12:void 0,className:EN["EyeMaterialButton__toggle-image-half-hidden"]})})})},Zke="_timer_1oxmr_1",Yke="_compact_1oxmr_17",Kke="_notActive_1oxmr_24",Xke="_danger_1oxmr_27",eEe="_split_1oxmr_36",tEe="_ms_1oxmr_52",Eo={timer:Zke,compact:Yke,notActive:Kke,danger:Xke,split:eEe,ms:tEe},nEe=e=>{const{time:t,className:n,id:r,isActive:o,compact:i,noDanger:a}=e,[l,u]=O.useState(!0),d=O.useRef(t),f=O.useRef(),m=!a&&t<10,g=Math.max(Math.floor(t/60),0),v=Math.max(Math.floor(t%60),0),y=Math.max(Math.floor(t*10%10),0);return O.useEffect(()=>(o?t!==d.current&&(u(!0),f.current=setTimeout(()=>{u(!1)},500)):u(!0),d.current=t,()=>{clearTimeout(f.current)}),[o,t]),w.jsxs("div",{id:r,className:qt(Eo.timer,n,{[Eo.compact]:i,[Eo.notActive]:!o,[Eo.active]:o,[Eo.danger]:m}),children:[g,w.jsx("span",{style:{opacity:l?1:0},className:qt(Eo.split,{[Eo.compact]:i,[Eo.danger]:m,[Eo.notActive]:!o}),children:":"}),v.toString().padStart(2,"0"),m&&w.jsxs(w.Fragment,{children:[w.jsx("span",{className:qt(Eo.split,{[Eo.compact]:i,[Eo.danger]:m,[Eo.notActive]:!o}),children:"."}),w.jsx("span",{className:Eo.ms,children:y})]})]})},rEe=fe.memo(nEe),oEe=({time:e,isActive:t,id:n})=>{const r=ne(d=>d.app.gameType),o=ne(d=>d.app.gameState),i=ne(d=>{var f;return!((f=d.board.history)!=null&&f.length)}),a=Rn(),l=r===re.Single,u=r===re.Together&&i;return w.jsx(rEe,{time:e,noDanger:l,isActive:u||l?!1:t&&o===xe.InGame,id:n,compact:a})},iEe=e=>{const t=ne(r=>r.board.timeControl),n=ne(r=>r.app.gameState);return!t||![xe.InGame,xe.AfterGame].includes(n)?null:w.jsx(oEe,{...e})},aEe=fe.memo(iEe,wr),sEe=(e,t)=>{const n=e<10||t<10?10:1;return Math.round(e*n)/n===Math.round(t*n)/n},I$=({isPlayer:e})=>{const t=ne(l=>l.board.myColor),n=ne(l=>l.board.gameEngine.turn()),r=ne(l=>l.board.timeControl),[o,i]=O.useState(!1);ne(l=>l.board.timeControl?l.board.history:null);const a=ne(l=>e?l.board.playerTimeLeft:l.board.optionTimeLeft,sEe);return O.useEffect(()=>{!r||!e||(o?a>=10&&i(!1):a<10&&(Sde(0),i(!0)))},[a,o]),w.jsx(aEe,{time:a,isActive:n===(e?t:ma(t)),id:e?"my-timer":"opponent-timer"})},lEe=({isPlayer:e=!1})=>ne(n=>n.board.timeControl)?w.jsx(I$,{isPlayer:e}):null,gOe=e=>{const t=Ng();return ne(r=>r.board.timeControl)?w.jsx(I$,{isPlayer:e?t:!t}):null},cEe="_gameInfoFrame_1ep2w_1",uEe="_topInfoFrame_1ep2w_9",dEe="_bottomInfoFrame_1ep2w_16",fEe="_gameFieldFrame_1ep2w_24",kv={gameInfoFrame:cEe,topInfoFrame:uEe,bottomInfoFrame:dEe,gameFieldFrame:fEe},hEe=e=>{const[t,n]=O.useState(e),r=O.useCallback(()=>n(!0),[]),o=O.useCallback(()=>n(!1),[]),i=O.useCallback(()=>n(!t),[t]);return[t,r,o,i,n]},mEe=()=>{const[e,,t]=hEe(!0);return O.useEffect(t,[]),e},gEe=(e,t=[],n=!1)=>{const r=mEe(),[o,i]=O.useState(!1),[a,l]=s0(!1),[u,d]=O.useState(!1),[f]=O$(u),[m,g]=s0(void 0);O.useEffect(()=>{if(d(!u),o===a()){if(i(!o),l(!o),r&&!n)return;const v=e();g(v)}return()=>{var v;u!==f()&&((v=m())==null||v(),g(void 0))}},t)},pEe=e=>{const[t,n]=s0(void 0);return gEe(()=>()=>{var o;(o=t())==null||o.disconnect(),n(void 0)},[],!0),O.useCallback(o=>{var i;if((i=t())==null||i.disconnect(),n(void 0),e(o),o){const a=()=>e(o),l=new ResizeObserver(a);n(l),l.observe(o)}},[e])};function pr(e){return e instanceof Window}const vEe=(e=window)=>new yEe(e);class yEe{constructor(t){this.view=t}get html(){return pr(this.view)?this.view.document.documentElement:this.view.ownerDocument.documentElement}get computedStyle(){return pr(this.view)?window.getComputedStyle(this.html):window.getComputedStyle(this.view)}cssPropValue(t){return this.computedStyle.getPropertyValue(t)}get rect(){return pr(this.view)?this.html.getBoundingClientRect():this.view.getBoundingClientRect()}get clientXFloat(){return pr(this.view)?0:this.rect.left}get vpXFloat(){return this.clientXFloat}get vpLeftFloat(){return this.clientXFloat}get vpx(){return this.clientXFloat}get x(){return this.clientXFloat}get clientYFloat(){return pr(this.view)?0:this.rect.top}get vpYFloat(){return this.clientYFloat}get vpTopFloat(){return this.clientYFloat}get vpy(){return this.clientYFloat}get y(){return this.clientYFloat}get xy(){return{x:this.x,y:this.y}}get clientRightFloat(){return pr(this.view)?0:this.rect.right}get vpRightFloat(){return this.clientRightFloat}get clientBottomFloat(){return pr(this.view)?0:this.rect.bottom}get vpTopToElemBottomFloat(){return this.clientBottomFloat}get widthFloat(){return pr(this.view)?window.innerWidth:Math.abs(this.rect.width)}get w(){return this.widthFloat}get heightFloat(){return pr(this.view)?window.innerHeight:Math.abs(this.rect.height)}get h(){return this.heightFloat}get wh(){return{w:this.w,h:this.h}}get vpCenterXYFloat(){return[this.vpLeftFloat+this.widthFloat/2,this.vpTopFloat+this.heightFloat/2]}get width(){return pr(this.view)?window.innerWidth:this.view.offsetWidth}get height(){return pr(this.view)?window.innerHeight:this.view.offsetHeight}get contentWidth(){return pr(this.view)?this.view.innerWidth:this.view.clientWidth}get contentHeight(){return pr(this.view)?this.view.innerHeight:this.view.clientHeight}get scrollLeft(){return pr(this.view)?window.scrollX:this.view.scrollLeft}get scrollTop(){return pr(this.view)?window.scrollY:this.view.scrollTop}get scrollLeftMax(){return pr(this.view)||!this.view.scrollLeftMax?this.scrollWidth-this.contentWidth:this.view.scrollLeftMax}get scrollTopMax(){return pr(this.view)||!this.view.scrollTopMax?this.scrollHeight-this.contentHeight:this.view.scrollTopMax}get scrollWidth(){return pr(this.view)?this.html.scrollWidth:this.view.scrollWidth}get scrollHeight(){return pr(this.view)?this.html.scrollHeight:this.view.scrollHeight}}const _Ee=134,L$=114,D$=78,N$="HISTORY_VISIBLE_KEY",bEe=localStorage.getItem(N$),Ua=new Po(bEe!=="0"),e2=new Po(Ua.value?L$:D$),wEe=()=>{const[e,t]=O.useState(Ua.value),n=ne(r=>r.app.gameState);return O.useEffect(()=>{n===xe.GameAnalyze&&!e&&Ua.next(!0)},[n]),O.useEffect(()=>{const r=Ua.subscribe(o=>{t(o)});return()=>r.unsubscribe()},[]),e};Ua.subscribe(e=>{localStorage.setItem(N$,e?"1":"0"),e2.next(e?L$:D$)});const SEe=e=>{const{top:t,field:n,bottom:r}=e,[o,i]=O.useState(e2.value);O.useEffect(()=>{const l=e2.subscribe(u=>i(u));return()=>l.unsubscribe()},[]);const a=pEe(O.useCallback(l=>{if(l){const u=vEe(l);l.style.setProperty("--field-max-w",`${u.w}px`),l.style.setProperty("--field-max-h",`calc( ${u.h}px - var(--top-info-h) - var(--bottom-info-h) )`)}},[]));return w.jsxs("div",{className:kv.gameInfoFrame,ref:a,style:{"--top-info-h":`${o}px`,"--bottom-info-h":`${_Ee}px`},children:[w.jsx("div",{className:kv.topInfoFrame,children:t}),w.jsx("div",{className:kv.gameFieldFrame,children:n}),w.jsx("div",{className:kv.bottomInfoFrame,children:r})]})},pOe=fe.memo(SEe),AEe=()=>{const e=Cr(un.Transparent),t=wEe(),n=ne(o=>o.config.windowSize.windowHeight<=550&&o.config.isPortrait);O.useEffect(()=>{n&&Ua.value&&Ua.next(!1)},[n]);const r=()=>{Ua.next(!Ua.value),Ne.trackClickHistoryIcon(!Ua.value)};return w.jsx(Hl,{id:_t.gameInfo.gameControlButton.button.hideHistory,onClick:r,...e,children:t?w.jsx(u_e,{size:16}):w.jsx(c_e,{size:16})})},vOe=({color:e,hasCaptures:t,hideEye:n,children:r})=>{const o=Rn();hn();const i=ne(A=>!!A.app.gameResult),a=ne(A=>A.app.gameType),l=ne(A=>A.board.myColor),u=ne(A=>A.config.onlineBetSize),d=ne(A=>A.board.isRotated),f=Re(A=>()=>A.modals.openPaymentsModal({place:Tr.InGameGold})),m=l===e,g=l===lt.Black,v=d?g?e===l:e!==l:g?e!==l:e===l,y=o&&!i&&a!==re.AI,_=y?w.jsx(lEe,{isPlayer:m}):null,b=Qn(a)&&u?w.jsx($s,{maw:"100%",label:be("betSize"),children:w.jsxs(ln,{gap:"4",align:"center",onClick:f,style:{cursor:"pointer"},children:[w.jsx(li,{children:u}),w.jsx(xx,{})]})}):null,E=v&&t&&!n;return w.jsxs(w.Fragment,{children:[w.jsxs(ln,{align:"center",gap:"4",children:[o&&v&&!n&&w.jsx(wwe,{source:Rg.mobileIcon}),E&&w.jsx(Jke,{}),!v&&w.jsx(Ewe,{}),!o&&r]}),!o&&b,o&&w.jsx("div",{style:{marginRight:"auto",marginLeft:"4px"},children:r}),o&&w.jsxs(ln,{align:"center",gap:"4",children:[b,y&&w.jsx("div",{style:{marginRight:"-4px"},children:_})]})]})},CEe=()=>{const e=c1(),t=ne(o=>{var i;return(i=o.p2p.opponent)==null?void 0:i.id}),n=Rn(),r=()=>{const o=window.gp;o&&(o.channels.openPersonalChat({playerId:t,tags:[ts]}),Ne.trackGPRequest(_r.ChannelOpenChat))};return w.jsx(Nke,{style:{cursor:"pointer",background:"none"},size:n?e:e*.8,onClick:r})},kEe=fe.memo(CEe),EEe=()=>{const e=Rn(),t=c1(),n=T$(l0.InGame),r=ne(i=>i.flags.isChatEnabled),o=ne(i=>i.app.gameType===re.TogetherOnline);return r?w.jsxs(w.Fragment,{children:[w.jsx(P$,{style:{cursor:"pointer",background:"none"},size:e?t:t*.8,onClick:n}),o&&w.jsx(kEe,{})]}):null},BEe=({player:e,altName:t,isYou:n=!1,loading:r=!1,moveProgressBar:o,withResultIcons:i=!1})=>{const a=wle(e,!n),l=ne(C=>C.app.gameType),u=ne(C=>C.app.gameState===xe.GameAnalyze||C.session.gameStartedFromAnalytics),d=ne(C=>C.flags.isScreenshotTest),f=Ng(),m=c1(),g=Rn(),v=ne(C=>C.board.myColor),y=n?v:ma(v),_=l===re.Together,b=n?(e==null?void 0:e.name)===Kc?be("you"):`${a}`:u?t:e?`${a}`:t,E=f?!n:n,A=n&&l===re.AI?d?1111:e==null?void 0:e.withComputerRating:e==null?void 0:e.rating;return w.jsxs(x1,{wrap:"nowrap",maw:"100%",w:"100%",gap:"xs",style:{position:"relative"},"data-hightlight-children":"1",children:[w.jsxs(ln,{align:"center",gap:6,"data-hightlight-children":"1",children:[w.jsx(oCe,{size:m,avatar:(e==null?void 0:e.avatar)??void 0,rating:A,title:b,isMyAvatar:n,isPremium:e==null?void 0:e.isPremium,inGame:!0}),n&&w.jsx(EEe,{}),w.jsx(zke,{isYou:n})]}),g?w.jsxs(w.Fragment,{children:[w.jsx(li,{component:"div",truncate:"end",lineClamp:1,display:"block",children:r?w.jsx(ri,{size:"xs"}):b}),A&&!_&&w.jsxs(ln,{wrap:"nowrap",align:"baseline",gap:4,children:[A,w.jsx(jB,{size:12},"rating-icon")]}),o&&w.jsx(Ds,{mb:3,children:o}),i&&w.jsx("div",{className:Uke["ml-auto"],children:w.jsx(kN,{color:y},"result-icons")})]}):w.jsxs(ln,{direction:"column",miw:0,children:[w.jsxs(ln,{gap:8,miw:0,children:[w.jsx(li,{component:"div",truncate:"end",lineClamp:1,display:"block",children:r?w.jsx(ri,{size:"xs"}):b}),o&&w.jsx(Ds,{mb:3,children:o})]}),w.jsxs(ln,{gap:8,children:[A&&!_&&w.jsxs(ln,{wrap:"nowrap",align:"baseline",gap:4,children:[A," ",w.jsx(jB,{size:12},"rating-icon")]}),i&&w.jsx("div",{children:w.jsx(kN,{color:y},"result-icons")})]})]}),g&&!E&&w.jsx(AEe,{})]})},Uk=fe.memo(BEe,wr),REe="_PlayerComponent_1mxrl_1",Vk={PlayerComponent:REe,"PlayerComponent-notActiveTurn":"_PlayerComponent-notActiveTurn_1mxrl_4"},xEe=e=>{const{color:t,isBottomMaterial:n,moveProgressBar:r,playerMaterial:o}=e,i=OEe();hn();const a=ne(x=>x.app.gameType),l=ne(x=>x.board.myColor),u=ne(x=>x.p2p.opponent),d=ne(x=>x.p2p.player),f=ne(x=>x.analyze.isAnalyzeMode),m=ne(x=>x.analyze.fromOnlineRestart),g=ne(x=>x.board.gameEngine.turn()===t),v=ne(x=>x.board.isRotated),y=ne(x=>x.online.opponentNameIsLoading),_=ne(x=>x.board.aiMoveCalculationProgress),b=ne(x=>x.board.hintsCalculationProgress),E=Rn(),A=t===l,C=g||a===re.Single,M=f&&E,T=vte(a),I=!f&&a===re.AI&&!A,P={...i,...a===re.FakeOnline?{avatar:(u==null?void 0:u.avatar)||void 0}:{}},B=_!==null&&[re.AI,re.Together,re.Single].includes(a),R=Bt().feature[we.UserTurnHightlight];return w.jsxs(ln,{direction:"column",miw:0,gap:8,w:"100%",className:qt(Vk.PlayerComponent,{[Vk["PlayerComponent-notActiveTurn"]]:R&&!C}),children:[!n&&o,w.jsxs("div",{className:Vk["PlayerComponent-player--name"],id:"game-info-rating","data-hightlight-children":"1",children:[M&&w.jsx(x1,{gap:"xs",align:"center",children:w.jsx(Vj,{showLine:!A==!v,showText:!A!=!v})}),!f&&A&&w.jsx(Uk,{withResultIcons:!0,player:d,altName:be("you"),isYou:!0,moveProgressBar:(()=>{if(B&&C)return w.jsx(Wv,{size:16,strokeWidth:3,progress:b})})()},"player-info-you"),!M&&!A&&m&&w.jsx(Uk,{player:u,altName:be("opponent"),moveProgressBar:I&&r?r:void 0},"player-info-opponent"),!M&&!A&&!m&&w.jsx(Uk,{withResultIcons:!0,player:T?u:P,loading:Xr(a)&&y,altName:be("opponent"),moveProgressBar:(()=>{if(I&&r)return r;if(I&&_&&C)return w.jsx(Wv,{size:16,strokeWidth:3,progress:_},"loader-ai-move");if(B&&C)return w.jsx(Wv,{size:16,strokeWidth:3,progress:b},"loader-hint-calculation")})()},"player-info-opponent")]}),n&&o]})},c0=fe.memo(xEe),Ng=()=>{const e=ne(n=>n.board.myColor),t=ne(n=>n.board.isRotated);return Bt().isRotateBoardEnable?t&&e===lt.White||!t&&e===lt.Black:!1},OEe=()=>{const e=ne(l=>l.engine.computer,wr),t=ne(l=>l.config.opponentProvider),n=ne(l=>l.app.gameState),r=ne(l=>l.flags.isScreenshotTest),[o,i]=O.useState(),a=O.useRef();return O.useEffect(()=>{if(e.avaGender)return a.current=!1,(async()=>{if(r){const l=await t.getDefaultLocalAvaByLevelKey(e.levelType);if(a.current)return;i(l)}else{const l=await t.fetchAvaToObjectUrl(e);if(a.current)return;i(l)}})(),()=>{a.current=!0}},[e,n,r]),O.useMemo(()=>({...e,avatar:o}),[e,o,n])},yOe=(e,t)=>{const n=ne(u=>u.board.myColor),r=ma(n),o=Ng(),i=w.jsx(c0,{color:n,isBottomMaterial:o,moveProgressBar:e&&e(),playerMaterial:t(n)},"player-info"),l=[w.jsx(c0,{color:r,isBottomMaterial:!o,moveProgressBar:e&&e(),playerMaterial:t(r)},"opponent-info"),i];return o&&l.reverse(),{topPlayerComponent:l[0],botPlayerComponent:l[1]}},_Oe=(e,t)=>{const n=ne(i=>i.board.myColor),o=Ng()?n:ma(n);return w.jsx(c0,{color:o,playerMaterial:t(o),isBottomMaterial:!0,moveProgressBar:e&&e()},"top-player-info")},bOe=(e,t)=>{const n=ne(i=>i.board.myColor),o=Ng()?ma(n):n;return w.jsx(c0,{color:o,playerMaterial:t(o),isBottomMaterial:!1,moveProgressBar:e&&e()},"bot-player-info")},MEe=()=>(hn(),w.jsx(Mde,{title:be("advPause")})),PEe=fe.memo(MEe),TEe=O.forwardRef(({style:e,...t},n)=>w.jsx("svg",{...t,ref:n,style:{width:"var(--loader-size)",height:"var(--loader-size)",stroke:"var(--loader-color)",...e},viewBox:"0 0 45 45",xmlns:"http://www.w3.org/2000/svg",stroke:"#fff",children:w.jsxs("g",{fill:"none",fillRule:"evenodd",transform:"translate(1 1)",strokeWidth:"2",children:[w.jsxs("circle",{cx:"22",cy:"22",r:"6",strokeOpacity:"0",children:[w.jsx("animate",{attributeName:"r",begin:"1.5s",dur:"3s",values:"6;22",calcMode:"linear",repeatCount:"indefinite"}),w.jsx("animate",{attributeName:"stroke-opacity",begin:"1.5s",dur:"3s",values:"1;0",calcMode:"linear",repeatCount:"indefinite"}),w.jsx("animate",{attributeName:"stroke-width",begin:"1.5s",dur:"3s",values:"2;0",calcMode:"linear",repeatCount:"indefinite"})]}),w.jsxs("circle",{cx:"22",cy:"22",r:"6",strokeOpacity:"0",children:[w.jsx("animate",{attributeName:"r",begin:"3s",dur:"3s",values:"6;22",calcMode:"linear",repeatCount:"indefinite"}),w.jsx("animate",{attributeName:"stroke-opacity",begin:"3s",dur:"3s",values:"1;0",calcMode:"linear",repeatCount:"indefinite"}),w.jsx("animate",{attributeName:"stroke-width",begin:"3s",dur:"3s",values:"2;0",calcMode:"linear",repeatCount:"indefinite"})]}),w.jsx("circle",{cx:"22",cy:"22",r:"8",children:w.jsx("animate",{attributeName:"r",begin:"0s",dur:"1.5s",values:"6;1;2;3;4;5;6",calcMode:"linear",repeatCount:"indefinite"})})]})})),BN=xn.getLogger("APP"),IEe=e=>{const t=nF(e),n=rs({color:e.color||e.theme.primaryColor,theme:e.theme}),r=Ar(Yt.Secondary);return n.isThemeColor&&n.color==="secondary"&&e.variant==="outline"?{...t,border:`calc(0.0625rem * var(--mantine-scale)) solid ${r}`}:t},LEe=()=>{const{bottom:e,left:t,top:n,right:r}=bj.useSafeArea();window.inset={bottom:e,left:t,top:n,right:r}},qk=new xi;let yh;const DEe=e=>{const{settingsButton:t,Content:n,onExperimentGetReady:r}=e;LEe(),_de();const o=ne(G=>[xe.AfterGame,xe.InGame,xe.GameAnalyze].includes(G.app.gameState)),i=ne(G=>G.flags.isScreenshotTest),a=Re(G=>G.config.changeLocale),l=Re(G=>G.config.onWindowResize),u=Re(G=>G.config.resetCurrentOpponents),d=Re(G=>G.app.initApp),f=Re(G=>G.app.pauseGame),m=Re(G=>G.app.startOnlineWithFriendGameByInvite),g=Re(G=>G.platform.login),v=Re(G=>G.platform.onUserChange),y=Re(G=>G.platform.showPreloaderAdv),_=Re(G=>G.platform.firePlayerCoinsChangeTrigger),b=Re(G=>G.platform.firePlayerCashChangeTrigger),E=Re(G=>G.session.setLastInitLocale),A=Re(G=>G.modals.openRewardAcceptModal),C=Re(G=>G.modals.openPaymentsModal),M=Re(G=>G.app.startFirstPlayerGame),T=Re(G=>G.modals.openSchedulersModal),I=Re(G=>G.flags.setFlags),P=Rn(),B=O.useRef(!1);ne(G=>me.isCrazyGames()&&G.config.windowSize);const[R,x]=O.useState(!1),D=O.useRef();O.useEffect(()=>{if(B.current)return;B.current=!0,d(),l();const G=()=>{yh!==(document.visibilityState!=="visible")&&(yh=document.visibilityState!=="visible",f(yh))},q=()=>l();D.current=qk.pipe(_9(50),Oi()).subscribe(Y=>{yh=!Y,f(yh)});const Q=()=>{qk.next(!1)},F=()=>{qk.next(!0)},W=()=>{let Y=me.getLanguage();if(me.isYandex()){const V=me.getNativeSdk().environment.i18n.lang;Object.values(He).includes(V)&&(Y=V)}return Y&&(a(Y),E(Y),Ne.trackLanguage(Y)),Y};window.addEventListener("resize",q),document.addEventListener("visibilitychange",G),/Android|iPhone/i.test(navigator.userAgent)&&(window.addEventListener("focus",F),window.addEventListener("blur",Q)),W();try{yt.waitInitBeforeSync=!0,me.init().then(async()=>{var H,te,le,Ve;const Y=!!pn().useExternalAPIForPlayerState;yt.setEnabled(Y);let N=null;window.gp.rewards.on(iE.Accept,({reward:_e})=>{A({rewards:[_e]}),_e.mutations.forEach(Ee=>{yt.add(Ee.key,Number(Ee.value))}),N&&clearTimeout(N),N=setTimeout(()=>{_(),b(),yt.sync()},100)});const V=async()=>{me.isYandex()&&hV()};await Promise.all([me.getPlatformFlags(E6).then(_e=>{const Ee={...E6,..._e||{}};Ee.netlib_host&&(dy.host=Ee.netlib_host),Ee.online_rating_delta&&(gt.ratingDelta=Number(Ee.online_rating_delta)),I(Ee)}),V()]),await g(),me.isYandex()&&((H=me.getNativeSdk())==null||H.getPlayer().then(_e=>{Ne.trackPayingStatus(_e.getPayingStatus())}));const X=$he(),oe=window.gp.schedulers;oe.on("claimAllDay",_e=>{_e.isDayClaimed||oe.claimDay(X,_e.day),Ne.trackGPRequest(_r.SchedulersClaimDay),Ne.trackDailyReward(_e.day)});const ce=[],he=(async()=>{oe.isRegistered(X)||(await oe.register({tag:X}),Ne.trackGPRequest(_r.SchedulersRegister)),oe.isTodayRewardClaimed(X)||(T(),await oe.claimAllDays(X),Ne.trackGPRequest(_r.SchedulersClaimAllDays))})();ce.push(he);const ye=me.consumePaidPurchases();ce.push(ye),lr(100).then(()=>{me.isPremium()?(window.gp.ads.closeSticky(),ra.playing):(me.showSticky(),!me.isFirstLaunchGame&&pn().isPreloaderAdvEnabled&&y())}),me.isFirstLaunchGame?pn().isAdvDisabled&&(yt.set("coins",10),yt.set("cash",50),yt.sync(),_(),b()):(tH()||nH())&&!i&&C({place:Tr.OfferOnStart}),m(),u(),r==null||r(),me.isCrazyGames()&&((Ve=(le=(te=window.CrazyGames)==null?void 0:te.SDK)==null?void 0:le.user)==null||Ve.addAuthListener(v)),f(!0),lr(100).then(()=>f(!1)),x(!0),me.postInit();const Fe=W();Bt().fastStartForNewPlayers&&me.isFirstLaunchGame&&Fe!==He.RU&&M(),iY||Ne.trackWebAssemblyNotSupported(),await Promise.all(ce),yt.startSyncAfterInit()})}catch{r==null||r(),x(!0),yt.startSyncAfterInit()}return BN.info("App Mount"),()=>{var Y,N,V,X;B.current||((Y=D.current)==null||Y.unsubscribe(),/Android|iPhone/i.test(navigator.userAgent)&&(window.removeEventListener("focus",F),window.removeEventListener("blur",Q)),document.removeEventListener("visibilitychange",G),window.removeEventListener("resize",q),me.isCrazyGames()&&((X=(V=(N=window.CrazyGames)==null?void 0:N.SDK)==null?void 0:V.user)==null||X.removeAuthListener(v)),BN.info("App UnMount"))}},[]);const $=U_e([R]),U=me.isCrazyGames()&&!o,j=rm();return w.jsx(w.Fragment,{children:w.jsxs(aF,{withCssVariables:!0,forceColorScheme:"dark",theme:{variantColorResolver:IEe,primaryShade:6,primaryColor:$&&$[Yt.Primary]?Yt.Primary:"blue",colors:$,components:{Loader:ri.extend({defaultProps:{loaders:{...ri.defaultLoaders,ring:TEe}}})}},children:[w.jsx(Us,{}),w.jsx(PEe,{}),w.jsx(Ya,{w:"calc( var(--vw, 1vw) * 100 )",h:"calc( var(--vh, 1vh) * 100 )",className:qt("AppShell",{"AppShell-tv":me.isTV()}),children:w.jsxs(Ya.Main,{style:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",minWidth:0,minHeight:0,width:"100%",height:"100%",padding:16,...P&&o&&{padding:0}},children:[!R&&w.jsx(ri,{}),R&&w.jsxs(w.Fragment,{children:[w.jsx(n,{isReady:R}),!o&&!me.isTV()&&t,w.jsx(PAe,{})]})]})}),U&&w.jsx("div",{id:CV,className:qt({"cg-banner-bottom":HM(),"cg-banner-right":!HM(),"cg-banner-hidden":!0}),style:j})]})})},NEe=fe.memo(DEe),FEe=()=>w.jsx(vg,{style:{top:0,left:0,width:"calc( var(--vw, 1vw) * 100 )",height:"calc( var(--vh, 1vh) * 100 )",zIndex:800}}),GEe=fe.memo(FEe),F$=b8(),u0=F$.useStoreActions,iu=F$.useStoreState,jEe=({size:e,style:t,...n})=>w.jsx("svg",{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 488.258 488.258",style:{width:ve(e),height:ve(e),...t},...n,children:w.jsx("g",{children:w.jsxs("g",{children:[w.jsx("path",{d:`M253.4,272.029c1.2-8.7,2-17.5,2.5-26.3c-0.5-0.8-1.1-1.5-1.6-2.4c-4-6.2-7.2-14.1-10.3-24.8c-3.5-12.5-7-30.5,1.9-45.3
						c-1.1-7.6-1.3-14.6-0.8-21.3c-5.2-18.1-12.1-35.7-20.7-52.5c11.2,4.3,21.7,10,31.3,16.8c4.3-7.9,9.8-15.4,16.6-22.4
						c0.4-0.4,0.7-0.7,1.1-1.1c-29.1-20.9-63.9-32.2-100.5-32.2c-46.2,0-89.6,18-122.2,50.6c-32.8,32.7-50.7,76.1-50.7,122.3
						s18,89.6,50.6,122.2c32.7,32.7,76.1,50.6,122.2,50.6c2.3,0,4.6-0.1,7-0.1c-1.1-2.3-1.9-4.8-2.4-7.4c-1-5.7-1.9-14.6-2.5-21.7
						c-0.7,0-1.4,0-2.1,0c-4.6,0-9.1-0.2-13.5-0.6c-14.9-23-25.9-48-32.8-74.2h65c8-9.2,18.5-15.7,30.9-18.8
						C233.8,280.529,244.5,276.229,253.4,272.029z M161.9,90.229c3.6-0.3,7.2-0.4,10.9-0.4c4.2,0,8.4,0.2,12.6,0.6
						c14.8,23,25.8,47.9,32.8,74h-90.6C135,138.129,146.5,113.129,161.9,90.229z M122.7,98.829c-11.1,20.8-19.6,42.8-25.3,65.5H46.9
						C63.4,134.429,90.3,110.929,122.7,98.829z M29.2,233.429c0-13.8,2-27.2,5.6-39.8h56.8c-2,13.7-3,27.6-3,41.7
						c0,12.7,0.8,25.3,2.4,37.7H34.7C31.1,260.429,29.2,247.129,29.2,233.429z M46.8,302.229h49.6c5.3,22.5,13.3,44.2,23.9,64.9
						C88.9,354.729,62.9,331.629,46.8,302.229z M120.6,273.029c-1.8-12.4-2.7-25-2.7-37.7c0-14.1,1.1-28,3.3-41.7h103.1
						c1.8,12.5,2.8,25.2,2.8,38c0,14-1.1,27.8-3.3,41.4H120.6z`}),w.jsx("path",{d:`M275.2,175.229c0.6,3.1,1.4,6.3,2.5,9.5c-5.9-0.6-12.8,2.9-6.3,26c4.8,16.9,9.2,21.6,12.6,21.9
						c3.1,20.1,18.6,45.6,44.1,54.6c10.4,3.7,21.9,3.7,32.3-0.1c25.1-9,41.1-34.5,44.2-54.6c3.4-0.3,7.8-5,12.6-21.9
						c6.5-23.1-0.4-26.5-6.3-26c1.1-3.2,2-6.4,2.5-9.5c10-59.8-19.5-61.9-19.5-61.9s-4.9-9.4-17.7-16.5c-8.6-5.1-20.6-9.1-36.5-7.7
						c-5.1,0.2-10,1.2-14.5,2.8l0,0c-5.8,2-11.1,4.8-16,8.2c-5.9,3.8-11.5,8.3-16.4,13.6c-7.8,8-14.8,18.3-17.8,31.2
						C272.6,154.429,273.1,164.429,275.2,175.229L275.2,175.229z`}),w.jsx("path",{d:`M461,311.129c-35.9-9.1-65-29.6-65-29.6l-22.7,71.9l-4.3,13.5l-0.1-0.2l-3.7,11.5l-12-34c29.5-41.1-6-40.7-7.9-40.7
						c-2-0.1-37.4-0.5-7.9,40.7l-12,34l-3.7-11.5l-0.1,0.2l-4.3-13.5l-22.7-71.9c0,0-29.1,20.5-65,29.6c-26.7,6.8-28,37.7-27,52.9
						c0,0,1.6,20.7,3.1,29.8c0,0,52.2,33.9,139.6,33.9s139.6-33.9,139.6-33.9c1.6-9.1,3.1-29.8,3.1-29.8
						C489.1,348.829,487.8,317.929,461,311.129z`})]})})}),$Ee=({onClick:e,id:t,loading:n})=>{const r=xj(),o=ne(d=>d.platform.isAuthOrGuest),i=Re(d=>d.platform.login),a=Re(d=>d.app.createOnlineWithFriendGame);if(!Bt().feature[we.OnlineTogether])return null;const l=async()=>{Ne.trackClickPlay(re.TogetherOnline),e&&await e(),a(!0)},u=()=>{Ne.trackClickPlay(re.TogetherOnline),Ne.trackShowAuthModal(re.TogetherOnline),i({force:!0,showModal:!0}).then(async d=>{d&&await l()})};return w.jsx(cr,{loading:r||n,disabled:r,onClick:o?l:u,id:t,w:"100%",leftSection:w.jsx(jEe,{size:er.md}),children:be("playOnlineWithFriend")})},zEe=({size:e,style:t,...n})=>w.jsx(m_e,{size:e,style:{minWidth:20,...t||{}},...n}),UEe=()=>{const e=Re(r=>r.app.createSingleGame),t=ne(r=>{var o;return r.progress.isLastGameSaved&&((o=r.progress.lastSavedGame)==null?void 0:o.gameType)===re.Single}),n=Re(r=>r.modals.openDeleteLastSavedGameModal);return async()=>{t&&Bt().feature[we.GameSave]?await n():(e(),Ne.trackClickPlay(re.Single))}},VEe=({onClick:e,id:t})=>{const n=UEe(),r=async()=>{e&&await e(),n()};return w.jsx(cr,{onClick:r,id:t,leftSection:w.jsx(zEe,{size:er.md}),w:"100%",children:be("playAlone")})},qEe="_Card__buttons_shadow_1988l_31",Qk={"Card__group-wrapper":"_Card__group-wrapper_1988l_2","Card__group-wrapper_two-cols":"_Card__group-wrapper_two-cols_1988l_22",Card__buttons_shadow:qEe},QEe=({id:e,onClick:t,buttonType:n,color:r=Yt.Secondary})=>{const o=Re(u=>u.modals.openSchedulersModal),i=Ar(fo.Neutral2),a=Cr(n||un.Light),l=()=>{t&&t(),o()};return w.jsx(cr,{...n&&a,onClick:l,id:e,w:"100%",color:r,leftSection:w.jsx(Vn,{size:"auto",children:w.jsx($ge,{size:er.md})}),styles:n===un.Outline?{label:{color:i}}:{},children:be("bonuses")})},HEe=e=>{const{isReady:t}=e;hn();const n=ne(_=>_.config.windowSize.windowHeight<_.config.windowSize.windowWidth);ne(_=>_.config.windowSize.windowHeight<=500);const r=Rn(),o=ble(),i=Um(At.MainMenuPlayButtonClick),a=Um(At.NonGameButton,{place:"MainScreenButtons"});me.isCrazyGames()&&ra.playing;const l=w.jsxs(fe.Fragment,{children:[w.jsx(Dwe,{id:_t.mainScreen.button.startLastSavedGame,onClick:i}),Bt().feature[we.SingleGame]&&w.jsx(VEe,{id:_t.mainScreen.button.openFriendGameModal,onClick:i}),w.jsx(Gwe,{id:_t.mainScreen.button.openAiGameModal,onClick:i}),Bt().feature[we.Online]&&w.jsx(Hwe,{id:_t.mainScreen.button.openOnlineGameModal,onClick:i,loading:!t}),Bt().feature[we.OnlineTogether]&&w.jsx($Ee,{id:_t.mainScreen.button.openOnlineTogetherGameModal,onClick:i,loading:!t}),w.jsx(Wwe,{id:_t.mainScreen.button.openFriendGameModal,onClick:i})]},"main-buttons"),u=w.jsx(Nwe,{id:_t.mainScreen.button.openLeadersBoardModal,onClick:a}),d=w.jsx(ISe,{id:_t.mainScreen.button.userProfile,loading:!t,onClick:a}),f=w.jsx(Tg,{id:_t.mainScreen.button.openPaymentsModal,place:Tr.MainMenuButton}),m=w.jsx(QEe,{id:_t.mainScreen.button.openCalendarModal}),g=w.jsx(bwe,{onClick:a,source:Rg.mainScreen}),v=r?w.jsxs(fe.Fragment,{children:[w.jsxs(ln,{w:"100%",align:"stretch",gap:o&&r?8:"sm",children:[w.jsx(WD,{}),g]}),w.jsxs(ln,{w:"100%",align:"stretch",gap:o&&r?8:"sm",children:[d,u]}),w.jsxs(ln,{w:"100%",align:"stretch",gap:o&&r?8:"sm",children:[m,f]}),w.jsx(CN,{place:l0.MainMenu,size:"sm"})]},"additional-buttons"):w.jsxs(fe.Fragment,{children:[f,m,w.jsx(WD,{}),d,u,g,w.jsx(CN,{place:l0.MainMenu,size:"sm"})]},"additional-buttons"),y=!me.isTV()&&w.jsx(Uwe,{place:B1.MainMenu,size:"sm"});return w.jsx(Dl.Section,{inheritPadding:!r,py:n||r?"md":"xl",style:{"--mantine-spacing-xs":o?"6px":"10px"},children:w.jsx("div",{className:qt(Qk["Card__group-wrapper"],{[Qk.Card__buttons_shadow]:pn().backgroundImageEnabled,[Qk["Card__group-wrapper_two-cols"]]:n}),children:w.jsxs(Ds,{justify:"center",grow:!0,children:[!n&&w.jsxs(ln,{direction:"column",align:"center",gap:o&&r?8:"sm",children:[l,v,y]}),n&&w.jsxs(ln,{direction:"row",align:"start",gap:"sm",children:[w.jsxs(ln,{style:{flex:1},direction:"column",align:"stretch",gap:"sm",children:[l,y]}),w.jsx(ln,{style:{flex:1},direction:"column",align:"stretch",gap:"sm",children:v})]})]})})})},WEe=fe.memo(HEe),JEe="_wrapper_wn4u5_1",ZEe="_wrapper__Menu_wn4u5_10",YEe="_wrapper_title_wn4u5_18",KEe="_wrapper_subtitle_wn4u5_21",XEe="_wrapper_titleSmall_wn4u5_25",eBe="_wrapper_share_wn4u5_28",tBe="_Card_wn4u5_35",Da={wrapper:JEe,wrapper__Menu:ZEe,wrapper_title:YEe,wrapper_subtitle:KEe,wrapper_titleSmall:XEe,wrapper_share:eBe,Card:tBe,"Card-withoutTitle":"_Card-withoutTitle_wn4u5_42","Card_card-section":"_Card_card-section_wn4u5_60"},Hk=1,nBe=3,rBe=e=>{const[t,n]=O.useState(Hk),r=O.useDeferredValue(t),o=O.useCallback(()=>{const a=window.innerWidth,l=window.innerHeight,d=Math.min(a,l)/e*Hk,f=Math.max(Hk,Math.min(d,nBe));n(f)},[e]);return O.useEffect(()=>(o(),window.addEventListener("resize",o),()=>{window.removeEventListener("resize",o)}),[o]),{transformOrigin:"center center",transform:`scale(${r})`}},oBe=({minDimension:e,children:t})=>{const n=rBe(e);return w.jsx("div",{style:n,children:t})},iBe=fe.memo(oBe),aBe=e=>{const{onResize:t,isReady:n,inGameContent:r,gameTitle:o,gameTitleType:i="normal",gameSubtitle:a,gameSubtitleType:l="sm"}=e,[u,d]=X8();O.useEffect(()=>{t(d)},[d,d.width,d.height,t]);const f=ne(v=>[xe.Menu,xe.GameFriendSettings,xe.GameSingleSettings,xe.GameAISettings].includes(v.app.gameState)),m=Rn(),g=!m&&me.getDeviceType()===MN.mobile;return w.jsxs(w.Fragment,{children:[f&&w.jsx(Cl,{align:"center",justify:"center",className:qt(Da.wrapper,{[Da.wrapper__Menu]:f}),ref:u,children:w.jsx(Cl.Col,{span:{sm:9,xs:12,md:8,lg:7,xl:6},h:"100%",p:"md",children:w.jsx(iBe,{minDimension:m?800:540,children:w.jsxs(Dl,{className:qt(Da.Card,{[Da["Card-withoutTitle"]]:g}),padding:"lg",radius:"md",children:[g?null:w.jsx(Dl.Section,{className:Da["Card_card-section"],withBorder:!m,inheritPadding:!0,...m?{px:0}:{},children:w.jsxs(ln,{direction:"row",align:"center",justify:"center",gap:"1rem",py:"0.5rem",pos:"relative",display:"table",m:"auto",px:m?34:40,children:[w.jsxs(Sg,{ta:"center",order:1,id:"main-title-chess-page",mr:"xs",ml:"xs",className:qt(Da.wrapper_title,{[Da.wrapper_titleSmall]:!a&&m}),children:[i==="normal"&&o,i==="sm"&&o&&w.jsx(li,{component:"div",className:Da.wrapper_subtitle,children:o}),l==="normal"&&a,l==="sm"&&a&&w.jsx(li,{component:"div",className:Da.wrapper_subtitle,children:a})]}),!me.isTV()&&w.jsx(ln,{gap:4,className:Da.wrapper_share,ml:m?-30:-36,children:w.jsx(OSe,{id:_t.mainScreen.button.shareGame})})]})}),w.jsx(WEe,{isReady:n})]})})})}),!f&&w.jsx(Cl,{w:"100%",h:"100%",styles:{inner:{width:"100%",height:"100%",margin:0}},children:w.jsx(Cl.Col,{w:"100%",h:"100%",p:0,children:r})})]})},sBe=fe.memo(aBe),lBe=fe.lazy(()=>De(()=>import("./GameInfoProvider-CYzOF--K.js"),__vite__mapDeps([8,1,9,10,11,12,2,13]),import.meta.url)),cBe=e=>{const{onResize:t,isReady:n}=e,r=hn(),o=me.isCrazyGames()?{gameTitle:Pc("checkersCGEnTitle"),gameTitleType:"normal",gameSubtitle:Pc("checkersCGEnSubtitle")}:(me.isPlayDeck()&&He.RU,{gameTitle:Pc("checkersEnTitle"),gameSubtitle:Pc("checkersEnSubtitle")});return w.jsx(sBe,{isReady:n,onResize:t,...o,inGameContent:w.jsx(Nx,{renderOverlayLoader:!0,children:w.jsx(lBe,{})})})},uBe=fe.memo(cBe),dBe=({gameResult:e})=>{if(e===ht.Draw)return be(e)},RN=({gameCompletionReason:e,width:t,height:n})=>{const r=n/12;if(e===Jr.Checkmate)return{icElem:w.jsx(d_e,{style:{width:t,height:n,marginTop:r}}),tooltipText:Pc("allCheckersCaptured")}},fBe="_boardPreviewFrame_u31w8_1",hBe="_boardPreview_u31w8_1",mBe="_boardPreviewMobile_u31w8_15",gBe="_boardPreviewReversed_u31w8_18",pBe="_boardCell_u31w8_22",vBe="_boardCellFigure_u31w8_30",yBe="_boardCellFigureSemitransparent_u31w8_38",_Be="_boardCellFigureShadowRight_u31w8_41",bBe="_boardCellFigureShadowRightBottom_u31w8_51",wBe="_boardCellFigureShadowLeft_u31w8_61",SBe="_boardCellFigureShadowLeftBottom_u31w8_71",ABe="_boardCellFigureShadowBottom_u31w8_81",CBe="_boardCellFigureShadowCenter_u31w8_91",Zo={boardPreviewFrame:fBe,boardPreview:hBe,boardPreviewMobile:mBe,boardPreviewReversed:gBe,boardCell:pBe,boardCellFigure:vBe,boardCellFigureSemitransparent:yBe,boardCellFigureShadowRight:_Be,boardCellFigureShadowRightBottom:bBe,boardCellFigureShadowLeft:wBe,boardCellFigureShadowLeftBottom:SBe,boardCellFigureShadowBottom:ABe,boardCellFigureShadowCenter:CBe},kBe=sr.fromBoardFen(Pg).boardFull,EBe=e=>{const{boardFen:t,isReversed:n=!1,onCellClick:r}=e,o=Rn(),i=ne(f=>f.config.figureTheme),a=ne(f=>f.config.boardImageManager),{shadow:l}=dj[i],[u,d]=O.useMemo(()=>{const f=sr.fromBoardFen(t).boardFull,m=[];return[kBe.filter((v,y)=>{const _=!!v.figureType;return _&&m.push(f[y]),_}),m]},[t]);return w.jsx("div",{className:Zo.boardPreviewFrame,children:w.jsx("div",{className:qt(Zo.boardPreview,{[Zo.boardPreviewReversed]:n,[Zo.boardPreviewMobile]:o}),children:d.map((f,m)=>{const g=a.getFigureImg({type:f.figureType??u[m].figureType,color:f.figureColor??u[m].figureColor,theme:i});return w.jsx("div",{className:Zo.boardCell,style:{gridArea:f.square},onClick:()=>r==null?void 0:r(f.square),children:w.jsx("div",{className:qt(Zo.boardCellFigure,{[Zo.boardCellFigureSemitransparent]:!f.figureType,[Zo.boardCellFigureShadowRight]:l===ar.Right,[Zo.boardCellFigureShadowRightBottom]:l===ar.RightBottom,[Zo.boardCellFigureShadowLeft]:l===ar.Left,[Zo.boardCellFigureShadowLeftBottom]:l===ar.LeftBottom,[Zo.boardCellFigureShadowBottom]:l===ar.Bottom,[Zo.boardCellFigureShadowCenter]:l===ar.Center}),style:{backgroundImage:`url(${g})`}})},f.square)})})})},BBe=fe.memo(EBe),RBe=({onClick:e,id:t})=>w.jsx(Hl,{id:t,onClick:e,variant:"outline",color:Yt.Secondary,children:w.jsx(Vn,{children:w.jsx(_we,{})})}),xBe=fe.memo(RBe),OBe="_titleBox_o9elm_1",MBe={titleBox:OBe},xN=({id:e})=>{const t=u0(i=>i.gameSettings.toggleHandicapCell),n=u0(i=>i.gameSettings.resetHandicap),r=iu(i=>i.gameSettings.color!==lt.White),o=iu(i=>i.gameSettings.handicapBoardFen);return!Bt().feature[we.Handicap]||me.isTV()?null:w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:MBe.titleBox,children:[w.jsx(Sg,{order:5,py:2,fw:"normal",children:Pc("handicapHintTitle")}),o!==Pg&&w.jsx(xBe,{id:e.button.resetBoard,onClick:()=>n()})]}),w.jsx(BBe,{boardFen:o,onCellClick:t,isReversed:r})]})};var PBe=(e=>(e.GameSettings="game_settings",e.GameRules="game_rules",e.GameDialog="game_dialog",e.MainScreenRules="main_screen_rules",e))(PBe||{});const TBe=e=>{hn();const{id:t,checkboxFrameW:n}=e,r=u0(u=>u.gameSettings.updateMandatoryCaptureByUi),o=iu(u=>u.gameSettings.isMandatoryTaken),i=u=>{_1.trackSwitchMandatoryCapture(u,"game_settings"),r(u)},a=iu(u=>u.online.withFriendOpenedLobby&&u.app.gameType===re.TogetherOnline);O.useEffect(()=>{a&&r(!0)},[a]),O.useEffect(()=>{jm.isMandatoryTaken=o},[o]);const l=typeof n=="number"?`${n}px`:n;return w.jsx(rf,{py:"xs",mr:"xs",size:"md",disabled:a,color:Yt.Secondary,checked:o,label:w.jsx("div",{id:t,children:Pc("mandatoryTaken")}),styles:{inner:{...!!l&&{marginLeft:`calc( ${l} - var(--checkbox-size) )`}},label:{paddingLeft:"0.5rem"}},onChange:u=>i(u.target.checked)})},IBe=fe.memo(TBe),LBe=fe.lazy(()=>De(()=>import("./AFKCancelGameModal-DoEXsuLt.js"),__vite__mapDeps([14,1,15,9,16,2]),import.meta.url)),DBe=fe.lazy(()=>De(()=>import("./AvatarDetailsModal-BfQcRyP8.js"),__vite__mapDeps([17,15,1,9,16,2,18]),import.meta.url)),NBe=fe.lazy(()=>De(()=>import("./ConfirmDefeatModal-eNDoyKaS.js"),__vite__mapDeps([19,1,15,9,16,2]),import.meta.url)),FBe=fe.lazy(()=>De(()=>import("./ConfirmDrawRequestModal-7d6vszK4.js"),__vite__mapDeps([20,15,1,9,16,21,2]),import.meta.url)),GBe=fe.lazy(()=>De(()=>import("./ConfirmExitModal-Bpnc1GnH.js"),__vite__mapDeps([22,1,15,9,16,2]),import.meta.url)),jBe=fe.lazy(()=>De(()=>import("./ConfirmFriendGameModal-B7tx6ace.js"),__vite__mapDeps([23,15,1,9,16,2]),import.meta.url)),$Be=fe.lazy(()=>De(()=>import("./ConfirmGameQuitModal-BRJ-BKV3.js"),__vite__mapDeps([24,15,1,9,16,2]),import.meta.url)),zBe=fe.lazy(()=>De(()=>import("./ConfirmOnlineGamesModal-9wFPRGCB.js"),__vite__mapDeps([25,15,1,9,16,2]),import.meta.url)),UBe=fe.lazy(()=>De(()=>import("./ConfirmRematchRequestModal-CcSm6lo5.js"),__vite__mapDeps([26,15,1,9,16,2]),import.meta.url)),VBe=fe.lazy(()=>De(()=>import("./ConfirmVictoryModal-B6HRPMlD.js"),__vite__mapDeps([27,15,1,9,16,2]),import.meta.url)),qBe=fe.lazy(()=>De(()=>import("./CustomConfirmModal-CW_FdJ7u.js"),__vite__mapDeps([28,15,1,9,16,2]),import.meta.url)),QBe=fe.lazy(()=>De(()=>import("./CustomContinueModal-BdEfxkCI.js"),__vite__mapDeps([29,15,1,9,16,2,30]),import.meta.url)),HBe=fe.lazy(()=>De(()=>import("./DeleteLastSavedGameModal-Fy03A2wV.js"),__vite__mapDeps([31,15,1,9,16,2]),import.meta.url)),WBe=fe.lazy(()=>De(()=>import("./GameResultModal-CEisd8Vx.js"),__vite__mapDeps([32,15,1,9,16,33,34,35,36,37,2]),import.meta.url)),JBe=fe.lazy(()=>De(()=>import("./GameResultModalAfterLoadGame-DDyL54fb.js"),__vite__mapDeps([38,15,1,9,16,33,34,35,36,2]),import.meta.url)),ZBe=fe.lazy(()=>De(()=>import("./LangSettingsModal-DInEGoMj.js"),__vite__mapDeps([39,15,1,9,16,2,40]),import.meta.url)),YBe=fe.lazy(()=>De(()=>import("./LeaderboardModal-D5QvznJs.js"),__vite__mapDeps([41,15,1,9,16,35,2,42]),import.meta.url)),KBe=fe.lazy(()=>De(()=>import("./OnlineGameStatusModal-D_SH3SVX.js"),__vite__mapDeps([43,15,1,9,16,44,45,10,11,46,47,48,49,50,51,2]),import.meta.url)),XBe=fe.lazy(()=>De(()=>import("./RatingChangeDetailsModal-VcyqWopY.js"),__vite__mapDeps([52,15,1,9,16,53,2,54]),import.meta.url)),e2e=fe.lazy(()=>De(()=>import("./RejectedByOpponentModal-D7xfGQnd.js"),__vite__mapDeps([55,15,1,9,16,2]),import.meta.url)),t2e=fe.lazy(()=>De(()=>import("./RewardedVideoAdBlockErrorModal-CF8Zyed2.js"),__vite__mapDeps([56,15,1,9,16,2]),import.meta.url)),n2e=fe.lazy(()=>De(()=>import("./RewardedVideoErrorModal-fXd2mobo.js"),__vite__mapDeps([57,15,1,9,16,2]),import.meta.url)),r2e=fe.lazy(()=>De(()=>import("./RulesModal-D3fvCBIF.js"),__vite__mapDeps([58,15,1,9,16,2,59]),import.meta.url)),o2e=fe.lazy(()=>De(()=>import("./ChatOpenErrorModal-I1Rcl9Zz.js"),__vite__mapDeps([60,15,1,9,16,2]),import.meta.url)),i2e=fe.lazy(()=>De(()=>import("./RewardAcceptModal-DigS7dE7.js"),__vite__mapDeps([61,15,1,9,16,2]),import.meta.url)),a2e=fe.lazy(()=>De(()=>import("./UserProfileModal-K5WpCtHM.js"),__vite__mapDeps([62,15,1,9,16,34,35,21,63,2,64]),import.meta.url)),s2e=fe.lazy(()=>De(()=>import("./OnlineTogetherGameStatusModal-BsS-qpqh.js"),__vite__mapDeps([65,15,1,9,16,66,45,10,11,46,47,48,49,50,67,44,2]),import.meta.url)),l2e=fe.lazy(()=>De(()=>import("./OnlineTogetherModeSelectModal-C59WWMW4.js"),__vite__mapDeps([68,15,1,9,16,2]),import.meta.url)),c2e=fe.lazy(()=>De(()=>import("./ConnectionByInviteLinkModal-C7qpOfJT.js"),__vite__mapDeps([69,15,1,9,16,2]),import.meta.url)),u2e=fe.lazy(()=>De(()=>import("./ConnectionByPeerIdModal--urL8wkV.js"),__vite__mapDeps([70,15,1,9,16,21,45,10,11,46,47,48,49,50,51,37,2,71]),import.meta.url)),d2e=fe.lazy(()=>De(()=>import("./GameFriendSettingsModal-SM5lBwTn.js"),__vite__mapDeps([72,15,1,9,16,66,45,10,11,46,47,48,49,50,67,44,2]),import.meta.url)),f2e=fe.lazy(()=>De(()=>import("./GameSingleSettingsModal-YT7dxxdb.js"),__vite__mapDeps([73,15,1,9,16,66,45,10,11,46,47,48,49,50,67,44,2]),import.meta.url)),h2e=fe.lazy(()=>De(()=>import("./PaymentsModal-I4MTd0gC.js"),__vite__mapDeps([74,15,1,9,16,47,48,46,49,2]),import.meta.url)),m2e=fe.lazy(()=>De(()=>import("./PremiumModal-BNGw1tw5.js").then(e=>e.b),__vite__mapDeps([47,15,1,9,16,48]),import.meta.url)),g2e=fe.lazy(()=>De(()=>import("./PaymentErrorModal-CwBMF_XX.js"),__vite__mapDeps([75,15,1,9,16,2]),import.meta.url)),p2e=fe.lazy(()=>De(()=>import("./PaymentSuccessModal-CH5cugPs.js"),__vite__mapDeps([76,15,1,9,16,49,47,48,2]),import.meta.url)),v2e=fe.lazy(()=>De(()=>import("./BoardSettingsModal-B0IoG71n.js"),__vite__mapDeps([77,15,1,9,16,4,5,10,11,2,78]),import.meta.url)),y2e=fe.lazy(()=>De(()=>import("./OnlineGameErrorModal-Dp61IXIc.js"),__vite__mapDeps([79,15,1,9,16,2]),import.meta.url)),_2e=fe.lazy(()=>De(()=>import("./ChatSelectModal-G7ShUW14.js"),__vite__mapDeps([80,15,1,9,16,2]),import.meta.url)),b2e=fe.lazy(()=>De(()=>import("./SchedulersModal-Dko3-6ud.js"),__vite__mapDeps([81,15,1,9,16,53,2]),import.meta.url)),w2e=fe.lazy(()=>De(()=>import("./CashValueIsZeroModal-DdxIVTtS.js"),__vite__mapDeps([82,15,1,9,16,46,47,48,49,2]),import.meta.url)),S2e=fe.lazy(()=>De(()=>import("./TimeFormatDetailsModal-BCZhNuHr.js"),__vite__mapDeps([83,15,1,9,16,2]),import.meta.url)),A2e=({children:e})=>w.jsx(O.Suspense,{fallback:w.jsx(Dx,{}),children:e}),C2e=fe.memo(A2e),t2=e=>t=>w.jsx(C2e,{children:w.jsx(e,{...t})}),Dt=t2,k2e={[tt.RulesModal]:Dt(r2e),[tt.GameResultModal]:Dt(WBe),[tt.GameResultModalAfterLoadGame]:Dt(JBe),[tt.LeaderboardModal]:Dt(YBe),[tt.UserProfileModal]:Dt(a2e),[tt.PaymentsModal]:Dt(h2e),[tt.PremiumModal]:Dt(m2e),[tt.AvatarDetailsModal]:Dt(DBe),[tt.OnlineGameStatusModal]:Dt(KBe),[tt.GameFriendSettingsModal]:Dt(d2e),[tt.GameSingleSettingsModal]:Dt(f2e),[tt.ConnectionByInviteLinkModal]:Dt(c2e),[tt.OnlineTogetherGameStatusModal]:Dt(s2e),[tt.ConnectionByPeerIdModal]:Dt(u2e),[tt.LangSettingsModal]:Dt(ZBe),[tt.BoardSettingsModal]:Dt(v2e),[tt.AFKCancelGameModal]:Dt(LBe),[tt.ConfirmDefeatModal]:Dt(NBe),[tt.ConfirmDrawRequestModal]:Dt(FBe),[tt.ConfirmExitModal]:Dt(GBe),[tt.ConfirmFriendGameModal]:Dt(jBe),[tt.ConfirmGameQuitModal]:Dt($Be),[tt.ConfirmOnlineGamesModal]:Dt(zBe),[tt.ConfirmRematchRequestModal]:Dt(UBe),[tt.ConfirmVictoryModal]:Dt(VBe),[tt.CustomConfirmModal]:Dt(qBe),[tt.CustomContinueModal]:Dt(QBe),[tt.DeleteLastSavedGameModal]:Dt(HBe),[tt.RatingChangeDetailsModal]:Dt(XBe),[tt.OnlineTogetherModeSelectModal]:Dt(l2e),[tt.ChatOpenErrorModal]:Dt(o2e),[tt.PaymentSuccessModal]:Dt(p2e),[tt.RejectedByOpponentModal]:Dt(e2e),[tt.RewardedVideoAdBlockErrorModal]:Dt(t2e),[tt.RewardedVideoErrorModal]:Dt(n2e),[tt.PaymentErrorModal]:Dt(g2e),[tt.RewardAcceptModal]:Dt(i2e),[tt.OnlineGameErrorModal]:Dt(y2e),[tt.ChatSelectModal]:Dt(_2e),[tt.SchedulersModal]:Dt(b2e),[tt.CashValueIsZeroModal]:Dt(w2e),[tt.TimeFormatDetailsModal]:Dt(S2e)},E2e=fe.lazy(()=>De(()=>import("./GameAISettingsModal-DdakgsxM.js"),__vite__mapDeps([84,15,1,9,16,67,44,45,10,11,46,47,48,49,50,63,2]),import.meta.url)),B2e=fe.lazy(()=>De(()=>import("./CheckersRulesModal-BFgFUXMR.js"),__vite__mapDeps([85,58,15,1,9,16,2,59,12,86,87]),import.meta.url)),ON=()=>w.jsx(IBe,{id:_t.modal.aiGame.switch.jumpersSwitch}),R2e={[tt.GameFriendSettingsModal]:{HandicapSettings:xN,gameSettingsOptions:ON},[tt.GameResultModal]:{getGameResultTitle:dBe,getGameResultIconData:RN},[tt.GameResultModalAfterLoadGame]:{getGameResultIconData:RN},[tt.OnlineTogetherGameStatusModal]:{HandicapSettings:xN,gameSettingsOptions:ON}},x2e={...k2e,[tt.GameAISettingsModal]:t2(E2e),[tt.RulesModal]:t2(B2e)},O2e=()=>{const e=iu(t=>Object.entries(t.modals.modalVisibility).filter(([n,r])=>!!r).map(([n])=>n),wr);return w.jsx(w.Fragment,{children:e.map(t=>{const n=x2e[t],r=R2e[t]||{};return n?w.jsx(n,{...r},t):(console.warn(`Modal component for type ${t} not found!`),null)})})},M2e=fe.memo(O2e),P2e=e=>{const{isReady:t=!1}=e;hn();const n=iu(a=>a.app.isLoading),r=iu(a=>a.app.isBlockUiInteraction),[o,i]=O.useState({width:0,height:0});return w.jsxs(w.Fragment,{children:[n&&w.jsx(Dx,{}),r&&w.jsx(GEe,{}),w.jsx(uBe,{isReady:t,onResize:i}),w.jsx(M2e,{})]})},T2e=fe.memo(P2e),I2e=()=>{const e=Rn(),t=u0(n=>n.config.setDisplayScoreDifference);return O.useEffect(()=>void t(!0),[]),w.jsx(w.Fragment,{children:w.jsx(NEe,{settingsButton:w.jsx(CSe,{id:_t.root.button.settings,position:{bottom:"1rem",left:"1rem"},...e&&{position:{bottom:"0.5rem",right:"calc( var(--vw) * 5 + 0.5rem )"}}}),Content:T2e})})},L2e=fe.memo(I2e);me.debug=eg();me.gpProjectId=15362,me.gpPublicToken="qUQRbGh26QQXnp8vOifSw3EldzLAu5AM",document.title="English Checkers Free";me.pokiProjectId="af0fd711-2cca-482e-9841-5af323a1af50xxx";const D2e={enableTouchEvents:!0,enableMouseEvents:!0,ignoreContextMenu:!0};nK.render(w.jsx(fe.StrictMode,{children:w.jsx(bj.SafeAreaProvider,{children:w.jsx(Lee,{backend:Hee,options:D2e,children:w.jsx(pX,{store:Xbe,children:w.jsx(L2e,{})})})})}));export{iu as $,$Re as A,Ge as B,Ql as C,vX as D,yOe as E,xe as F,re as G,Iwe as H,Dl as I,Ds as J,ln as K,eOe as L,me as M,gOe as N,bOe as O,wEe as P,_Oe as Q,fe as R,ar as S,Rn as T,Re as U,Hl as V,Yt as W,Vn as X,xwe as Y,Owe as Z,De as _,ne as a,ve as a$,Jge as a0,u0 as a1,Sxe as a2,Oo as a3,lt as a4,wxe as a5,vOe as a6,eY as a7,Axe as a8,Cxe as a9,er as aA,i1 as aB,li as aC,jB as aD,Cl as aE,du as aF,VRe as aG,tt as aH,nre as aI,IBe as aJ,xN as aK,gg as aL,un as aM,Cwe as aN,rOe as aO,oOe as aP,hn as aQ,Pc as aR,_1 as aS,cg as aT,ug as aU,ka as aV,hv as aW,hg as aX,It as aY,URe as aZ,zRe as a_,Zc as aa,sj as ab,Wa as ac,LRe as ad,XZ as ae,X8 as af,zAe as ag,Wv as ah,sAe as ai,lAe as aj,fAe as ak,dAe as al,lOe as am,aRe as an,FRe as ao,IRe as ap,DRe as aq,NRe as ar,TRe as as,nOe as at,PBe as au,pOe as av,CSe as aw,cr as ax,be as ay,fwe as az,wr as b,gB as b$,K8 as b0,Kd as b1,Zne as b2,Gne as b3,Il as b4,mm as b5,oa as b6,W8 as b7,uu as b8,Li as b9,Tg as bA,xx as bB,Ky as bC,Xxe as bD,Vc as bE,lCe as bF,dg as bG,Ti as bH,yse as bI,iR as bJ,XF as bK,pa as bL,fse as bM,Jue as bN,fxe as bO,pn as bP,hwe as bQ,ij as bR,Ja as bS,yt as bT,Z7 as bU,J7 as bV,Pne as bW,mo as bX,jRe as bY,Ne as bZ,rde as b_,e1 as ba,Ll as bb,wR as bc,_R as bd,X0 as be,tr as bf,hr as bg,z0 as bh,ble as bi,x1 as bj,Ar as bk,Pge as bl,rwe as bm,k1 as bn,Bt as bo,we as bp,Exe as bq,Fge as br,WRe as bs,Cr as bt,fo as bu,Ph as bv,Sg as bw,$m as bx,Tr as by,yd as bz,_xe as c,Pxe as c$,p_e as c0,cOe as c1,e0 as c2,Rxe as c3,He as c4,$Ae as c5,sOe as c6,ma as c7,Um as c8,At as c9,E1 as cA,Nwe as cB,Tn as cC,CN as cD,l0 as cE,Uwe as cF,B1 as cG,yle as cH,rBe as cI,We as cJ,Qxe as cK,Jr as cL,Bxe as cM,ni as cN,$be as cO,xxe as cP,nr as cQ,is as cR,qRe as cS,hSe as cT,Gc as cU,Bg as cV,Is as cW,QRe as cX,uOe as cY,Ide as cZ,Mxe as c_,Fwe as ca,HRe as cb,ri as cc,Vm as cd,Wxe as ce,rEe as cf,Lo as cg,ht as ch,fx as ci,FR as cj,Fx as ck,lx as cl,_7 as cm,Kxe as cn,wle as co,gxe as cp,In as cq,Td as cr,Qwe as cs,oCe as ct,Xwe as cu,bn as cv,Qn as cw,kj as cx,jj as cy,R1 as cz,bxe as d,Lxe as d$,aj as d0,eG as d1,xt as d2,OAe as d3,jr as d4,EP as d5,Vke as d6,qke as d7,oj as d8,mOe as d9,Jxe as dA,ZY as dB,Hh as dC,qv as dD,qxe as dE,mxe as dF,Hxe as dG,wn as dH,Zxe as dI,w9 as dJ,tde as dK,nde as dL,nH as dM,Oxe as dN,$s as dO,GRe as dP,To as dQ,gwe as dR,B5 as dS,pxe as dT,Ci as dU,XB as dV,$he as dW,jxe as dX,Dxe as dY,Gxe as dZ,zxe as d_,hOe as da,hxe as db,vxe as dc,_m as dd,yxe as de,Lge as df,zEe as dg,Vwe as dh,Nc as di,Yne as dj,H0 as dk,Gr as dl,cF as dm,zl as dn,H8 as dp,JF as dq,goe as dr,rs as ds,Ga as dt,Eg as du,BSe as dv,kxe as dw,Yxe as dx,gt as dy,xj as dz,qt as e,Ixe as e0,Nxe as e1,Fxe as e2,mj as e3,co as e4,vj as e5,J_e as e6,$xe as e7,Txe as e8,Z_e as e9,yj as ea,Y_e as eb,Vxe as ec,Uxe as ed,Lbe as ee,Dbe as ef,dj as f,to as g,bde as h,Xt as i,w as j,iRe as k,_t as l,pke as m,xke as n,dOe as o,wde as p,iOe as q,O as r,Ik as s,aOe as t,tOe as u,fOe as v,Av as w,Lt as x,Ke as y,Qe as z};
