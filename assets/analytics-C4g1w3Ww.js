var V=Object.defineProperty;var H=(e,t,n)=>t in e?V(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var m=(e,t,n)=>H(e,typeof t!="symbol"?t+"":t,n);const Z={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,REACT_APP_API_URL:"https://sdk3.dev.tonlabs.io/api/account",REACT_APP_BUILD_TIME:"19.11.25 14:49",REACT_APP_GAME:"checkers_en",SSR:!1};var w;(function(e){e.TEST_YG="REACT_APP_TEST_YG",e.GAME="REACT_APP_GAME",e.BUILD_FOR_POKI="REACT_APP_BUILD_FOR_POKI",e.BUILD_WITH_LOGS="REACT_APP_BUILD_WITH_LOGS"})(w||(w={}));const Se=()=>"checkers_en",P=e=>{const t=Z[e]||"";return[!0,1,"true","TRUE","True"].includes(t)},fe=()=>!1,Oe=()=>!1,E=()=>P(w.BUILD_FOR_POKI),pe=()=>P(w.TEST_YG),j=()=>P(w.BUILD_WITH_LOGS);var A;(function(e){e.IOS="ios",e.Android="android",e.WinPhone="win-phone",e.Unknown="unknown"})(A||(A={}));var l;(function(e){e.tablet="Tablet(Yandex)",e.tv="TV",e.mobile="Mobile",e.android="Android",e.Ios="IOS",e.desktop="Desktop"})(l||(l={}));var r;(function(e){e.POKI="POKI",e.NONE="NONE",e.CRAZY_GAMES="CRAZY_GAMES",e.GAME_DISTRIBUTION="GAME_DISTRIBUTION",e.GAME_MONETIZE="GAME_MONETIZE",e.OK="OK",e.SMART_MARKET="SMARTMARKET",e.VK="VK",e.YANDEX="YANDEX",e.GAME_PIX="GAMEPIX",e.Y8="Y8",e.COOLMATH="COOLMATH",e.WEB="CUSTOM",e.PARTNER="PARTNER",e.VK_PLAY="VK_PLAY",e.PLAY_DECK="PLAYDECK",e.TELEGRAM="TELEGRAM",e.WG_PLAYGROUND="WG_PLAYGROUND",e.KONGREGATE="KONGREGATE",e.BEELINE="BEELINE",e.FOTOSTRANA="FOTOSTRANA",e.CUSTOM="CUSTOM",e.PLAYGAMA="PLAYGAMA",e.ANDROID="ANDROID",e.GOOGLE_PLAY="GOOGLE_PLAY",e.APP_GALLERY="APP_GALLERY",e.GALAXY_STORE="GALAXY_STORE",e.ONE_STORE="ONE_STORE",e.AMAZON_APPSTORE="AMAZON_APPSTORE",e.XIAOMI_GET_APPS="XIAOMI_GETAPPS",e.AP_TO_IDE="APTOIDE",e.RU_STORE="RUSTORE",e.UNKNOWN="UNKNOWN"})(r||(r={}));const o=e=>{var t,n;return((n=(t=window.gp)==null?void 0:t.platform)==null?void 0:n.type)===e},ve=()=>o(r.CRAZY_GAMES),Ie=()=>o(r.OK),be=()=>o(r.SMART_MARKET),J=()=>o(r.VK),x=()=>o(r.YANDEX),Ce=()=>o(r.VK_PLAY),Ge=()=>o(r.PLAY_DECK),Pe=()=>o(r.PLAYGAMA),Le=()=>o(r.GAME_DISTRIBUTION),Me=()=>o(r.GAME_MONETIZE),Re=()=>o(r.GAME_PIX),Be=()=>o(r.Y8),De=()=>o(r.COOLMATH),Ne=()=>o(r.BEELINE),Te=()=>o(r.FOTOSTRANA),Ue=()=>o(r.WG_PLAYGROUND),xe=()=>o(r.KONGREGATE),Ye=()=>o(r.PARTNER),ye=()=>o(r.ANDROID),Ke=()=>o(r.GOOGLE_PLAY),Fe=()=>o(r.APP_GALLERY),$e=()=>o(r.GALAXY_STORE),We=()=>o(r.ONE_STORE),ze=()=>o(r.AMAZON_APPSTORE),Xe=()=>o(r.XIAOMI_GET_APPS),Ve=()=>o(r.AP_TO_IDE),He=()=>o(r.RU_STORE),Ze=()=>o(r.CUSTOM),L=()=>{var t,n;if(E())return!1;const e=(n=(t=window.gp)==null?void 0:t.platform)==null?void 0:n.type;return[r.ANDROID,r.GOOGLE_PLAY,r.APP_GALLERY,r.GALAXY_STORE,r.ONE_STORE,r.AMAZON_APPSTORE,r.XIAOMI_GET_APPS,r.AP_TO_IDE,r.RU_STORE].includes(e)},f=()=>{var e,t;return E()?window.PokiSDK:(t=(e=window.gp)==null?void 0:e.platform)==null?void 0:t.getNativeSDK()},Q=()=>(()=>{var t,n,s;if(x()){const a=f();if(a.deviceInfo.isTV())return l.tv;if(a.deviceInfo.isTablet())return l.tablet;if(a.deviceInfo.isDesktop())return l.desktop;if(a.deviceInfo.isMobile())return l.mobile}return(t=window.gp)!=null&&t.isMobile?l.mobile:(s=(n=window.gp)==null?void 0:n.device)==null?void 0:s.type})()??"unknown_device",M=()=>{const e=window.navigator??{};return e.language??e.userLanguage},Y=()=>{const e=window.location.ancestorOrigins;return e!=null&&e.length?(e||[])[e.length-1]:window.location.host},O=(e,t=Date.now())=>Math.round((t-e)/1e3*100)/100,q=()=>window.timestampBeforeInit?O(window.timestampBeforeInit,window.timestampSdkLoaded):null,y=()=>window.timestampBeforeInit?O(window.timestampBeforeInit,window.timestampGameReady):null,ee=()=>{const e=window,t=navigator.userAgent||navigator.vendor||e.opera;return/windows phone/i.test(t)?A.WinPhone:/android/i.test(t)?A.Android:/iPad|iPhone|iPod/.test(t)&&!e.MSStream?A.IOS:A.Unknown},K="checkers_en_saved_platform",F="checkers_en_saved_playgama_platform",te=()=>{const e=Y().toLowerCase();if(["vk.","gameroom.games.mail.ru"].some(n=>e.includes(n)))return r.VK;if(["ok.","m.bnnapp.com"].some(n=>e.includes(n)))return r.OK;if(["yandex.","playhop.","kuioo.","playgama.","allwebgames.","funni.games"].some(n=>e.includes(n)))return r.YANDEX;const t=localStorage.getItem(K);return t||r.NONE},ne=e=>{localStorage.setItem(K,e)},se=()=>localStorage.getItem(F),re=e=>{localStorage.setItem(F,e)},ae=e=>{var n,s,a,i;if(!((s=(n=window==null?void 0:window.gp)==null?void 0:n.platform)!=null&&s.type)){const _=te();if(_===r.PLAYGAMA&&e)return se()??_;if(_!==r.NONE)return _}const t=(i=(a=window==null?void 0:window.gp)==null?void 0:a.platform)==null?void 0:i.type;if(t&&ne(t),t===r.PLAYGAMA&&e){const _=f().platform.id;return re(_),_}return t??"unknown_platform"},R=e=>{var i,_;const t=((_=(i=window.gp)==null?void 0:i.variables)==null?void 0:_.state)||e,n={},s=c=>Number.isNaN(Number(c))?c:Number(c),a=new URLSearchParams(window.location.search);return Object.keys(t).forEach(c=>{n[c]=s(t[c])}),Object.keys(e).forEach(c=>{n[c]=t[c]?s(t[c]):s(e[c])}),Object.keys(n).forEach(c=>{const d=a.get(`FLAG_${c}`);n[c]=d?s(d):n[c]}),n},oe=e=>(E(),R(e)),u=e=>E()?r.POKI:ae(e),g=()=>E()?l.desktop:Q();var I;(function(e){e.VKWebAppCheckNativeAds="VKWebAppCheckNativeAds",e.VKWebAppTrackEvent="VKWebAppTrackEvent"})(I||(I={}));const $={error:(e,t,n)=>{console.error(e,t,n),window.errorLogTrackingFn(e,t,n)},warn:(e,t,n)=>{console.warn(e,t,n)},info:(...e)=>{console.info(...e)}};window.smAnalytics={androidMetricEnabled:!1,androidMetricId:-1,metricId:-1,debug:!1};var B;(function(e){e.PlayerLoad="player_load",e.PlayerSync="player_sync",e.PlayerLogin="player_login",e.PlayerLogout="player_logout",e.PlayerFetchFields="player_fetch_fields",e.PlayersFetch="players_fetch",e.PaymentPurchase="payment_purchase",e.PaymentConsume="payment_consume",e.PaymentSubscribe="payment_subscribe",e.PaymentUnsubscribe="payment_unsubscribe",e.LeaderboardOpen="leaderboard_open",e.LeaderboardFetch="leaderboard_fetch",e.LeaderboardFetchPlayerRating="leaderboard_fetch_player_rating",e.ChannelOpenChat="channel_open_chat",e.RewardGive="reward_give",e.RewardAccept="reward_accept",e.SchedulersRegister="schedulers_register",e.SchedulersClaimDay="schedulers_claim_day",e.SchedulersClaimDayAdditional="schedulers_claim_day_additional",e.SchedulersClaimAllDay="schedulers_claim_all_day",e.SchedulersClaimAllDays="schedulers_claim_all_days",e.TriggersClaim="triggers_claim",e.UniquesRegister="uniques_register",e.UniquesCheck="uniques_check",e.UniqiesDelete="uniques_delete",e.GameCollectionsOpen="game_collections_open",e.GameCollectionsFetch="game_collections_fetch",e.ImagesUpload="images_upload",e.ImagesFetch="images_fetch",e.ImagesFetchMore="images_fetch_more",e.filesUpload="files_upload",e.filesFetch="files_fetch",e.filesFetchMore="files_fetch_more"})(B||(B={}));const D=(...e)=>{window.smAnalytics.debug&&$.info("[ANALYTICS]",...e)};class b{static trackGoal(t,n,s){if(n!==void 0?D(t,n):D(t),window.smAnalytics.metricId===-1)throw"Необходимо указать metricId для проекта!";if(window.smAnalytics.androidMetricId===-1&&window.smAnalytics.androidMetricEnabled)throw"Необходимо указать androidMetricId для проекта!";E()||(x()&&s?f().analytics.yaMetrikaCounter.reachGoal(window.smAnalytics.metricId,t,n):ym(window.smAnalytics.metricId,"reachGoal",t,n),L()&&window.smAnalytics.androidMetricEnabled&&ym(window.smAnalytics.androidMetricId,"reachGoal",t,n))}static trackPlatformEvent(t){var n,s;J()&&f().send(I.VKWebAppTrackEvent,{event_name:t,user_id:(s=(n=window.gp)==null?void 0:n.player)==null?void 0:s.id})}static trackEvent(t,n={},s){const a=u(!0),i=g();this.trackGoal(t,{[t]:{game_name:"checkers_en",platform:{[a]:{device:i,host:Y()}},device:{[i]:{game_name:"checkers_en",platform:a,...[l.tablet,l.mobile].includes(i)&&{OS:ee()}}},...n}},s)}static trackConversionEvent(t,n={}){this.trackPlatformEvent(t),this.trackEvent(t,n),this.trackEvent(`checkers_en_${t}`,n)}static trackSdkInitialized(t){var a,i;const n=(i=(a=window.gp)==null?void 0:a.ads)==null?void 0:i.isAdblockEnabled,s=u(!0);L()?this.trackEvent("sdk_initialized_android"):this.trackEvent(`sdk_initialized_${s.toLowerCase()}`),this.trackEvent("sdk_initialized",{language:t,languageBrowser:M(),time:q(),...n&&{"gp.ads.isAdblockEnabled":n}})}static trackWhatGameIsRunning(){this.trackEvent("game_name_checkers_en")}static trackSdkGpLoaded(t){this.trackEvent("bundle_loaded",{loadTime:O(t)})}static trackGameReady(){this.trackEvent("game_ready",{time:y()})}static trackYaReachGoalUTM(){this.trackEvent("ya_reach_goal_utm",{},!0)}static gpSdkIsNotInitialized(t,n){let s="";t===0?s="default":t===1?s="s3":t===2&&(s="local"),s&&this.trackEvent(`gp_sdk_is_not_initialized_${s}`,{message:n,languageBrowser:M(),time:O(window.timestampBeforeInit)})}static trackFullscreen({trigger:t,...n}){const{gameType:s,...a}=n;this.trackConversionEvent("fullscreen",{fullscreen_type:{...s&&{game_type:s},[t]:{...a,...s&&{game_type:s},platform:u(!0),device:g()}}});const i=t.replace(/([a-z])([A-Z])/g,"$1 $2").toLowerCase().split(" ").join("_");i&&this.trackEvent(`fullscreen_${i}`)}static trackFullscreen10(){this.trackConversionEvent("fullscreen_10")}static trackFullscreen30(){this.trackConversionEvent("fullscreen_30")}static trackSticky10(){this.trackConversionEvent("sticky_10")}static trackSticky20(){this.trackConversionEvent("sticky_20")}static trackSticky30(){this.trackConversionEvent("sticky_30")}static trackSticky200(){this.trackConversionEvent("sticky_200")}static trackRewarded(t){this.trackConversionEvent("rewarded",{reward_type:{[t.rewardType]:{platform:u(!0),device:g(),...t.gameType&&{game_type:t.gameType},...t.unlockedFiguresDesignNumber!==void 0&&{unlocked_figures_design_number:t.unlockedFiguresDesignNumber},...t.unlockedBoardDesignNumber!==void 0&&{unlocked_board_design_number:t.unlockedBoardDesignNumber}}},...t.gameType&&{game_type:t.gameType}});const n=t.rewardType.replace(/([a-z])([A-Z])/g,"$1 $2").toLowerCase().split(" ").join("_");n&&this.trackEvent(`rewarded_${t.prefix?t.prefix+"_":""}${n}`)}static trackSpendGem(t){this.trackConversionEvent("spent_gem",{reward_type:{[t.rewardType]:{platform:u(!0),device:g(),...t.gameType&&{game_type:t.gameType},...t.unlockedFiguresDesignNumber!==void 0&&{unlocked_figures_design_number:t.unlockedFiguresDesignNumber},...t.unlockedBoardDesignNumber!==void 0&&{unlocked_board_design_number:t.unlockedBoardDesignNumber}}},...t.gameType&&{game_type:t.gameType}});const n=t.rewardType.replace(/([a-z])([A-Z])/g,"$1 $2").toLowerCase().split(" ").join("_");n&&this.trackEvent(`spent_gem_for_${t.prefix?t.prefix+"_":""}${n}`)}static trackSpendGold(t){this.trackConversionEvent("spent_gold",{game_type:t.gameType,amount:t.betSize,bet_size:{[t.betSize]:{platform:u(!0),device:g(),game_type:t.gameType}}}),this.trackEvent(`spent_gold_for_${t.betSize}`)}static trackRewarded10(){this.trackConversionEvent("rewarded_10")}static trackRewarded30(){this.trackConversionEvent("rewarded_30")}static trackRewarded100(){this.trackConversionEvent("rewarded_100")}static trackBuyShopItem(t,n){const s=t.split("_"),a=Number(s[s.length-1]||1),i=t.includes("PREM")?"PREM":t.includes("CASH")?"CASH":"COIN",_={COIN_1:49,COIN_2:139,COIN_3:400,COIN_4:1e3,COIN_5:1390,COIN_6:2449,CASH_1:49,CASH_2:249,CASH_3:1e3,PREM_1:29,PREM_2:199,PREM_3:1599}[`${i}_${a}`];this.trackBuyShopItemRevenue(t,_,n)}static trackBuyShopItemRevenue(t,n,s){const a=i=>i*.43;this.trackConversionEvent("buy",{tag:t,source:s,revenue:a(n)}),this.trackConversionEvent(`buy_${t}`,{source:s,revenue:a(n)})}static trackShare(){this.trackEvent("click_share")}static trackClickOtherGames(){this.trackEvent("click_other_games")}static trackGPRequest(t){this.trackEvent("request_gp",{type:t})}}const ie=e=>{const t=Object.keys(e),n=Math.random()*100;let s=0;for(let a=e[t[0]];a<=n;a+=e[t[s]])s++;return t[s]},p=e=>Math.floor(Math.random()*e).toFixed(),C=e=>{localStorage.removeItem(`${e}_bucket20`),localStorage.removeItem(`${e}_bucket50`),localStorage.removeItem(`${e}_bucket100`)},ce=e=>{const t=localStorage.getItem(e);if(!t)return null;try{const n=JSON.parse(t);return typeof n!="object"||typeof n.c!="string"||typeof n.b20!="string"||typeof n.b50!="string"||typeof n.b100!="string"?null:{cohort:n.c,bucket:{20:n.b20,50:n.b50,100:n.b100}}}catch(n){return $.error("Error loading experiment state from localStorage",n),null}},N=(e,t)=>{const n=localStorage.getItem(e),s=n!==null&&typeof n=="string"&&n[0]!=="{"?n:null,a=localStorage.getItem(`${e}_bucket20`),i=localStorage.getItem(`${e}_bucket50`),_=localStorage.getItem(`${e}_bucket100`),c=ce(e);if(c)return C(e),c;const d={cohort:s||t,bucket:{20:a||p(20),50:i||p(50),100:_||p(100)}};C(e);const X={c:d.cohort,b20:d.bucket[20],b50:d.bucket[50],b100:d.bucket[100]};return localStorage.setItem(e,JSON.stringify(X)),d},_e=e=>{C(e),localStorage.removeItem(e)},v="AA";var G;(function(e){e.exampleExperiment="example_experiment"})(G||(G={}));const W="ALL",de={[G.exampleExperiment]:{platforms:[],cohorts:{1:50,0:50}}};window.smGamesSdkAB={AA_COHORT:"",AA_BUCKET:{20:"",50:"",100:""},trackOnSessionByType:{},currentState:{},currentBucketState:{},experiments:{}};const T=e=>{const t=[20,50,100],n=y();return n?t.map(s=>({[s]:{[e[s]]:{game_ready_time:n}}})).reduce((s,a)=>({...s,...a}),{}):e},h=class h{constructor(t){m(this,"_trackCodeExp",(t,n)=>{const s=window.smGamesSdkAB.currentState[t],a=window.smGamesSdkAB.currentBucketState[t]||{},i=`AB_${t}`;if(s){const _=T(a);b.trackGoal(i,{[i]:{[s]:{..._,...n?{target_section:_}:{}}}})}});m(this,"init",()=>{Object.keys(window.smGamesSdkAB.experiments).forEach(t=>{const n=window.smGamesSdkAB.experiments[t];if(window.smGamesSdkAB.currentState[t])return;if(!n.platforms.includes(u())&&!n.platforms.includes(W)){window.smGamesSdkAB.currentState[t]=null,window.smGamesSdkAB.currentBucketState[t]=null;return}const s=ie(n.cohorts),a=N(t,s);window.smGamesSdkAB.currentState[t]=a.cohort,window.smGamesSdkAB.currentBucketState[t]=a.bucket,this._trackCodeExp(t)})});m(this,"trackWithGameReady",()=>{h._trackAA(),Object.keys(window.smGamesSdkAB.experiments).forEach(t=>{this._trackCodeExp(t)})});m(this,"getExternalCohort",t=>{const n=`AB_${t}`,s=oe({}),i=new URLSearchParams(window.location.search).get(n),_=s[n],c=d=>d!=null&&d!==""?`${d}`:void 0;return c(i)||c(_)});m(this,"getCohort",t=>{const s=this.getExternalCohort(t)||window.smGamesSdkAB.currentState[t];return s&&!window.smGamesSdkAB.trackOnSessionByType[t]&&(this._trackCodeExp(t,!0),window.smGamesSdkAB.trackOnSessionByType[t]=!0),s});if(window.smGamesSdkABInstance)return window.smGamesSdkAB.experiments={...window.smGamesSdkAB.experiments,...t},window.smGamesSdkABInstance;window.smGamesSdkAB.experiments=t,window.smGamesSdkABInstance=this}static initAAExp(){const t=N(v,Math.round(Math.random()).toString());window.smGamesSdkAB.AA_COHORT=t.cohort,window.smGamesSdkAB.AA_BUCKET=t.bucket,h._trackAA()}static initExpForAllPlatform(){window.smGamesSdkABInstance.init()}};m(h,"_trackAA",()=>{const t=window.smGamesSdkAB.AA_COHORT;b.trackGoal(v,{[v]:{[t]:T(window.smGamesSdkAB.AA_BUCKET)}})});let k=h;window.smGamesSdkABInstance=new k(de);const le={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,REACT_APP_API_URL:"https://sdk3.dev.tonlabs.io/api/account",REACT_APP_BUILD_TIME:"19.11.25 14:49",REACT_APP_GAME:"checkers_en",SSR:!1};var me=(e=>(e.Chess="chess",e.CheckersEn="checkers_en",e.CheckersRu="checkers_ru",e.CheckersPoddavki="checkers_poddavki",e.Saper="saper",e.Domino="domino",e))(me||{});const ue=e=>{const t=le[e]||"";return["true","1","TRUE","True"].includes(t.toString())},S="checkers_en",je=ue("REACT_APP_ARENA_MODE_ENABLED"),Je=()=>S==="domino",Qe=()=>S==="checkers_en",qe=()=>S==="checkers_poddavki",Ae=()=>S==="chess",et=()=>"v19.11.25 14:49",tt=["checkers_en","checkers_ru","checkers_poddavki"].includes(S);var ke=(e=>(e.ExampleExp="example_exp",e.Rewarded10LimitPerDay="rewarded_10_limit_per_Day",e.DesignUnlockProgressOneRewardedExp="design_unlock_progress_one_rewarded_exp",e.WithOutAdvInGameExp="with_out_adv_in_game_exp",e))(ke||{}),z=(e=>(e.ExtenalAPIFroGPEnabledExp="extenal_api_for_gp_enabled_exp",e.DesignUnlockProgressCrazyGamesExp="design_unlock_progress_exp_crazy_games",e.MainAudioThemeExp="main_audio_theme_exp",e.DesignUnlockProgressExp2="design_unlock_progress_exp_2",e.DesignUnlockProgressExp="design_unlock_progress_exp",e.CashTax10percentSizeExp="cash_tax_10percent_size_exp",e))(z||{});const U=[W],nt=()=>Ae();var Ee=(e=>(e.Disabled="0",e.Enabled="1",e))(Ee||{});const ge={example_exp:{platforms:[],cohorts:{0:50,1:50}},rewarded_10_limit_per_Day:{platforms:[r.NONE,r.PLAY_DECK],cohorts:{0:50,1:50}},design_unlock_progress_one_rewarded_exp:{platforms:U,cohorts:{0:50,1:50}},with_out_adv_in_game_exp:{platforms:U,cohorts:{0:50,1:50}}},he=Object.values(z);he.forEach(e=>{_e(e)});const st=new k(ge);window.smAnalytics.debug=j();window.smAnalytics.metricId=93916599;window.smAnalytics.androidMetricEnabled=!0;window.smAnalytics.androidMetricId=97620763;b.trackWhatGameIsRunning();k.initAAExp();k.initExpForAllPlatform();export{Je as $,Fe as A,$ as B,$e as C,l as D,We as E,ze as F,B as G,Xe as H,Ve as I,He as J,Ze as K,u as L,g as M,M as N,oe as O,r as P,tt as Q,st as R,b as S,ke as T,Ee as U,I as V,me as W,S as X,je as Y,Ae as Z,ve as _,L as a,fe as a0,qe as a1,et as a2,Qe as a3,nt as a4,pe as b,j as c,x as d,f as e,E as f,Se as g,Ie as h,Oe as i,be as j,J as k,Le as l,Me as m,Re as n,Be as o,De as p,Ne as q,Te as r,Ue as s,xe as t,Ye as u,Ce as v,Ge as w,Pe as x,ye as y,Ke as z};
