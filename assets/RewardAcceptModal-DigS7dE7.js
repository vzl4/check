import{R as M,aG as T,aH as p,U as c,C as A,T as D,r as S,j as a,ay as x,l as E,K as i,bP as v,ax as P,bn as z,d5 as u,aF as I,aC as B,bS as W,bT as f}from"./main-Cz_EDjso.js";import{M as $}from"./ModalExternal-Bc4p8-uQ.js";import"./analytics-C4g1w3Ww.js";import"./workers-0KObbvUQ.js";import"./ScrollArea-D_4_3NIY.js";const F=({reward:l,withoutSymbol:e=!1})=>{const t={[u.ADD]:"+",[u.REMOVE]:"-",[u.SET]:""},s=l.mutations[0],d=e?s==null?void 0:s.value:a.jsxs(a.Fragment,{children:[a.jsx("span",{style:{marginRight:3},children:t[s==null?void 0:s.action]}),s==null?void 0:s.value]});return a.jsxs(i,{gap:"xs",align:"center",justify:"center",direction:"column",h:"100%",children:[a.jsx(i,{align:"center",justify:"flex-start",children:a.jsx(I,{src:l.icon,maw:70,mah:70,style:{filter:"drop-shadow(2px 2px 4px rgb(27, 32, 29))"}})}),a.jsx(B,{fw:"bold",fz:24,mt:-4,children:d})]})},V=()=>{var h;const{closeModal:l,data:e}=T(p.RewardAcceptModal),t=Math.max((e==null?void 0:e.rewards.length)??1,2),s=c(r=>r.platform.showRewardedVideo),d=c(r=>r.platform.firePlayerCoinsChangeTrigger),g=c(r=>r.platform.firePlayerCashChangeTrigger),w=c(r=>r.modals.setModalData),y=A();D();const[b,j]=S.useState(!1),C=()=>{j(!0),s({rewardType:W.DoubleDailyBonus,forseRewarded:!0}).then(r=>{r&&(((e==null?void 0:e.rewards)||[]).forEach(o=>{o.mutations.forEach(n=>{f.add(n.key,Number(n.value))})}),f.sync(),d(),g(),w({modal:p.RewardAcceptModal,data:{rewards:((e==null?void 0:e.rewards)||[]).map(o=>({...o,mutations:o.mutations.map(n=>({...n,value:n.value*2}))}))}}))})},R=t>2?`calc(1.25rem * ${t-1})`:t>1?"1.25rem":"",m=`calc(${70*t+32}px + ${R})`;return a.jsxs($,{fullScreen:!1,visible:!0,id:E.modal.rewardAccepted.index,onClose:l,title:x("bonusTitle"),contentStyles:{maxWidth:m,minWidth:m,width:m},titleCentered:!0,children:[a.jsx(i,{gap:"lg",align:"center",justify:"center",children:(h=(e==null?void 0:e.rewards)||[])==null?void 0:h.map((r,o)=>a.jsx(F,{reward:r},o))}),!v().isAdvDisabled&&a.jsx(i,{align:"center",justify:"center",mt:"xl",children:a.jsxs(P,{onClick:C,disabled:b,h:"40px",fz:"17",rightSection:a.jsx(z,{size:y.normal||18,rewardIcon:!0},"reward-accept-modal-reward-icon"),children:[x("doubleDailyBonus")," x2"]})})]})},O=M.memo(V);export{O as default};
