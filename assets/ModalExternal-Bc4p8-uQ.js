import{aT as le,r as y,b0 as we,b1 as Ne,b2 as Oe,b3 as Ie,j as a,b4 as Pe,b5 as Re,z as k,b6 as Ee,b7 as ke,b8 as P,b9 as N,ba as ze,bb as re,bc as Ae,bd as Fe,be as $e,x as _,y as B,a$ as te,aY as He,a_ as qe,bf as Ve,bg as We,bh as De,R as oe,bi as Le,af as ee,M as de,e as E,aC as Ze,bj as Ge,W as Ke,l as Je,J as Ue,T as Ye}from"./main-Cz_EDjso.js";import{D as ce}from"./analytics-C4g1w3Ww.js";import{S as ie}from"./ScrollArea-D_4_3NIY.js";const[Qe,v]=le("ModalBase component was not found in tree");function Xe({opened:e,transitionDuration:t}){const[o,n]=y.useState(e),l=y.useRef(-1),r=we()?0:t;return y.useEffect(()=>(e?(n(!0),window.clearTimeout(l.current)):r===0?n(!1):l.current=window.setTimeout(()=>n(!1),r),()=>window.clearTimeout(l.current)),[e,r]),o}function et({id:e,transitionProps:t,opened:o,trapFocus:n,closeOnEscape:l,onClose:d,returnFocus:r}){const s=Ne(e),[i,c]=y.useState(!1),[u,f]=y.useState(!1),x=typeof(t==null?void 0:t.duration)=="number"?t==null?void 0:t.duration:200,m=Xe({opened:o,transitionDuration:x});return Oe("keydown",h=>{var C;h.key==="Escape"&&l&&!h.isComposing&&o&&((C=h.target)==null?void 0:C.getAttribute("data-mantine-stop-propagation"))!=="true"&&d()},{capture:!0}),Ie({opened:o,shouldReturnFocus:n&&r}),{_id:s,titleMounted:i,bodyMounted:u,shouldLockScroll:m,setTitleMounted:c,setBodyMounted:f}}const ue=y.forwardRef(({keepMounted:e,opened:t,onClose:o,id:n,transitionProps:l,onExitTransitionEnd:d,onEnterTransitionEnd:r,trapFocus:s,closeOnEscape:i,returnFocus:c,closeOnClickOutside:u,withinPortal:f,portalProps:x,lockScroll:m,children:h,zIndex:C,shadow:b,padding:S,__vars:T,unstyled:W,removeScrollProps:R,...D},L)=>{const{_id:j,titleMounted:Z,bodyMounted:G,shouldLockScroll:K,setTitleMounted:J,setBodyMounted:U}=et({id:n,transitionProps:l,opened:t,trapFocus:s,closeOnEscape:i,onClose:o,returnFocus:c}),{key:Y,...Q}=R||{};return a.jsx(Pe,{...x,withinPortal:f,children:a.jsx(Qe,{value:{opened:t,onClose:o,closeOnClickOutside:u,onExitTransitionEnd:d,onEnterTransitionEnd:r,transitionProps:{...l,keepMounted:e},getTitleId:()=>`${j}-title`,getBodyId:()=>`${j}-body`,titleMounted:Z,bodyMounted:G,setTitleMounted:J,setBodyMounted:U,trapFocus:s,closeOnEscape:i,zIndex:C,unstyled:W},children:a.jsx(Re,{enabled:K&&m,...Q,children:a.jsx(k,{ref:L,...D,__vars:{...T,"--mb-z-index":(C||P("modal")).toString(),"--mb-shadow":ke(b),"--mb-padding":Ee(S)},children:h})},Y)})})});ue.displayName="@mantine/core/ModalBase";function tt(){const e=v();return y.useEffect(()=>(e.setBodyMounted(!0),()=>e.setBodyMounted(!1)),[]),e.getBodyId()}var O={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};const me=y.forwardRef(({className:e,...t},o)=>{const n=tt(),l=v();return a.jsx(k,{ref:o,...t,id:n,className:N({[O.body]:!l.unstyled},e)})});me.displayName="@mantine/core/ModalBaseBody";const ye=y.forwardRef(({className:e,onClick:t,...o},n)=>{const l=v();return a.jsx(ze,{ref:n,...o,onClick:d=>{l.onClose(),t==null||t(d)},className:N({[O.close]:!l.unstyled},e),unstyled:l.unstyled})});ye.displayName="@mantine/core/ModalBaseCloseButton";const fe=y.forwardRef(({transitionProps:e,className:t,innerProps:o,onKeyDown:n,style:l,...d},r)=>{const s=v();return a.jsx(re,{mounted:s.opened,transition:"pop",...s.transitionProps,onExited:()=>{var i,c,u;(i=s.onExitTransitionEnd)==null||i.call(s),(u=(c=s.transitionProps)==null?void 0:c.onExited)==null||u.call(c)},onEntered:()=>{var i,c,u;(i=s.onEnterTransitionEnd)==null||i.call(s),(u=(c=s.transitionProps)==null?void 0:c.onEntered)==null||u.call(c)},...e,children:i=>a.jsx("div",{...o,className:N({[O.inner]:!s.unstyled},o.className),children:a.jsx(Ae,{active:s.opened&&s.trapFocus,innerRef:r,children:a.jsx(Fe,{...d,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":s.bodyMounted?s.getBodyId():void 0,"aria-labelledby":s.titleMounted?s.getTitleId():void 0,style:[l,i],className:N({[O.content]:!s.unstyled},t),unstyled:s.unstyled,children:d.children})})})})});fe.displayName="@mantine/core/ModalBaseContent";const xe=y.forwardRef(({className:e,...t},o)=>{const n=v();return a.jsx(k,{component:"header",ref:o,className:N({[O.header]:!n.unstyled},e),...t})});xe.displayName="@mantine/core/ModalBaseHeader";const ot={duration:200,timingFunction:"ease",transition:"fade"};function st(e){const t=v();return{...ot,...t.transitionProps,...e}}const pe=y.forwardRef(({onClick:e,transitionProps:t,style:o,visible:n,...l},d)=>{const r=v(),s=st(t);return a.jsx(re,{mounted:n!==void 0?n:r.opened,...s,transition:"fade",children:i=>a.jsx($e,{ref:d,fixed:!0,style:[o,i],zIndex:r.zIndex,unstyled:r.unstyled,onClick:c=>{e==null||e(c),r.closeOnClickOutside&&r.onClose()},...l})})});pe.displayName="@mantine/core/ModalBaseOverlay";function nt(){const e=v();return y.useEffect(()=>(e.setTitleMounted(!0),()=>e.setTitleMounted(!1)),[]),e.getTitleId()}const he=y.forwardRef(({className:e,...t},o)=>{const n=nt(),l=v();return a.jsx(k,{component:"h2",ref:o,className:N({[O.title]:!l.unstyled},e),...t,id:n})});he.displayName="@mantine/core/ModalBaseTitle";function at({children:e}){return a.jsx(a.Fragment,{children:e})}const[lt,I]=le("Modal component was not found in tree");var g={root:"m_9df02822",content:"m_54c44539",inner:"m_1f958f16",header:"m_d0e2b9cd"};const z=_((e,t)=>{const o=B("ModalBody",null,e),{classNames:n,className:l,style:d,styles:r,vars:s,...i}=o,c=I();return a.jsx(me,{ref:t,...c.getStyles("body",{classNames:n,style:d,styles:r,className:l}),...i})});z.classes=g;z.displayName="@mantine/core/ModalBody";const A=_((e,t)=>{const o=B("ModalCloseButton",null,e),{classNames:n,className:l,style:d,styles:r,vars:s,...i}=o,c=I();return a.jsx(ye,{ref:t,...c.getStyles("close",{classNames:n,style:d,styles:r,className:l}),...i})});A.classes=g;A.displayName="@mantine/core/ModalCloseButton";const F=_((e,t)=>{const o=B("ModalContent",null,e),{classNames:n,className:l,style:d,styles:r,vars:s,children:i,__hidden:c,...u}=o,f=I(),x=f.scrollAreaComponent||at;return a.jsx(fe,{...f.getStyles("content",{className:l,style:d,styles:r,classNames:n}),innerProps:f.getStyles("inner",{className:l,style:d,styles:r,classNames:n}),"data-full-screen":f.fullScreen||void 0,"data-modal-content":!0,"data-hidden":c||void 0,ref:t,...u,children:a.jsx(x,{style:{maxHeight:f.fullScreen?"100dvh":`calc(100dvh - (${te(f.yOffset)} * 2))`},children:i})})});F.classes=g;F.displayName="@mantine/core/ModalContent";const $=_((e,t)=>{const o=B("ModalHeader",null,e),{classNames:n,className:l,style:d,styles:r,vars:s,...i}=o,c=I();return a.jsx(xe,{ref:t,...c.getStyles("header",{classNames:n,style:d,styles:r,className:l}),...i})});$.classes=g;$.displayName="@mantine/core/ModalHeader";const H=_((e,t)=>{const o=B("ModalOverlay",null,e),{classNames:n,className:l,style:d,styles:r,vars:s,...i}=o,c=I();return a.jsx(pe,{ref:t,...c.getStyles("overlay",{classNames:n,style:d,styles:r,className:l}),...i})});H.classes=g;H.displayName="@mantine/core/ModalOverlay";const rt={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:P("modal"),transitionProps:{duration:200,transition:"fade-down"},yOffset:"5dvh"},dt=qe((e,{radius:t,size:o,yOffset:n,xOffset:l})=>({root:{"--modal-radius":t===void 0?void 0:We(t),"--modal-size":Ve(o,"modal-size"),"--modal-y-offset":te(n),"--modal-x-offset":te(l)}})),q=_((e,t)=>{const o=B("ModalRoot",rt,e),{classNames:n,className:l,style:d,styles:r,unstyled:s,vars:i,yOffset:c,scrollAreaComponent:u,radius:f,fullScreen:x,centered:m,xOffset:h,__staticSelector:C,attributes:b,...S}=o,T=He({name:C,classes:g,props:o,className:l,style:d,classNames:n,styles:r,unstyled:s,attributes:b,vars:i,varsResolver:dt});return a.jsx(lt,{value:{yOffset:c,scrollAreaComponent:u,getStyles:T,fullScreen:x},children:a.jsx(ue,{ref:t,...T("root"),"data-full-screen":x||void 0,"data-centered":m||void 0,"data-offset-scrollbars":u===ie.Autosize||void 0,unstyled:s,...S})})});q.classes=g;q.displayName="@mantine/core/ModalRoot";const[ct,it]=De();function Me({children:e}){const[t,o]=y.useState([]),[n,l]=y.useState(P("modal"));return a.jsx(ct,{value:{stack:t,addModal:(d,r)=>{o(s=>[...new Set([...s,d])]),l(s=>typeof r=="number"&&typeof s=="number"?Math.max(s,r):s)},removeModal:d=>o(r=>r.filter(s=>s!==d)),getZIndex:d=>`calc(${n} + ${t.indexOf(d)} + 1)`,currentId:t[t.length-1],maxZIndex:n},children:e})}Me.displayName="@mantine/core/ModalStack";const V=_((e,t)=>{const o=B("ModalTitle",null,e),{classNames:n,className:l,style:d,styles:r,vars:s,...i}=o,c=I();return a.jsx(he,{ref:t,...c.getStyles("title",{classNames:n,style:d,styles:r,className:l}),...i})});V.classes=g;V.displayName="@mantine/core/ModalTitle";const ut={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:P("modal"),transitionProps:{duration:200,transition:"fade-down"},withOverlay:!0,withCloseButton:!0},p=_((e,t)=>{const{title:o,withOverlay:n,overlayProps:l,withCloseButton:d,closeButtonProps:r,children:s,radius:i,opened:c,stackId:u,zIndex:f,...x}=B("Modal",ut,e),m=it(),h=!!o||d,C=m&&u?{closeOnEscape:m.currentId===u,trapFocus:m.currentId===u,zIndex:m.getZIndex(u)}:{},b=n===!1?!1:u&&m?m.currentId===u:c;return y.useEffect(()=>{m&&u&&(c?m.addModal(u,f||P("modal")):m.removeModal(u))},[c,u,f]),a.jsxs(q,{ref:t,radius:i,opened:c,zIndex:m&&u?m.getZIndex(u):f,...x,...C,children:[n&&a.jsx(H,{visible:b,transitionProps:m&&u?{duration:0}:void 0,...l}),a.jsxs(F,{radius:i,__hidden:m&&u&&c?u!==m.currentId:!1,children:[h&&a.jsxs($,{children:[o&&a.jsx(V,{children:o}),d&&a.jsx(A,{...r})]}),a.jsx(z,{children:s})]})]})});p.classes=g;p.displayName="@mantine/core/Modal";p.Root=q;p.Overlay=H;p.Content=F;p.Body=z;p.Header=$;p.Title=V;p.CloseButton=A;p.Stack=Me;const mt="_modalInner_lqine_1",yt="_modalContent_lqine_5",ft="_modalContentFullscreen_lqine_9",xt="_modalTitle_lqine_12",pt="_modalTitleCentered_lqine_15",ht="_modalTitlePadding_lqine_21",Mt="_modalBody_lqine_24",Ct="_modalBodyContent_lqine_27",vt="_modalBodyContentOnlyTitle_lqine_30",gt="_scrollAreaViewPort_lqine_40",bt="_scrollAreaViewPortCorner_lqine_43",_t="_modalCloseButton_lqine_47",M={modalInner:mt,modalContent:yt,modalContentFullscreen:ft,modalTitle:xt,modalTitleCentered:pt,modalTitlePadding:ht,modalBody:Mt,modalBodyContent:Ct,modalBodyContentOnlyTitle:vt,scrollAreaViewPort:gt,scrollAreaViewPortCorner:bt,modalCloseButton:_t},Bt=({autoSize:e,refModalContent:t,children:o})=>e?a.jsx(ie.Autosize,{ref:t,w:"100%",type:"auto",scrollbarSize:4,classNames:{viewport:M.scrollAreaViewPort,corner:M.scrollAreaViewPortCorner},children:o}):o,ae=oe.memo(Bt),St=({children:e,autoSize:t,scrollAreaContentEnabled:o,refModalContent:n,withTitle:l,rectFooterHeight:d})=>{const r=Ye(),s="var(--modal-content-max-height, calc(100dvh - var(--modal-y-offset) * 2))",i=r&&de.getDeviceType()===ce.mobile&&o;return a.jsx(a.Fragment,{children:i?a.jsx("div",{style:{overflow:"auto",maxHeight:`calc(${s} - ${l?76:31}px - ${d||0}px)`},children:a.jsx(ae,{autoSize:t,refModalContent:n,children:e},"content-auto-size-wrapper")}):a.jsx(ae,{autoSize:t,refModalContent:n,children:e},"content-auto-size-wrapper")})},Tt=oe.memo(St),jt=e=>{const{id:t,idCloseButton:o,children:n,bottomComponent:l=null,visible:d,onClose:r,size:s,yOffset:i,title:c,titleWeight:u=700,titleSize:f=1.375,withTitle:x=!0,titleColor:m,titleCentered:h,titlePadding:C,titleRightComponent:b=null,bodyPadding:S,maw:T,miw:W,fullScreen:R,innerHeight:D,backgroundColor:L,withCloseButton:j=!0,contentStyles:Z,innerStyles:G,bodyClassName:K,headerStyles:J,headerPadding:U,closeOffset:Y,autoSize:Q=!0,closeOnClickOutside:Ce=!0,scrollAreaContentEnabled:ve=!1,absoluteContent:ge}=e,be=Le(),[_e,w]=ee(),[Be,X]=ee(),[Se,Te]=ee(),[wt,je]=y.useState(0);y.useEffect(()=>{let ne=(w==null?void 0:w.height)||0;ne+=(X==null?void 0:X.height)||0,je(ne)},[Te]);const se=R===void 0?be||de.getDeviceType()===ce.mobile:R;return a.jsx(p,{centered:!0,withCloseButton:!1,fullScreen:se,size:s,opened:d,yOffset:i,closeOnClickOutside:Ce,overlayProps:{color:"dark.9",blur:3},onClose:r,classNames:{inner:M.modalInner,content:E(M.modalContent,{[M.modalContentFullscreen]:se}),body:E(M.modalBody,K)},styles:{header:{padding:U||"1rem 0",...J},content:{backgroundColor:L,maxWidth:`${T}px`,minWidth:`${W}px`,height:D,...Z||{}},inner:G},children:a.jsxs("div",{id:t,className:E(M.modalBodyContent,{[M.modalBodyContentOnlyTitle]:!n&&x}),style:{padding:S||"0rem 16px 16px 16px",position:"relative"},children:[ge,x&&a.jsxs(p.Header,{ref:Be,maw:"100%",children:[a.jsx(p.Title,{p:h&&j?void 0:C||0,className:E(M.modalTitle,{[M.modalTitleCentered]:h,[M.modalTitlePadding]:h&&j}),children:a.jsx(Ze,{component:"div",style:{fontSize:`${f}rem`,fontWeight:u,lineHeight:1,color:m},children:a.jsxs(Ge,{gap:"xs",children:[c," ",b]})})}),j&&a.jsx(p.CloseButton,{classNames:{close:M.modalCloseButton},id:o??Je.modal.closeModalButton,color:Ke.LightNeutral,style:S==="0"?{marginRight:Y||16}:{}})]}),a.jsx(Tt,{refModalContent:Se,autoSize:Q,withTitle:x,rectFooterHeight:w==null?void 0:w.height,scrollAreaContentEnabled:ve,children:n}),!!l&&a.jsx(Ue,{ref:_e,justify:"center",w:"100%",children:l})]})})},Pt=oe.memo(jt);export{Pt as M};
