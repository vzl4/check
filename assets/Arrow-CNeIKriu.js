import{R as k,b as A,m as L,j as r,n as X,s as N,o as i,q as j,r as w,t as O,v as z,w as v}from"./main-Cz_EDjso.js";import"./analytics-C4g1w3Ww.js";import"./workers-0KObbvUQ.js";const l={config:{mass:1,tension:170,friction:26}},P=f=>{const{fromShort:m,toShort:c,from:s,width:e,to:o,color:x,size:p=8}=f,t=v/p,a=e/t,n=(m?j(s.x,o.x,a):s.x)-.5,y=(m?j(s.y,o.y,a):s.y)-.5,E=(c?j(o.x,s.x,a):o.x)-.5,S=(c?j(o.y,s.y,a):o.y)-.5,u=i(n*t,l),g=i(y*t,l),Y=i(E*t,l),$=i(S*t,l),W=i(e,l);w.useEffect(()=>{u.start(n*t)},[s.x,t]),w.useEffect(()=>{g.start(y*t)},[s.y,t]),w.useEffect(()=>{Y.start(E*t)},[o.x,t]),w.useEffect(()=>{$.start(S*t)},[o.y,t]);const C=z([W],b=>b/2);return r.jsxs(r.Fragment,{children:[r.jsx(X.line,{x1:u,y1:g,x2:Y,y2:$,stroke:x,strokeWidth:W}),r.jsx(X.circle,{cx:u,cy:g,r:C,fill:x})]})},I=k.memo(P,A),J=f=>{let{fromShort:m,toShort:c,from:s,width:e,chain:o,color:x,size:p=8}=f;const t=v/p,a=o.length===1?s:o.at(-2),n=o.at(-1),y=e/t,E=(c?j(n.x,a.x,y):n.x)-.5,S=(c?j(n.y,a.y,y):n.y)-.5,u=i(E*t,l),g=i(S*t,l),Y=i(e,l);w.useEffect(()=>{u.start(E*t)},[n.x,t]),w.useEffect(()=>{g.start(S*t)},[n.y,t]);const{topX:$,topY:W,botX:C,botY:b}=O(a,o.at(-1)),R=z([u,g],(d,h)=>{const _=d+$,q=h+W,D=d+C,F=h+b;return`${_} ${q},${d} ${h},${D} ${F}`});return r.jsxs(r.Fragment,{children:[o.map((d,h)=>r.jsx(I,{from:h===0?s:o[h-1],to:d,fromShort:h===0&&m,toShort:h===o.length-1&&c,width:e,color:x,size:p},JSON.stringify(d))),r.jsx(X.polygon,{strokeWidth:Y,fill:x,stroke:x,points:R})]})},T=k.memo(J,A),V=f=>{let{width:m,color:c,size:s=8,from:e}=f;const o=v/s,x=e.x-.5,p=e.y-.5,t=m/2.5,a=o/2-t/2,n=i(x*o,l),y=i(p*o,l);return r.jsx(X.circle,{cx:n,cy:y,r:a,stroke:c,strokeWidth:t,fill:"none"})},Z=k.memo(V,A),B=f=>{let{chain:m,toDelete:c,from:s}=f;const[e]=L(()=>({opacity:c?0:1,from:{opacity:0}}),[s,m.toString()]);return r.jsx(X.g,{className:N.arrowsElement,style:e,children:m.length===0?r.jsx(Z,{...f}):r.jsx(T,{...f})})},M=k.memo(B,A);export{M as default};
