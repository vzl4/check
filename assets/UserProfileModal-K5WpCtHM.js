import{r as _,aU as _e,y as ce,bJ as fe,d4 as xe,j as e,bH as J,x as ge,R as E,aQ as V,a as O,ch as M,bo as F,M as ae,ay as l,a4 as re,a3 as oe,bY as y,aD as Y,d6 as pe,d7 as he,d8 as je,e as q,b as be,T as X,K as w,d9 as ve,da as Ne,c0 as se,db as Ce,cP as we,cJ as Ae,U as ne,bP as le,aC as Pe,bD as Se,dc as ye,ct as ze,dd as Ee,de as ke,aG as Ie,aH as Te,by as Fe,c8 as Ge,c9 as Le,cV as h,l as G,J as Re,bB as Me,df as Oe,bF as qe,bp as W,dg as Ve,aA as $,az as De,dh as Qe}from"./main-Cz_EDjso.js";import{M as Ue}from"./ModalExternal-Bc4p8-uQ.js";import{C}from"./CustomPopover-BiKCfJi1.js";import"./analytics-C4g1w3Ww.js";import{b as Be}from"./leaderboard.services.ui-Cy1UHfbc.js";import{f as We}from"./formatPlayerName-CbEGQV3k.js";import{S as Ye}from"./Skeleton-CrccMNn7.js";import"./workers-0KObbvUQ.js";import"./ScrollArea-D_4_3NIY.js";function He(){const[t,s]=_.useState(!1),n=_.useRef(null),a=_.useCallback(()=>{s(!0)},[]),i=_.useCallback(()=>{s(!1)},[]);return{ref:_.useCallback(c=>{n.current&&(n.current.removeEventListener("mouseenter",a),n.current.removeEventListener("mouseleave",i)),c&&(c.addEventListener("mouseenter",a),c.addEventListener("mouseleave",i)),n.current=c},[a,i]),hovered:t}}const Je={multiple:!0,accept:"*"};function Xe(t){if(!t)return null;if(t instanceof FileList)return t;const s=new DataTransfer;for(const n of t)s.items.add(n);return s.files}function Ze(t){if(typeof document>"u")return null;const s=document.createElement("input");return s.type="file",t.accept&&(s.accept=t.accept),t.multiple&&(s.multiple=t.multiple),t.capture&&(s.capture=t.capture),t.directory&&(s.webkitdirectory=t.directory),s.style.display="none",s}function Ke(t={}){const s={...Je,...t},[n,a]=_.useState(Xe(s.initialFiles)),i=_.useRef(null),o=_.useCallback(r=>{var j;const d=r.target;d!=null&&d.files&&(a(d.files),(j=s.onChange)==null||j.call(s,d.files))},[s.onChange]),c=_.useCallback(()=>{var r;(r=i.current)==null||r.remove(),i.current=Ze(s),i.current&&(i.current.addEventListener("change",o,{once:!0}),document.body.appendChild(i.current))},[s,o]);_e(()=>(c(),()=>{var r;return(r=i.current)==null?void 0:r.remove()}),[]);const f=_.useCallback(()=>{var r;a(null),(r=s.onChange)==null||r.call(s,null)},[s.onChange]),x=_.useCallback(()=>{var r;s.resetOnOpen&&f(),c(),(r=i.current)==null||r.click()},[s.resetOnOpen,f,c]);return{files:n,open:x,reset:f}}function $e(t,s,n){const a=ce(t,s,n),{label:i,description:o,error:c,required:f,classNames:x,styles:r,className:d,unstyled:j,__staticSelector:k,__stylesApiProps:A,errorProps:b,labelProps:u,descriptionProps:v,wrapperProps:P,id:I,size:T,style:D,inputContainer:N,inputWrapperOrder:S,withAsterisk:Q,variant:L,vars:K,mod:U,attributes:R,...B}=a,{styleProps:me,rest:de}=fe(B),ue={label:i,description:o,error:c,required:f,classNames:x,className:d,__staticSelector:k,__stylesApiProps:A||a,errorProps:b,labelProps:u,descriptionProps:v,unstyled:j,styles:r,size:T,style:D,inputContainer:N,inputWrapperOrder:S,withAsterisk:Q,variant:L,id:I,mod:U,attributes:R,...P};return{...de,classNames:x,styles:r,unstyled:j,wrapperProps:{...ue,...me},inputProps:{required:f,classNames:x,styles:r,unstyled:j,size:T,__staticSelector:k,__stylesApiProps:A||a,error:c,variant:L,id:I,attributes:R}}}const et={__staticSelector:"InputBase",withAria:!0,size:"sm"},Z=xe((t,s)=>{const{inputProps:n,wrapperProps:a,...i}=$e("InputBase",et,t);return e.jsx(J.Wrapper,{...a,children:e.jsx(J,{...n,...i,ref:s})})});Z.classes={...J.classes,...J.Wrapper.classes};Z.displayName="@mantine/core/InputBase";const ie=ge((t,s)=>{const n=ce("TextInput",null,t);return e.jsx(Z,{component:"input",ref:s,...n,__staticSelector:"TextInput"})});ie.classes=Z.classes;ie.displayName="@mantine/core/TextInput";const tt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAkCAYAAAAOwvOmAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAWgSURBVHgBtVhtLJxZFL7zGp2PGowipoYqqsxuJNumER/9s+jHpv3VpEk1TfBDdv1Y2UZWQiyxsfzAiiDxZzfER5aIsLUizWIrPkOIWEGXJRhV34ZhMPPuc2dLJouZ+y59kpN5Z+45933uueece+6IiEAkJCTYX79+3aG7u1uxsrJySa/XSzY2Nkw8z3MfVHhfX1+TQqEwqFQqXVRU1M7Tp093hbxDxKpYUFAga21tddZqtU4zMzNEp9OZWOw0Go29q6ur3svLa7WqqmqLxcYmqczMTPH09PTVhoYGGYjw5ByIjo7mnZ2d5+vq6nb/N6kXL15c7u/vV09MTJyLjCXgNfLgwQNdZWXlIhFCCvEhys7OVhcWFsoQN+RjICQkRN/b26sViUQnwoA7zSA1NdWluLhYcV5CEonkzLG+vj55ZGSkl0WCHOOEp+Lj4xWNjY3q1dVVI7H9UtHDhw8dHj9+7G0CDg4OeKWjUnZTc9PHw8NDYzAY9MjUH63NER4evt3V1aU9UyE2Nlbq5ubmj8cAWwJCASMjI+ngYuAtgO/Hz/DGt7bmQekIjImJUVrysLN4Fh0eHqqQ7peIbQ+Rtra2R7du3fqB4zix5Rhi5PgZY8txcXHe9vb270Bw57S59vf3+Z2dHXlSUpK+o6Pj0Gx3NPj8+XPF6OiojNjA/fv3HQYGBmJCQ0Pz8VLOmi6KZwwWIO/s7LRan1ByRC0tLa7Hizl6QIVWEgYEBwcrgoKCXlp6xBpQ3V+iLn1jS29qakpeVFQkOSZ17969y8g0KWEADN8hoNcQMizqdAv3sD1TtvRopoO8yzEpvMCJtVojjmjMORJGbG9vz9y5c+cXFl2coU74EJlJoWIzeYnC29tbKgZY9aVSqerJkydMoTE5OcknJyfLOXq2IQOYSSE7aQnYY40pZPT61tbWIYsu6hqP+ijn0HrI1tfXD1iMaLE0Go0mxMifhBEIi8HZ2Vmm+SnGxsYk3PLyshQMmZadmJjo3tPT0yuXy30JI5RKZRTqTwGrPhzEixFczD3V0tKSwc7OToaQ8ma1ga4Tqvw2qz50RRyMmNuS6urqDayknbUcHAFx8pZVFyWE55AdzJ6iGB8fb2LVpeSxcmN5eXkzq83u7i7PwWiP2rMapaWlvVlbW2vf29t7b0t3c3NzZH5+/qecnJxFwggfHx+eu3Hjht7FxcWe1QhBq0f3+CWK4oAt3cWFxV+vXbuWTwQA2bpL65QRvc8+EQgU3BZi3cOmV7+9ekME7ALtPnDB2DfH0+3bt1WDg4MKIgCBgYES9FO/oy1xO20cW9x25cqVr4gAqNVq09zc3JT5mEG/rEOzJSjgcZ7JUR6cTstE1L350tLS74lAYKv1OCn+7Y9LSkp20LYK2sKwsDA3TCDGsVNEzInGm7MNFX8T17Gv09PTtULmg1M4R0fHVfpsPlgpu9zc3DXEiQc9f1gmQYJcpaZlZWX1EaERg0GfBgXT3ysqKpqzsrIWiEDAKdto9AxmPpYDz549C6ypqbF686Xnn4ODAzc8PJzs6ekZjxtzGbqAUnw3WOqxLo4CHuLR0c6in9o/QQqrljc3N2uampq2/kvEz89PjHtgREBAQLC7u3ukTCbzw5CYbhm6jFlU7V40f3qqT39Dd7BWX1//OiMj428QtErq7t2762iZl89UQGfp5u/vr0EzF5yXlxeNLc3F+fgHXqizvKmwAPHFLywsVKWkpESQM24zCG4VYQFajUdYqZaSOJLzAJ58PzQ0lEavU5aEsP1qIgQg9QjzLfEXCDR7Pfn5+V8ceai2ttaOCAXm8YOM8RcI46FRi5vTZ+Q8wDw0mDMgev58MELqIe7kooDJPCHfQd7ywrAM+RkSxvouQUfLB3K0owiHfA4JgXwCobdbepGkF4RNyF+QEchrSDuKs6C/b/4BJv5BA5ota1QAAAAASUVORK5CYII=",g={"game-stat":"_game-stat_17crm_1","game-stat__info":"_game-stat__info_17crm_12","game-stat__info-number":"_game-stat__info-number_17crm_27","game-stat__victory":"_game-stat__victory_17crm_42","game-stat__draw":"_game-stat__draw_17crm_45","game-stat__defeat":"_game-stat__defeat_17crm_48","game-stat__container":"_game-stat__container_17crm_51","game-stat__figure":"_game-stat__figure_17crm_76"},at=t=>{const{games:s,title:n,gameResult:a}=t;V();const i=O(d=>d.config.figureTheme),o=O(d=>d.config.boardImageManager);if(!s)return null;const{icon:c,game:f}=a===M.Defeat?{icon:e.jsx(pe,{size:22}),game:s.defeat}:a===M.Victory?{icon:e.jsx(he,{size:22}),game:s.victory}:{icon:e.jsx(je,{size:22}),game:s.draw},{counts:x}=f,r=x.total;return e.jsxs("div",{className:g["game-stat"],children:[e.jsxs("h3",{className:g[`game-stat__${a}`],children:[c," ",n," ",F().whiteAndBlackSides?e.jsx("strong",{children:r}):null]}),!ae.isTV()&&e.jsxs("div",{className:g["game-stat__info"],children:[F().whiteAndBlackSides?e.jsxs(e.Fragment,{children:[e.jsx(C,{label:l("whitePlayed"),targetClassName:g["game-stat__container"],children:e.jsxs(e.Fragment,{children:[e.jsx("img",{src:o.getFigureImg({type:oe.Pawn,color:re.White,theme:i}),className:g["game-stat__figure"]}),e.jsxs("div",{className:g["game-stat__info-number"],children:[x.b," "]})]})}),e.jsx(C,{label:l("blackPlayed"),targetClassName:g["game-stat__container"],children:e.jsxs(e.Fragment,{children:[e.jsx("img",{src:o.getFigureImg({type:oe.Pawn,color:re.Black,theme:i}),className:g["game-stat__figure"]}),e.jsxs("div",{className:g["game-stat__info-number"],children:[x.w," "]})]})})]}):e.jsx(C,{label:n,targetClassName:g["game-stat__container"],children:e.jsxs(e.Fragment,{children:[e.jsx("div",{className:g["game-stat__figure"]}),e.jsxs("div",{className:g["game-stat__info-number"],children:[x.b+x.w," "]})]})}),e.jsx(C,{label:l("statsAverageRatingOpponents"),targetClassName:g["game-stat__container"],children:e.jsxs(e.Fragment,{children:[e.jsx("img",{src:tt,className:g["game-stat__figure"]}),e.jsxs("div",{className:g["game-stat__info-number"],children:[y(Number(f.averageOpponentsRating.toFixed(0))),e.jsx(Y,{size:12})]})]})})]})]})},st=E.memo(at),p={"game-bar":"_game-bar_1rkjf_1","tricolor-bar-bottom":"_tricolor-bar-bottom_1rkjf_8","tricolor-bar-header":"_tricolor-bar-header_1rkjf_24","tricolor-bar-bar":"_tricolor-bar-bar_1rkjf_39","tricolor-bar-background-green":"_tricolor-bar-background-green_1rkjf_47","tricolor-bar-background-grey":"_tricolor-bar-background-grey_1rkjf_50","tricolor-bar-background-red":"_tricolor-bar-background-red_1rkjf_53","tricolor-bar-text":"_tricolor-bar-text_1rkjf_56","tricolor-bar-text-green":"_tricolor-bar-text-green_1rkjf_64","tricolor-bar-text-grey":"_tricolor-bar-text-grey_1rkjf_67","tricolor-bar-text-red":"_tricolor-bar-text-red_1rkjf_70","tricolor-bar-bar-icon":"_tricolor-bar-bar-icon_1rkjf_73"},ee=(t,s)=>t===0?33.33:s/t*100,te=({type:t,percentage:s})=>s<=0?null:e.jsx("a",{href:"",style:{flexBasis:`${s}%`,pointerEvents:"none"},children:e.jsxs("div",{className:q(p["tricolor-bar-text"],p[`tricolor-bar-text-${t}`]),children:[e.jsx("span",{className:q(p["tricolor-bar-icon"],p["icon-font-chess"],p[`square-${t}`])}),s.toFixed(2),"%"]})}),nt=({games:t})=>{V();const s=[{result:M.Victory,title:l("statsVictories")},{result:M.Draw,title:l("statsDraws")},{result:M.Defeat,title:l("statsDefeats")}],n={victory:ee((t==null?void 0:t.total.counts.total)||0,(t==null?void 0:t.victory.counts.total)||0),draw:ee((t==null?void 0:t.total.counts.total)||0,(t==null?void 0:t.draw.counts.total)||0),defeat:ee((t==null?void 0:t.total.counts.total)||0,(t==null?void 0:t.defeat.counts.total)||0)};return e.jsxs("div",{className:p["game-bar"],children:[e.jsxs("div",{className:q(p["tricolor-bar-header"],p["tricolor-bar-top"]),children:[(t==null?void 0:t.victory)&&e.jsx(te,{type:"green",percentage:n.victory}),(t==null?void 0:t.draw)&&e.jsx(te,{type:"grey",percentage:n.draw}),(t==null?void 0:t.defeat)&&e.jsx(te,{type:"red",percentage:n.defeat})]}),e.jsxs("div",{className:p["tricolor-bar-bar"],children:[(t==null?void 0:t.victory)&&e.jsx("span",{className:p["tricolor-bar-background-green"],style:{flexGrow:n.victory}},"victory"),(t==null?void 0:t.draw)&&e.jsx("span",{className:p["tricolor-bar-background-grey"],style:{flexGrow:n.draw}},"draw"),(t==null?void 0:t.defeat)&&e.jsx("span",{className:p["tricolor-bar-background-red"],style:{flexGrow:n.defeat}},"defeat")]}),e.jsx("div",{className:p["tricolor-bar-header"],children:e.jsx("div",{className:p["tricolor-bar-bottom"],children:s.map(({result:a,title:i})=>(t==null?void 0:t[a])&&e.jsx("span",{style:{flexGrow:n[a]},children:e.jsx(st,{games:t,gameResult:a,title:i})},a))})})]})},it=E.memo(nt),m={"main-info":"_main-info_1v9m2_1","main-info__score-and-games":"_main-info__score-and-games_1v9m2_11","main-info__rating":"_main-info__rating_1v9m2_19","main-info__rating-text":"_main-info__rating-text_1v9m2_28","main-info__rating-semi-bold":"_main-info__rating-semi-bold_1v9m2_32","main-info__rating-icon":"_main-info__rating-icon_1v9m2_36","main-info__rating-icon-radius":"_main-info__rating-icon-radius_1v9m2_43","main-info__rating-icon-success":"_main-info__rating-icon-success_1v9m2_47","main-info__rating-icon-reject":"_main-info__rating-icon-reject_1v9m2_50","main-info__container":"_main-info__container_1v9m2_53"},rt=({games:t,rating:s,score:n})=>{var i,o;const a=X();return e.jsxs(w,{direction:"column",gap:24,align:"center",children:[e.jsxs("div",{className:m["main-info"],children:[e.jsxs("div",{className:m["main-info__rating"],children:[e.jsx(C,{label:l("maxRating"),targetClassName:m["main-info__container"],children:e.jsxs(e.Fragment,{children:[e.jsx("span",{className:q(m["main-info__rating-icon-success"],m["main-info__rating-icon-radius"],m["main-info__rating-icon"]),children:e.jsx(ve,{size:16})}),e.jsx("strong",{className:m["main-info__rating-semi-bold"],children:y((s==null?void 0:s.maximum)||0)}),e.jsx(Y,{size:16})]})}),e.jsx(C,{label:l("rating"),targetClassName:m["main-info__container"],isShowPopover:a,children:e.jsxs(e.Fragment,{children:[e.jsx("span",{className:m["main-info__rating-text"],children:l("rating")}),e.jsx("strong",{children:y((s==null?void 0:s.current)||0)}),e.jsx("span",{className:m["main-info__rating-icon"],children:e.jsx(Y,{size:16})})]})}),e.jsx(C,{label:l("minRating"),targetClassName:m["main-info__container"],children:e.jsxs(e.Fragment,{children:[e.jsx("span",{className:q(m["main-info__rating-icon-reject"],m["main-info__rating-icon-radius"],m["main-info__rating-icon"]),children:e.jsx(Ne,{size:16})}),e.jsx("strong",{className:m["main-info__rating-semi-bold"],children:y((s==null?void 0:s.minimum)||0)}),e.jsx(Y,{size:16})]})})]}),e.jsxs("div",{className:m["main-info__score-and-games"],children:[e.jsx(C,{label:l("score"),targetClassName:m["main-info__container"],isShowPopover:a,children:e.jsxs(e.Fragment,{children:[e.jsx("span",{className:m["main-info__rating-text"],children:l("score")}),e.jsx("strong",{children:y(n||0)}),e.jsx("span",{className:m["main-info__rating-icon"],children:e.jsx(se,{size:16})})]})}),e.jsx(C,{label:l("statsGames"),targetClassName:m["main-info__container"],isShowPopover:a,children:e.jsxs(e.Fragment,{children:[e.jsx("span",{className:m["main-info__rating-text"],children:l("statsGames")}),e.jsx("strong",{children:(o=(i=t==null?void 0:t.total)==null?void 0:i.counts)!=null&&o.total?y(t.total.counts.total):"--"}),e.jsx("span",{className:m["main-info__rating-icon"],children:e.jsx(Ce,{size:16})})]})})]})]}),e.jsx(it,{games:t})]})},ot=E.memo(rt,be),ct="_statisticsTabLabel_s3vx0_1",lt="_statisticContentContainer_s3vx0_9",H={statisticsTabLabel:ct,statisticContentContainer:lt},z={"main-info":"_main-info_19l05_1","main-info__score-and-games":"_main-info__score-and-games_19l05_9","main-info__rating-text":"_main-info__rating-text_19l05_26","main-info__rating-icon":"_main-info__rating-icon_19l05_34","main-info__container":"_main-info__container_19l05_51","singleGame-stat":"_singleGame-stat_19l05_77","singleGame-stat__info":"_singleGame-stat__info_19l05_88","singleGame-stat__info-number":"_singleGame-stat__info-number_19l05_103","singleGame-stat__container":"_singleGame-stat__container_19l05_119"},mt=t=>{V();const{title:s,time:n}=t;return e.jsxs("div",{className:z["singleGame-stat"],children:[e.jsx("h3",{children:s}),!ae.isTV()&&e.jsx("div",{className:z["singleGame-stat__info"],children:e.jsx(C,{label:l("timeRecord"),targetClassName:z["singleGame-stat__container"],children:e.jsxs("div",{className:z["singleGame-stat__info-number"],children:[n," ",e.jsx(we,{size:16})]})})})]})},dt=E.memo(mt),ut=({singleStats:t,player:s})=>{const n=V(),a=X(),i=(s==null?void 0:s[t.score])||0;return e.jsxs(w,{direction:"column",gap:24,align:"center",children:[e.jsx("div",{className:z["main-info__score-and-games"],children:e.jsx(C,{label:l("score"),targetClassName:z["main-info__container"],isShowPopover:a,children:e.jsxs(e.Fragment,{children:[e.jsx("span",{className:z["main-info__rating-text"],children:l("score")}),e.jsx("strong",{children:y(i)}),e.jsx("span",{className:z["main-info__rating-icon"],children:e.jsx(se,{size:16})})]})})}),e.jsx("div",{className:z["main-info"],children:Object.keys(t.list).map(o=>{const c=(s==null?void 0:s[t.list[o].time])||0;return e.jsx("span",{style:{flexGrow:1},children:e.jsx(dt,{time:Be(c,n),title:t.list[o].title})},o)})})]})},_t=E.memo(ut);function ft(t){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M186.301 339.893L96 249.461l-32 30.507L186.301 402 448 140.506 416 110z"},child:[]}]})(t)}const xt=({playerName:t="",isYou:s})=>{const n=ne(u=>u.platform.updatePlayerName),a=s&&le().isPlayerNameEditable,[i,o]=_.useState(!1),[c,f]=_.useState(t),[x,r]=_.useState(""),d=_.useRef(null),j=()=>{r(""),f(t),o(!0)},k=u=>{r(""),f(u)},A=async()=>{var v,P;if(!c.length||c.length>40){r(l("playerNameMinMaxLenError",{maxChars:40})),(v=d.current)==null||v.focus();return}if(c!==t){const I=await n(c);if(I!==null){const T=l("editNameError")[I];r(T||""),(P=d.current)==null||P.focus()}else o(!1)}else o(!1)},b=()=>{o(!1),f(t)};return e.jsxs(w,{gap:8,direction:"row",align:"center",onClick:!i&&a?j:void 0,style:!i&&a?{cursor:"pointer"}:void 0,children:[i?e.jsx(ie,{ref:d,autoFocus:!0,w:130,placeholder:l("yourName"),value:c,error:x,onChange:u=>k(u.currentTarget.value),onKeyUp:u=>u.key==="Enter"&&A(),size:"xs"}):e.jsx(Pe,{component:"div",fz:20,lh:1,style:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:We(t)}),i?e.jsxs(e.Fragment,{children:[e.jsx(ft,{onClick:A,size:24,style:{cursor:"pointer"}}),e.jsx(Se,{onClick:b,size:24,style:{cursor:"pointer"}})]}):a&&e.jsx(ye,{size:18})]})},gt=E.memo(xt),pt=({rating:t,avatar:s,name:n,isPremium:a,isYou:i})=>{const o=ne(u=>u.platform.updatePlayerAvatar),f=O(u=>{var v;return(((v=u.platform.player)==null?void 0:v.score)??0)>=u.flags.minScoreToEnableChat})&&i&&le().isPlayerAvatarEditable,[x,r]=_.useState(s),[d,j]=_.useState(!1),k=Ke({multiple:!1,accept:"image/png, image/webp, image/jpeg image/jpg",onChange:async u=>{if(u){j(!0);const v=await o(u[0]);v&&r(v),j(!1)}}}),{hovered:A,ref:b}=He();return e.jsxs(w,{style:{position:"relative",overflow:"hidden"},children:[e.jsx(Ye,{visible:d,children:e.jsx(ze,{avatar:x,rating:t,size:84,radius:"sm",isMyAvatar:i,title:n,isPremium:a})}),f&&e.jsx(w,{style:{position:"absolute",right:4,bottom:4,zIndex:100,cursor:"pointer"},children:e.jsx(Ee,{ref:b,style:{transition:"transform 0.2s easy-in-out",transform:`scale(${A?1.1:1})`},color:"neutral",children:e.jsx(ke,{size:22,onClick:k.open})})})]})},ht=E.memo(pt),jt=()=>{const t=V(),s=X(),n=F().feature[W.SingleGame]&&F().feature[W.Online]&&s;return _.useMemo(()=>[...F().feature[W.SingleGame]&&[{value:h.Single,label:e.jsxs("div",{id:G.modal.userProfile.tabs.single,className:H.statisticsTabLabel,children:[!n&&e.jsx(Ve,{size:$.md}),e.jsx("div",{children:l(h.Single)})]})}]||[],{value:h.Computer,label:e.jsxs("div",{id:G.modal.userProfile.tabs.ai,className:H.statisticsTabLabel,children:[!n&&e.jsx(De,{size:$.sm}),e.jsx("div",{children:l(h.Computer)})]})},...F().feature[W.Online]&&[{value:h.Online,label:e.jsxs("div",{id:G.modal.userProfile.tabs.online,className:H.statisticsTabLabel,children:[!n&&e.jsx(Qe,{size:$.sm}),e.jsx("div",{children:l(h.Online)})]})}]||[]],[n,t])},bt=t=>{var T,D;const{singleStats:s}=t,{closeModal:n,data:{player:{state:a},tabType:i}}=Ie(Te.UserProfileModal),o=O(N=>{var S;return((S=N.platform.player)==null?void 0:S.id)===a.id}),c=O(N=>N.flags.isScreenshotTest),f=ne(N=>()=>N.modals.openPaymentsModal({place:Fe.ProfileGold})),x=Ge(Le.NonGameButton,{place:"UserProfileModalClose"}),r=()=>{n(),x()},d=X(),j=jt(),A=(a==null?void 0:a.onlineScore)>(a==null?void 0:a.withComputerScore)?h.Online:h.Computer,[b,u]=_.useState(i||A||F().profile.defaultTab),v=N=>{const S=N??h.Computer;u(S)},P=_.useMemo(()=>{var N,S,Q,L,K,U,R,B;return{[h.Computer]:{games:(S=(N=a==null?void 0:a.playerData)==null?void 0:N.blitz)==null?void 0:S.withComputerGames,rating:c&&{minimum:1111,current:1111,maximum:1111}||{...((L=(Q=a==null?void 0:a.playerData)==null?void 0:Q.blitz)==null?void 0:L.withComputerRating)||{},current:a==null?void 0:a.withComputerRating},score:a==null?void 0:a.withComputerScore},[h.Online]:{games:(U=(K=a==null?void 0:a.playerData)==null?void 0:K.blitz)==null?void 0:U.games,rating:{...((B=(R=a==null?void 0:a.playerData)==null?void 0:R.blitz)==null?void 0:B.rating)||{},current:a==null?void 0:a.rating},score:a==null?void 0:a.onlineScore}}},[a]),I=(D=(T=P[b])==null?void 0:T.rating)==null?void 0:D.current;return e.jsxs(Ue,{fullScreen:d,visible:!0,id:G.modal.userProfile.index,idCloseButton:G.modal.userProfile.closeButton,onClose:r,headerPadding:11,bodyPadding:d?"0 8px":void 0,size:700,children:[e.jsx("div",{id:G.modal.userProfile.withAiRatingData,style:{display:"none"},children:a==null?void 0:a.withComputerRating}),e.jsx(Re,{justify:"center",w:"100%",children:e.jsxs(w,{direction:"column",align:"center",gap:22,w:"100%",children:[e.jsxs(w,{align:"center",gap:16,maw:"100%",children:[e.jsx(ht,{avatar:(a==null?void 0:a.avatar)??void 0,rating:I,isYou:o,name:a==null?void 0:a.name,isPremium:o?ae.isPremium():a.premium>0}),e.jsxs(w,{gap:8,direction:"column",miw:0,children:[e.jsx(gt,{isYou:o,playerName:a==null?void 0:a.name}),e.jsxs(w,{align:"center",gap:4,lh:"24.8px",fw:"bold",fz:18,children:[y((a==null?void 0:a.score)||0),e.jsx(se,{size:16})]}),e.jsxs(w,{align:"center",mt:-4,gap:6,lh:"24.8px",fw:"bold",fz:18,onClick:f,style:{cursor:"pointer"},children:[y((a==null?void 0:a.cash)||0),e.jsx(Me,{size:20}),e.jsx(Oe,{size:14},"payments-button-icon")]})]})]}),e.jsx(qe,{maw:800,w:"100%",data:j,value:b,onChange:v}),e.jsxs("div",{className:H.statisticContentContainer,children:[[h.Computer,h.Online].includes(b)&&e.jsx(ot,{games:P[b].games,rating:P[b].rating,score:P[b].score}),b===h.Single&&s&&e.jsx(_t,{singleStats:s,player:a})]})]})})]})},Et=E.memo(bt);export{Et as default};
